(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},"+umK":function(t,e,n){"use strict";function i(){}n.d(e,"a",function(){return i})},"/WYv":function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return i})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var i=n("6blF"),r=n("Fxb1"),o=n("pugT"),s=n("xTla"),a=n("JF+6"),u=n("En8+"),c=n("/WYv"),h=n("2ePl");function l(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new i.a(function(n){var i=new o.a;return i.add(e.schedule(function(){var r=t[s.a]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if(Object(c.a)(t))return function(t,e){return new i.a(function(n){var i=new o.a;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})}(t,e);if(Object(h.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(function(n){var i,r=new o.a;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[u.a](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}n.d(e,"a",function(){return l})},"15JJ":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("mrSG"),r=n("MGBS"),o=n("rPjj"),s=n("zotm"),a=n("67Y/"),u=n("0/uQ");function c(t,e){return"function"==typeof e?function(n){return n.pipe(c(function(n,i){return Object(u.a)(t(n,i)).pipe(Object(a.a)(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new h(t))}}var h=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project))},t}(),l=function(t){function e(e,n){var i=t.call(this,e)||this;return i.project=n,i.index=0,i}return i.d(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new o.a(this,void 0,void 0);this.destination.add(r),this.innerSubscription=Object(s.a)(this,t,e,n,r)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e}(r.a)},"1i8C":function(t,e,n){"use strict";var i=n("CcnG"),r=n("S5bw"),o=n("dzgT"),s=n("VnD/"),a=n("t9fZ"),u=n("T1DM"),c=n("mrSG"),h=n("MGBS"),l=n("zotm"),p=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.durationSelector))},t}(),f=function(t){function e(e,n){var i=t.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return c.d(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(l.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(h.a),d=n("6blF"),g=n("isby");function v(t){return!Object(g.a)(t)&&t-parseFloat(t)+1>=0}var y=n("nkY7");function m(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}var _=n("Gi3i");function b(){return function(){throw new Error("Unimplemented abstract method.")}()}var w=0;function x(t){return t.ol_uid||(t.ol_uid=String(++w))}var S="5.3.3",E=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===S?S:"v"+S.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error);function C(t,e){if(!t)throw new E(e)}var T={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},O={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function M(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,i=t.length;n<i;++n)$(e,t[n]);return e}function I(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function R(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function P(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function k(t,e){return L(t,e[0],e[1])}function A(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function L(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function j(t,e){var n=e[0],i=e[1],r=O.UNKNOWN;return n<t[0]?r|=O.LEFT:n>t[2]&&(r|=O.RIGHT),i<t[1]?r|=O.BELOW:i>t[3]&&(r|=O.ABOVE),r===O.UNKNOWN&&(r=O.INTERSECTING),r}function N(){return[1/0,1/0,-1/0,-1/0]}function F(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function D(t){return F(1/0,1/0,-1/0,-1/0,t)}function G(t,e,n,i,r){return B(D(r),t,e,n,i)}function z(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function U(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function $(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function B(t,e,n,i,r){for(;n<i;n+=r)V(t,e[n],e[n+1]);return t}function V(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function H(t,e,n){var i;return(i=e.call(n,q(t)))?i:(i=e.call(n,X(t)))?i:(i=e.call(n,et(t)))?i:(i=e.call(n,tt(t)))||!1}function W(t){var e=0;return rt(t)||(e=nt(t)*J(t)),e}function q(t){return[t[0],t[1]]}function X(t){return[t[2],t[1]]}function Y(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function K(t,e){var n;return e===T.BOTTOM_LEFT?n=q(t):e===T.BOTTOM_RIGHT?n=X(t):e===T.TOP_LEFT?n=tt(t):e===T.TOP_RIGHT?n=et(t):C(!1,13),n}function Z(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),u=Math.sin(n),c=o*a,h=o*u,l=s*a,p=s*u,f=t[0],d=t[1],g=f-c+p,v=f-c-p,y=f+c-p,m=f+c+p,_=d-h-l,b=d-h+l,w=d+h+l,x=d+h-l;return F(Math.min(g,v,y,m),Math.min(_,b,w,x),Math.max(g,v,y,m),Math.max(_,b,w,x),r)}function J(t){return t[3]-t[1]}function Q(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return it(t,e)?(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]):D(i),i}function tt(t){return[t[0],t[3]]}function et(t){return[t[2],t[3]]}function nt(t){return t[2]-t[0]}function it(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function rt(t){return t[2]<t[0]||t[3]<t[1]}function ot(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return F(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}var st={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function at(t){return Math.pow(t,3)}function ut(t){return 1-at(1-t)}function ct(t){return 3*t*t-2*t*t*t}function ht(t){return t}var lt=function(){this.disposed_=!1};lt.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},lt.prototype.disposeInternal=function(){};var pt=lt,ft="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var s=n[r];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])}return i};function dt(t){for(var e in t)delete t[e]}function gt(t){var e=[];for(var n in t)e.push(t[n]);return e}function vt(t){var e;for(e in t)return!1;return!e}function yt(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function mt(t,e){var n=_t(t);return n?n[e]:void 0}function _t(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function bt(t,e){var n=mt(t,e);if(n){for(var i=0,r=n.length;i<r;++i)t.removeEventListener(e,n[i].boundListener),dt(n[i]);n.length=0;var o=_t(t);o&&(delete o[e],0===Object.keys(o).length&&function(t){delete t.ol_lm}(t))}}function wt(t,e,n,i,r){var o=_t(t,!0),s=o[e];s||(s=o[e]=[]);var a=yt(s,n,i,!1);return a?r||(a.callOnce=!1):(t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&Et(t),n.call(i,e)};return t.boundListener=e,e}(a={bindTo:i,callOnce:!!r,listener:n,target:t,type:e})),s.push(a)),a}function xt(t,e,n,i){return wt(t,e,n,i,!0)}function St(t,e,n,i){var r=mt(t,e);if(r){var o=yt(r,n,i,!0);o&&Et(o)}}function Et(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=mt(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&bt(t.target,t.type)}dt(t)}}function Ct(){return!0}function Tt(){return!1}function Ot(){}var Mt=function(t){this.type=t,this.target=null};function It(t){t.stopPropagation()}Mt.prototype.preventDefault=function(){this.propagationStopped=!0},Mt.prototype.stopPropagation=function(){this.propagationStopped=!0};var Rt=Mt,Pt=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Rt(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,s=r.length;o<s;++o)if(!1===r[o].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var a=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];a--;)this.removeEventListener(n,Ot);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){!function(t){var e=_t(t);if(e)for(var n in e)bt(t,n)}(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=Ot,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(pt),kt={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},At=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.changed=function(){this.dispatchEvent(kt.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==st.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==st.LOADED){t.interimTile=null;break}t.getState()==st.LOADING?e=t:t.getState()==st.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else this.transitionStarts_[t]=n=e;var i=e-n+1e3/60;return i>=this.transition_?1:at(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(Pt);function Lt(t,e,n){return Math.min(Math.max(t,e),n)}var jt=function(){return"cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2}}();function Nt(t,e,n,i,r,o){var s=r-n,a=o-i;if(0!==s||0!==a){var u=((t-n)*s+(e-i)*a)/(s*s+a*a);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=a*u)}return Ft(t,e,n,i)}function Ft(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function Dt(t){return t*Math.PI/180}function Gt(t,e){var n=t%e;return n*e<0?n+e:n}function zt(t,e,n){return t+n*(e-t)}function Ut(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function $t(t,e,n){return t+"/"+e+"/"+n}function Bt(t){return $t(t[0],t[1],t[2])}function Vt(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,u){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,function(){return(-s[2]-1).toString()}).replace(o,function(){var t=e.getFullTileRange(s[0]);return C(t,55),(t.getHeight()+s[2]).toString()}):void 0}}function Ht(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=Vt(t[r],e);return function(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=Gt(function(t){return(t[1]<<t[0])+t[2]}(e),t.length);return t[r](e,n,i)}}}(i)}function Wt(t,e,n){}function qt(t,e,n,i){var r=document.createElement("script"),o="olc_"+x(e);function s(){delete window[o],r.parentNode.removeChild(r)}r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(i||"callback")+"="+o;var a=setTimeout(function(){s(),n&&n()},1e4);window[o]=function(t){clearTimeout(a),s(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}var Xt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Yt=6371008.8;function Kt(t,e,n){var i=n||Yt,r=Dt(t[1]),o=Dt(e[1]),s=(o-r)/2,a=Dt(e[0]-t[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var Zt={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Jt={};Jt[Zt.DEGREES]=2*Math.PI*6370997/360,Jt[Zt.FEET]=.3048,Jt[Zt.METERS]=1,Jt[Zt.USFEET]=1200/3937;var Qt=Zt,te=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};te.prototype.canWrapX=function(){return this.canWrapX_},te.prototype.getCode=function(){return this.code_},te.prototype.getExtent=function(){return this.extent_},te.prototype.getUnits=function(){return this.units_},te.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Jt[this.units_]},te.prototype.getWorldExtent=function(){return this.worldExtent_},te.prototype.getAxisOrientation=function(){return this.axisOrientation_},te.prototype.isGlobal=function(){return this.global_},te.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},te.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},te.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},te.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},te.prototype.setWorldExtent=function(t){this.worldExtent_=t},te.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},te.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var ee,ne,ie,re=te,oe=6378137,se=Math.PI*oe,ae=[-se,-se,se,se],ue=[-180,-85,180,85],ce=function(t){function e(e){t.call(this,{code:e,units:Qt.METERS,extent:ae,global:!0,worldExtent:ue,getPointResolution:function(t,e){return t/jt(e[1]/oe)}})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(re),he=[new ce("EPSG:3857"),new ce("EPSG:102100"),new ce("EPSG:102113"),new ce("EPSG:900913"),new ce("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ce("urn:ogc:def:crs:EPSG::3857"),new ce("http://www.opengis.net/gml/srs/epsg.xml#3857")],le=[-180,-90,180,90],pe=6378137*Math.PI/180,fe=function(t){function e(e,n){t.call(this,{code:e,units:Qt.DEGREES,extent:le,axisOrientation:n,global:!0,metersPerUnit:pe,worldExtent:le})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(re),de=[new fe("CRS:84"),new fe("EPSG:4326","neu"),new fe("urn:ogc:def:crs:EPSG::4326","neu"),new fe("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new fe("urn:ogc:def:crs:OGC:1.3:CRS84"),new fe("urn:ogc:def:crs:OGC:2:84"),new fe("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new fe("urn:x-ogc:def:crs:EPSG:4326","neu")],ge={},ve={};function ye(t,e,n){var i=t.getCode(),r=e.getCode();i in ve||(ve[i]={}),ve[i][r]=n}function me(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function _e(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function be(t){!function(t,e){ge[t]=e}(t.getCode(),t),ye(t,t,me)}function we(t){return"string"==typeof t?ge[t]||null:t||null}function xe(t,e,n,i){var r,o=(t=we(t)).getPointResolutionFunc();if(o)r=o(e,n);else if(t.getUnits()==Qt.DEGREES&&!i||i==Qt.DEGREES)r=e;else{var s=Te(t,we("EPSG:4326")),a=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];r=(Kt((a=s(a,a,2)).slice(0,2),a.slice(2,4))+Kt(a.slice(4,6),a.slice(6,8)))/2;var u=i?Jt[i]:t.getMetersPerUnit();void 0!==u&&(r/=u)}return r}function Se(t){!function(t){t.forEach(be)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&ye(e,t,me)})})}function Ee(t,e){return t?"string"==typeof t?we(t):t:we(e)}function Ce(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:Te(t,e)===me&&n}function Te(t,e){var n=function(t,e){var n;return t in ve&&e in ve[t]&&(n=ve[t][e]),n}(t.getCode(),e.getCode());return n||(n=_e),n}function Oe(t,e){return Te(we(t),we(e))}function Me(t,e,n){return Oe(e,n)(t,void 0,t.length)}function Ie(t,e,n){return ot(t,Oe(e,n))}Se(he),Se(de),ee=he,ne=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=se,a=0;a<i;a+=r){o[a]=s*t[a]/180;var u=oe*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));u>s?u=s:u<-s&&(u=-s),o[a+1]=u}return o},ie=function(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/se,o[s+1]=360*Math.atan(Math.exp(t[s+1]/oe))/Math.PI-90;return o},de.forEach(function(t){ee.forEach(function(e){ye(t,e,ne),ye(e,t,ie)})});var Re={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Pe=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(kt.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return C(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return C(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){C(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(Pt),ke=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(Bt(e.tileCoord)),e.dispose())},this)}},e}(Pe);function Ae(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}var Le=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(kt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=wt(this,t[r],e);return i}return wt(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=xt(this,t[r],e);return i}return xt(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)St(this,t[n],e);else St(this,t,e)},e}(Pt),je=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt),Ne={};function Fe(t){return Ne.hasOwnProperty(t)?Ne[t]:Ne[t]="change:"+t}var De=function(t){function e(e){t.call(this),x(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return ft({},this.values_)},e.prototype.notify=function(t,e){var n;n=Fe(t),this.dispatchEvent(new je(n,t,e)),this.dispatchEvent(new je(n="propertychange",t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(Le);function Ge(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var ze=function(t){function e(e){t.call(this),this.projection_=we(e.projection),this.attributions_=Ge(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:Re.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return b()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Ge(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(De),Ue=42,$e=256,Be=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};function Ve(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new Be(t,e,n,i)}Be.prototype.contains=function(t){return this.containsXY(t[1],t[2])},Be.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},Be.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},Be.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},Be.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},Be.prototype.getHeight=function(){return this.maxY-this.minY+1},Be.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},Be.prototype.getWidth=function(){return this.maxX-this.minX+1},Be.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var He=Be;function We(t,e){return t>e?1:t<e?-1:0}function qe(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function Xe(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function Ye(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function Ke(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}var Ze=[0,0,0],Je=function(t){var e,n,i;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,C((n=function(t,e){return e-t}||We,(e=this.resolutions_).every(function(t,i){if(0===i)return!0;var r=n(e[i-1],t);return!(r>0||0===r)})),17),!t.origins)for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(i){if(this.resolutions_[r]/this.resolutions_[r+1]!==i){i=void 0;break}}else i=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=i,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,C(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=tt(s)),C(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,C(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:$e,C(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new He(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)};Je.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},Je.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,u=null,c=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):u=this.getTileCoordExtent(t,r);c>=this.minZoom;){if(o=2===this.zoomFactor_?Ve(s=Math.floor(s/2),s,a=Math.floor(a/2),a,i):this.getTileRangeForExtentAndZ(u,c,i),e.call(n,c,o))return!0;--c}return!1},Je.prototype.getExtent=function(){return this.extent_},Je.prototype.getMaxZoom=function(){return this.maxZoom},Je.prototype.getMinZoom=function(){return this.minZoom},Je.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},Je.prototype.getResolution=function(t){return this.resolutions_[t]},Je.prototype.getResolutions=function(){return this.resolutions_},Je.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return Ve(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},Je.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=Ae(this.getTileSize(t),this.tmpSize_);return F(i[0]+e.minX*o[0]*r,i[1]+e.minY*o[1]*r,i[0]+(e.maxX+1)*o[0]*r,i[1]+(e.maxY+1)*o[1]*r,n)},Je.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=Ze;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Ve(r,i[1],o,i[2],n)},Je.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Ae(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},Je.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Ae(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]+t[2]*r[1]*i;return F(o,s,o+r[0]*i,s+r[1]*i,e)},Je.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},Je.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=Ae(this.getTileSize(o),this.tmpSize_),c=i?0:.5,h=Math.floor((t-a[0])/n+(i?.5:0)),l=Math.floor((e-a[1])/n+c),p=s*h/u[0],f=s*l/u[1];return i?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),Ut(o,p,f,r)},Je.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=Ae(this.getTileSize(n),this.tmpSize_),u=i?0:.5,c=Math.floor((t-o[0])/s+(i?.5:0)),h=Math.floor((e-o[1])/s+u),l=c/a[0],p=h/a[1];return i?(l=Math.ceil(l)-1,p=Math.ceil(p)-1):(l=Math.floor(l),p=Math.floor(p)),Ut(n,l,p,r)},Je.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},Je.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},Je.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},Je.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},Je.prototype.getZForResolution=function(t,e){return Lt(qe(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},Je.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var Qe=Je;function tn(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var r=T.TOP_LEFT,o=nn(t,void 0,void 0);return new Qe({extent:t,origin:K(t,r),resolutions:o,tileSize:void 0})}(rn(t))}(t),t.setDefaultTileGrid(e)),e}function en(t){var e=t||{},n=e.extent||we("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:nn(n,e.maxZoom,e.tileSize)};return new Qe(i)}function nn(t,e,n){for(var i=void 0!==e?e:Ue,r=J(t),o=nt(t),s=Ae(void 0!==n?n:$e),a=Math.max(o/s[0],r/s[1]),u=i+1,c=new Array(u),h=0;h<u;++h)c[h]=a/Math.pow(2,h);return c}function rn(t){var e=(t=we(t)).getExtent();if(!e){var n=180*Jt[Qt.DEGREES]/t.getMetersPerUnit();e=F(-n,-n,n,n)}return e}var on=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new ke(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,s,a,u=!0,c=n.minX;c<=n.maxX;++c)for(var h=n.minY;h<=n.maxY;++h)s=$t(e,c,h),a=!1,r.containsKey(s)&&(a=(o=r.get(s)).getState()===st.LOADED)&&(a=!1!==i(o)),a||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,r){return b()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:tn(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Ce(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i,r,o,s=this.getTileGridForProjection(n),a=this.getTilePixelRatio(e),u=Ae(s.getTileSize(t),this.tmpSize);return 1==a?u:(void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=(i=u)[0]*(r=a)+.5|0,o[1]=i[1]*r+.5|0,o)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=rn(n);if(k(o,r))return e;var s=nt(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n))||o.containsXY(i,r)}(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(ze),sn=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt),an=on,un=function(t){function e(e,n,i,r,o,s){t.call(this,e,n),this.src_=i,this.extent_=r,this.preemptive_=o,this.grid_=null,this.keys_=null,this.data_=null,this.jsonp_=s}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),n=this.grid_[Math.floor((1-(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!=typeof n)return null;var i=n.charCodeAt(Math.floor(e*n.length));i>=93&&i--,i>=35&&i--;var r=null;if((i-=32)in this.keys_){var o=this.keys_[i];r=this.data_&&o in this.data_?this.data_[o]:o}return r},e.prototype.forDataAtCoordinate=function(t,e,n,i){this.state==st.IDLE&&!0===i?(xt(this,kt.CHANGE,function(i){e.call(n,this.getData(t))},this),this.loadInternal_()):!0===i?setTimeout((function(){e.call(n,this.getData(t))}).bind(this),0):e.call(n,this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=st.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=st.EMPTY,this.changed()},e.prototype.loadInternal_=function(){if(this.state==st.IDLE)if(this.state=st.LOADING,this.jsonp_)qt(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n;try{n=JSON.parse(e.responseText)}catch(i){return void this.handleError_()}this.handleLoad_(n)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_&&this.loadInternal_()},e}(At),cn={ADD:"add",REMOVE:"remove"},hn=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt),ln=function(t){function e(e,n){if(t.call(this),this.unique_=!!(n||{}).unique,this.array_=e||[],this.unique_)for(var i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new hn(cn.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new hn(cn.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new hn(cn.REMOVE,i)),this.dispatchEvent(new hn(cn.ADD,e))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new E(58)},e}(De),pn=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};pn.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},pn.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},pn.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},pn.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},pn.prototype.getAngle=function(){return this.angle_};var fn=pn,dn={SINGLECLICK:"singleclick",CLICK:kt.CLICK,DBLCLICK:kt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};function gn(t,e,n,i){e=t.constrainRotation(e,0),vn(t,e,n,i)}function vn(t,e,n,i){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:ut}):t.rotate(e,n)}}function yn(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=Lt(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(n&&void 0!==o&&o!==r){var a=t.getCenter(),u=t.calculateCenterZoom(o,n);u=t.constrainCenter(u),n=[(o*a[0]-r*u[0])/(o-r),(o*a[1]-r*u[1])/(o-r)]}mn(t,o,n,i)}function mn(t,e,n,i){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:ut});else{if(n){var s=t.calculateCenterZoom(e,n);t.setCenter(s)}t.setResolution(e)}}}var _n=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set("active",t)},e.prototype.setMap=function(t){this.map_=t},e}(De);function bn(t){var e=!1;if(t.type==dn.DBLCLICK){var n=t.coordinate,i=t.originalEvent.shiftKey?-this.delta_:this.delta_;yn(t.map.getView(),i,n,this.duration_),t.preventDefault(),e=!0}return!e}var wn=function(t){function e(e){t.call(this,{handleEvent:bn});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(_n);function xn(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Sn(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[1]*n+t[0]*i;return t[0]=t[0]*n-t[1]*i,t[1]=r,t}function En(t,e){return t[0]*=e,t[1]*=e,t}var Cn="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Tn=-1!==Cn.indexOf("firefox"),On=-1!==Cn.indexOf("safari")&&-1==Cn.indexOf("chrom"),Mn=-1!==Cn.indexOf("webkit")&&-1==Cn.indexOf("edge"),In=-1!==Cn.indexOf("macintosh"),Rn=window.devicePixelRatio||1,Pn=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(e){}return t}(),kn=(navigator,"ontouchstart"in window),An="PointerEvent"in window,Ln=!!navigator.msPointerEnabled,jn=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Nn=function(t){return t.target.getTargetElement()===document.activeElement},Fn=Ct,Dn=function(t){var e=t.originalEvent;return 0==e.button&&!(Mn&&In&&e.ctrlKey)},Gn=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},zn=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Un=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},$n=function(t){var e=t.pointerEvent;return C(void 0!==e,56),"mouse"==e.pointerType};function Bn(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var Vn=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==dn.POINTERDRAG)this.handleDragEvent(t);else if(t.type==dn.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==dn.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==dn.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===dn.POINTERDOWN||e===dn.POINTERDRAG||e===dn.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==dn.POINTERUP?delete this.trackedPointers_[n]:t.type==dn.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=gt(this.trackedPointers_)}},e}(_n),Hn=function(t){function e(e){t.call(this,{stopDown:Tt});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.panning_=!1,this.condition_=n.condition?n.condition:Gn,this.noKinetic_=!1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(1,1));var e=this.targetPointers,n=Bn(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),s=[i,r];En(s,o.getResolution()),Sn(s,o.getRotation()),xn(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:ut})}return this.panning_&&(this.panning_=!1,n.setHint(1,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Vn);function Wn(t,e){return void 0!==t?0:void 0}function qn(t,e){return void 0!==t?t+e:void 0}var Xn=function(t){function e(e){var n=e||{};t.call(this,{stopDown:Tt}),this.condition_=n.condition?n.condition:jn,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){if($n(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Wn){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=n.getRotation();vn(n,a-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!$n(t))return!0;var e=t.map.getView();e.setHint(1,-1);var n=e.getRotation();return gn(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!(!$n(t)||!Dn(t)||!this.condition_(t)||(t.map.getView().setHint(1,1),this.lastAngle_=void 0,0))},e}(Vn),Yn={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function Kn(t,e,n,i,r,o){for(var s=o||[],a=0,u=e;u<n;u+=i){var c=t[u],h=t[u+1];s[a++]=r[0]*c+r[2]*h+r[4],s[a++]=r[1]*c+r[3]*h+r[5]}return o&&s.length!=a&&(s.length=a),s}var Zn=new Array(6);function Jn(){return[1,0,0,1,0,0]}function Qn(t){return ei(t,1,0,0,1,0,0)}function ti(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=e[0],c=e[1],h=e[2],l=e[3],p=e[4],f=e[5];return t[0]=n*u+r*c,t[1]=i*u+o*c,t[2]=n*h+r*l,t[3]=i*h+o*l,t[4]=n*p+r*f+s,t[5]=i*p+o*f+a,t}function ei(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function ni(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ii(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function ri(t,e,n){return ti(t,ei(Zn,e,0,0,n,0,0))}function oi(t,e,n){return ti(t,ei(Zn,1,0,0,1,e,n))}function si(t,e,n,i,r,o,s,a){var u=Math.sin(o),c=Math.cos(o);return t[0]=i*c,t[1]=r*u,t[2]=-i*u,t[3]=r*c,t[4]=s*i*c-a*i*u+e,t[5]=s*r*u+a*r*c+n,t}var ai=Jn(),ui=function(t){function e(){t.call(this),this.extent_=[1/0,1/0,-1/0,-1/0],this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return b()},e.prototype.closestPointXY=function(t,e,n,i){return b()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return b()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){b()},e.prototype.scale=function(t,e,n){b()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return b()},e.prototype.getType=function(){return b()},e.prototype.applyTransform=function(t){b()},e.prototype.intersectsExtent=function(t){return b()},e.prototype.translate=function(t,e){b()},e.prototype.transform=function(t,e){var n=we(t),i=n.getUnits()==Qt.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),s=n.getWorldExtent(),a=J(s)/J(o);return si(ai,s[0],s[3],a,-a,0,0,0),Kn(t,0,t.length,r,ai,i),Oe(n,e)(t,i,r)}:Oe(n,e);return this.applyTransform(i),this},e}(De);function ci(t){var e;return t==Yn.XY?e=2:t==Yn.XYZ||t==Yn.XYM?e=3:t==Yn.XYZM&&(e=4),e}var hi=function(t){function e(){t.call(this),this.layout=Yn.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeExtent=function(t){return G(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return b()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(dt(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=ci(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){b()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=ci(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=Yn.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=Yn.XY:3==t?e=Yn.XYZ:4==t&&(e=Yn.XYZM),e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,s){for(var a=s||[],u=Math.cos(r),c=Math.sin(r),h=o[0],l=o[1],p=0,f=0;f<n;f+=i){var d=t[f]-h,g=t[f+1]-l;a[p++]=h+d*u-g*c,a[p++]=l+d*c+g*u;for(var v=f+2;v<f+i;++v)a[p++]=t[v]}s&&a.length!=p&&(a.length=p)}(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=Y(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();!function(t,e,n,i,r,o,s,a){for(var u=a||[],c=s[0],h=s[1],l=0,p=0;p<n;p+=i){var f=t[p+1]-h;u[l++]=c+r*(t[p]-c),u[l++]=h+o*f;for(var d=p+2;d<p+i;++d)u[l++]=t[d]}a&&u.length!=l&&(u.length=l)}(o,0,o.length,s,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(t,e,n,i,r,o,s){for(var a=s||[],u=0,c=0;c<n;c+=i){a[u++]=t[c]+r,a[u++]=t[c+1]+o;for(var h=c+2;h<c+i;++h)a[u++]=t[h]}s&&a.length!=u&&(a.length=u)}(n,0,n.length,i,t,e,n),this.changed()}},e}(ui);function li(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=s*a-o*u,o=a,s=u}return r/2}function pi(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=li(t,e,a,i),e=a}return r}function fi(t,e,n,i,r,o,s){var a,u=t[e],c=t[e+1],h=t[n]-u,l=t[n+1]-c;if(0===h&&0===l)a=e;else{var p=((r-u)*h+(o-c)*l)/(h*h+l*l);if(p>1)a=n;else{if(p>0){for(var f=0;f<i;++f)s[f]=zt(t[e+f],t[n+f],p);return void(s.length=i)}a=e}}for(var d=0;d<i;++d)s[d]=t[a+d];s.length=i}function di(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],u=t[e+1],c=Ft(o,s,a,u);c>r&&(r=c),o=a,s=u}return r}function gi(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=di(t,e,a,i,r),e=a}return r}function vi(t,e,n,i,r,o,s,a,u,c,h){if(e==n)return c;var l,p;if(0===r){if((p=Ft(s,a,t[e],t[e+1]))<c){for(l=0;l<i;++l)u[l]=t[e+l];return u.length=i,p}return c}for(var f=h||[NaN,NaN],d=e+i;d<n;)if(fi(t,d-i,d,i,s,a,f),(p=Ft(s,a,f[0],f[1]))<c){for(c=p,l=0;l<i;++l)u[l]=f[l];u.length=i,d+=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(c))/r|0,1);if(o&&(fi(t,n-i,e,i,s,a,f),(p=Ft(s,a,f[0],f[1]))<c)){for(c=p,l=0;l<i;++l)u[l]=f[l];u.length=i}return c}function yi(t,e,n,i,r,o,s,a,u,c,h){for(var l=h||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];c=vi(t,e,d,i,r,o,s,a,u,c,l),e=d}return c}function mi(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function _i(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function bi(t,e,n,i,r){for(var o=r||[],s=0,a=0,u=n.length;a<u;++a){var c=_i(t,e,n[a],i);o[s++]=c,e=c}return o.length=s,o}function wi(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function xi(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,u=n.length;a<u;++a){var c=n[a];o[s++]=wi(t,e,c,i,o[s]),e=c}return o.length=s,o}function Si(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,u=n.length;a<u;++a){var c=n[a];o[s++]=xi(t,e,c,i,o[s]),e=c[c.length-1]}return o.length=s,o}function Ei(t,e,n,i,r,o,s){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}var u=new Array(a);u[0]=1,u[a-1]=1;for(var c=[e,n-i],h=0;c.length>0;){for(var l=c.pop(),p=c.pop(),f=0,d=t[p],g=t[p+1],v=t[l],y=t[l+1],m=p+i;m<l;m+=i){var _=Nt(t[m],t[m+1],d,g,v,y);_>f&&(h=m,f=_)}f>r&&(u[(h-e)/i]=1,p+i<h&&c.push(p,h),h+i<l&&c.push(h,l))}for(var b=0;b<a;++b)u[b]&&(o[s++]=t[e+b*i],o[s++]=t[e+b*i+1]);return s}function Ci(t,e){return e*Math.round(t/e)}function Ti(t,e,n,i,r,o,s){if(e==n)return s;var a,u,c=Ci(t[e],r),h=Ci(t[e+1],r);e+=i,o[s++]=c,o[s++]=h;do{if(a=Ci(t[e],r),u=Ci(t[e+1],r),(e+=i)==n)return o[s++]=a,o[s++]=u,s}while(a==c&&u==h);for(;e<n;){var l=Ci(t[e],r),p=Ci(t[e+1],r);if(e+=i,l!=a||p!=u){var f=a-c,d=u-h,g=l-c,v=p-h;f*v==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&v<d||d==v||d>0&&v>d)?(a=l,u=p):(o[s++]=a,o[s++]=u,c=a,h=u,a=l,u=p)}}return o[s++]=a,o[s++]=u,s}function Oi(t,e,n,i,r,o,s,a){for(var u=0,c=n.length;u<c;++u){var h=n[u];s=Ti(t,e,h,i,r,o,s),a.push(s),e=h}return s}var Mi=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<P(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(di(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return li(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return wi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Yn.XY)},e.prototype.getType=function(){return Xt.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_i(this.flatCoordinates,0,t,this.stride),this.changed()},e}(hi),Ii=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Ft(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,a=0;a<s;++a)n[a]=r[a];return n.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return F(n=(e=this.flatCoordinates)[0],i=e[1],n,i,t);var e,n,i},e.prototype.getType=function(){return Xt.POINT},e.prototype.intersectsExtent=function(t){return L(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=mi(this.flatCoordinates,0,t),this.changed()},e}(hi);function Ri(t,e,n,i,r){return!H(r,function(r){return!Pi(t,e,n,i,r[0],r[1])})}function Pi(t,e,n,i,r,o){for(var s=0,a=t[n-i],u=t[n-i+1];e<n;e+=i){var c=t[e],h=t[e+1];u<=o?h>o&&(c-a)*(o-u)-(r-a)*(h-u)>0&&s++:h<=o&&(c-a)*(o-u)-(r-a)*(h-u)<0&&s--,a=c,u=h}return 0!==s}function ki(t,e,n,i,r,o){if(0===n.length)return!1;if(!Pi(t,e,n[0],i,r,o))return!1;for(var s=1,a=n.length;s<a;++s)if(Pi(t,n[s-1],n[s],i,r,o))return!1;return!0}function Ai(t,e,n,i,r,o,s){for(var a,u,c,h,l,p,f,d=r[o+1],g=[],v=0,y=n.length;v<y;++v){var m=n[v];for(h=t[m-i],p=t[m-i+1],a=e;a<m;a+=i)l=t[a],f=t[a+1],(d<=p&&f<=d||p<=d&&d<=f)&&g.push(c=(d-p)/(f-p)*(l-h)+h),h=l,p=f}var _=NaN,b=-1/0;for(g.sort(We),h=g[0],a=1,u=g.length;a<u;++a){l=g[a];var w=Math.abs(l-h);w>b&&ki(t,e,n,i,c=(h+l)/2,d)&&(_=c,b=w),h=l}return isNaN(_)&&(_=r[o]),s?(s.push(_,d,b),s):[_,d,b]}function Li(t,e,n,i,r,o){for(var s,a=[t[e],t[e+1]],u=[];e+i<n;e+=i){if(u[0]=t[e+i],u[1]=t[e+i+1],s=r.call(o,a,u))return s;a[0]=u[0],a[1]=u[1]}return!1}function ji(t,e,n,i,r){var o=B([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!it(r,o)&&(!!A(r,o)||o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]||Li(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,r=j(t,e),o=j(t,n);if(r===O.INTERSECTING||o===O.INTERSECTING)i=!0;else{var s,a,u=t[0],c=t[1],h=t[2],l=t[3],p=n[0],f=n[1],d=(f-e[1])/(p-e[0]);o&O.ABOVE&&!(r&O.ABOVE)&&(i=(s=p-(f-l)/d)>=u&&s<=h),i||!(o&O.RIGHT)||r&O.RIGHT||(i=(a=f-(p-h)*d)>=c&&a<=l),i||!(o&O.BELOW)||r&O.BELOW||(i=(s=p-(f-c)/d)>=u&&s<=h),i||!(o&O.LEFT)||r&O.LEFT||(i=(a=f-(p-u)*d)>=c&&a<=l)}return i}(r,t,e)}))}function Ni(t,e,n,i,r){if(!function(t,e,n,i,r){return!!(ji(t,e,n,i,r)||Pi(t,e,n,i,r[0],r[1])||Pi(t,e,n,i,r[0],r[3])||Pi(t,e,n,i,r[2],r[1])||Pi(t,e,n,i,r[2],r[3]))}(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(Ri(t,n[o-1],n[o],i,r)&&!ji(t,n[o-1],n[o],i,r))return!1;return!0}function Fi(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function Di(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=(a-o)*(u+s),o=a,s=u}return r>0}function Gi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],c=Di(t,e,u,i);if(0===s){if(o&&c||!o&&!c)return!1}else if(o&&!c||!o&&c)return!1;e=u}return!0}function zi(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],c=Di(t,e,u,i);(0===s?o&&c||!o&&!c:o&&!c||!o&&c)&&Fi(t,e,u,i),e=u}return e}function Ui(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=zi(t,e,n[o],i,r);return e}var $i=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Ye(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<P(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gi(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yi(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return ki(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return pi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?zi(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,xi(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Y(this.getExtent());this.flatInteriorPoint_=Ai(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new Ii(this.getFlatInteriorPoint(),Yn.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Mi(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],u=new Mi(e.slice(r,a),t);i.push(u),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Gi(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=zi(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Oi(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,Yn.XY,i)},e.prototype.getType=function(){return Xt.POLYGON},e.prototype.intersectsExtent=function(t){return Ni(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=bi(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(hi),Bi=$i;function Vi(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new $i(o,Yn.XY,[o.length])}var Hi=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Bi([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(pt),Wi=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt);function qi(){var t,e=this.getMap(),n=e.getView(),i=e.getSize(),r=this.getGeometry().getExtent();if(this.out_){var o=n.calculateExtent(i),s=(t=[e.getPixelFromCoordinate(q(r)),e.getPixelFromCoordinate(et(r))],function(t,e){for(var n=0,i=e.length;n<i;++n)$(t,e[n]);return t}(D(void 0),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(o,1/n.getResolutionForExtent(s,i)),r=o}var a=n.constrainResolution(n.getResolutionForExtent(r,i)),u=Y(r);u=n.constrainCenter(u),n.animate({resolution:a,center:u,duration:this.duration_,easing:ut})}var Xi=function(t){function e(e){var n=e||{};t.call(this,{condition:n.condition?n.condition:zn,className:n.className||"ol-dragzoom",onBoxEnd:qi}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(function(t){function e(e){t.call(this);var n=e||{};this.box_=new Hi(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:Ot,this.startPixel_=null,this.condition_=n.condition?n.condition:Fn,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){$n(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Wi("boxdrag",t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!$n(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new Wi("boxend",t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!(!$n(t)||!Dn(t)||!this.condition_(t)||(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Wi("boxstart",t.coordinate,t)),0))},e}(Vn)),Yi={LEFT:37,UP:38,RIGHT:39,DOWN:40};function Ki(t){var e=!1;if(t.type==kt.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Yi.DOWN||n==Yi.LEFT||n==Yi.RIGHT||n==Yi.UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,s=0;n==Yi.DOWN?s=-r:n==Yi.LEFT?o=-r:n==Yi.RIGHT?o=r:s=r;var a=[o,s];Sn(a,i.getRotation()),function(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:ht,center:r}):t.setCenter(r)}}(i,a,this.duration_),t.preventDefault(),e=!0}}return!e}var Zi=function(t){function e(e){t.call(this,{handleEvent:Ki});var n=e||{};this.defaultCondition_=function(t){return Gn(t)&&Un(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(_n);function Ji(t){var e=!1;if(t.type==kt.KEYDOWN||t.type==kt.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_;yn(i.getView(),r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Qi=function(t){function e(e){t.call(this,{handleEvent:Ji});var n=e||{};this.condition_=n.condition?n.condition:Un,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(_n),tr=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:Fn,this.lastAnchor_=null,this.startTime_=void 0,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(1,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==kt.WHEEL&&e!==kt.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==kt.WHEEL?(n=r.deltaY,Tn&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Rn),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==kt.MOUSEWHEEL&&(n=-r.wheelDeltaY,On&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel"),"trackpad"===this.mode_){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(1,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),u=s.getMinResolution(),c=s.getMaxResolution(),h=0;if(a<u?(a=Math.max(a,u/this.trackpadZoomBuffer_),h=1):a>c&&(a=Math.min(a,c*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_){var l=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(l))}return s.setResolution(a),0===h&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,n>0?-1:1),easing:ut,anchor:this.lastAnchor_,duration:this.duration_}),h>0?s.animate({resolution:u,easing:ut,anchor:this.lastAnchor_,duration:500}):h<0&&s.animate({resolution:c,easing:ut,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var p=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),p),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),yn(e,-Lt(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(_n),er=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=Tt),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Wn){var u=s.getViewport().getBoundingClientRect(),c=Bn(this.targetPointers);if(c[0]-=u.left,c[1]-=u.top,this.anchor_=s.getCoordinateFromPixel(c),this.rotating_){var h=a.getRotation();s.render(),vn(a,h+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(1,-1),this.rotating_){var n=e.getRotation();gn(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(1,1),!0}return!1},e}(Vn),nr=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=Tt),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,u=a.getView(),c=u.getResolution(),h=u.getMaxResolution(),l=u.getMinResolution(),p=c*e;p>h?(e=h/c,p=h):p<l&&(e=l/c,p=l),1!=e&&(this.lastScaleDelta_=e);var f=a.getViewport().getBoundingClientRect(),d=Bn(this.targetPointers);d[0]-=f.left,d[1]-=f.top,this.anchor_=a.getCoordinateFromPixel(d),a.render(),mn(u,p,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(1,-1);var n=e.getResolution();return(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution())&&function(t,e,n,i,r){e=t.constrainResolution(e,0,r),mn(t,e,n,i)}(e,n,this.anchor_,this.duration_,this.lastScaleDelta_-1),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(1,1),!0}return!1},e}(Vn);function ir(t){var e=t||{},n=new ln,i=new fn(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Xn),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new wn({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Hn({condition:e.onFocusOnly?Nn:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new er),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new nr({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Zi),n.push(new Qi({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new tr({condition:e.onFocusOnly?Nn:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Xi({duration:e.zoomDuration})),n}var rr=function(t){function e(e,n,i){t.call(this),void 0!==i&&void 0===n?this.setFlatCoordinates(i,e):this.setCenterAndRadius(e,n||0,i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(var u=0;u<this.stride;++u)n[u]=r[u];else{var c=this.getRadius()/Math.sqrt(a);n[0]=r[0]+c*o,n[1]=r[1]+c*s;for(var h=2;h<this.stride;++h)n[h]=r[h]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return F(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return Xt.CIRCLE},e.prototype.intersectsExtent=function(t){if(it(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||H(t,this.intersectsCoordinate,this)}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=mi(i,0,t);i[r++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(hi),or=function(t){function e(e){t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,wt(this,Fe(this.geometryName_),this.handleGeometryChanged_,this),e&&("function"==typeof e.getSimplifiedGeometry?this.setGeometry(e):this.setProperties(e))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Et(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=wt(t,kt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(C("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){St(this,Fe(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,wt(this,Fe(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(De),sr=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ar=/^([a-z]*)$/i;function ur(t){return"string"==typeof t?t:lr(t)}var cr=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r=0;for(var o in t)0==(3&r++)&&(delete t[o],--e)}i=function(t){var e,n,i,r,o;if(ar.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),sr.exec(t)){var s,a=t.length-1;s=a<=4?1:2;var u=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),r=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,u&&(r=(r<<4)+r)),o=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?hr(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),hr(o)):C(!1,14);return o}(n),t[n]=i,++e}return i}}();function hr(t){return t[0]=Lt(t[0]+.5|0,0,255),t[1]=Lt(t[1]+.5|0,0,255),t[2]=Lt(t[2]+.5|0,0,255),t[3]=Lt(t[3],0,1),t}function lr(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}var pr=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};pr.prototype.clone=function(){var t=this.getColor();return new pr({color:Array.isArray(t)?t.slice():t||void 0})},pr.prototype.getColor=function(){return this.color_},pr.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},pr.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;this.checksum_=t?Array.isArray(t)||"string"==typeof t?"f"+ur(t):x(this.color_):"f-"}return this.checksum_};var fr=pr,dr=function(){this.dataProjection=null,this.defaultFeatureProjection=null};function gr(t,e,n){var i,r=n?we(n.featureProjection):null,o=n?we(n.dataProjection):null;if(i=r&&o&&!Ce(r,o)?Array.isArray(t)?Ie(t,o,r):(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&n&&void 0!==n.decimals&&!Array.isArray(i)){var s=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}dr.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},dr.prototype.adaptOptions=function(t){return ft({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},dr.prototype.getLastExtent=function(){return null},dr.prototype.getType=function(){return b()},dr.prototype.readFeature=function(t,e){return b()},dr.prototype.readFeatures=function(t,e){return b()},dr.prototype.readGeometry=function(t,e){return b()},dr.prototype.readProjection=function(t){return b()},dr.prototype.writeFeature=function(t,e){return b()},dr.prototype.writeFeatures=function(t,e){return b()},dr.prototype.writeGeometry=function(t,e){return b()};var vr={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};function yr(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}var mr=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getType=function(){return vr.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(yr(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(yr(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return b()},e.prototype.readFeaturesFromObject=function(t,e){return b()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(yr(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return b()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(yr(t))},e.prototype.readProjectionFromObject=function(t){return b()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return b()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return b()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return b()},e}(dr);function _r(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}var br=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)St(this.geometries_[t],kt.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)wt(this.geometries_[t],kt.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<P(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){D(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)U(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return _r(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(dt(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],r=this.geometries_,o=!1,s=0,a=r.length;s<a;++s){var u=r[s],c=u.getSimplifiedGeometry(t);i.push(c),c!==u&&(o=!0)}if(o){var h=new e(null);return h.setGeometriesArray(i),this.simplifiedGeometryCache[n]=h,h}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return Xt.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=Y(this.getExtent()));for(var r=this.geometries_,o=0,s=r.length;o<s;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(_r(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(ui);function wr(t,e,n,i,r,o){var s=NaN,a=NaN,u=(n-e)/i;if(1===u)s=t[e],a=t[e+1];else if(2==u)s=(1-r)*t[e]+r*t[e+i],a=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==u){for(var c=t[e],h=t[e+1],l=0,p=[0],f=e+i;f<n;f+=i){var d=t[f],g=t[f+1];l+=Math.sqrt((d-c)*(d-c)+(g-h)*(g-h)),p.push(l),c=d,h=g}var v=r*l,y=function(t,e,n){for(var i,r,o=We,s=0,a=t.length,u=!1;s<a;)(r=+o(t[i=s+(a-s>>1)],e))<0?s=i+1:(a=i,u=!r);return u?s:~s}(p,v);if(y<0){var m=(v-p[-y-2])/(p[-y-1]-p[-y-2]),_=e+(-y-2)*i;s=zt(t[_],t[_+i],m),a=zt(t[_+1],t[_+i+1],m)}else s=t[e+y*i],a=t[e+y*i+1]}return o?(o[0]=s,o[1]=a,o):[s,a]}function xr(t,e,n,i,r,o){if(n==e)return null;var s;if(r<t[e+i-1])return o?((s=t.slice(e,e+i))[i-1]=r,s):null;if(t[n-1]<r)return o?((s=t.slice(n-i,n))[i-1]=r,s):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var a=e/i,u=n/i;a<u;){var c=a+u>>1;r<t[(c+1)*i-1]?u=c:a=c+1}var h=t[a*i-1];if(r==h)return t.slice((a-1)*i,(a-1)*i+i);var l=(r-h)/(t[(a+1)*i-1]-h);s=[];for(var p=0;p<i-1;++p)s.push(zt(t[(a-1)*i+p],t[a*i+p],l));return s.push(r),s}function Sr(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var u=t[a],c=t[a+1];s+=Math.sqrt((u-r)*(u-r)+(c-o)*(c-o)),r=u,o=c}return s}var Er=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Ye(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<P(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(di(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Li(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){return this.layout!=Yn.XYM&&this.layout!=Yn.XYZM?null:xr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return wi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return wr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Sr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ei(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Yn.XY)},e.prototype.getType=function(){return Xt.LINE_STRING},e.prototype.intersectsExtent=function(t){return ji(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_i(this.flatCoordinates,0,t,this.stride),this.changed()},e}(hi),Cr=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var r=this.getLayout(),o=e,s=[],a=[],u=0,c=o.length;u<c;++u){var h=o[u];0===u&&(r=h.getLayout()),Ye(s,h.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Ye(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<P(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gi(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yi(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){return this.layout!=Yn.XYM&&this.layout!=Yn.XYZM||0===this.flatCoordinates.length?null:function(t,e,i,r,o,s,a){if(void 0!==n&&n)return xr(t,e,i[i.length-1],r,o,s);var u;if(o<t[r-1])return s?((u=t.slice(0,r))[r-1]=o,u):null;if(t[t.length-1]<o)return s?((u=t.slice(t.length-r))[r-1]=o,u):null;for(var c=0,h=i.length;c<h;++c){var l=i[c];if(e!=l){if(o<t[e+r-1])return null;if(o<=t[l-1])return xr(t,e,l,r,o,!1);e=l}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return xi(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Er(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],u=new Er(t.slice(r,a),n);i.push(u),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o];Ye(t,wr(e,n,a,r,.5)),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,o,s,a){for(var u=0,c=n.length;u<c;++u){var h=n[u];s=Ei(t,e,h,i,r,o,s),a.push(s),e=h}return s}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,Yn.XY,i)},e.prototype.getType=function(){return Xt.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){if(ji(t,e,n[o],i,r))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=bi(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(hi),Tr=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Ye(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<P(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var u=Ft(t,e,r[s],r[s+1]);if(u<i){i=u;for(var c=0;c<o;++c)n[c]=r[s+c];n.length=o}}return i},e.prototype.getCoordinates=function(){return wi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new Ii(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new Ii(t.slice(r,r+n),e);i.push(s)}return i},e.prototype.getType=function(){return Xt.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n)if(L(t,e[i],e[i+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=_i(this.flatCoordinates,0,t,this.stride),this.changed()},e}(hi),Or=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var r=this.getLayout(),o=e,s=[],a=[],u=0,c=o.length;u<c;++u){var h=o[u];0===u&&(r=h.getLayout());for(var l=s.length,p=h.getEnds(),f=0,d=p.length;f<d;++f)p[f]+=l;Ye(s,h.getFlatCoordinates()),a.push(p)}n=r,e=s,i=a}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Ye(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<P(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=gi(t,e,a,i,r),e=a[a.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,r,o,s,a,u,c,h){for(var l=[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];c=yi(t,e,d,i,r,!0,s,a,u,c,l),e=d[d.length-1]}return c}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,i))},e.prototype.containsXY=function(t,e){return function(t,e,n,i,r,o){if(0===n.length)return!1;for(var s=0,a=n.length;s<a;++s){var u=n[s];if(ki(t,e,u,i,r,o))return!0;e=u[u.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=pi(t,e,a,i),e=a[a.length-1]}return r}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Ui(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,Si(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var r=[],o=[1/0,1/0,-1/0,-1/0],s=0,a=n.length;s<a;++s){var u=n[s];o=G(t,e,u[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,i,r){for(var o=[],s=0,a=n.length;s<a;++s){var u=n[s];o=Ai(t,e,u,i,r,2*s,o),e=u[u.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Tr(this.getFlatInteriorPoints().slice(),Yn.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)if(!Gi(t,0,n[o],i,void 0))return!1;return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ui(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,r,o,s,a){for(var u=0,c=n.length;u<c;++u){var h=n[u],l=[];s=Oi(t,e,h,i,r,o,s,l),a.push(l),e=h[h.length-1]}return s}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,Yn.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new Bi(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),u=a[a.length-1];if(0!==r)for(var c=0,h=a.length;c<h;++c)a[c]-=r;var l=new Bi(e.slice(r,u),t,a);i.push(l),r=u}return i},e.prototype.getType=function(){return Xt.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(Ni(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,r){for(var o=r||[],s=0,a=0,u=n.length;a<u;++a){var c=bi(t,e,n[a],i,o[s]);o[s++]=c,e=c[c.length-1]}return o.length=s,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(hi);function Mr(t,e){if(!t)return null;var n;switch(t.type){case Xt.POINT:n=function(t){return new Ii(t.coordinates)}(t);break;case Xt.LINE_STRING:n=function(t){return new Er(t.coordinates)}(t);break;case Xt.POLYGON:n=function(t){return new Bi(t.coordinates)}(t);break;case Xt.MULTI_POINT:n=function(t){return new Tr(t.coordinates)}(t);break;case Xt.MULTI_LINE_STRING:n=function(t){return new Cr(t.coordinates)}(t);break;case Xt.MULTI_POLYGON:n=function(t){return new Or(t.coordinates)}(t);break;case Xt.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return Mr(t,void 0)});return new br(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return gr(n,!1,e)}function Ir(t,e){var n,i=(t=gr(t,!0,e)).getType();switch(i){case Xt.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case Xt.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case Xt.POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case Xt.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case Xt.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case Xt.MULTI_POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case Xt.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=ft({},e);return delete n.featureProjection,Ir(t,n)})}}(t,e);break;case Xt.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}var Rr=function(t){function e(e){var n=e||{};t.call(this),this.dataProjection=we(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=we(n.featureProjection)),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.readFeatureFromObject=function(t,e){var n,i=Mr((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),r=new or;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&r.setGeometryName(n.geometry_name),r.setGeometry(i),"id"in n&&r.setId(n.id),n.properties&&r.setProperties(n.properties),r},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var i=t.features,r=0,o=i.length;r<o;++r)n.push(this.readFeatureFromObject(i[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return Mr(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=we(n.properties.name):C(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(n.id=i);var r=t.getGeometry();r&&(n.geometry=Ir(r,e));var o=t.getProperties();return delete o[t.getGeometryName()],vt(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return Ir(t,this.adaptOptions(e))},e}(mr),Pr={IDLE:0,LOADING:1,LOADED:2,ERROR:3},kr={FRACTION:"fraction",PIXELS:"pixels"};function Ar(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Lr(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function jr(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function Nr(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Fr(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Dr(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var Gr=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function zr(t,e,n){return e+":"+t+":"+(n?ur(n):"null")}Gr.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Gr.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},Gr.prototype.get=function(t,e,n){var i=zr(t,e,n);return i in this.cache_?this.cache_[i]:null},Gr.prototype.set=function(t,e,n,i){var r=zr(t,e,n);this.cache_[r]=i,++this.cacheSize_},Gr.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var Ur=new Gr,$r=function(t){function e(e,n,i,r,o,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=o,this.size_=i,this.src_=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===Pr.LOADED){this.tainted_=!1;var t=Ar(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(e){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(kt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=Pr.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=Pr.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=Ar(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==Pr.IDLE){this.imageState_=Pr.LOADING,this.imageListenerKeys_=[xt(this.image_,kt.ERROR,this.handleImageError_,this),xt(this.image_,kt.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,s=0,a=n.length;s<a;s+=4)n[s]*=i,n[s+1]*=r,n[s+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(Et),this.imageListenerKeys_=null},e}(Pt),Br={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Vr=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};Vr.prototype.clone=function(){return new Vr({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},Vr.prototype.getOpacity=function(){return this.opacity_},Vr.prototype.getRotateWithView=function(){return this.rotateWithView_},Vr.prototype.getRotation=function(){return this.rotation_},Vr.prototype.getScale=function(){return this.scale_},Vr.prototype.getSnapToPixel=function(){return!1},Vr.prototype.getAnchor=function(){return b()},Vr.prototype.getImage=function(t){return b()},Vr.prototype.getHitDetectionImage=function(t){return b()},Vr.prototype.getImageState=function(){return b()},Vr.prototype.getImageSize=function(){return b()},Vr.prototype.getHitDetectionImageSize=function(){return b()},Vr.prototype.getOrigin=function(){return b()},Vr.prototype.getSize=function(){return b()},Vr.prototype.setOpacity=function(t){this.opacity_=t},Vr.prototype.setRotateWithView=function(t){this.rotateWithView_=t},Vr.prototype.setRotation=function(t){this.rotation_=t},Vr.prototype.setScale=function(t){this.scale_=t},Vr.prototype.setSnapToPixel=function(t){},Vr.prototype.listenImageChange=function(t,e){return b()},Vr.prototype.load=function(){b()},Vr.prototype.unlistenImageChange=function(t,e){b()};var Hr=Vr,Wr=function(t){function e(e){var n=e||{};t.call(this,{opacity:void 0!==n.opacity?n.opacity:1,rotation:void 0!==n.rotation?n.rotation:0,scale:void 0!==n.scale?n.scale:1,rotateWithView:void 0!==n.rotateWithView&&n.rotateWithView}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:Br.TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:kr.FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:kr.FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var i=void 0!==n.img?n.img:null,r=void 0!==n.imgSize?n.imgSize:null,o=n.src;C(!(void 0!==o&&i),4),C(!i||i&&r,5),void 0!==o&&0!==o.length||!i||(o=i.src||x(i)),C(void 0!==o&&o.length>0,6);var s,a=void 0!==n.src?Pr.IDLE:Pr.LOADED;this.color_=void 0!==n.color?(s=n.color,Array.isArray(s)?s:cr(s)):null,this.iconImage_=function(t,e,n,i,r,o){var s=Ur.get(e,i,o);return s||(s=new $r(t,e,n,i,r,o),Ur.set(e,i,o,s)),s}(i,o,r,this.crossOrigin_,a,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:Br.TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==kr.FRACTION||this.anchorYUnits_==kr.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==kr.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==kr.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Br.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Br.TOP_RIGHT&&this.anchorOrigin_!=Br.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Br.BOTTOM_LEFT&&this.anchorOrigin_!=Br.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Br.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Br.TOP_RIGHT&&this.offsetOrigin_!=Br.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Br.BOTTOM_LEFT&&this.offsetOrigin_!=Br.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return wt(this.iconImage_,kt.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){St(this.iconImage_,kt.CHANGE,t,e)},e}(Hr),qr=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt),Xr=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(qr),Yr=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Xr),Kr={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Zr=function(t,e){this.dispatcher=t,this.mapping_=e};Zr.prototype.getEvents=function(){return Object.keys(this.mapping_)},Zr.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var Jr=Zr,Qr=1,to="mouse";function eo(t){if(!this.isEventSimulatedFromTouch_(t)){Qr.toString()in this.pointerMap&&this.cancel(t);var e=so(t,this.dispatcher);this.pointerMap[Qr.toString()]=t,this.dispatcher.down(e,t)}}function no(t){if(!this.isEventSimulatedFromTouch_(t)){var e=so(t,this.dispatcher);this.dispatcher.move(e,t)}}function io(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[Qr.toString()];if(e&&e.button===t.button){var n=so(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function ro(t){if(!this.isEventSimulatedFromTouch_(t)){var e=so(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function oo(t){if(!this.isEventSimulatedFromTouch_(t)){var e=so(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function so(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=Qr,n.isPrimary=!0,n.pointerType=to,n}var ao=function(t){function e(e){t.call(this,e,{mousedown:eo,mousemove:no,mouseup:io,mouseover:ro,mouseout:oo}),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(n-s[0]),u=Math.abs(i-s[1]);if(a<=25&&u<=25)return!0}return!1},e.prototype.cancel=function(t){var e=so(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[Qr.toString()]},e}(Jr),uo=["","unavailable","touch","pen","mouse"];function co(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function ho(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function lo(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function po(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function fo(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function go(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function vo(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function yo(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var mo=function(t){function e(e){t.call(this,e,{MSPointerDown:co,MSPointerMove:ho,MSPointerUp:lo,MSPointerOut:po,MSPointerOver:fo,MSPointerCancel:go,MSGotPointerCapture:yo,MSLostPointerCapture:vo}),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=uo[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(Jr);function _o(t){this.dispatcher.fireNativeEvent(t)}function bo(t){this.dispatcher.fireNativeEvent(t)}function wo(t){this.dispatcher.fireNativeEvent(t)}function xo(t){this.dispatcher.fireNativeEvent(t)}function So(t){this.dispatcher.fireNativeEvent(t)}function Eo(t){this.dispatcher.fireNativeEvent(t)}function Co(t){this.dispatcher.fireNativeEvent(t)}function To(t){this.dispatcher.fireNativeEvent(t)}var Oo=function(t){function e(e){t.call(this,e,{pointerdown:_o,pointermove:bo,pointerup:wo,pointerout:xo,pointerover:So,pointercancel:Eo,gotpointercapture:To,lostpointercapture:Co})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Jr),Mo=!1,Io=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=function(t){var e;if(t.buttons||Mo)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){return t.pressure?t.pressure:e?.5:0}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt);function Ro(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function Po(t){this.processTouches_(t,this.moveOverOut_)}function ko(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function Ao(t){this.processTouches_(t,this.cancelOut_)}var Lo=function(t){function e(e,n){t.call(this,e,{touchstart:Ro,touchmove:Po,touchend:ko,touchcancel:Ao}),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.dedupTimeout_=2500}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&Qr.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function r(){t.preventDefault()}for(var o=0;o<i;++o){var s=this.touchToPointer_(t,n[o]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].identifier===e)return!0;return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var s=Number(n[o]),a=this.pointerMap[s];s==Qr||this.findTouch_(e,s-2)||r.push(a.out)}for(var u=0;u<r.length;++u)this.cancelOut_(t,r[u])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){var t,n;(n=(t=e).indexOf(i))>-1&&t.splice(n,1)},this.dedupTimeout_)}},e}(Jr),jo=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],No=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.registerSources=function(){if(An)this.registerSource("native",new Oo(this));else if(Ln)this.registerSource("ms",new mo(this));else{var t=new ao(this);this.registerSource("mouse",t),kn&&this.registerSource("touch",new Lo(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach((function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}).bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++)this.addEvents_(this.eventSourceList_[e].getEvents())},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++)this.removeEvents_(this.eventSourceList_[e].getEvents())},e.prototype.eventHandler_=function(t){var e=this.eventMap_[t.type];e&&e(t)},e.prototype.addEvents_=function(t){t.forEach((function(t){wt(this.element_,t,this.eventHandler_,this)}).bind(this))},e.prototype.removeEvents_=function(t){t.forEach((function(t){St(this.element_,t,this.eventHandler_,this)}).bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=jo.length;i<r;i++){var o=jo[i][0];n[o]=t[o]||e[o]||jo[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(Kr.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(Kr.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(Kr.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(Kr.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(Kr.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(Kr.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(Kr.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(Kr.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new Io(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,so(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(Pt),Fo=function(t){function e(e,n){t.call(this),this.map_=e,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*Rn:Rn,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new No(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=wt(this.pointerEventHandler_,Kr.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=wt(this.pointerEventHandler_,Kr.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.emulateClick_=function(t){var e=new Yr(dn.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Yr(dn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new Yr(dn.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==dn.POINTERUP||e.type==dn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==dn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Yr(dn.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Et),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new Yr(dn.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new No(document),this.dragListenerKeys_.push(wt(this.documentPointerEventHandler_,dn.POINTERMOVE,this.handlePointerMove_,this),wt(this.documentPointerEventHandler_,dn.POINTERUP,this.handlePointerUp_,this),wt(this.pointerEventHandler_,dn.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Yr(dn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Yr(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Et(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Et(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Et),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(Pt),Do={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Go=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};Go.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,dt(this.queuedElements_)},Go.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},Go.prototype.enqueue=function(t){C(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},Go.prototype.getCount=function(){return this.elements_.length},Go.prototype.getLeftChildIndex_=function(t){return 2*t+1},Go.prototype.getRightChildIndex_=function(t){return 2*t+2},Go.prototype.getParentIndex_=function(t){return t-1>>1},Go.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},Go.prototype.isEmpty=function(){return 0===this.elements_.length},Go.prototype.isKeyQueued=function(t){return t in this.queuedElements_},Go.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},Go.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),c=u<i&&n[u]<n[a]?u:a;e[t]=e[c],n[t]=n[c],t=c}e[t]=r,n[t]=o,this.siftDown_(s,t)},Go.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},Go.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var zo=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&wt(e[0],kt.CHANGE,this.handleTileChange,this),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===st.LOADED||n===st.ERROR||n===st.EMPTY||n===st.ABORT){St(e,kt.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===st.ABORT?s=!0:n!==st.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()},e}(Go);function Uo(t){return t}function $o(t,e){setTimeout(function(){t(e)},0)}function Bo(t){return!(t.sourceCenter&&t.targetCenter&&!function(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}var Vo=function(t){function e(e){t.call(this);var n=ft({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Ee(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.applyOptions_=function(t){var e={};e.center=void 0!==t.center?t.center:null;var n=function(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var a=t.resolutions;n=a[r],i=void 0!==a[o]?a[o]:a[a.length-1],e=function(t){return function(e,n,i){if(void 0!==e){var r=qe(t,e,i);r=Lt(r+n,0,t.length-1);var o=Math.floor(r);return r!=o&&o<t.length-1?t[o]/Math.pow(t[o]/t[o+1],r-o):t[o]}}}(a)}else{var u=Ee(t.projection,"EPSG:3857"),c=u.getExtent(),h=(c?Math.max(nt(c),J(c)):360*Jt[Qt.DEGREES]/u.getMetersPerUnit())/$e/Math.pow(2,0),l=h/Math.pow(2,28);void 0!==(n=t.maxResolution)?r=0:n=h/Math.pow(s,r),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,o):h/Math.pow(s,o):l),o=r+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,o-r),e=function(t,e,n){return function(i,r,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),u=Math.max(a+r,0);return void 0!==n&&(u=Math.min(u,n)),e/Math.pow(t,u)}}}(s,n,o-r)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:s}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Lt(t[0],e[0],e[2]),Lt(t[1],e[1],e[3])]:void 0}):Uo;var e}(t),r=n.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(i=Dt(5),function(t,e){return void 0!==t?Math.abs(t+e)<=i?0:t+e:void 0}):!1===e?qn:"number"==typeof e?(n=2*Math.PI/e,function(t,e){return void 0!==t?t=Math.floor((t+e)/n+.5)*n:void 0}):qn}return Wn;var n,i}(t);this.constraints_={center:i,resolution:r,rotation:o},void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e.resolution=Lt(Number(this.getResolution()||e.resolution),this.minResolution_,this.maxResolution_))),e.rotation=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=ft({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),ft({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&$o(e,!0))}for(var o=Date.now(),s=this.getCenter().slice(),a=this.getResolution(),u=this.getRotation(),c=[],h=0;h<i;++h){var l=n[h],p={start:o,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||ct};if(l.center&&(p.sourceCenter=s,p.targetCenter=l.center,s=p.targetCenter),void 0!==l.zoom?(p.sourceResolution=a,p.targetResolution=this.constrainResolution(this.maxResolution_,l.zoom-this.minZoom_,0),a=p.targetResolution):l.resolution&&(p.sourceResolution=a,p.targetResolution=l.resolution,a=p.targetResolution),void 0!==l.rotation){p.sourceRotation=u;var f=Gt(l.rotation-u+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=u+f,u=p.targetRotation}p.callback=e,Bo(p)?p.complete=!0:o+=p.duration,c.push(p)}this.animations_.push(c),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){this.setHint(0,-this.hints_[0]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&$o(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,s=i.length;o<s;++o){var a=i[o];if(!a.complete){var u=a.duration>0?(t-a.start)/a.duration:1;u>=1?(a.complete=!0,u=1):r=!1;var c=a.easing(u);if(a.sourceCenter){var h=a.sourceCenter[0],l=a.sourceCenter[1];this.set("center",[h+c*(a.targetCenter[0]-h),l+c*(a.targetCenter[1]-l)])}if(a.sourceResolution&&a.targetResolution){var p=1===c?a.targetResolution:a.sourceResolution+c*(a.targetResolution-a.sourceResolution);a.anchor&&this.set("center",this.calculateCenterZoom(p,a.anchor)),this.set("resolution",p)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var f=1===c?Gt(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+c*(a.targetRotation-a.sourceRotation);a.anchor&&this.set("center",this.calculateCenterRotate(f,a.anchor)),this.set("rotation",f)}if(e=!0,!a.complete)break}}if(r){this.animations_[n]=null,this.setHint(0,-1);var d=i[0].callback;d&&$o(d,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(Sn(n=[i[0]-e[0],i[1]-e[1]],t-this.getRotation()),xn(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();return void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]),n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+x(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){return this.constraints_.resolution(t,e||0,n||0)},e.prototype.constrainRotation=function(t,e){return this.constraints_.rotation(t,e||0)},e.prototype.getCenter=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();C(n,1);var i=this.getResolution();C(void 0!==i,2);var r=this.getRotation();return C(void 0!==r,3),Z(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=nt(t)/n[0],r=J(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*i)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/i}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=qe(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},r=i.size;r||(r=this.getSizeFromViewport_()),C(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(C(!rt(t),25),n=Vi(t)):t.getType()===Xt.CIRCLE?(n=Vi(t=t.getExtent())).rotate(this.getRotation(),Y(t)):n=t;var o,s=void 0!==i.padding?i.padding:[0,0,0,0],a=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;o=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var c=n.getFlatCoordinates(),h=this.getRotation(),l=Math.cos(-h),p=Math.sin(-h),f=1/0,d=1/0,g=-1/0,v=-1/0,y=n.getStride(),m=0,_=c.length;m<_;m+=y){var b=c[m]*l-c[m+1]*p,w=c[m]*p+c[m+1]*l;f=Math.min(f,b),d=Math.min(d,w),g=Math.max(g,b),v=Math.max(v,w)}var x=this.getResolutionForExtent([f,d,g,v],[r[0]-s[1]-s[3],r[1]-s[0]-s[2]]);if(x=isNaN(x)?o:Math.max(x,o),a){var S=this.constrainResolution(x,0,0);!u&&S<x&&(S=this.constrainResolution(S,-1,0)),x=S}var E=(f+g)/2,T=(d+v)/2,O=[(E+=(s[1]-s[3])/2*x)*l-(T+=(s[0]-s[2])/2*x)*(p=-p),T*l+E*p],M=i.callback?i.callback:Ot;void 0!==i.duration?this.animate({resolution:x,center:O,duration:i.duration,easing:i.easing},M):(this.setResolution(x),this.setCenter(O),$o(M,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,u=this.getResolution();this.setCenter([(s+=(e[0]/2-n[0])*u)*r-(a+=(n[1]-e[1]/2)*u)*(o=-o),a*r+s*o])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set("center",t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set("resolution",t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set("rotation",t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(De),Ho={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},Wo=function(t){function e(e){t.call(this);var n=ft({},e);n[Ho.OPACITY]=void 0!==e.opacity?e.opacity:1,n[Ho.VISIBLE]=void 0===e.visible||e.visible,n[Ho.Z_INDEX]=e.zIndex,n[Ho.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[Ho.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Lt(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return b()},e.prototype.getLayerStatesArray=function(t){return b()},e.prototype.getExtent=function(){return this.get(Ho.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(Ho.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(Ho.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(Ho.OPACITY)},e.prototype.getSourceState=function(){return b()},e.prototype.getVisible=function(){return this.get(Ho.VISIBLE)},e.prototype.getZIndex=function(){return this.get(Ho.Z_INDEX)},e.prototype.setExtent=function(t){this.set(Ho.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(Ho.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(Ho.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(Ho.OPACITY,t)},e.prototype.setVisible=function(t){this.set(Ho.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(Ho.Z_INDEX,t)},e}(De),qo={LAYERS:"layers"},Xo=function(t){function e(e){var n=e||{},i=ft({},n);delete i.layers;var r=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},wt(this,Fe(qo.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new ln(r.slice(),{unique:!0}):C("function"==typeof r.getArray,43):r=new ln(void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Et),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(wt(t,cn.ADD,this.handleLayersAdd_,this),wt(t,cn.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Et);dt(this.listenerKeys_);for(var n=t.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.listenerKeys_[x(o)]=[wt(o,"propertychange",this.handleLayerChange_,this),wt(o,kt.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[x(e)]=[wt(e,"propertychange",this.handleLayerChange_,this),wt(e,kt.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=x(t.element);this.listenerKeys_[e].forEach(Et),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(qo.LAYERS)},e.prototype.setLayers=function(t){this.set(qo.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),void 0!==i.extent&&(s.extent=void 0!==s.extent?Q(s.extent,i.extent):i.extent)}return e},e.prototype.getSourceState=function(){return Re.READY},e}(Wo),Yo=function(t){function e(e){t.call(this);var n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,r,o={},s=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Xo({layers:t.layers});return o[Do.LAYERGROUP]=s,o[Do.TARGET]=t.target,o[Do.VIEW]=void 0!==t.view?t.view:new Vo,void 0!==t.controls&&(Array.isArray(t.controls)?n=new ln(t.controls.slice()):(C("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new ln(t.interactions.slice()):(C("function"==typeof t.interactions.getArray,48),i=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new ln(t.overlays.slice()):(C("function"==typeof t.overlays.getArray,49),r=t.overlays):r=new ln,{controls:n,interactions:i,keyboardEventTarget:e,overlays:r,values:o}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:Rn,this.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}).bind(this),this.coordinateToPixelTransform_=[1,0,0,1,0,0],this.pixelToCoordinateTransform_=[1,0,0,1,0,0],this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(kn?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[kt.CLICK,kt.DBLCLICK,kt.MOUSEDOWN,kt.TOUCHSTART,kt.MSPOINTERDOWN,dn.POINTERDOWN,kt.MOUSEWHEEL,kt.WHEEL],r=0,o=i.length;r<o;++r)wt(this.overlayContainerStopEvent_,i[r],It);for(var s in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new Fo(this,e.moveTolerance),dn)wt(this.mapBrowserEventHandler_,dn[s],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,wt(this.viewport_,kt.CONTEXTMENU,this.handleBrowserEvent,this),wt(this.viewport_,kt.WHEEL,this.handleBrowserEvent,this),wt(this.viewport_,kt.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new ln,this.interactions=n.interactions||new ln,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new zo(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},wt(this,Fe(Do.LAYERGROUP),this.handleLayerGroupChanged_,this),wt(this,Fe(Do.VIEW),this.handleViewChanged_,this),wt(this,Fe(Do.SIZE),this.handleSizeChanged_,this),wt(this,Fe(Do.TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach((function(t){t.setMap(this)}).bind(this)),wt(this.controls,cn.ADD,function(t){t.element.setMap(this)},this),wt(this.controls,cn.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach((function(t){t.setMap(this)}).bind(this)),wt(this.interactions,cn.ADD,function(t){t.element.setMap(this)},this),wt(this.interactions,cn.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),wt(this.overlays_,cn.ADD,function(t){this.addOverlayInternal_(t.element)},this),wt(this.overlays_,cn.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),St(this.viewport_,kt.CONTEXTMENU,this.handleBrowserEvent,this),St(this.viewport_,kt.WHEEL,this.handleBrowserEvent,this),St(this.viewport_,kt.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(kt.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t);return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,e,null,void 0!==n.layerFilter?n.layerFilter:Ct,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,e,null,i.layerFilter||Ct,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,void 0!==e.layerFilter?e.layerFilter:Ct,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Do.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?ii(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Do.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?ii(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Do.SIZE)},e.prototype.getView=function(){return this.get(Do.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=n[0]-r.focus[0],s=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=new Xr(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive()&&!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[0]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[1]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener("rendercomplete")||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var n=0,i=e.length;n<i;++n){var r=e[n];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent("rendercomplete",t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Et(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[wt(i,kt.KEYDOWN,this.handleBrowserEvent,this),wt(i,kt.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(kt.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Fr(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(kt.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Et(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Et(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",x(t)),this.viewPropertyListenerKey_=wt(t,"propertychange",this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=wt(t,kt.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Et),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[wt(t,"propertychange",this.render,this),wt(t,kt.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),i=this.getView(),r=[1/0,1/0,-1/0,-1/0],o=this.frameState_,s=null;if(void 0!==n&&function(t){return t[0]>0&&t[1]>0}(n)&&i&&i.isDef()){for(var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),c={},h=0,l=u.length;h<l;++h)c[x(u[h].layer)]=u[h];e=i.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:c,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}s&&(s.extent=Z(e.center,e.resolution,e.rotation,s.size,r)),this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o&&(!this.previousExtent_||!rt(this.previousExtent_)&&!z(s.extent,this.previousExtent_))&&(this.dispatchEvent(new qr("movestart",this,o)),this.previousExtent_=D(this.previousExtent_)),this.previousExtent_&&!s.viewHints[0]&&!s.viewHints[1]&&!z(s.extent,this.previousExtent_)&&(this.dispatchEvent(new qr("moveend",this,s)),R(s.extent,this.previousExtent_))),this.dispatchEvent(new qr("postrender",this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Do.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Do.SIZE,t)},e.prototype.setTarget=function(t){this.set(Do.TARGET,t)},e.prototype.setView=function(t){this.set(Do.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[x(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[x(t)],this.render()},e}(De),Ko=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:Ot,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){Fr(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Fr(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Et(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ot&&this.listenerKeys.push(wt(t,"postrender",this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(De),Zo="ol-hidden",Jo="ol-selectable",Qo="ol-unselectable",ts="ol-control",es="ol-collapsed",ns=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var i=t.fontFamily;if(t.font="",!i)return null;e[n]=i.split(/,\s?/)}return e[n]}}();function is(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}var rs=function(t){function e(e){var n=ft({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),wt(this,Fe(Ho.SOURCE),this.handleSourcePropertyChange_,this),this.setSource(e.source?e.source:null)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(Ho.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Re.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Et(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=wt(t,kt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Et(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Et(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=wt(t,"precompose",function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[x(this)]=n},this),this.mapRenderKey_=wt(this,kt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Ho.SOURCE,t)},e}(Wo);function os(t){this.updateElement_(t.frameState)}var ss=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||os,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",o=void 0!==n.collapseLabel?n.collapseLabel:"\xbb";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var s=void 0!==n.label?n.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s):this.label_=s;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=r,u.appendChild(a),wt(u,kt.CLICK,this.handleClick_,this);var c=this.element;c.className=i+" "+Qo+" "+ts+(this.collapsed_&&this.collapsible_?" "+es:"")+(this.collapsible_?"":" ol-uncollapsible"),c.appendChild(this.ulElement_),c.appendChild(u),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(is(a,r)){var u=a.layer.getSource();if(u){var c=u.getAttributions();if(c){var h=c(t);if(h)if(this.overrideCollapsible_||!1!==u.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(h))for(var l=0,p=h.length;l<p;++l)h[l]in e||(n.push(h[l]),e[h[l]]=!0);else h in e||(n.push(h),e[h]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Ke(e,this.renderedAttributions_)){Dr(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(es),this.collapsed_?Nr(this.collapseLabel_,this.label_):Nr(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(Ko);function as(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(Zo);r||0!==n?r&&0!==n&&this.element.classList.remove(Zo):this.element.classList.add(Zo)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}var us=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||as,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"\u21e7";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=n.tipLabel?n.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),wt(s,kt.CLICK,this.handleClick_,this);var a=this.element;a.className=i+" "+Qo+" "+ts,a.appendChild(s),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Zo)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:ut}):t.setRotation(0))},e}(Ko),cs=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,o=void 0!==n.zoomInLabel?n.zoomInLabel:"+",s=void 0!==n.zoomOutLabel?n.zoomOutLabel:"\u2212",a=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",u=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i+"-in",c.setAttribute("type","button"),c.title=a,c.appendChild("string"==typeof o?document.createTextNode(o):o),wt(c,kt.CLICK,this.handleClick_.bind(this,r));var h=document.createElement("button");h.className=i+"-out",h.setAttribute("type","button"),h.title=u,h.appendChild("string"==typeof s?document.createTextNode(s):s),wt(h,kt.CLICK,this.handleClick_.bind(this,-r));var l=this.element;l.className=i+" "+Qo+" "+ts,l.appendChild(c),l.appendChild(h),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:ut})):e.setResolution(i)}}},e}(Ko),hs=.5,ls=function(t){function e(e,n,i,r,o){t.call(this,e,n,i,void 0!==o?Pr.IDLE:Pr.LOADED),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Pr.ERROR):this.state=Pr.LOADED,this.changed()},e.prototype.load=function(){this.state==Pr.IDLE&&(this.state=Pr.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.changed=function(){this.dispatchEvent(kt.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return b()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){b()},e}(Pt)),ps={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},fs={IMAGE:"image",VECTOR:"vector"},ds=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt),gs=[0,0,0,1],vs=[],ys=[0,0,0,1],ms=[0,0,0,0],_s=new Pe,bs={},ws=null,xs={},Ss=function(){var t,e,n=60,i=bs,r="32px ",o=["monospace","serif"],s=o.length,a="wmytzilWMYTZIL@#/&?$%10\uf013";function u(t){for(var n=Es(),i=100;i<=700;i+=300){for(var u=i+" ",c=!0,h=0;h<s;++h){var l=o[h];if(n.font=u+r+l,e=n.measureText(a).width,t!=l){n.font=u+r+t+","+l;var p=n.measureText(a).width;c=c&&p!=e}}if(c)return!0}return!1}function c(){var e=!0;for(var r in i)i[r]<n&&(u(r)?(i[r]=n,dt(xs),ws=null,_s.clear()):(++i[r],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var r=ns(e);if(r)for(var o=0,s=r.length;o<s;++o){var a=r[o];a in i||(i[a]=n,u(a)||(i[a]=0,void 0===t&&(t=setInterval(c,32))))}}}();function Es(){return ws||(ws=Ar(1,1)),ws}var Cs=function(){var t,e=xs;return function(n){var i=e[n];return null==i&&(t||((t=document.createElement("span")).textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),i=e[n]=t.offsetHeight,document.body.removeChild(t)),i}}();function Ts(t,e){var n=Es();return t!=n.font&&(n.font=t),n.measureText(e).width}function Os(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var Ms=Jn();function Is(t,e,n,i,r,o,s,a,u,c,h){var l;1!=n&&(t.globalAlpha=(l=t.globalAlpha)*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,u,c,s*h,a*h),l&&(t.globalAlpha=l),e&&t.setTransform.apply(t,Ms)}function Rs(t){return Array.isArray(t)?lr(t):t}var Ps=function(){};Ps.prototype.drawCustom=function(t,e,n){},Ps.prototype.drawGeometry=function(t){},Ps.prototype.setStyle=function(t){},Ps.prototype.drawCircle=function(t,e){},Ps.prototype.drawFeature=function(t,e){},Ps.prototype.drawGeometryCollection=function(t,e){},Ps.prototype.drawLineString=function(t,e){},Ps.prototype.drawMultiLineString=function(t,e){},Ps.prototype.drawMultiPoint=function(t,e){},Ps.prototype.drawMultiPolygon=function(t,e){},Ps.prototype.drawPoint=function(t,e){},Ps.prototype.drawPolygon=function(t,e){},Ps.prototype.drawText=function(t,e){},Ps.prototype.setFillStrokeStyle=function(t,e){},Ps.prototype.setImageStyle=function(t,e){},Ps.prototype.setTextStyle=function(t,e){};var ks=Ps,As=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Kn(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var c=0,h=r.length;c<h;c+=2){var l=r[c]-this.imageAnchorX_,p=r[c+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var f=l+this.imageAnchorX_,d=p+this.imageAnchorY_;si(s,f,d,this.imageScale_,this.imageScale_,u,-f,-d),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,l,p,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Kn(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,u=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var c=si(this.tmpLocalTransform_,a,u,this.textScale_,this.textScale_,s,-a,-u);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,a,u),this.textFillState_&&o.fillText(this.text_,a,u)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=Kn(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var u=2;u<a;u+=2)o.lineTo(s[u],s[u+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(it(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return Kn(i,0,i.length,r,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Xt.POINT:this.drawPoint(t);break;case Xt.LINE_STRING:this.drawLineString(t);break;case Xt.POLYGON:this.drawPolygon(t);break;case Xt.MULTI_POINT:this.drawMultiPoint(t);break;case Xt.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Xt.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Xt.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Xt.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&it(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(it(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(it(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,u=o.length;a<u;++a)r=this.moveToLineTo_(i,r,o[a],s,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(it(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(it(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s)i=this.drawRings_(n,i,r[s],o);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),Pn&&(Ke(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,Pn&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Rs(n||gs)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:o||vs,lineDashOffset:s||0,lineJoin:void 0!==a?a:"round",lineWidth:this.pixelRatio_*(void 0!==u?u:1),miterLimit:void 0!==c?c:10,strokeStyle:Rs(i||ys)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Rs(n||gs)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),h=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:s||vs,lineDashOffset:a||0,lineJoin:void 0!==u?u:"round",lineWidth:void 0!==c?c:1,miterLimit:void 0!==h?h:10,strokeStyle:Rs(r||ys)}}else this.textStrokeState_=null;var l=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),y=t.getText(),m=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==l?l:"10px sans-serif",textAlign:void 0!==m?m:"center",textBaseline:void 0!==_?_:"middle"},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(ks);function Ls(t,e){Ur.expire()}function js(t,e){return t.zIndex-e.zIndex}var Ns=[],Fs=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=Ar(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Qo,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),u=new As(i,o,r,a,s),c=new ds(t,u,e,i,null);n.dispatchEvent(c)}},e.prototype.getTransform=function(t){var e=t.viewState,n=t.pixelRatio/e.resolution;return si(this.transform_,this.canvas_.width/2,this.canvas_.height/2,n,-n,-e.rotation,-e.center[0],-e.center[1])},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent("precompose",t);var s=t.layerStatesArray;!function(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}(s,js),o&&(e.save(),Os(e,o,i/2,r/2));var a,u,c=t.viewState.resolution;for(a=0,u=s.length;a<u;++a){var h=s[a],l=this.getLayerRenderer(h.layer);is(h,c)&&h.sourceState==Re.READY&&l.prepareFrame(t,h)&&l.composeFrame(t,h,e)}o&&e.restore(),this.dispatchRenderEvent("postcompose",t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var a,u,c=e.viewState.resolution,h=e.layerStatesArray,l=h.length,p=ii(e.pixelToCoordinateTransform,t.slice());for(u=l-1;u>=0;--u){var f=h[u],d=f.layer;if(is(f,c)&&o.call(s,d)&&(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(p,e,n,i,r)))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];Ns.indexOf(r)>=0||Ns.push(r)}},e}(function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.dispatchRenderEvent=function(t,e){b()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;si(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),function(t){var e,n=(e=t)[0]*e[3]-e[1]*e[2];C(0!==n,32);var i=t[0],r=t[1],o=t[2],s=t[3],a=t[4],u=t[5];t[0]=s/n,t[1]=-r/n,t[2]=-o/n,t[3]=i/n,t[4]=(o*u-s*a)/n,t[5]=-(i*u-r*a)/n}(ni(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,u=e.viewState,c=u.resolution;function h(t,n){var o=e.layerStates[x(n)].managed;if(!(x(t)in e.skippedFeatureUids)||o)return i.call(r,t,o?n:null)}var l=u.projection,p=t;if(l.canWrapX()){var f=l.getExtent(),d=nt(f),g=t[0];(g<f[0]||g>f[2])&&(p=[g+d*Math.ceil((f[0]-g)/d),t[1]])}var v,y=e.layerStatesArray;for(v=y.length-1;v>=0;--v){var m=y[v],_=m.layer;if(is(m,c)&&o.call(s,_)){var b=this.getLayerRenderer(_),w=_.getSource();if(w&&(a=b.forEachFeatureAtCoordinate(w.getWrapX()?p:t,e,n,h)),a)return a}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){return b()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,Ct,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=x(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=0,r=this.layerRendererConstructors_.length;i<r;++i){var o=this.layerRendererConstructors_[i];if(o.handles(t)){n=o.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=wt(n,kt.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Et(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){b()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Ls)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(pt)),Ds=function(t){function e(e){t.call(this,e),this.transform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=tt(n),u=et(n),c=X(n),h=q(n);ii(e.coordinateToPixelTransform,a),ii(e.coordinateToPixelTransform,u),ii(e.coordinateToPixelTransform,c),ii(e.coordinateToPixelTransform,h),t.save(),Os(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.lineTo(h[0]*i,h[1]*i),t.clip(),Os(t,s,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,a=n.viewState.rotation;Os(e,-a,o/2,s/2);var u=void 0!==i?i:this.getTransform(n,0),c=new As(e,n.pixelRatio,n.extent,u,n.viewState.rotation),h=new ds(t,c,n,e,null);r.dispatchEvent(h),Os(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,Ct)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_("postcompose",t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_("precompose",t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_("render",t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i/n.resolution;return si(this.transform_,i*t.size[0]/2,i*t.size[1]/2,r,-r,-n.rotation,-n.center[0]+e,-n.center[1])},e.prototype.composeFrame=function(t,e,n){b()},e.prototype.prepareFrame=function(t,e){return b()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Pr.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=Pr.LOADED&&e!=Pr.ERROR&&wt(t,kt.CHANGE,this.handleImageChange_,this),e==Pr.IDLE&&(t.load(),e=t.getState()),e==Pr.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Re.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var i=x(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}).bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,i){var r=x(e),o=n.toString();r in t?o in t[r]?t[r][o].extend(i):t[r][o]=i:(t[r]={},t[r][o]=i)},e.prototype.manageTilePyramid=function(t,e,n,i,r,o,s,a,u,c){var h=x(e);h in t.wantedTiles||(t.wantedTiles[h]={});var l,p,f,d,g,v,y=t.wantedTiles[h],m=t.tileQueue;for(v=n.getMinZoom();v<=s;++v)for(p=n.getTileRangeForExtentAndZ(o,v,p),f=n.getResolution(v),d=p.minX;d<=p.maxX;++d)for(g=p.minY;g<=p.maxY;++g)s-v<=a?((l=e.getTile(v,d,g,i,r)).getState()==st.IDLE&&(y[l.getKey()]=!0,m.isKeyQueued(l.getKey())||m.enqueue([l,h,n.getTileCoordCenter(l.tileCoord),f])),void 0!==u&&u.call(c,l)):e.useTile(v,d,g,r)},e}(Le)),Gs=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=[1,0,0,1,0,0],this.hitCanvasContext_=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!A(r,t.extent)&&it(r,t.extent);o&&this.clip(n,t,r);var s=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var u=s[5],c=i.width*s[0],h=i.height*s[3];c>=.5&&h>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(s[4]),Math.round(u),Math.round(c),Math.round(h)),n.globalAlpha=a,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return b()},e.prototype.getImageTransform=function(){return b()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var o=ii(this.coordinateToCanvasPixelTransform,t.slice());En(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Ar(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(r,this.getLayer(),s):void 0}},e}(Ds),zs=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=[1,0,0,1,0,0],this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===ps.VECTOR)for(var i=0,r=Ns.length;i<r;++i){var o=Ns[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,r=t.size,o=t.viewState,s=o.center,a=o.resolution,u=this.getLayer().getSource(),c=t.viewHints,h=this.vectorRenderer_,l=t.extent;if(h||void 0===e.extent||(l=Q(l,e.extent)),!c[0]&&!c[1]&&!rt(l)){var p=o.projection,f=this.skippedFeatures_;if(h){var d=h.context,g=ft({},t,{size:[nt(l)/a,J(l)/a],viewState:ft({},t.viewState,{rotation:0})}),v=Object.keys(g.skippedFeatureUids).sort();n=new ls(l,a,i,d.canvas,function(t){!h.prepareFrame(g,e)||!h.replayGroupChanged&&Ke(f,v)||(d.canvas.width=g.size[0]*i,d.canvas.height=g.size[1]*i,h.compose(d,g,e),f=v,t())})}else n=u.getImage(l,a,i,p);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=f)}if(this.image_){var y=(n=this.image_).getExtent(),m=n.getResolution(),_=n.getPixelRatio(),b=i*m/(a*_),w=si(this.imageTransform_,i*r[0]/2,i*r[1]/2,b,b,0,_*(y[0]-s[0])/m,_*(s[1]-y[3])/m);si(this.coordinateToCanvasPixelTransform,i*r[0]/2-w[4],i*r[1]/2-w[5],i/a,-i/a,0,-s[0],-s[1]),this.renderedResolution=m*i/_}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(Gs);zs.handles=function(t){return t.getType()===ps.IMAGE||t.getType()===ps.VECTOR&&t.getRenderMode()===fs.IMAGE},zs.create=function(t,e){return new zs(e)};var Us=zs,$s=function(t){function e(e,n){t.call(this,e),this.context=n?null:Ar(),this.renderedExtent_=null,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=[1/0,1/0,-1/0,-1/0],this.tmpTileRange_=new He(0,0,0,0),this.imageTransform_=[1,0,0,1,0,0],this.zDirection=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==st.LOADED||n==st.EMPTY||n==st.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,n,i,r);return s.getState()==st.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(st.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,i=t.size,r=t.viewState,o=r.projection,s=r.resolution,a=r.center,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),l=c.getTileGridForProjection(o),p=l.getZForResolution(s,this.zDirection),f=l.getResolution(p),d=Math.round(s/f)||1,g=t.extent;if(void 0!==e.extent&&(g=Q(g,e.extent)),rt(g))return!1;var v=l.getTileRangeForExtentAndZ(g,p),y=l.getTileRangeExtent(p,v),m=c.getTilePixelRatio(n),_={};_[p]={};var b,w,S,E=this.createLoadedTileFinder(c,o,_),C=t.viewHints,T=C[0]||C[1],O=this.tmpExtent,M=this.tmpTileRange_;for(this.newTiles_=!1,w=v.minX;w<=v.maxX;++w)for(S=v.minY;S<=v.maxY;++S)if(!(Date.now()-t.time>16&&T)){if(b=this.getTile(p,w,S,n,o),this.isDrawableTile_(b)){var I=x(this);if(b.getState()==st.LOADED){_[p][b.tileCoord.toString()]=b;var R=b.inTransition(I);this.newTiles_||!R&&-1!==this.renderedTiles.indexOf(b)||(this.newTiles_=!0)}if(1===b.getAlpha(I,t.time))continue}var P=l.getTileCoordChildTileRange(b.tileCoord,M,O),k=!1;P&&(k=E(p+1,P)),k||l.forEachTileCoordParentTileRange(b.tileCoord,E,null,M,O)}var L=f*n/m*d;if(!(this.renderedResolution&&Date.now()-t.time>16&&T)&&(this.newTiles_||!this.renderedExtent_||!A(this.renderedExtent_,g)||this.renderedRevision!=h||d!=this.oversampling_||!T&&L!=this.renderedResolution)){var j=this.context;if(j){var N=c.getTilePixelSize(p,n,o),F=Math.round(v.getWidth()*N[0]/d),D=Math.round(v.getHeight()*N[1]/d),G=j.canvas;G.width!=F||G.height!=D?(this.oversampling_=d,G.width=F,G.height=D):((this.renderedExtent_&&!z(y,this.renderedExtent_)||this.renderedRevision!=h)&&j.clearRect(0,0,F,D),d=this.oversampling_)}this.renderedTiles.length=0;var U,$,B,V,H,W,q,X,Y=Object.keys(_).map(Number);for(Y.sort(function(t,e){return t===p?1:e===p?-1:t>e?1:t<e?-1:0}),V=0,H=Y.length;V<H;++V)for(var K in $=c.getTilePixelSize(B=Y[V],n,o),U=l.getResolution(B)/f,q=m*c.getGutterForProjection(o),X=_[B])W=l.getTileCoordExtent((b=X[K]).getTileCoord(),O),this.drawTileImage(b,t,e,w=(W[0]-y[0])/f*m/d,S=(y[3]-W[3])/f*m/d,$[0]*U/d,$[1]*U/d,q,p===B),this.renderedTiles.push(b);this.renderedRevision=h,this.renderedResolution=f*n/m*d,this.renderedExtent_=y}var Z=this.renderedResolution/s,J=si(this.imageTransform_,n*i[0]/2,n*i[1]/2,Z,Z,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*n,(a[1]-this.renderedExtent_[3])/this.renderedResolution*n);return si(this.coordinateToCanvasPixelTransform,n*i[0]/2-J[4],n*i[1]/2-J[5],n/s,-n/s,0,-a[0],-a[1]),this.updateUsedTiles(t.usedTiles,c,p,v),this.manageTilePyramid(t,c,l,n,o,g,p,u.getPreload()),this.scheduleExpireCache(t,c),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,i,r,o,s,a,u){var c=this.getTileImage(t);if(c){var h=x(this),l=u?t.getAlpha(h,e.time):1,p=this.getLayer().getSource();1!==l||p.getOpaque(e.viewState.projection)||this.context.clearRect(i,r,o,s);var f=l!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=l),this.context.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,o,s),f&&this.context.restore(),1!==l?e.animate=!0:u&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(Gs);$s.handles=function(t){return t.getType()===ps.TILE},$s.create=function(t,e){return new $s(e)};var Bs=$s,Vs=n("A1R+"),Hs=n.n(Vs),Ws=function(){};Ws.prototype.getReplay=function(t,e){return b()},Ws.prototype.isEmpty=function(){return b()},Ws.prototype.addDeclutter=function(t){return b()};var qs=Ws,Xs={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function Ys(t,e,n,i,r,o,s,a){for(var u,c,h=[],l=t[e]>t[n-i],p=r.length,f=t[e],d=t[e+1],g=t[e+=i],v=t[e+1],y=0,m=Math.sqrt(Math.pow(g-f,2)+Math.pow(v-d,2)),_="",b=0,w=0;w<p;++w){var x=r.charAt(l?p-w-1:w),S=o(_=l?x+_:_+x)-b;b+=S;for(var E=s+S/2;e<n-i&&y+m<E;)f=g,d=v,g=t[e+=i],v=t[e+1],y+=m,m=Math.sqrt(Math.pow(g-f,2)+Math.pow(v-d,2));var C=E-y,T=Math.atan2(v-d,g-f);if(l&&(T+=T>0?-Math.PI:Math.PI),void 0!==c){var O=T-c;if(O+=O>Math.PI?-2*Math.PI:O<-Math.PI?2*Math.PI:0,Math.abs(O)>a)return null}var M=C/m,I=zt(f,g,M),R=zt(d,v,M);c==T?(l&&(u[0]=I,u[1]=R,u[2]=S/2),u[4]=_):(b=S,u=[I,R,S/2,T,_=x],l?h.unshift(u):h.push(u),c=T),s+=S}return h}var Ks={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Zs=[Ks.FILL],Js=[Ks.STROKE],Qs=[Ks.BEGIN_PATH],ta=[Ks.CLOSE_PATH],ea=Ks,na=[Xs.POLYGON,Xs.CIRCLE,Xs.LINE_STRING,Xs.IMAGE,Xs.TEXT,Xs.DEFAULT],ia={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},ra=N(),oa=Jn(),sa=function(t){function e(e,n,i,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,s,a,u,c,h,l,p,f,d,g,v,y){var m,_,b,w,x=v||y,S=d+c>i.width?i.width-c:d,E=a+h>i.height?i.height-h:a,C=g[3]+S*p+g[1],T=g[0]+E*p+g[2],O=(e-=r*=p)-g[3],M=(n-=o*=p)-g[0];(x||0!==l)&&(m=[O,M],_=[O+C,M],b=[O+C,M+T],w=[O,M+T]);var I=null;if(0!==l){var R=e+r,P=n+o;I=si(oa,R,P,1,1,l,-R,-P),D(ra),$(ra,ii(oa,m)),$(ra,ii(oa,_)),$(ra,ii(oa,b)),$(ra,ii(oa,w))}else F(O,M,O+C,M+T,ra);var k=t.canvas,A=y?y[2]*p/2:0,L=ra[0]-A<=k.width&&ra[2]+A>=0&&ra[1]-A<=k.height&&ra[3]+A>=0;if(f&&(e=Math.round(e),n=Math.round(n)),s){if(!L&&1==s[4])return;U(s,ra);var j=L?[t,I?I.slice(0):null,u,i,c,h,S,E,e,n,p]:null;j&&x&&j.push(v,y,m,_,b,w),s.push(j)}else L&&(x&&this.replayTextBackground_(t,m,_,b,w,v,y),Is(t,I,u,i,c,h,S,E,e,n,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var u,c,h,l=[t[e],t[e+1]],p=[NaN,NaN],f=!0;for(u=e+i;u<n;u+=i)p[0]=t[u],p[1]=t[u+1],(h=j(a,p))!==c?(f&&(this.coordinates[s++]=l[0],this.coordinates[s++]=l[1]),this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],f=!1):h===O.INTERSECTING?(this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],f=!1):f=!0,l[0]=p[0],l[1]=p[1],c=h;return(r&&f||u===e+i)&&(this.coordinates[s++]=l[0],this.coordinates[s++]=l[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],u=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(u),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,u=t.getType(),c=t.getStride(),h=this.coordinates.length;if(u==Xt.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),s=[];var l=t.getEndss();a=0;for(var p=0,f=l.length;p<f;++p){var d=[];a=this.drawCustomCoordinates_(i,a,l[p],c,d),s.push(d)}this.instructions.push([ea.CUSTOM,h,s,t,n,Si])}else u==Xt.POLYGON||u==Xt.MULTI_LINE_STRING?(o=[],i=u==Xt.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),c,o),this.instructions.push([ea.CUSTOM,h,o,t,n,xi])):u==Xt.LINE_STRING||u==Xt.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,c,!1,!1),this.instructions.push([ea.CUSTOM,h,r,t,n,wi])):u==Xt.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),this.instructions.push([ea.CUSTOM,h,r=this.coordinates.length,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[ea.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ea.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=ii(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,Ms)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Pn&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Is.apply(void 0,s))}}t.length=5,D(t)}}},e.prototype.replay_=function(t,e,n,i,r,o,s){var a;this.pixelCoordinates_&&Ke(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=Kn(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),ni(this.renderedTransform_,e));for(var u,c,h,l,p,f,d,g,v,y,m,_,b=!vt(n),w=0,S=i.length,E=0,C=0,T=0,O=null,M=null,I=this.coordinateCache_,R=this.viewRotation_,P={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:R},k=this.instructions!=i||this.overlaps?0:200;w<S;){var A=i[w];switch(A[0]){case ea.BEGIN_GEOMETRY:y=A[1],b&&n[x(y)]||!y.getGeometry()?w=A[2]:void 0===s||it(s,y.getGeometry().getExtent())?++w:w=A[2]+1;break;case ea.BEGIN_PATH:C>k&&(this.fill_(t),C=0),T>k&&(t.stroke(),T=0),C||T||(t.beginPath(),l=p=NaN),++w;break;case ea.CIRCLE:var L=a[E=A[1]],j=a[E+1],N=a[E+2]-L,F=a[E+3]-j,D=Math.sqrt(N*N+F*F);t.moveTo(L+D,j),t.arc(L,j,D,0,2*Math.PI,!0),++w;break;case ea.CLOSE_PATH:t.closePath(),++w;break;case ea.CUSTOM:E=A[1],u=A[2];var G=A[4],z=6==A.length?A[5]:void 0;P.geometry=A[3],P.feature=y,w in I||(I[w]=[]);var U=I[w];z?z(a,E,u,2,U):(U[0]=a[E],U[1]=a[E+1],U.length=2),G(U,P),++w;break;case ea.DRAW_IMAGE:E=A[1],u=A[2],v=A[3],c=A[4],h=A[5],g=o?null:A[6];var $=A[7],B=A[8],V=A[9],H=A[10],W=A[12],q=A[13],X=A[14],Y=void 0,K=void 0,Z=void 0;for(A.length>16?(Y=A[15],K=A[16],Z=A[17]):(Y=ms,K=Z=!1),A[11]&&(W+=R);E<u;E+=2)this.replayImage_(t,a[E],a[E+1],v,c,h,g,$,B,V,H,W,q,r,X,Y,K?O:null,Z?M:null);this.renderDeclutter_(g,y),++w;break;case ea.DRAW_CHARS:var J=A[1],Q=A[2],tt=A[3];g=o?null:A[4];var et=A[5],nt=A[6],rt=A[7],ot=A[8],st=A[9],at=A[10],ut=A[11],ct=A[12],ht=A[13],lt=A[14],pt=Sr(a,J,Q,2),ft=ot(ct);if(et||ft<=pt){var dt=Ys(a,J,Q,2,ct,ot,(pt-ft)*ia[this.textStates[ht].textAlign],rt);if(dt){var gt=void 0,yt=void 0,mt=void 0,_t=void 0;if(at)for(gt=0,yt=dt.length;gt<yt;++gt)mt=this.getImage((_t=dt[gt])[4],ht,"",at),this.replayImage_(t,_t[0],_t[1],mt,c=_t[2]+ut,h=tt*mt.height+2*(.5-tt)*ut-st,g,mt.height,1,0,0,_t[3],lt,!1,mt.width,ms,null,null);if(nt)for(gt=0,yt=dt.length;gt<yt;++gt)mt=this.getImage((_t=dt[gt])[4],ht,nt,""),this.replayImage_(t,_t[0],_t[1],mt,c=_t[2],h=tt*mt.height-st,g,mt.height,1,0,0,_t[3],lt,!1,mt.width,ms,null,null)}}this.renderDeclutter_(g,y),++w;break;case ea.END_GEOMETRY:if(void 0!==o){var bt=o(y=A[1]);if(bt)return bt}++w;break;case ea.FILL:k?C++:this.fill_(t),++w;break;case ea.MOVE_TO_LINE_TO:for(u=A[2],d=(_=a[(E=A[1])+1])+.5|0,(f=(m=a[E])+.5|0)===l&&d===p||(t.moveTo(m,_),l=f,p=d),E+=2;E<u;E+=2)f=(m=a[E])+.5|0,d=(_=a[E+1])+.5|0,E!=u-2&&f===l&&d===p||(t.lineTo(m,_),l=f,p=d);++w;break;case ea.SET_FILL_STYLE:O=A,this.alignFill_=A[2],C&&(this.fill_(t),C=0,T&&(t.stroke(),T=0)),t.fillStyle=A[1],++w;break;case ea.SET_STROKE_STYLE:M=A,T&&(t.stroke(),T=0),this.setStrokeStyle_(t,A),++w;break;case ea.STROKE:k?T++:t.stroke(),++w;break;default:++w}}C&&this.fill_(t),T&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==ea.END_GEOMETRY?o=t:i==ea.BEGIN_GEOMETRY&&(n[2]=t,Xe(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Rs(i||gs)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Rs(r||ys);var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var s=e.getLineDash();n.lineDash=s?s.slice():vs;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:"round";var c=e.getWidth();n.lineWidth=void 0!==c?c:1;var h=e.getMiterLimit();n.miterLimit=void 0!==h?h:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[ea.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[ea.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Ke(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[ea.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=R(this.maxExtent),this.maxLineWidth>0&&I(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_)),this.bufferedMaxExtent_},e}(ks),aa=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([ea.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ea.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([ea.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([ea.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(sa),ua=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[ea.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ea.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Qs);var i=t.getFlatCoordinates(),r=t.getStride();this.drawFlatCoordinates_(i,0,i.length,r),this.hitDetectionInstructions.push(Js),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([ea.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Qs);for(var i=t.getEnds(),r=t.getFlatCoordinates(),o=t.getStride(),s=0,a=0,u=i.length;a<u;++a)s=this.drawFlatCoordinates_(r,s,i[a],o);this.hitDetectionInstructions.push(Js),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Js),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Js),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Qs)},e}(sa),ca=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=null!=r.strokeStyle,a=n.length;this.instructions.push(Qs),this.hitDetectionInstructions.push(Qs);for(var u=0;u<a;++u){var c=n[u],h=this.coordinates.length,l=this.appendFlatCoordinates(t,e,c,i,!0,!s),p=[ea.MOVE_TO_LINE_TO,h,l];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(ta),this.hitDetectionInstructions.push(ta)),e=c}return o&&(this.instructions.push(Zs),this.hitDetectionInstructions.push(Zs)),s&&(this.instructions.push(Js),this.hitDetectionInstructions.push(Js)),e},e.prototype.drawCircle=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([ea.SET_FILL_STYLE,ur(gs)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([ea.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length;this.appendFlatCoordinates(i,0,i.length,r,!1,!1);var s=[ea.CIRCLE,o];this.instructions.push(Qs,s),this.hitDetectionInstructions.push(Qs,s),this.hitDetectionInstructions.push(Zs),void 0!==n.fillStyle&&this.instructions.push(Zs),void 0!==n.strokeStyle&&(this.instructions.push(Js),this.hitDetectionInstructions.push(Js)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([ea.SET_FILL_STYLE,ur(gs)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([ea.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),r=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(r,0,i,o),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([ea.SET_FILL_STYLE,ur(gs)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([ea.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),r=t.getOrientedFlatCoordinates(),o=t.getStride(),s=0,a=0,u=i.length;a<u;++a)s=this.drawFlatCoordinatess_(r,s,i[a],o);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=Ci(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(sa);function ha(t,e,n,i,r){var o,s,a,u,c,h,l,p,f,d=n,g=n,v=0,y=0,m=n;for(o=n;o<i;o+=r){var _=e[o],b=e[o+1];void 0!==u&&(p=_-u,f=b-c,a=Math.sqrt(p*p+f*f),void 0!==h&&(y+=s,Math.acos((h*p+l*f)/(s*a))>t&&(y>v&&(v=y,d=m,g=o),y=0,m=o-r)),s=a,h=p,l=f),u=_,c=b}return(y+=a)>v?[m,o]:[d,g]}var la={Circle:ca,Default:sa,Image:aa,LineString:ua,Polygon:ca,Text:function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},_s.prune()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.drawText=function(t,e){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var i,r,o=this.coordinates.length,s=t.getType(),a=null,u=2,c=2;if("line"===n.placement){if(!it(this.getBufferedMaxExtent(),t.getExtent()))return;var h;if(a=t.getFlatCoordinates(),c=t.getStride(),s==Xt.LINE_STRING)h=[a.length];else if(s==Xt.MULTI_LINE_STRING)h=t.getEnds();else if(s==Xt.POLYGON)h=t.getEnds().slice(0,1);else if(s==Xt.MULTI_POLYGON){var l=t.getEndss();for(h=[],i=0,r=l.length;i<r;++i)h.push(l[i][0])}this.beginGeometry(t,e);for(var p,f=n.textAlign,d=0,g=0,v=h.length;g<v;++g){if(null==f){var y=ha(n.maxAngle,a,d,h[g],c);d=y[0],p=y[1]}else p=h[g];for(i=d;i<p;i+=c)this.coordinates.push(a[i],a[i+1]);d=h[g],this.drawChars_(o,u=this.coordinates.length,this.declutterGroup_),o=u}this.endGeometry(t,e)}else{var m=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),_=m.width/this.pixelRatio;switch(s){case Xt.POINT:case Xt.MULTI_POINT:u=(a=t.getFlatCoordinates()).length;break;case Xt.LINE_STRING:a=t.getFlatMidpoint();break;case Xt.CIRCLE:a=t.getCenter();break;case Xt.MULTI_LINE_STRING:u=(a=t.getFlatMidpoints()).length;break;case Xt.POLYGON:if(a=t.getFlatInteriorPoint(),!n.overflow&&a[2]/this.resolution<_)return;c=3;break;case Xt.MULTI_POLYGON:var b=t.getFlatInteriorPoints();for(a=[],i=0,r=b.length;i<r;i+=3)(n.overflow||b[i+2]/this.resolution>=_)&&a.push(b[i],b[i+1]);if(0==(u=a.length))return}u=this.appendFlatCoordinates(a,0,u,c,!1,!1),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(m,o,u),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio;if(!_s.containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,a=n?this.fillStates[n]||this.textFillState_:null,u=this.textStates[e]||this.textState_,c=u.scale*this.pixelRatio,h=ia[u.textAlign||"center"],l=i&&s.lineWidth?s.lineWidth:0,p=t.split("\n"),f=p.length,d=[],g=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=Ts(t,e[o]);r=Math.max(r,s),n.push(s)}return r}(u.font,p,d),v=Cs(u.font),y=v*f,m=Ar(Math.ceil((g+l)*c),Math.ceil((y+l)*c));_s.set(o,r=m.canvas),1!=c&&m.scale(c,c),m.font=u.font,i&&(m.strokeStyle=s.strokeStyle,m.lineWidth=l,m.lineCap=s.lineCap,m.lineJoin=s.lineJoin,m.miterLimit=s.miterLimit,Pn&&s.lineDash.length&&(m.setLineDash(s.lineDash),m.lineDashOffset=s.lineDashOffset)),n&&(m.fillStyle=a.fillStyle),m.textBaseline="middle",m.textAlign="center";var _,b=.5-h,w=h*r.width/c+b*l;if(i)for(_=0;_<f;++_)m.strokeText(p[_],w+b*d[_],.5*(l+v)+_*v);if(n)for(_=0;_<f;++_)m.fillText(p[_],w+b*d[_],.5*(l+v)+_*v)}return _s.get(o)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=ia[i.textAlign||"center"],a=ia[i.textBaseline],u=r&&r.lineWidth?r.lineWidth:0,c=s*t.width/o+2*(.5-s)*u,h=a*t.height/o+2*(.5-a)*u;this.instructions.push([ea.DRAW_IMAGE,e,n,t,(c-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==ms?ms:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([ea.DRAW_IMAGE,e,n,t,(c-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var u=this.fillKey_;o&&(u in this.fillStates||(this.fillStates[u]={fillStyle:o.fillStyle}));var c=this.pixelRatio,h=ia[r.textBaseline],l=this.textOffsetY_*c,p=this.text_,f=r.font,d=r.scale,g=i?i.lineWidth*d/2:0,v=this.widths_[f];v||(this.widths_[f]=v={}),this.instructions.push([ea.DRAW_CHARS,t,e,h,n,r.overflow,u,r.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Ts(f,t)),e*d*c},l,s,g*c,p,a,1]),this.hitDetectionInstructions.push([ea.DRAW_CHARS,t,e,h,n,r.overflow,u,r.maxAngle,function(t){var e=v[t];return e||(e=v[t]=Ts(f,t)),e*d},l,s,g,p,a,1/c])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroup_=e;var o=t.getFill();o?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=Rs(o.getColor()||gs)):i=this.textFillState_=null;var s=t.getStroke();if(s){(r=this.textStrokeState_)||(r=this.textStrokeState_={});var a=s.getLineDash(),u=s.getLineDashOffset(),c=s.getWidth(),h=s.getMiterLimit();r.lineCap=s.getLineCap()||"round",r.lineDash=a?a.slice():vs,r.lineDashOffset=void 0===u?0:u,r.lineJoin=s.getLineJoin()||"round",r.lineWidth=void 0===c?1:c,r.miterLimit=void 0===h?10:h,r.strokeStyle=Rs(s.getColor()||ys)}else r=this.textStrokeState_=null;n=this.textState_;var l=t.getFont()||"10px sans-serif";Ss(l);var p=t.getScale();n.overflow=t.getOverflow(),n.font=l,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ms,n.scale=void 0===p?1:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===v?0:v,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:x(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+x(i.fillStyle):""}else this.text_=""},e}(sa)},pa=function(t){function e(e,n,i,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Ar(1,1),this.hitDetectionTransform_=[1,0,0,1,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=[1/0,1/0,-1/0,-1/0]).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,u=2*(i=Math.round(i))+1,c=si(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),h=this.hitDetectionContext_;h.canvas.width!==u||h.canvas.height!==u?(h.canvas.width=u,h.canvas.height=u):h.clearRect(0,0,u,u),void 0!==this.renderBuffer_&&($(a=[1/0,1/0,-1/0,-1/0],t),I(a,e*(this.renderBuffer_+i),a));var l,p,f=function(t){if(void 0!==fa[t])return fa[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);for(var r=t,o=0,s=0;r>=o;)da(n,t+r,t+o),da(n,t+o,t+r),da(n,t-o,t+r),da(n,t-r,t+o),da(n,t-r,t-o),da(n,t-o,t-r),da(n,t+o,t-r),da(n,t+r,t-o),2*((s+=1+2*++o)-r)+1>0&&(s+=1-2*(r-=1));return fa[t]=n,n}(i);function d(t){for(var e=h.getImageData(0,0,u,u).data,n=0;n<u;n++)for(var i=0;i<u;i++)if(f[n][i]&&e[4*(i*u+n)+3]>0){var r=void 0;return(!l||p!=Xs.IMAGE&&p!=Xs.TEXT||-1!==l.indexOf(t))&&(r=o(t)),r||void h.clearRect(0,0,u,u)}}this.declutterTree_&&(l=this.declutterTree_.all().map(function(t){return t.value}));var g,v,y,m,_,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(We),g=b.length-1;g>=0;--g){var w=b[g].toString();for(y=this.replaysByZIndex_[w],v=na.length-1;v>=0;--v)if(void 0!==(m=y[p=na[v]]))if(!s||p!=Xs.IMAGE&&p!=Xs.TEXT){if(_=m.replayHitDetection(h,c,n,r,d,a))return _}else{var x=s[w];x?x.push(m,c.slice(0)):s[w]=[m,c.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Kn(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(this.replaysByZIndex_[n]=i={});var r=i[e];return void 0===r&&(r=new(0,la[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r),r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return vt(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(We),t.save(),this.clip(t,e);var u,c,h,l,p,f,d=o||na;for(u=0,c=a.length;u<c;++u){var g=a[u].toString();for(p=this.replaysByZIndex_[g],h=0,l=d.length;h<l;++h){var v=d[h];if(void 0!==(f=p[v]))if(!s||v!=Xs.IMAGE&&v!=Xs.TEXT)f.replay(t,e,n,i,r);else{var y=s[g];y?y.push(f,e.slice(0)):s[g]=[f,e.slice(0)]}}}t.restore()},e}(qs),fa={0:[[!0]]};function da(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}var ga=pa,va=.5,ya={Point:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Pr.LOADED)return;var o=t.getReplay(n.getZIndex(),Xs.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Xs.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),Xs.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Xs.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),Xs.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),Xs.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}},MultiPoint:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Pr.LOADED)return;var o=t.getReplay(n.getZIndex(),Xs.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Xs.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),Xs.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Xs.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),Xs.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),Xs.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r)(0,ya[s[r].getType()])(t,s[r],n,i)},Circle:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),Xs.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),Xs.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}}};function ma(t,e){return parseInt(x(t),10)-parseInt(x(e),10)}function _a(t,e){var n=ba(t,e);return n*n}function ba(t,e){return va*t/e}function wa(t,e,n,i,r,o){var s=!1,a=n.getImage();if(a){var u=a.getImageState();u==Pr.LOADED||u==Pr.ERROR?a.unlistenImageChange(r,o):(u==Pr.IDLE&&a.load(),u=a.getImageState(),a.listenImageChange(r,o),s=!0)}return function(t,e,n,i){var r=n.getGeometryFunction()(e);if(r){var o=r.getSimplifiedGeometry(i);n.getRenderer()?function t(e,n,i,r){if(n.getType()!=Xt.GEOMETRY_COLLECTION)e.getReplay(i.getZIndex(),Xs.DEFAULT).drawCustom(n,r,i.getRenderer());else for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,r)}(t,o,n,e):(0,ya[o.getType()])(t,o,n,e)}}(t,e,n,i),s}var xa=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?Hs()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=[1/0,1/0,-1/0,-1/0],this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Ar(),wt(_s,kt.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){St(_s,kt.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,u=s.rotation,c=a.getExtent(),h=this.getLayer().getSource(),l=this.getTransform(e,0),p=n.extent,f=void 0!==p;f&&this.clip(t,e,p);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,v=this.getLayer(),y=0,m=0,_=1!==n.opacity,b=v.hasListener("render");if(_||b){var w=t.canvas.width,x=t.canvas.height;if(u){var S=Math.round(Math.sqrt(w*w+x*x));y=(S-w)/2,m=(S-x)/2,w=x=S}this.context.canvas.width=w,this.context.canvas.height=x,g=this.context}else g=t;var E=g.globalAlpha;_||(g.globalAlpha=n.opacity),g!=t&&g.translate(y,m);var C=e.viewHints,T=!(C[0]||C[1]),O=e.size[0]*r,M=e.size[1]*r;if(Os(g,-u,O/2,M/2),d.replay(g,l,u,o,T),h.getWrapX()&&a.canWrapX()&&!A(c,i)){for(var I=i[0],R=nt(c),P=0;I<c[0];)l=this.getTransform(e,R*--P),d.replay(g,l,u,o,T),I+=R;for(P=0,I=i[2];I>c[2];)l=this.getTransform(e,R*++P),d.replay(g,l,u,o,T),I-=R}if(Os(g,u,O/2,M/2),b&&this.dispatchRenderEvent(g,e,l),g!=t){if(_){var k=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(g.canvas,-y,-m),t.globalAlpha=k}else t.drawImage(g.canvas,-y,-m);g.translate(-y,-m)}_||(g.globalAlpha=E)}f&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){if(this.replayGroup_){var o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=x(t);if(!(e in u))return u[e]=!0,i.call(r,t,a)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[0],o=t.viewHints[1],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var u=t.extent,c=t.viewState,h=c.projection,l=c.resolution,p=t.pixelRatio,f=n.getRevision(),d=n.getRenderBuffer(),g=n.getRenderOrder();void 0===g&&(g=ma);var v=I(u,d*l),y=c.projection.getExtent();if(i.getWrapX()&&c.projection.canWrapX()&&!A(y,t.extent)){var m=nt(y),_=Math.max(nt(v)/2,m);v[0]=y[0]-_,v[2]=y[2]+_}if(!this.dirty_&&this.renderedResolution_==l&&this.renderedRevision_==f&&this.renderedRenderOrder_==g&&A(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new ga(ba(l,p),v,l,p,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(v,l,h);var w=(function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,l)),e){var r=this.renderFeature(t,l,p,e,b);this.dirty_=this.dirty_||r}}).bind(this);if(g){var x=[];i.forEachFeatureInExtent(v,function(t){x.push(t)}),x.sort(g);for(var S=0,E=x.length;S<E;++S)w(x[S])}else i.forEachFeatureInExtent(v,w);return b.finish(),this.renderedResolution_=l,this.renderedRevision_=f,this.renderedRenderOrder_=g,this.renderedExtent_=v,this.replayGroup_=b,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=wa(r,t,i[s],_a(e,n),this.handleStyleImageChange_,this)||o;else o=wa(r,t,i,_a(e,n),this.handleStyleImageChange_,this);return o},e}(Ds);xa.handles=function(t){return t.getType()===ps.VECTOR},xa.create=function(t,e){return new xa(e)};var Sa=xa,Ea={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},Ca={image:[Xs.POLYGON,Xs.CIRCLE,Xs.LINE_STRING,Xs.IMAGE,Xs.TEXT],hybrid:[Xs.POLYGON,Xs.LINE_STRING]},Ta={image:[Xs.DEFAULT],hybrid:[Xs.IMAGE,Xs.TEXT,Xs.DEFAULT],vector:na},Oa=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?Hs()(9,void 0):null,this.dirty_=!1,this.tmpTransform_=[1,0,0,1,0,0];var n=e.getRenderMode();this.zDirection=n===Ea.VECTOR?1:0,n!==Ea.VECTOR&&(this.context=Ar()),wt(_s,kt.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){St(_s,kt.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var s=t.prototype.getTile.call(this,e,n,i,r,o);return s.getState()===st.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var u=r.getSource(),c=u.getTileGrid(),h=u.getTileGridForProjection(n).getResolution(t.tileCoord[0]),l=t.extent,p=function(o,p){var f=t.getTile(t.tileKeys[o]);if(f.getState()==st.LOADED){var d=c.getTileCoordExtent(f.tileCoord),g=Q(l,d),v=z(d,g)?null:I(g,r.getRenderBuffer()*h,i.tmpExtent),y=f.getProjection(),m=!1;Ce(n,y)||(m=!0,f.setProjection(n)),a.dirty=!1;var _=new ga(0,g,h,e,u.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),b=_a(h,e),w=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,h)),e){var i=this.renderFeature(t,b,e,_);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},x=f.getFeatures();s&&s!==a.renderedRenderOrder&&x.sort(s);for(var S=0,E=x.length;S<E;++S){var C=x[S];m&&(y.getUnits()==Qt.TILE_PIXELS&&(y.setWorldExtent(d),y.setExtent(f.getExtent())),C.getGeometry().transform(y,n)),v&&!it(v,C.getGeometry().getExtent())||w.call(i,C)}_.finish(),f.setReplayGroup(r,t.tileCoord.toString(),_)}},f=0,d=t.tileKeys.length;f<d;++f)p(f);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=e.viewState.resolution,s=e.viewState.rotation;n=null==n?0:n;var a,u,c,h,l=this.getLayer(),p={},f=this.renderedTiles;for(c=0,h=f.length;c<h;++c){var d=f[c];if(k(a=I(d.extent,n*o,a),t))for(var g=0,v=d.tileKeys.length;g<v;++g){var y=d.getTile(d.tileKeys[g]);if(y.getState()==st.LOADED){var m=y.getReplayGroup(l,d.tileCoord.toString());u=u||m.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=x(t);if(!(e in p))return p[e]=!0,i.call(r,t,l)},null)}}}return u},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,u=n.getTileCoordExtent(i,this.tmpExtent),c=o.center,h=tt(u),l=e.size,p=Math.round(s*l[0]/2),f=Math.round(s*l[1]/2);return si(this.tmpTransform_,p,f,r/a,r/a,o.rotation,(h[0]-c[0])/r,(c[1]-h[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=Ea.IMAGE){var s,a,u=r.getDeclutter()?{}:null,c=r.getSource(),h=Ta[o],l=n.pixelRatio,p=n.viewState.rotation,f=n.size;p&&Os(e,-p,s=Math.round(l*f[0]/2),a=Math.round(l*f[1]/2)),u&&this.declutterTree_.clear();for(var d=n.viewHints,g=!(d[0]||d[1]),v=this.renderedTiles,y=c.getTileGridForProjection(n.viewState.projection),m=[],_=[],b=v.length-1;b>=0;--b){var w=v[b];if(w.getState()!=st.ABORT)for(var x=w.tileCoord,S=y.getTileCoordExtent(x,this.tmpExtent)[0]-w.extent[0],E=void 0,C=0,T=w.tileKeys.length;C<T;++C){var O=w.getTile(w.tileKeys[C]);if(O.getState()==st.LOADED){var M=O.getReplayGroup(r,x.toString());if(M&&M.hasReplays(h)){E||(E=this.getTransform(n,S));var I=O.tileCoord[0],R=M.getClipCoords(E);e.save(),e.globalAlpha=i.opacity;for(var P=0,k=m.length;P<k;++P){var A=m[P];I<_[P]&&(e.beginPath(),e.moveTo(R[0],R[1]),e.lineTo(R[2],R[3]),e.lineTo(R[4],R[5]),e.lineTo(R[6],R[7]),e.moveTo(A[6],A[7]),e.lineTo(A[4],A[5]),e.lineTo(A[2],A[3]),e.lineTo(A[0],A[1]),e.clip())}M.replay(e,E,p,{},g,h,u),e.restore(),m.push(R),_.push(I)}}}}u&&function(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(We),o={},s=0,a=r.length;s<a;++s)for(var u=t[r[s].toString()],c=0,h=u.length;c<h;){var l=u[c++],p=u[c++];l.replay(e,p,n,o,i)}}(u,e,p,g),p&&Os(e,p,s,a)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)r=wa(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=wa(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),s=Ca[i.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,u=a[0],c=i.getSource(),h=c.getTileGridForProjection(n),l=h.getResolution(u),p=t.getContext(i),f=c.getTilePixelSize(u,e,n);p.canvas.width=f[0],p.canvas.height=f[1];for(var d=h.getTileCoordExtent(a,this.tmpExtent),g=0,v=t.tileKeys.length;g<v;++g){var y=t.getTile(t.tileKeys[g]);if(y.getState()==st.LOADED){var m=e/l,_=Qn(this.tmpTransform_);ri(_,m,-m),oi(_,-d[0],-d[3]),y.getReplayGroup(i,t.tileCoord.toString()).replay(p,_,0,{},!0,s)}}}},e}(Bs);Oa.handles=function(t){return t.getType()===ps.VECTOR_TILE},Oa.create=function(t,e){return new Oa(e)};var Ma=Oa,Ia=function(t){function e(e){(e=ft({},e)).controls||(e.controls=function(t){var e={},n=new ln;return(void 0===e.zoom||e.zoom)&&n.push(new cs(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new us(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new ss(e.attributionOptions)),n}()),e.interactions||(e.interactions=ir()),t.call(this,e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createRenderer=function(){var t=new Fs(this);return t.registerLayerRenderers([Us,Bs,Sa,Ma]),t},e}(Yo),Ra={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Pa={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},ka=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Jo,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,wt(this,Fe(Pa.ELEMENT),this.handleElementChanged,this),wt(this,Fe(Pa.MAP),this.handleMapChanged,this),wt(this,Fe(Pa.OFFSET),this.handleOffsetChanged,this),wt(this,Fe(Pa.POSITION),this.handlePositionChanged,this),wt(this,Fe(Pa.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:Ra.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getElement=function(){return this.get(Pa.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(Pa.MAP)},e.prototype.getOffset=function(){return this.get(Pa.OFFSET)},e.prototype.getPosition=function(){return this.get(Pa.POSITION)},e.prototype.getPositioning=function(){return this.get(Pa.POSITIONING)},e.prototype.handleElementChanged=function(){Dr(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Fr(this.element),Et(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=wt(t,"postrender",this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(Pa.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(Pa.ELEMENT,t)},e.prototype.setMap=function(t){this.set(Pa.MAP,t)},e.prototype.setOffset=function(t){this.set(Pa.OFFSET,t)},e.prototype.setPosition=function(t){this.set(Pa.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Lr(n),jr(n)]),r=this.autoPanMargin;if(!A(e,i)){var o=i[0]-e[0],s=e[2]-i[2],a=i[1]-e[1],u=e[3]-i[3],c=[0,0];if(o<0?c[0]=o-r:s<0&&(c[0]=Math.abs(s)+r),a<0?c[1]=a-r:u<0&&(c[1]=Math.abs(u)+r),0!==c[0]||0!==c[1]){var h=t.getView().getCenter(),l=t.getPixelFromCoordinate(h),p=[l[0]+c[0],l[1]+c[1]];t.getView().animate({center:t.getCoordinateFromPixel(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(Pa.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=i[0],s=i[1];if(r==Ra.BOTTOM_RIGHT||r==Ra.CENTER_RIGHT||r==Ra.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var a=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=a&&(this.rendered.right_=n.right=a)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=Ra.BOTTOM_CENTER&&r!=Ra.CENTER_CENTER&&r!=Ra.TOP_CENTER||(o-=this.element.offsetWidth/2);var u=Math.round(t[0]+o)+"px";this.rendered.left_!=u&&(this.rendered.left_=n.left=u)}if(r==Ra.BOTTOM_LEFT||r==Ra.BOTTOM_CENTER||r==Ra.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var c=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=Ra.CENTER_LEFT&&r!=Ra.CENTER_CENTER&&r!=Ra.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_=n.top=h)}},e.prototype.getOptions=function(){return this.options},e}(De),Aa="units",La={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},ja=[1,2,5];function Na(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var Fa=function(t){function e(e){var n=e||{},i=void 0!==n.className?n.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:n.render||Na,target:n.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+Qo,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==n.minWidth?n.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",wt(this,Fe(Aa),this.handleUnitsChanged_,this),this.setUnits(n.units||La.METRIC)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getUnits=function(){return this.get(Aa)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(Aa,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),r=i==La.DEGREES?Qt.DEGREES:Qt.METERS,o=xe(n,t.resolution,e,r);n.getUnits()!=Qt.DEGREES&&n.getMetersPerUnit()&&r==Qt.METERS&&(o*=n.getMetersPerUnit());var s=this.minWidth_*o,a="";if(i==La.DEGREES){var u=Jt[Qt.DEGREES];n.getUnits()==Qt.DEGREES?s*=u:o/=u,s<u/60?(a="\u2033",o*=3600):s<u?(a="\u2032",o*=60):a="\xb0"}else i==La.IMPERIAL?s<.9144?(a="in",o/=.0254):s<1609.344?(a="ft",o/=.3048):(a="mi",o/=1609.344):i==La.NAUTICAL?(o/=1852,a="nm"):i==La.METRIC?s<.001?(a="\u03bcm",o*=1e6):s<1?(a="mm",o*=1e3):s<1e3?a="m":(a="km",o/=1e3):i==La.US?s<.9144?(a="in",o*=39.37):s<1609.344?(a="ft",o/=.30480061):(a="mi",o/=1609.3472):C(!1,33);for(var c,h,l=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){if(c=ja[(l%3+3)%3]*Math.pow(10,Math.floor(l/3)),h=Math.round(c/o),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(h>=this.minWidth_)break;++l}var p=c+" "+a;this.renderedHTML_!=p&&(this.innerElement_.innerHTML=p,this.renderedHTML_=p),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(Ko),Da=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};Da.prototype.clone=function(){var t=this.getColor();return new Da({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},Da.prototype.getColor=function(){return this.color_},Da.prototype.getLineCap=function(){return this.lineCap_},Da.prototype.getLineDash=function(){return this.lineDash_},Da.prototype.getLineDashOffset=function(){return this.lineDashOffset_},Da.prototype.getLineJoin=function(){return this.lineJoin_},Da.prototype.getMiterLimit=function(){return this.miterLimit_},Da.prototype.getWidth=function(){return this.width_},Da.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},Da.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},Da.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},Da.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},Da.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},Da.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},Da.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},Da.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.checksum_+=this.color_?"string"==typeof this.color_?this.color_:x(this.color_):"-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var Ga=Da,za=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(function(t){function e(e){t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return Pr.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",r="",o=0,s=null,a=0,u=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=ys),n=Rs(n),void 0===(u=this.stroke_.getWidth())&&(u=1),s=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),Pn||(s=null,a=0),void 0===(r=this.stroke_.getLineJoin())&&(r="round"),void 0===(i=this.stroke_.getLineCap())&&(i="round"),void 0===(o=this.stroke_.getMiterLimit())&&(o=10));var c=2*(this.radius_+u)+1,h={strokeStyle:n,strokeWidth:u,size:c,lineCap:i,lineDash:s,lineDashOffset:a,lineJoin:r,miterLimit:o};if(void 0===t){var l=Ar(c,c);this.canvas_=l.canvas,e=c=this.canvas_.width,this.draw_(h,l,0,0),this.createHitDetectionCanvas_(h)}else{c=Math.round(c);var p,f=!this.fill_;f&&(p=this.drawHitDetectionCanvas_.bind(this,h));var d=this.getChecksum(),g=t.add(d,c,c,this.draw_.bind(this,h),p);this.canvas_=g.image,this.origin_=[g.offsetX,g.offsetY],e=g.image.width,f?(this.hitDetectionCanvas_=g.hitImage,this.hitDetectionImageSize_=[g.hitImage.width,g.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[c/2,c/2],this.size_=[c,c],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var r,o,s;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var a=this.points_;if(a===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(a*=2),r=0;r<=a;r++)o=2*r*Math.PI/a-Math.PI/2+this.angle_,e.lineTo(t.size/2+(s=r%2==0?this.radius_:u)*Math.cos(o),t.size/2+s*Math.sin(o))}if(this.fill_){var c=this.fill_.getColor();null===c&&(c=gs),e.fillStyle=Rs(c),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Ar(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o,s,a,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(r*=2),o=0;o<=r;o++)a=2*o*Math.PI/r-Math.PI/2+this.angle_,e.lineTo(t.size/2+(s=o%2==0?this.radius_:u)*Math.cos(a),t.size/2+s*Math.sin(a))}e.fillStyle=ur(gs),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(Hr)),Ua=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Va,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};Ua.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new Ua({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},Ua.prototype.getRenderer=function(){return this.renderer_},Ua.prototype.setRenderer=function(t){this.renderer_=t},Ua.prototype.getGeometry=function(){return this.geometry_},Ua.prototype.getGeometryFunction=function(){return this.geometryFunction_},Ua.prototype.getFill=function(){return this.fill_},Ua.prototype.setFill=function(t){this.fill_=t},Ua.prototype.getImage=function(){return this.image_},Ua.prototype.setImage=function(t){this.image_=t},Ua.prototype.getStroke=function(){return this.stroke_},Ua.prototype.setStroke=function(t){this.stroke_=t},Ua.prototype.getText=function(){return this.text_},Ua.prototype.setText=function(t){this.text_=t},Ua.prototype.getZIndex=function(){return this.zIndex_},Ua.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Va,this.geometry_=t},Ua.prototype.setZIndex=function(t){this.zIndex_=t};var $a=null;function Ba(t,e){if(!$a){var n=new fr({color:"rgba(255,255,255,0.4)"}),i=new Ga({color:"#3399CC",width:1.25});$a=[new Ua({image:new za({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return $a}function Va(t){return t.getGeometry()}var Ha=Ua;function Wa(){var t=Ar(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var qa=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,s),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.state==st.LOADING&&(this.unlistenImage_(),this.image_=Wa()),this.interimTile&&this.interimTile.dispose(),this.state=st.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=st.ERROR,this.unlistenImage_(),this.image_=Wa(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?st.LOADED:st.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==st.ERROR&&(this.state=st.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==st.IDLE&&(this.state=st.LOADING,this.changed(),this.imageListenerKeys_=[xt(this.image_,kt.ERROR,this.handleImageError_,this),xt(this.image_,kt.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(Et),this.imageListenerKeys_=null},e}(At);function Xa(t,e,n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);return[Math.round(n+r/s),Math.round(i+o/s)]}var Ya=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},s=Oe(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&nt(i)==nt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?nt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?nt(this.targetProj_.getExtent()):null;var a=tt(n),u=et(n),c=X(n),h=q(n),l=this.transformInv_(a),p=this.transformInv_(u),f=this.transformInv_(c),d=this.transformInv_(h);if(this.addQuad_(a,u,c,h,l,p,f,d,10),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}).bind(this))}o={}};Ya.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},Ya.prototype.addQuad_=function(t,e,n,i,r,o,s,a,u){var c=M([r,o,s,a]),h=this.sourceWorldWidth_?nt(c)/this.sourceWorldWidth_:null,l=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1,f=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=nt(M([t,e,n,i]))/this.targetWorldWidth_>.25||f),!p&&this.sourceProj_.isGlobal()&&h&&(f=h>.25||f)),f||!this.maxSourceExtent_||it(c,this.maxSourceExtent_)){if(!(f||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(u>0))return;f=!0}if(u>0){if(!f){var d,g=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);d=p?(Gt(r[0],l)+Gt(s[0],l))/2-Gt(g[0],l):(r[0]+s[0])/2-g[0];var v=(r[1]+s[1])/2-g[1];f=d*d+v*v>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this.transformInv_(y),_=[(i[0]+t[0])/2,(i[1]+t[1])/2],b=this.transformInv_(_);this.addQuad_(t,e,y,_,r,o,m,b,u-1),this.addQuad_(_,y,n,i,b,m,s,a,u-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],x=this.transformInv_(w),S=[(n[0]+i[0])/2,(n[1]+i[1])/2],E=this.transformInv_(S);this.addQuad_(t,w,S,i,r,x,E,a,u-1),this.addQuad_(w,e,n,S,x,o,s,E,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,s,a),this.addTriangle_(t,e,n,r,o,s)}},Ya.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var r=e.source;$(t,r[0]),$(t,r[1]),$(t,r[2])}),t},Ya.prototype.getTriangles=function(){return this.triangles_};var Ka=Ya,Za=function(t){function e(e,n,i,r,o,s,a,u,c,h,l){t.call(this,o,st.IDLE),this.renderEdges_=void 0!==l&&l,this.pixelRatio_=a,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var p=r.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent(),d=this.sourceTileGrid_.getExtent(),g=f?Q(p,f):p;if(0!==W(g)){var v=e.getExtent();v&&(d=d?Q(d,v):v);var y=r.getResolution(this.wrappedTileCoord_[0]),m=function(t,e,n,i){var r=Me(n,e,t),o=xe(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var u=t.getExtent();if(!u||k(u,r)){var c=xe(t,o,r)/o;isFinite(c)&&c>0&&(o/=c)}return o}(e,i,Y(g),y);if(!isFinite(m)||m<=0)this.state=st.EMPTY;else if(this.triangulation_=new Ka(e,i,g,d,m*(void 0!==h?h:hs)),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(m);var _=this.triangulation_.calculateSourceExtent();if(d&&(e.canWrapX()?(_[1]=Lt(_[1],d[1],d[3]),_[3]=Lt(_[3],d[1],d[3])):_=Q(_,d)),W(_)){for(var b=n.getTileRangeForExtentAndZ(_,this.sourceZ_),w=b.minX;w<=b.maxX;w++)for(var x=b.minY;x<=b.maxY;x++){var S=c(this.sourceZ_,w,x,a);S&&this.sourceTiles_.push(S)}0===this.sourceTiles_.length&&(this.state=st.EMPTY)}else this.state=st.EMPTY}else this.state=st.EMPTY}else this.state=st.EMPTY}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.disposeInternal=function(){this.state==st.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(e,n,i){e&&e.getState()==st.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=st.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,o,s,a,u,c,h){var l=Ar(Math.round(n*t),Math.round(n*e));if(0===u.length)return l.canvas;l.scale(n,n);var p=[1/0,1/0,-1/0,-1/0];u.forEach(function(t,e,n){U(p,t.extent)});var f=nt(p),d=J(p),g=Ar(Math.round(n*f/i),Math.round(n*d/i)),v=n/i;u.forEach(function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),o=nt(t.extent),s=J(t.extent);g.drawImage(t.image,c,c,t.image.width-2*c,t.image.height-2*c,i*v,r*v,o*v,s*v)});var y=tt(s);return a.getTriangles().forEach(function(t,e,r){var s=t.source,a=t.target,u=s[0][0],c=s[0][1],h=s[1][0],f=s[1][1],d=s[2][0],v=s[2][1],m=(a[0][0]-y[0])/o,_=-(a[0][1]-y[1])/o,b=(a[1][0]-y[0])/o,w=-(a[1][1]-y[1])/o,x=(a[2][0]-y[0])/o,S=-(a[2][1]-y[1])/o,E=u,C=c;u=0,c=0;var T=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var c=-t[u][n]/t[n][n],h=n;h<e+1;h++)n==h?t[u][h]=0:t[u][h]+=c*t[n][h]}for(var l=new Array(e),p=e-1;p>=0;p--){l[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*l[p]}return l}([[h-=E,f-=C,0,0,b-m],[d-=E,v-=C,0,0,x-m],[0,0,h,f,w-_],[0,0,d,v,S-_]]);if(T){l.save(),l.beginPath();var O=(m+b+x)/3,M=(_+w+S)/3,I=Xa(O,M,m,_),R=Xa(O,M,b,w),P=Xa(O,M,x,S);l.moveTo(R[0],R[1]),l.lineTo(I[0],I[1]),l.lineTo(P[0],P[1]),l.clip(),l.transform(T[0],T[2],T[1],T[3],m,_),l.translate(p[0]-E,p[3]-C),l.scale(i/n,-i/n),l.drawImage(g.canvas,0,0),l.restore()}}),h&&(l.save(),l.strokeStyle="black",l.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-y[0])/o,s=-(i[0][1]-y[1])/o,a=(i[1][0]-y[0])/o,u=-(i[1][1]-y[1])/o,c=(i[2][0]-y[0])/o,h=-(i[2][1]-y[1])/o;l.beginPath(),l.moveTo(a,u),l.lineTo(r,s),l.lineTo(c,h),l.closePath(),l.stroke()}),l.restore()),l.canvas}(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=st.LOADED}this.changed()},e.prototype.load=function(){if(this.state==st.IDLE){this.state=st.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,i){var r=e.getState();if(r==st.IDLE||r==st.LOADING){t++;var o=wt(e,kt.CHANGE,function(n){var i=e.getState();i!=st.LOADED&&i!=st.ERROR&&i!=st.EMPTY||(Et(o),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}).bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==st.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Et),this.sourcesListenerKeys_=null},e}(At);function Ja(t,e){t.getImage().src=e}var Qa=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ja,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:qa,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ce(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Ce(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Ce(e,t)){var n=x(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=tn(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ce(e,t))return this.tileCache;var n=x(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new ke(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,o){var s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,r),u=a?this.tileUrlFunction(a,i,r):void 0,c=new this.tileClass(s,void 0!==u?st.IDLE:st.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,wt(c,kt.CHANGE,this.handleTileChange,this),c},e.prototype.getTile=function(t,e,n,i,r){var o=this.getProjection();if(o&&r&&!Ce(o,r)){var s,a=this.getTileCacheForProjection(r),u=[t,e,n],c=Bt(u);a.containsKey(c)&&(s=a.get(c));var h=this.getKey();if(s&&s.key==h)return s;var l=this.getTileGridForProjection(o),p=this.getTileGridForProjection(r),f=this.getTileCoordForTileUrlFunction(u,r),d=new Za(o,l,r,p,u,f,this.getTilePixelRatio(i),this.getGutter(),(function(t,e,n,i){return this.getTileInternal(t,e,n,i,o)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=h,s?(d.interimTile=s,d.refreshInterimChain(),a.replace(c,d)):a.set(c,d),d}return this.getTileInternal(t,e,n,i,o||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var o=null,s=$t(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if((o=this.tileCache.get(s)).key!=a){var u=o;(o=this.createTile_(t,e,n,i,r,a)).interimTile=u.getState()==st.IDLE?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,i,r,a),this.tileCache.set(s,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=we(t);if(n){var i=x(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):Wt,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=x(n),r=n.getState();r==st.LOADING?(this.tileLoadingKeys_[i]=!0,e="tileloadstart"):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=r==st.ERROR?"tileloaderror":r==st.LOADED||r==st.ABORT?"tileloadend":void 0),null!=e&&this.dispatchEvent(new sn(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Ht(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=$t(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(an)),tu=function(t){function e(e){if(t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:we("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:Re.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition}),this.tileJSON_=null,e.url)if(e.jsonp)qt(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{var n=new XMLHttpRequest;n.addEventListener("load",this.onXHRLoad_.bind(this)),n.addEventListener("error",this.onXHRError_.bind(this)),n.open("GET",e.url),n.send()}else e.tileJSON?this.handleTileJSONResponse(e.tileJSON):C(!1,51)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n;try{n=JSON.parse(e.responseText)}catch(i){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,n=we("EPSG:4326"),i=this.getProjection();if(void 0!==t.bounds){var r=Te(n,i);e=ot(t.bounds,r)}var o=t.minzoom||0,s=t.maxzoom||22,a=en({extent:rn(i),maxZoom:s,minZoom:o});if(this.tileGrid=a,this.tileUrlFunction=Ht(t.tiles,a),void 0!==t.attribution&&!this.getAttributions()){var u=void 0!==e?e:n.getExtent();this.setAttributions(function(e){return it(u,e.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState(Re.READY)},e.prototype.handleTileJSONError=function(){this.setState(Re.ERROR)},e}(Qa),eu=function(t){function e(e){var n=e||{},i=ft({},n);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=ps.TILE}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getPreload=function(){return this.get("preload")},e.prototype.setPreload=function(t){this.set("preload",t)},e.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},e.prototype.setUseInterimTilesOnError=function(t){this.set("useInterimTilesOnError",t)},e}(rs),nu=function(t){function e(e){var n=e||{},i=ft({},n);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,t.call(this,i),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||fs.VECTOR,this.type=ps.VECTOR}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get("renderOrder")},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},e.prototype.setStyle=function(t){var e,n,i;this.style_=void 0!==t?t:Ba,this.styleFunction_=null===t?void 0:("function"==typeof(e=this.style_)?n=e:(Array.isArray(e)?i=e:(C("function"==typeof e.getZIndex,41),i=[e]),n=function(){return i}),n),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(rs);function iu(t,e){return[[-1/0,-1/0,1/0,1/0]]}var ru=function(t){this.rbush_=Hs()(t,void 0),this.items_={}};ru.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[x(e)]=n},ru.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],s=e[i],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=a,this.items_[x(s)]=a}this.rbush_.load(n)},ru.prototype.remove=function(t){var e=x(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},ru.prototype.update=function(t,e){var n=this.items_[x(e)];z([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},ru.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},ru.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})},ru.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},ru.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},ru.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},ru.prototype.isEmpty=function(){return vt(this.items_)},ru.prototype.clear=function(){this.rbush_.clear(),this.items_={}},ru.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return F(e.minX,e.minY,e.maxX,e.maxY,t)},ru.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var ou=ru,su=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Rt),au=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:Re.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=Ot,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(C(this.format_,7),this.loader_=function(t,e,n,i){return function(n,r,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,r,o):t,!0),e.getType()==vr.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.onload=(function(t){if(!s.status||s.status>=200&&s.status<300){var n,r=e.getType();r==vr.JSON||r==vr.TEXT?n=s.responseText:r==vr.XML?(n=s.responseXML)||(n=(new DOMParser).parseFromString(s.responseText,"application/xml")):r==vr.ARRAY_BUFFER&&(n=s.response),n?(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}).call(this,e.readFeatures(n,{featureProjection:o}),e.readProjection(n),e.getLastExtent()):i.call(this)}else i.call(this)}).bind(this),s.onerror=(function(){i.call(this)}).bind(this),s.send()}}(this.url_,this.format_,0,Ot)),this.strategy_=void 0!==n.strategy?n.strategy:iu;var i,r,o=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=o?new ou:null,this.loadedExtentsRtree_=new ou,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?r=n.features:n.features&&(r=(i=n.features).getArray()),o||void 0!==i||(i=new ln(r)),void 0!==r&&this.addFeaturesInternal(r),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=x(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new su("addfeature",t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[wt(e,kt.CHANGE,this.handleFeatureChange_,this),wt(e,"propertychange",this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(C(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=x(s);this.addToIndex_(a,s)&&n.push(s)}for(var u=0,c=n.length;u<c;u++){var h=n[u],l=x(h);this.setupChangeEvents_(l,h);var p=h.getGeometry();if(p){var f=p.getExtent();e.push(f),i.push(h)}else this.nullGeometryFeatures_[l]=h}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(var d=0,g=n.length;d<g;d++)this.dispatchEvent(new su("addfeature",n[d]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;wt(this,"addfeature",function(n){e||(e=!0,t.push(n.feature),e=!1)}),wt(this,"removefeature",function(n){e||(e=!0,t.remove(n.feature),e=!1)}),wt(t,cn.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),wt(t,cn.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Et);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new su("clear");this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),vt(this.nullGeometryFeatures_)||Ye(t,gt(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=e||Ct;return this.featuresRtree_.forEachInExtent(a,function(t){if(u(t)){var e=t.getGeometry(),c=s;if((s=e.closestPointXY(n,i,o,s))<c){r=t;var h=Math.sqrt(s);a[0]=n-h,a[1]=i-h,a[2]=n+h,a[3]=i+h}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=x(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var s=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new su("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:x(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&vt(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];r.forEachInExtent(a,function(t){return A(t.extent,a)})||(i.loader_.call(i,a,e,n),r.insert(a,{extent:a.slice()}),i.loading=i.loader_!==Ot)},a=0,u=o.length;a<u;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(z(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=x(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=x(t);this.featureChangeKeys_[e].forEach(Et),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new su("removefeature",t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(ze),uu=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:en({extent:rn(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Qa),cu=1,hu=2,lu=484813681109536e-20,pu=Math.PI/2,fu=.16666666666666666,du=.04722222222222222,gu=.022156084656084655,vu=1e-10,yu=.017453292519943295,mu=57.29577951308232,_u=Math.PI/4,bu=2*Math.PI,wu=3.14159265359,xu={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},Su={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Eu=/[\s_\-\/\(\)]/g;function Cu(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(Eu,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(Eu,"")===r)return t[n]}var Tu=function(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*yu},lat_1:function(t){r.lat1=t*yu},lat_2:function(t){r.lat2=t*yu},lat_ts:function(t){r.lat_ts=t*yu},lon_0:function(t){r.long0=t*yu},lon_1:function(t){r.long1=t*yu},lon_2:function(t){r.long2=t*yu},alpha:function(t){r.alpha=parseFloat(t)*yu},lonc:function(t){r.longc=t*yu},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=Cu(Su,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*yu},pm:function(t){var e=Cu(xu,t);r.from_greenwich=(e||parseFloat(t))*yu},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in o)n=o[e],e in s?"function"==typeof(i=s[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},Ou=1,Mu=/\s/,Iu=/[A-Za-z]/,Ru=/[A-Za-z84]/,Pu=/[,\]]/,ku=/[\d\.E\-\+]/;function Au(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Ou}function Lu(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=n.reduce(function(t,e){return ju(e,t),t},e?{}:t);e&&(t[e]=i)}function ju(t,e){if(Array.isArray(t)){var n,i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void ju(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i)switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&ju(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&ju(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void Lu(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return ju(t,e[i]);return Lu(e,i,t)}else e[i]=t;else e[i]=!0}else e[t]=!0}Au.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;Mu.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Ou:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},Au.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(Pu.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},Au.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Ou)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Ou,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Au.prototype.number=function(t){if(!ku.test(t)){if(Pu.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},Au.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},Au.prototype.keyword=function(t){if(Ru.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=Ou)}if(!Pu.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},Au.prototype.neutral=function(t){if(Iu.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(ku.test(t))return this.word=t,void(this.state=3);if(!Pu.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},Au.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Nu=.017453292519943295;function Fu(t){return t*Nu}var Du=function(t){var e=new Au(t).output(),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return ju(e,r),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(t.datumCode=e.DATUM?e.DATUM.name.toLowerCase():e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Fu],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Fu],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",Fu],["lat0","latitude_of_origin",Fu],["lat0","standard_parallel_1",Fu],["lat1","standard_parallel_1",Fu],["lat2","standard_parallel_2",Fu],["azimuth","Azimuth"],["alpha","azimuth",Fu],["srsCode","name"]].forEach(function(e){return o=(i=e)[1],void(!((r=i[0])in(n=t))&&o in n&&(n[r]=n[o],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,o}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=Fu(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function Gu(t){var e=this;if(2===arguments.length){var n=arguments[1];Gu[t]="string"==typeof n?"+"===n.charAt(0)?Tu(arguments[1]):Du(arguments[1]):n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?Gu.apply(e,t):Gu(t)});if("string"==typeof t){if(t in Gu)return Gu[t]}else"EPSG"in t?Gu["EPSG:"+t.EPSG]=t:"ESRI"in t?Gu["ESRI:"+t.ESRI]=t:"IAU2000"in t?Gu["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(Gu);var zu=Gu,Uu=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],$u=["3857","900913","3785","102113"],Bu=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in zu}(t))return zu[t];if(function(t){return Uu.some(function(e){return t.indexOf(e)>-1})}(t)){var e=Du(t);if(function(t){var n=Cu(e,"authority");if(n){var i=Cu(n,"epsg");return i&&$u.indexOf(i)>-1}}())return zu["EPSG:3857"];var n=function(t){var n=Cu(e,"extension");if(n)return Cu(n,"proj4")}();return n?Tu(n):e}return function(t){return"+"===t[0]}(t)?Tu(t):void 0},Vu=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},Hu=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},Wu=function(t){return t<0?-1:1},qu=function(t){return Math.abs(t)<=wu?t:t-Wu(t)*bu},Xu=function(t,e,n){var i=t*n;return i=Math.pow((1-i)/(1+i),.5*t),Math.tan(.5*(pu-e))/i},Yu=function(t,e){for(var n,i,r=.5*t,o=pu-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=i=pu-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999};function Ku(t){return t}var Zu=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):Hu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*mu>90&&r*mu<-90&&i*mu>180&&i*mu<-180)return null;if(Math.abs(Math.abs(r)-pu)<=vu)return null;if(this.sphere)e=this.x0+this.a*this.k0*qu(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(_u+.5*r));else{var o=Math.sin(r),s=Xu(this.e,r,o);e=this.x0+this.a*this.k0*qu(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=pu-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=Yu(this.e,o)))return null}return e=qu(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:Ku,inverse:Ku,names:["longlat","identity"]}],Ju={},Qu=[];function tc(t,e){var n=Qu.length;return t.names?(Qu[n]=t,t.names.forEach(function(t){Ju[t.toLowerCase()]=n}),this):(console.log(e),!0)}var ec={start:function(){Zu.forEach(tc)},add:tc,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==Ju[e]&&Qu[Ju[e]]?Qu[Ju[e]]:void 0}},nc={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},ic=nc.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};nc.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var rc={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},oc=function(t,e,n,i,r,o){var s={};return s.datum_type=void 0===t||"none"===t?5:4,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=cu),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=hu,s.datum_params[3]*=lu,s.datum_params[4]*=lu,s.datum_params[5]*=lu,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=i,s.es=r,s.ep2=o,s};function sc(t,e){if(!(this instanceof sc))return new sc(t);e=e||function(t){if(t)throw t};var n=Bu(t);if("object"==typeof n){var i=sc.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=Cu(rc,n.datumCode);r&&(n.datum_params=r.towgs84?r.towgs84.split(","):null,n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o,s,a,u,c,h,l=function(t,e,i,r,o){if(!t){var s=Cu(nc,n.ellps);s||(s=ic),t=s.a,e=s.b,i=s.rf}return i&&!e&&(e=(1-1/i)*t),(0===i||Math.abs(t-e)<vu)&&(o=!0,e=t),{a:t,b:e,rf:i,sphere:o}}(n.a,n.b,n.rf,0,n.sphere),p=(c=((a=(o=l.a)*o)-(u=(s=l.b)*s))/a,h=0,n.R_A?(a=(o*=1-c*(fu+c*(du+c*gu)))*o,c=0):h=Math.sqrt(c),{es:c,e:h,ep2:(a-u)/u}),f=n.datum||oc(n.datumCode,n.datum_params,l.a,l.b,p.es,p.ep2);Vu(this,n),Vu(this,i),this.a=l.a,this.b=l.b,this.rf=l.rf,this.sphere=l.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=f,this.init(),e(null,this)}else e(t)}else e(t)}(sc.projections=ec).start();var ac=sc;function uc(t){return t===cu||t===hu}var cc=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===cu?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==hu||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:5===t.datum_type||5===e.datum_type?n:t.es!==e.es||t.a!==e.a||uc(t.datum_type)||uc(e.datum_type)?(n=function(t,e,i){var r,o,s,a=n.x,u=n.y,c=n.z?n.z:0;if(u<-pu&&u>-1.001*pu)u=-pu;else if(u>pu&&u<1.001*pu)u=pu;else{if(u<-pu)return{x:-1/0,y:-1/0,z:n.z};if(u>pu)return{x:1/0,y:1/0,z:n.z}}return a>Math.PI&&(a-=2*Math.PI),o=Math.sin(u),s=Math.cos(u),{x:((r=i/Math.sqrt(1-e*(o*o)))+c)*s*Math.cos(a),y:(r+c)*s*Math.sin(a),z:(r*(1-e)+c)*o}}(0,t.es,t.a),uc(t.datum_type)&&(n=function(t,e,i){if(e===cu)return{x:n.x+i[0],y:n.y+i[1],z:n.z+i[2]};if(e===hu){var r=i[3],o=i[4],s=i[5],a=i[6];return{x:a*(n.x-s*n.y+o*n.z)+i[0],y:a*(s*n.x+n.y-r*n.z)+i[1],z:a*(-o*n.x+r*n.y+n.z)+i[2]}}}(0,t.datum_type,t.datum_params)),uc(e.datum_type)&&(n=function(t,e,i){if(e===cu)return{x:n.x-i[0],y:n.y-i[1],z:n.z-i[2]};if(e===hu){var r=i[3],o=i[4],s=i[5],a=i[6],u=(n.x-i[0])/a,c=(n.y-i[1])/a,h=(n.z-i[2])/a;return{x:u+s*c-o*h,y:-s*u+c+r*h,z:o*u-r*c+h}}}(0,e.datum_type,e.datum_params)),function(t,e,n,i){var r,o,s,a,u,c,h,l,p,f,d,g,v,y,m,_=t.x,b=t.y,w=t.z?t.z:0;if(r=Math.sqrt(_*_+b*b),o=Math.sqrt(_*_+b*b+w*w),r/n<1e-12){if(y=0,o/n<1e-12)return m=-i,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(b,_);s=w/o,l=(a=r/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*a*a)),p=s*u,v=0;do{v++,c=e*(h=n/Math.sqrt(1-e*p*p))/(h+(m=r*l+w*p-h*(1-e*p*p))),g=(d=s*(u=1/Math.sqrt(1-c*(2-c)*a*a)))*l-(f=a*(1-c)*u)*p,l=f,p=d}while(g*g>1e-24&&v<30);return{x:y,y:Math.atan(d/Math.abs(f)),z:m}}(n,e.es,e.a,e.b)):n},hc=function(t,e,n){var i,r,o,s=n.x,a=n.y,u=n.z||0,c={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r="x"):1===o?(i=a,r="y"):(i=u,r="z"),t.axis[o]){case"e":c[r]=i;break;case"w":c[r]=-i;break;case"n":c[r]=i;break;case"s":c[r]=-i;break;case"u":void 0!==n[r]&&(c.z=i);break;case"d":void 0!==n[r]&&(c.z=-i);break;default:return null}return c},lc=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},pc=function(t){fc(t.x),fc(t.y)};function fc(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function dc(t,e,n){var i;return Array.isArray(n)&&(n=lc(n)),pc(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===cu||t.datum.datum_type===hu)&&"WGS84"!==e.datumCode||(e.datum.datum_type===cu||e.datum.datum_type===hu)&&"WGS84"!==t.datumCode}(t,e)&&(n=dc(t,i=new ac("WGS84"),n),t=i),"enu"!==t.axis&&(n=hc(t,!1,n)),"longlat"===t.projName?n={x:n.x*yu,y:n.y*yu}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=cc(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*mu,y:n.y*mu}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?hc(e,!0,n):n}var gc=ac("WGS84");function vc(t,e,n){var i,r,o;return Array.isArray(n)?(i=dc(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(r=dc(t,e,n),2===(o=Object.keys(n)).length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=n[t])}),r))}function yc(t){return t instanceof ac?t:t.oProj?t.oProj:ac(t)}var mc=function(t,e,n){t=yc(t);var i,r=!1;return void 0===e?(e=t,t=gc,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=gc,r=!0),e=yc(e),n?vc(t,e,n):(i={forward:function(n){return vc(t,e,n)},inverse:function(n){return vc(e,t,n)}},r&&(i.oProj=e),i)},_c=6,bc="AJSAJS",wc="AFAFAF",xc=65,Sc=73,Ec=79,Cc=86,Tc=90,Oc={forward:Mc,inverse:function(t){var e=kc(Lc(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:Ic};function Mc(t,e){return e=e||5,function(t,e){var n,i,r,o,s,a,u,c,h,l,p,f="00000"+t.easting,d="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(h=t.easting,l=t.northing,p=Ac(t.zoneNumber),n=Math.floor(h/1e5),i=Math.floor(l/1e5)%20,o=bc.charCodeAt(r=p-1),s=wc.charCodeAt(r),c=!1,(a=o+n-1)>Tc&&(a=a-Tc+xc-1,c=!0),(a===Sc||o<Sc&&a>Sc||(a>Sc||o<Sc)&&c)&&a++,(a===Ec||o<Ec&&a>Ec||(a>Ec||o<Ec)&&c)&&++a===Sc&&a++,a>Tc&&(a=a-Tc+xc-1),(u=s+i)>Cc?(u=u-Cc+xc-1,c=!0):c=!1,(u===Sc||s<Sc&&u>Sc||(u>Sc||s<Sc)&&c)&&u++,(u===Ec||s<Ec&&u>Ec||(u>Ec||s<Ec)&&c)&&++u===Sc&&u++,u>Cc&&(u=u-Cc+xc-1),String.fromCharCode(a)+String.fromCharCode(u))+f.substr(f.length-5,e)+d.substr(d.length-5,e)}(function(t){var e,n,i,r,o,s,a=t.lat,u=t.lon,c=6378137,h=Rc(a),l=Rc(u);s=Math.floor((u+180)/6)+1,180===u&&(s=60),a>=56&&a<64&&u>=3&&u<12&&(s=32),a>=72&&a<84&&(u>=0&&u<9?s=31:u>=9&&u<21?s=33:u>=21&&u<33?s=35:u>=33&&u<42&&(s=37)),o=Rc(6*(s-1)-180+3),e=c/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),n=Math.tan(h)*Math.tan(h),i=.006739496752268451*Math.cos(h)*Math.cos(h);var p,f,d=.9996*e*((r=Math.cos(h)*(l-o))+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,g=.9996*(c*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h))+e*Math.tan(h)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));return a<0&&(g+=1e7),{northing:Math.round(g),easting:Math.round(d),zoneNumber:s,zoneLetter:(p=a,f="Z",84>=p&&p>=72?f="X":72>p&&p>=64?f="W":64>p&&p>=56?f="V":56>p&&p>=48?f="U":48>p&&p>=40?f="T":40>p&&p>=32?f="S":32>p&&p>=24?f="R":24>p&&p>=16?f="Q":16>p&&p>=8?f="P":8>p&&p>=0?f="N":0>p&&p>=-8?f="M":-8>p&&p>=-16?f="L":-16>p&&p>=-24?f="K":-24>p&&p>=-32?f="J":-32>p&&p>=-40?f="H":-40>p&&p>=-48?f="G":-48>p&&p>=-56?f="F":-56>p&&p>=-64?f="E":-64>p&&p>=-72?f="D":-72>p&&p>=-80&&(f="C"),f)}}({lat:t[1],lon:t[0]}),e)}function Ic(t){var e=kc(Lc(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function Rc(t){return t*(Math.PI/180)}function Pc(t){return t/Math.PI*180}function kc(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,u,c,h,l,p,f=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,v=e;i<"N"&&(v-=1e7),h=6*(r-1)-180+3,p=(l=v/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*l)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*l)+151*d*d*d/96*Math.sin(6*l),o=f/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),s=Math.tan(p)*Math.tan(p),a=.006739496752268451*Math.cos(p)*Math.cos(p),u=.99330562*f/Math.pow(1-.00669438*Math.sin(p)*Math.sin(p),1.5),c=g/(.9996*o);var y=p-o*Math.tan(p)/u*(c*c/2-(5+3*s+10*a-4*a*a-.06065547077041606)*c*c*c*c/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*c*c*c*c*c*c/720);y=Pc(y);var m,_=(c-(1+2*s+a)*c*c*c/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*c*c*c*c*c/120)/Math.cos(p);if(_=h+Pc(_),t.accuracy){var b=kc({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});m={top:b.lat,right:b.lon,bottom:y,left:_}}else m={lat:y,lon:_};return m}function Ac(t){var e=t%_c;return 0===e&&(e=_c),e}function Lc(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var u=Ac(s),c=function(t,e){for(var n=bc.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(++n===Sc&&n++,n===Ec&&n++,n>Tc){if(r)throw"Bad character: "+t;n=xc,r=!0}i+=1e5}return i}(i.charAt(0),u),h=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=wc.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(++n===Sc&&n++,n===Ec&&n++,n>Cc){if(r)throw"Bad character: "+t;n=xc,r=!0}i+=1e5}return i}(i.charAt(1),u);h<jc(a);)h+=2e6;var l=n-o;if(l%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,f,d,g=l/2,v=0,y=0;return g>0&&(p=1e5/Math.pow(10,g),f=t.substring(o,o+g),v=parseFloat(f)*p,d=t.substring(o+g),y=parseFloat(d)*p),{easting:v+c,northing:y+h,zoneLetter:a,zoneNumber:s,accuracy:p}}function jc(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Nc(t,e,n){if(!(this instanceof Nc))return new Nc(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Nc.fromMGRS=function(t){return new Nc(Ic(t))},Nc.prototype.toMGRS=function(t){return Mc([this.x,this.y],t)};var Fc=Nc,Dc=n("OceT"),Gc=.01068115234375,zc=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Gc))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Gc)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),e[3]=(n*=t)*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Uc=function(t,e,n,i){return i[0]*t-(n*=e)*(i[1]+(e*=e)*(i[2]+e*(i[3]+e*i[4])))},$c=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(Uc(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<vu)return r}return r},Bc={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=zc(this.es),this.ml0=Uc(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.y,o=qu(t.x-this.long0),s=Math.sin(r),a=Math.cos(r);if(this.es){var u=a*o,c=Math.pow(u,2),h=this.ep2*Math.pow(a,2),l=Math.pow(h,2),p=Math.abs(a)>vu?Math.tan(r):0,f=Math.pow(p,2),d=Math.pow(f,2);e=1-this.es*Math.pow(s,2),u/=Math.sqrt(e);var g=Uc(r,s,a,this.en);n=this.a*(this.k0*u*(1+c/6*(1-f+h+c/20*(5-18*f+d+14*h-58*f*h+c/42*(61+179*d-d*f-479*f)))))+this.x0,i=this.a*(this.k0*(g-this.ml0+s*o*u/2*(1+c/12*(5-f+9*h+4*l+c/30*(61+d-58*f+270*h-330*f*h+c/56*(1385+543*d-d*f-3111*f))))))+this.y0}else{var v=a*Math.sin(o);if(Math.abs(Math.abs(v)-1)<vu)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=a*Math.cos(o)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(i))>=1){if(v-1>vu)return 93;i=0}else i=Math.acos(i);r<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=1/this.a*(t.x-this.x0),s=1/this.a*(t.y-this.y0);if(this.es)if(n=$c(e=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<pu){var a=Math.sin(n),u=Math.cos(n),c=Math.abs(u)>vu?Math.tan(n):0,h=this.ep2*Math.pow(u,2),l=Math.pow(h,2),p=Math.pow(c,2),f=Math.pow(p,2);e=1-this.es*Math.pow(a,2);var d=o*Math.sqrt(e)/this.k0,g=Math.pow(d,2);i=n-(e*=c)*g/(1-this.es)*.5*(1-g/12*(5+3*p-9*h*p+h-4*l-g/30*(61+90*p-252*h*p+45*f+46*h-g/56*(1385+3633*p+4095*f+1574*f*p)))),r=qu(this.long0+d*(1-g/6*(1+2*p+h-g/20*(5+28*p+24*f+8*h*p+6*h-g/42*(61+662*p+1320*f+720*f*p))))/u)}else i=pu*Wu(s),r=0;else{var v=Math.exp(o/this.k0),y=.5*(v-1/v),m=Math.cos(this.lat0+s/this.k0);e=Math.sqrt((1-Math.pow(m,2))/(1+Math.pow(y,2))),i=Math.asin(e),s<0&&(i=-i),r=0===y&&0===m?0:qu(Math.atan2(y,m)+this.long0)}return t.x=r,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Vc=function(t){var e=Math.exp(t);return(e-1/e)/2},Hc=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Wc=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)},qc=function(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=Vc(n),u=function(t){var e=Math.exp(n);return(e+1/e)/2}(),c=2*s*u,h=-2*o*a,l=t.length-1,p=t[l],f=0,d=0,g=0;--l>=0;)i=d,r=f,p=c*(d=p)-i-h*(f=g)+t[l],g=h*d-r+c*f;return[(c=o*u)*p-(h=s*a)*g,c*g+h*p]},Xc={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),this.cgb[1]=(n*=e)*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),this.cgb[2]=(n*=e)*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),this.cgb[3]=(n*=e)*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),this.cgb[4]=(n*=e)*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),this.cgb[5]=(n*=e)*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),this.utg[2]=(n*=e)*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),this.utg[3]=(n*=e)*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),this.utg[4]=(n*=e)*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),this.utg[5]=-.03233083094085698*(n*=e),this.gtu[5]=.6650675310896665*n;var i=Wc(this.cbg,this.lat0);this.Zb=-this.Qn*(i+function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n}(this.gtu,2*i))},forward:function(t){var e=qu(t.x-this.long0),n=t.y;n=Wc(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,Hc(i,r*s)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Hc(1,e)+1))),t<0?-e:e}(Math.tan(e));var a,u,c=qc(this.gtu,2*n,2*e);return n+=c[0],e+=c[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,u=1/0),t.x=a,t.y=u,t},inverse:function(t){var e,n,i=1/this.a*(t.x-this.x0),r=1/this.a*(t.y-this.y0);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=qc(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(Vc(i));var s=Math.sin(r),a=Math.cos(r),u=Math.sin(i),c=Math.cos(i);r=Math.atan2(s*c,Hc(u,c*a)),i=Math.atan2(u,c*a),e=qu(i+this.long0),n=Wc(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Yc={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(qu(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*yu,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Xc.init.apply(this),this.forward=Xc.forward,this.inverse=Xc.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Kc=function(t,e){return Math.pow((1-t)/(1+t),e)},Zc={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+_u)/(Math.pow(Math.tan(.5*this.lat0+_u),this.C)*Kc(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+_u),this.C)*Kc(this.e*Math.sin(n),this.ratexp))-pu,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+_u)/this.K,1/this.C),r=20;r>0&&(n=2*Math.atan(i*Kc(this.e*Math.sin(t.y),-.5*this.e))-pu,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]},Jc={init:function(){Zc.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=qu(t.x-this.long0),Zc.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),t.x=(r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i))*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,Zc.inverse.apply(this,[t]),t.x=qu(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Qc={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=vu&&(this.k0=.5*(1+Wu(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=vu&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=vu&&(this.k0=.5*this.cons*Hu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Xu(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Hu(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-pu,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,s,a=t.x,u=t.y,c=Math.sin(u),h=Math.cos(u),l=qu(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=vu&&Math.abs(u+this.lat0)<=vu?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*h*Math.cos(l)),t.x=this.a*e*h*Math.sin(l)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*h*Math.cos(l))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,c,this.e))-pu,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=vu?(o=Xu(this.e,u*this.con,this.con*c),t.x=this.x0+(s=2*this.a*this.k0*o/this.cons)*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<vu?(e=2*this.a*this.k0/(1+r*Math.cos(l)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(l))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(l))+this.y0),t.x=e*r*Math.sin(l)+this.x0,t))},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y-=this.y0;var o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=vu?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o),e=Math.abs(this.coslat0)<vu?qu(this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y)):qu(this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=vu){if(o<=vu)return n=this.lat0,t.x=e=this.long0,t.y=n,t;t.x*=this.con,t.y*=this.con,n=this.con*Yu(this.e,o*this.cons/(2*this.a*this.k0)),e=this.con*qu(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=vu?r=this.X0:(r=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/o),e=qu(this.long0+Math.atan2(t.x*Math.sin(i),o*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*Yu(this.e,Math.tan(.5*(pu+r)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(pu+t))*Math.pow((1-e)/(1+e),.5*n)}},th={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=2*(Math.atan(Math.exp(-this.alpha*(e+n)+this.K))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(r))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t},inverse:function(t){for(var e=(t.x-this.x0)/this.R,n=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),i=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(e)),r=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(n))),o=this.lambda0+r/this.alpha,s=0,a=i,u=-1e3,c=0;Math.abs(a-u)>1e-7;){if(++c>20)return;s=1/this.alpha*(Math.log(Math.tan(Math.PI/4+i/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(a))/2)),u=a,a=2*Math.atan(Math.exp(s))-Math.PI/2}return t.x=o,t.y=a,t},names:["somerc"]},eh={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=Xu(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var a=Xu(this.e,this.lat1,Math.sin(this.lat1)),u=Xu(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var c=Math.pow(a,this.bl),h=Math.pow(u,this.bl);r=.5*((i=this.el/c)-1/i);var l=(this.el*this.el-h*c)/(this.el*this.el+h*c),p=(h-c)/(h+c),f=qu(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(l*Math.tan(.5*this.bl*f)/p)/this.bl,this.long0=qu(this.long0);var d=qu(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/r),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else i=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,r=t.y,o=qu(t.x-this.long0);if(Math.abs(Math.abs(r)-pu)<=vu)i=r>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(_u+i*this.gamma0*.5)),e=-1*i*pu*this.al/this.bl;else{var s=Xu(this.e,r,Math.sin(r)),a=this.el/Math.pow(s,this.bl),u=.5*(a-1/a),c=.5*(a+1/a),h=Math.sin(this.bl*o),l=(u*Math.sin(this.gamma0)-h*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(l)-1)<=vu?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-l)/(1+l))/this.bl,e=Math.abs(Math.cos(this.bl*o))<=vu?this.al*this.bl*o:this.al*Math.atan2(u*Math.cos(this.gamma0)+h*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<vu?(t.x=this.long0,t.y=pu):Math.abs(a+1)<vu?(t.x=this.long0,t.y=-1*pu):(t.y=Yu(this.e,u),t.x=qu(this.long0-Math.atan2(r*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},nh={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<vu)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Hu(this.e,e,n),r=Xu(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Hu(this.e,o,s),u=Xu(this.e,this.lat2,o),c=Xu(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>vu?Math.log(i/a)/Math.log(r/u):e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=vu&&(n=Wu(n)*(pu-2*vu));var i,r,o=Math.abs(Math.abs(n)-pu);if(o>vu)i=Xu(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var s=this.ns*qu(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var u=0;if(0!==e&&(u=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=Yu(this.e,i)))return null}else r=-pu;return o=qu(u/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},ih={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,s,a,u=t.y,c=qu(t.x-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,s,a,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,c+=1}while(0===a&&c<15);return c>=15?null:t},names:["Krovak","krovak"]},rh=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},oh=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},sh=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ah=function(t){return.05859375*t*t*(1+.75*t)},uh=function(t){return t*t*t*(35/3072)},ch=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},hh=function(t){return Math.abs(t)<pu?t:t-Wu(t)*Math.PI},lh=function(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN},ph={init:function(){this.sphere||(this.e0=oh(this.es),this.e1=sh(this.es),this.e2=ah(this.es),this.e3=uh(this.es),this.ml0=this.a*rh(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=qu(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=ch(this.a,this.e,o),u=Math.tan(r)*Math.tan(r),c=i*Math.cos(r),h=c*c,l=this.es*s*s/(1-this.es);e=a*c*(1-h*u*(1/6-(8-u+8*l)*h/120)),n=this.a*rh(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*h*(.5+(5-u+6*l)*h/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=lh(this.ml0/this.a+r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-pu)<=vu)return t.x=this.long0,t.y=pu,r<0&&(t.y*=-1),t;var a=ch(this.a,this.e,Math.sin(s)),u=a*a*a/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),h=i*this.a/a,l=h*h;e=s-a*Math.tan(s)/u*h*h*(.5-(1+3*c)*h*h/24),n=h*(1-l*(c/3+(1+3*c)*c*l/15))/Math.cos(s)}return t.x=qu(n+this.long0),t.y=hh(e),t},names:["Cassini","Cassini_Soldner","cass"]},fh=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},dh={init:function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-pu)<vu?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<vu?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=fh(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,n[0]+=.17222222222222222*(e=t*t),n[1]=.06388888888888888*e,n[0]+=.10257936507936508*(e*=t),n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=fh(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,s,a,u,c,h,l=t.x,p=t.y;if(l=qu(l-this.long0),this.sphere){if(o=Math.sin(p),h=Math.cos(p),i=Math.cos(l),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+h*i:1+this.sinph0*o+this.cosph0*h*i)<=vu)return null;e=(n=Math.sqrt(2/n))*h*Math.sin(l),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*h*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.phi0)<vu)return null;n=_u-.5*p,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(l),n*=i}}else{switch(a=0,u=0,c=0,i=Math.cos(l),r=Math.sin(l),o=Math.sin(p),s=fh(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,u=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*u*i;break;case this.EQUIT:c=1+u*i;break;case this.N_POLE:c=pu+p,s=this.qp-s;break;case this.S_POLE:c=p-pu,s=this.qp+s}if(Math.abs(c)<vu)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*u*i):(c=Math.sqrt(2/(1+u*i)))*a*this.ymf,e=this.xmf*c*u*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,u,c,h,l=t.x/this.a,p=t.y/this.a;if(this.sphere){var f,d=0,g=0;if((n=.5*(f=Math.sqrt(l*l+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=vu?0:Math.asin(p*g/f),l*=g,p=d*f;break;case this.OBLIQ:n=Math.abs(f)<=vu?this.phi0:Math.asin(d*this.sinph0+p*g*this.cosph0/f),l*=g*this.cosph0,p=(d-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:p=-p,n=pu-n;break;case this.S_POLE:n-=pu}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,p):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,p*=this.dd,(s=Math.sqrt(l*l+p*p))<vu)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),l*=r=Math.sin(r),this.mode===this.OBLIQ?(o=this.qp*(a=i*this.sinb1+p*r*this.cosb1/s),p=s*this.cosb1*i-p*this.sinb1*r):(o=this.qp*(a=p*r/s),p=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(o=l*l+p*p))return t.x=0,t.y=this.phi0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(l,p),h=(u=Math.asin(a))+u,n=u+(c=this.apa)[0]*Math.sin(h)+c[1]*Math.sin(h+h)+c[2]*Math.sin(h+h+h)}return t.x=qu(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},gh=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},vh={init:function(){Math.abs(this.lat1+this.lat2)<vu||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Hu(this.e3,this.sin_po,this.cos_po),this.qs1=fh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Hu(this.e3,this.sin_po,this.cos_po),this.qs2=fh(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=fh(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>vu?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=fh(this.e3,this.sin_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*qu(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,0!==e&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,o=this.sphere?Math.asin((this.c-n*n)/(2*this.ns0)):this.phi1z(this.e3,(this.c-n*n)/this.ns0),r=qu(i/this.ns0+this.long0),t.x=r,t.y=o,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,s=gh(.5*e);if(t<vu)return s;for(var a=t*t,u=1;u<=25;u++)if(s+=o=.5*(r=1-(i=t*(n=Math.sin(s)))*i)*r/Math.cos(s)*(e/(1-a)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return s;return null}},yh={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,s,a,u=t.y;return i=qu(t.x-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=vu?(s=this.x0+1*this.a*n*Math.sin(i)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(s=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=gh(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=qu(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},mh={init:function(){this.sphere||(this.k0=Hu(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.y,r=qu(t.x-this.long0);if(this.sphere)e=this.x0+this.a*r*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=fh(this.e,Math.sin(i));e=this.x0+this.a*this.k0*r,n=this.y0+this.a*o*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=qu(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*pu:pu;for(var i,r,o,s,a=Math.asin(.5*e),u=0;u<30;u++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return a;return NaN}(this.e,2*t.y*this.k0/this.a),e=qu(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},_h={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.y,n=qu(t.x-this.long0),i=hh(e-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.y;return t.x=qu(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=hh(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},bh={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=oh(this.es),this.e1=sh(this.es),this.e2=ah(this.es),this.e3=uh(this.es),this.ml0=this.a*rh(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.y,o=qu(t.x-this.long0);if(i=o*Math.sin(r),this.sphere)Math.abs(r)<=vu?(e=this.a*o,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(r),n=this.a*(hh(r-this.lat0)+(1-Math.cos(i))/Math.tan(r)));else if(Math.abs(r)<=vu)e=this.a*o,n=-1*this.ml0;else{var s=ch(this.a,this.e,Math.sin(r))/Math.tan(r);e=s*Math.sin(i),n=this.a*rh(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+s*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,s,a,u,c;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=vu)e=qu(i/this.a+this.long0),n=0;else{var h;for(a=i*i/this.a/this.a+(s=this.lat0+r/this.a)*s,u=s,o=20;o;--o)if(u+=c=-1*(s*(u*(h=Math.tan(u))+1)-u-.5*(u*u+a)*h)/((u-s)/h-1),Math.abs(c)<=vu){n=u;break}e=qu(this.long0+Math.asin(i*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=vu)n=0,e=qu(this.long0+i/this.a);else{var l,p,f,d,g;for(a=i*i/this.a/this.a+(s=(this.ml0+r)/this.a)*s,u=s,o=20;o;--o)if(g=this.e*Math.sin(u),l=Math.sqrt(1-g*g)*Math.tan(u),p=this.a*rh(this.e0,this.e1,this.e2,this.e3,u),f=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),u-=c=(s*(l*(d=p/this.a)+1)-d-.5*l*(d*d+a))/(this.es*Math.sin(2*u)*(d*d+a-2*s*d)/(4*l)+(s-d)*(l*f-2/Math.sin(2*u))-f),Math.abs(c)<=vu){n=u;break}l=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=qu(this.long0+Math.asin(i*l/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},wh={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=(t.y-this.lat0)/lu*1e-5,i=t.x-this.long0,r=1,o=0;for(e=1;e<=10;e++)o+=this.A[e]*(r*=n);var s,a=o,u=i,c=1,h=0,l=0,p=0;for(e=1;e<=6;e++)s=h*a+c*u,l=l+this.B_re[e]*(c=c*a-h*u)-this.B_im[e]*(h=s),p=p+this.B_im[e]*c+this.B_re[e]*h;return t.x=p*this.a+this.x0,t.y=l*this.a+this.y0,t},inverse:function(t){var e,n,i=(t.y-this.y0)/this.a,r=(t.x-this.x0)/this.a,o=1,s=0,a=0,u=0;for(e=1;e<=6;e++)n=s*i+o*r,a=a+this.C_re[e]*(o=o*i-s*r)-this.C_im[e]*(s=n),u=u+this.C_im[e]*o+this.C_re[e]*s;for(var c=0;c<this.iterations;c++){var h,l=a,p=u,f=i,d=r;for(e=2;e<=6;e++)h=p*a+l*u,f+=(e-1)*(this.B_re[e]*(l=l*a-p*u)-this.B_im[e]*(p=h)),d+=(e-1)*(this.B_im[e]*l+this.B_re[e]*p);l=1,p=0;var g=this.B_re[1],v=this.B_im[1];for(e=2;e<=6;e++)h=p*a+l*u,g+=e*(this.B_re[e]*(l=l*a-p*u)-this.B_im[e]*(p=h)),v+=e*(this.B_im[e]*l+this.B_re[e]*p);var y=g*g+v*v;a=(f*g+d*v)/y,u=(d*g-f*v)/y}var m=a,_=u,b=1,w=0;for(e=1;e<=9;e++)w+=this.D[e]*(b*=m);var x=this.lat0+w*lu*1e5;return t.x=this.long0+_,t.y=x,t},names:["New_Zealand_Map_Grid","nzmg"]},xh={init:function(){},forward:function(t){var e=t.y,n=qu(t.x-this.long0),i=this.x0+this.a*n,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=i,t.y=r,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=qu(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Sh={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=zc(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=qu(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=20;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<vu)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var u=Math.sin(r),c=Math.cos(r);n=this.a*Uc(r,u,c,this.en),e=this.a*i*c/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=gh((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=gh(Math.sin(e)/this.n)),i=qu(i+this.long0),e=hh(e)):(e=$c(t.y/this.a,this.es,this.en),(r=Math.abs(e))<pu?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=qu(n)):r-vu<pu&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]},Eh={init:function(){},forward:function(t){for(var e=t.y,n=qu(t.x-this.long0),i=e,r=Math.PI*Math.sin(e);;){var o=-(i+Math.sin(i)-r)/(1+Math.cos(i));if(i+=o,Math.abs(o)<vu)break}i/=2,Math.PI/2-Math.abs(e)<vu&&(n=0);var s=.900316316158*this.a*n*Math.cos(i)+this.x0,a=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=qu(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]},Ch={init:function(){Math.abs(this.lat1+this.lat2)<vu||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=oh(this.es),this.e1=sh(this.es),this.e2=ah(this.es),this.e3=uh(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Hu(this.e,this.sinphi,this.cosphi),this.ml1=rh(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<vu?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Hu(this.e,this.sinphi,this.cosphi),this.ml2=rh(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=rh(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=rh(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*qu(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=qu(this.long0+o/this.ns),i=hh(this.g-n/this.a),t.x=r,t.y=i,t):(i=lh(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),r=qu(this.long0+o/this.ns),t.x=r,t.y=i,t)},names:["Equidistant_Conic","eqdc"]},Th={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.y,r=qu(t.x-this.long0);Math.abs(i)<=vu&&(e=this.x0+this.R*r,n=this.y0);var o=gh(2*Math.abs(i/Math.PI));(Math.abs(r)<=vu||Math.abs(Math.abs(i)-pu)<=vu)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/r-r/Math.PI),a=s*s,u=Math.sin(o),c=Math.cos(o),h=c/(u+c-1),l=h*(2/u-1),p=l*l,f=Math.PI*this.R*(s*(h-p)+Math.sqrt(a*(h-p)*(h-p)-(p+a)*(h*h-p)))/(p+a);r<0&&(f=-f),e=this.x0+f;var d=a+h;return f=Math.PI*this.R*(l*d-s*Math.sqrt((p+a)*(a+1)-d*d))/(p+a),n=i>=0?this.y0+f:this.y0-f,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,s,a,u,c,h,l,p;return t.x-=this.x0,t.y-=this.y0,l=Math.PI*this.R,o=(i=t.x/l)*i+(r=t.y/l)*r,l=3*(r*r/(u=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+i*i)*a*a/u/u/u-9*s*a/u/u)/27)/(c=(s-a*a/3/u)/u)/(h=2*Math.sqrt(-c/3)),Math.abs(l)>1&&(l=l>=0?1:-1),p=Math.acos(l)/3,n=t.y>=0?(-h*Math.cos(p+Math.PI/3)-a/3/u)*Math.PI:-(-h*Math.cos(p+Math.PI/3)-a/3/u)*Math.PI,e=Math.abs(i)<vu?this.long0:qu(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Oh={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,u,c,h,l,p,f,d,g,v,y,m,_,b,w,x,S=t.x,E=t.y,C=Math.sin(t.y),T=Math.cos(t.y),O=qu(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=vu?(t.x=this.x0+this.a*(pu-E)*Math.sin(O),t.y=this.y0-this.a*(pu-E)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=vu?(t.x=this.x0+this.a*(pu+E)*Math.sin(O),t.y=this.y0+this.a*(pu+E)*Math.cos(O),t):(m=this.sin_p12*C+this.cos_p12*T*Math.cos(O),y=(v=Math.acos(m))/Math.sin(v),t.x=this.x0+this.a*y*T*Math.sin(O),t.y=this.y0+this.a*y*(this.cos_p12*C-this.sin_p12*T*Math.cos(O)),t):(e=oh(this.es),n=sh(this.es),i=ah(this.es),r=uh(this.es),Math.abs(this.sin_p12-1)<=vu?(o=this.a*rh(e,n,i,r,pu),s=this.a*rh(e,n,i,r,E),t.x=this.x0+(o-s)*Math.sin(O),t.y=this.y0-(o-s)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=vu?(o=this.a*rh(e,n,i,r,pu),s=this.a*rh(e,n,i,r,E),t.x=this.x0+(o+s)*Math.sin(O),t.y=this.y0+(o+s)*Math.cos(O),t):(a=C/T,u=ch(this.a,this.e,this.sin_p12),c=ch(this.a,this.e,C),h=Math.atan((1-this.es)*a+this.es*u*this.sin_p12/(c*T)),_=0===(l=Math.atan2(Math.sin(O),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(O)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(l)-Math.PI)<=vu?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(O)*Math.cos(h)/Math.sin(l)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(l)/Math.sqrt(1-this.es),t.x=this.x0+(v=u*_*(1-(b=_*_)*(g=f*f)*(1-g)/6+(w=b*_)/8*(d=p*f)*(1-2*g)+(x=w*_)/120*(g*(4-7*g)-3*p*p*(1-7*g))-x*_/48*d))*Math.sin(l),t.y=this.y0+v*Math.cos(l),t))},inverse:function(t){var e,n,i,r,o,s,a,u,c,h,l,p,f,d,g,v,y,m,_,b,w,x;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*pu*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=vu?s=this.lat0:(s=gh(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-pu,o=Math.abs(a)<=vu?qu(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)):qu(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return u=oh(this.es),c=sh(this.es),h=ah(this.es),l=uh(this.es),Math.abs(this.sin_p12-1)<=vu?(p=this.a*rh(u,c,h,l,pu),e=Math.sqrt(t.x*t.x+t.y*t.y),s=lh((p-e)/this.a,u,c,h,l),o=qu(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=vu?(p=this.a*rh(u,c,h,l,pu),e=Math.sqrt(t.x*t.x+t.y*t.y),s=lh((e-p)/this.a,u,c,h,l),o=qu(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),f=ch(this.a,this.e,this.sin_p12),v=Math.cos(g),_=3*this.es*(1-(m=-(y=this.e*this.cos_p12*v)*y/(1-this.es)))*this.sin_p12*this.cos_p12*v/(1-this.es),x=1-m*(w=(b=e/f)-m*(1+m)*Math.pow(b,3)/6-_*(1+3*m)*Math.pow(b,4)/24)*w/2-b*w*w*w/6,d=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*v),o=qu(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(d))),s=Math.atan((1-this.es*x*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]},Mh={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,u=t.y;return i=qu(t.x-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=vu)&&(s=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=gh(e/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=vu?(a=this.lat0,t.x=s,t.y=a,t):(a=gh(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-pu,Math.abs(o)<=vu?(s=qu(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=qu(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))},names:["ortho"]},Ih={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Rh(t,e,n,i){var r;return t<vu?(i.value=Ih.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=_u?i.value=Ih.AREA_0:r>_u&&r<=pu+_u?(i.value=Ih.AREA_1,r-=pu):r>pu+_u||r<=-(pu+_u)?(i.value=Ih.AREA_2,r=r>=0?r-wu:r+wu):(i.value=Ih.AREA_3,r+=pu)),r}function Ph(t,e){var n=t+e;return n<-wu?n+=bu:n>+wu&&(n-=bu),n}var kh,Ah={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=pu-_u/2?5:this.lat0<=-(pu-_u/2)?6:Math.abs(this.long0)<=_u?1:Math.abs(this.long0)<=pu+_u?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,s,a={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,5===this.face)r=pu-e,n>=_u&&n<=pu+_u?(u.value=Ih.AREA_0,i=n-pu):n>pu+_u||n<=-(pu+_u)?(u.value=Ih.AREA_1,i=n>0?n-wu:n+wu):n>-(pu+_u)&&n<=-_u?(u.value=Ih.AREA_2,i=n+pu):(u.value=Ih.AREA_3,i=n);else if(6===this.face)r=pu+e,n>=_u&&n<=pu+_u?(u.value=Ih.AREA_0,i=-n+pu):n<_u&&n>=-_u?(u.value=Ih.AREA_1,i=-n):n<-_u&&n>=-(pu+_u)?(u.value=Ih.AREA_2,i=-n-pu):(u.value=Ih.AREA_3,i=n>0?-n+wu:-n-wu);else{var c,h,l,p,f,d;2===this.face?n=Ph(n,+pu):3===this.face?n=Ph(n,+wu):4===this.face&&(n=Ph(n,-pu)),p=Math.sin(e),f=Math.cos(e),d=Math.sin(n),c=f*Math.cos(n),h=f*d,l=p,1===this.face?i=Rh(r=Math.acos(c),l,h,u):2===this.face?i=Rh(r=Math.acos(h),l,-c,u):3===this.face?i=Rh(r=Math.acos(-c),l,-h,u):4===this.face?i=Rh(r=Math.acos(-h),l,c,u):(r=i=0,u.value=Ih.AREA_0)}return s=Math.atan(12/wu*(i+Math.acos(Math.sin(i)*Math.cos(_u))-pu)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),u.value===Ih.AREA_1?s+=pu:u.value===Ih.AREA_2?s+=wu:u.value===Ih.AREA_3&&(s+=1.5*wu),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,i,r,o,s,a,u,c,h,l,p,f={lam:0,phi:0},d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=Ih.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=Ih.AREA_1,e-=pu):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=Ih.AREA_2,e=e<0?e+wu:e-wu):(d.value=Ih.AREA_3,e+=pu),c=wu/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),5===this.face)u=Math.acos(a),f.phi=pu-u,f.lam=d.value===Ih.AREA_0?s+pu:d.value===Ih.AREA_1?s<0?s+wu:s-wu:d.value===Ih.AREA_2?s-pu:s;else if(6===this.face)u=Math.acos(a),f.phi=u-pu,f.lam=d.value===Ih.AREA_0?-s+pu:d.value===Ih.AREA_1?-s:d.value===Ih.AREA_2?-s-pu:s<0?-s-wu:-s+wu;else{var g,v,y;c=(g=a)*g,v=(c+=(y=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*y)>=1?0:Math.sqrt(1-c),d.value===Ih.AREA_1?(c=v,v=-y,y=c):d.value===Ih.AREA_2?(v=-v,y=-y):d.value===Ih.AREA_3&&(c=v,v=y,y=-c),2===this.face?(c=g,g=-v,v=c):3===this.face?(g=-g,v=-v):4===this.face&&(c=g,g=v,v=-c),f.phi=Math.acos(-y)-pu,f.lam=Math.atan2(v,g),2===this.face?f.lam=Ph(f.lam,-pu):3===this.face?f.lam=Ph(f.lam,-wu):4===this.face&&(f.lam=Ph(f.lam,+pu))}return 0!==this.es&&(h=f.phi<0?1:0,l=Math.tan(f.phi),p=this.b/Math.sqrt(l*l+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),h&&(f.phi=-f.phi)),f.lam+=this.long0,t.x=f.lam,t.y=f.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Lh=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],jh=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Nh=mu/5,Fh=1/Nh,Dh=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Gh={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=qu(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Nh);i<0?i=0:i>=18&&(i=17);var r={x:Dh(Lh[i],n=mu*(n-Fh*i))*e,y:Dh(jh[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*.8487+this.x0,r.y=r.y*this.a*1.3523+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=Lh[18][0],e.y=t.y<0?-pu:pu;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(jh[n][0]>e.y)--n;else{if(!(jh[n+1][0]<=e.y))break;++n}var i=jh[n],r=5*(e.y-i[0])/(jh[n+1][0]-i[0]);r=function(t,e,n,i){for(var o=r;i;--i){var s=t(o);if(o-=s,Math.abs(s)<n)break}return o}(function(t){return(Dh(i,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(i,t)},0,vu,100),e.x/=Dh(Lh[n],r),e.y=(5*n+r)*yu,t.y<0&&(e.y=-e.y)}return e.x=qu(e.x+this.long0),e},names:["Robinson","robin"]};mc.defaultDatum="WGS84",mc.Proj=ac,mc.WGS84=new mc.Proj("WGS84"),mc.Point=Fc,mc.toPoint=lc,mc.defs=zu,mc.transform=dc,mc.mgrs=Oc,mc.version=Dc.a,(kh=mc).Proj.projections.add(Bc),kh.Proj.projections.add(Xc),kh.Proj.projections.add(Yc),kh.Proj.projections.add(Jc),kh.Proj.projections.add(Qc),kh.Proj.projections.add(th),kh.Proj.projections.add(eh),kh.Proj.projections.add(nh),kh.Proj.projections.add(ih),kh.Proj.projections.add(ph),kh.Proj.projections.add(dh),kh.Proj.projections.add(vh),kh.Proj.projections.add(yh),kh.Proj.projections.add(mh),kh.Proj.projections.add(_h),kh.Proj.projections.add(bh),kh.Proj.projections.add(wh),kh.Proj.projections.add(xh),kh.Proj.projections.add(Sh),kh.Proj.projections.add(Eh),kh.Proj.projections.add(Ch),kh.Proj.projections.add(Th),kh.Proj.projections.add(Oh),kh.Proj.projections.add(Mh),kh.Proj.projections.add(Ah),kh.Proj.projections.add(Gh);var zh=mc,Uh=n("l207"),$h=n("f5ys"),Bh=n("r4Kj"),Vh=n("BtSu"),Hh=n("tB1I"),Wh=n("Mzne"),qh=n("WPWp"),Xh=n("AytR");n.d(e,"a",function(){return Yh});var Yh=function(){function t(t,e,n,u,c){var h=this;this._deviceService=t,this._configService=e,this._modelService=n,this._routerService=u,this._themeService=c,this._isReady=!1,this.onReady=new r.a(1),this.onReady.next(this._isReady),this.onMapUpdated=new r.a(1),this.onDrag=new i.m,this.onZoom=new i.m,this.onClick=new i.m,this.onPopupChange=new i.m,this.onRotateReset=new i.m,this.onTaxonomyFiltersChange=new r.a(1),this._geolocationIcon={layer:null,location:null,accuracy:null,point:null,circle:null,icon:"locationIcon"},this._locationIconArrow=new Wr({src:Xh.a.deployUrl+"assets/images/location-icon-arrow.png",scale:.33,size:[125,125],rotateWithView:!1}),this._locationIconStyle=new Ha({image:new Wr({src:Xh.a.deployUrl+"assets/images/location-icon.png",scale:.29,size:[125,125]}),zIndex:600}),this._locationIconArrowStyle=new Ha({image:this._locationIconArrow,zIndex:600}),this._isInteractive=!0,this._gridLayers={},Object(o.a)(this.onReady,this._routerService.onQueryParamsChange).pipe(Object(s.a)(function(t){return t[0]}),Object(a.a)(1)).subscribe(function(){var t=h._configService.getMapCenter();t&&h.centerOnCoords(new $h.a(t[0],t[1]),h._configService.getMapDefZoom()||Uh.k)})}return t.prototype._toLonLat=function(t){return Me(t,"EPSG:3857","EPSG:4326")},t.prototype._fromLonLat=function(t){return Me(t,"EPSG:4326","EPSG:3857")},t.prototype._extentToLonLat=function(t){return Ie(t,"EPSG:3857","EPSG:4326")},t.prototype._extentFromLonLat=function(t){return Ie(t,"EPSG:4326","EPSG:3857")},t.prototype.getUTMCoords=function(t){var e=zh("+proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",[t.longitude,t.latitude]);return e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e},t.prototype._getBaseSource=function(t){var e=this,n=t.tilesUrl;return"/"!==n[n.length-1]&&(n+="/"),new uu({maxZoom:21,minZoom:1,tileLoadFunction:function(i,r){var o=[0,0,0],s=r.split("/");o[0]=parseInt(s[s.length-3]),o[1]=parseInt(s[s.length-2]),o[2]=-parseInt(s[s.length-1].split(".")[0]),e._modelService.getTile(o,n).then(function(e){if(t.grayscale||t.opacity){var n=document.createElement("canvas"),r=n.getContext("2d"),o=new Image,s=t.grayscale?t.grayscale>1?Math.max(0,Math.min(1,t.grayscale/100)):Math.max(0,Math.min(1,t.grayscale)):0,a=t.opacity?t.opacity>1?Math.max(0,Math.min(1,t.opacity/100)):Math.max(0,Math.min(1,t.opacity)):1;o.onload=function(){n.width=256,n.height=256,r.drawImage(o,0,0);for(var t=r.getImageData(0,0,256,256),e=0;e+3<t.data.length;e+=4){if(0!==s){var u=t.data[e],c=t.data[e+1],h=t.data[e+2],l=Math.round(.3*u+.59*c+.11*h);t.data[e]=l+(u-l)*s,t.data[e+1]=l+(c-l)*s,t.data[e+2]=l+(h-l)*s}1!==a&&(t.data[e+3]=256*a)}r.putImageData(t,0,0),i.getImage().src=n.toDataURL()},o.crossOrigin="Anonymous",o.src=e}else i.getImage().src=e}).catch(function(t){console.error(t),i.getImage().src=r})},tileUrlFunction:function(t){return n+t[0]+"/"+t[1]+"/"+t[2]+".png"},projection:"EPSG:3857"})},t.prototype._initializeBaseLayers=function(){var t=this._configService.getBaseLayers(),e=!1;for(var n in t)this._map.addLayer(new eu({source:this._getBaseSource(t[n]),visible:!(!t[n].default||e),zIndex:1})),t[n].default&&!e&&(e=!0);e||this._map.getLayers().getArray()[0].setVisible(!0)},t.prototype._initializeOverlayLayer=function(t){var e,n,i=this;switch(t.type){case"utfgrid":"/"!==(e=t.tilesUrl)[e.length-1]&&(e+="/"),n=new eu({source:new tu({tileJSON:{tiles:[e+"{z}/{x}/{y}.png"],grids:[e+"{z}/{x}/{y}.grid.json"],minzoom:t.minZoom?t.minZoom:this._configService.getMapMinZoom(),maxzoom:t.maxZoom?t.maxZoom:this._configService.getMapMaxZoom()},tileLoadFunction:function(n,r){var o=[0,0,0],s=r.split("/");o[0]=parseInt(s[s.length-3]),o[1]=parseInt(s[s.length-2]),o[2]=parseInt(s[s.length-1].split(".")[0])+1,i._modelService.getTile(o,e,t.id).then(function(t){n.getImage().src=t}).catch(function(){n.getImage().src=r})}}),visible:!0,zIndex:20}),this._map.addLayer(n),this._gridLayers[t.id]=n;break;case"maptile":"/"!==(e=t.tilesUrl)[e.length-1]&&(e+="/"),n=new eu({source:new uu({tileLoadFunction:function(n,r){var o=[0,0,0],s=r.split("/");o[0]=parseInt(s[s.length-3]),o[1]=parseInt(s[s.length-2]),o[2]=-parseInt(s[s.length-1].split(".")[0]),i._modelService.getTile(o,e,t.id).then(function(t){n.getImage().src=t}).catch(function(t){console.error(t),n.getImage().src=r})},tileUrlFunction:function(t){return e+t[0]+"/"+t[1]+"/"+t[2]+".png"},projection:"EPSG:3857",minZoom:t.minZoom?t.minZoom:this._configService.getMapMinZoom(),maxZoom:t.maxZoom?t.maxZoom:this._configService.getMapMaxZoom()}),visible:!0,zIndex:10}),this._map.addLayer(n)}},t.prototype._initializeOverlayLayers=function(){for(var t in this._gridLayers)this._map.removeLayer(this._gridLayers[t]);this._gridLayers={};var e=this._configService.getOverlayLayers();if(e)for(var n in e)this._initializeOverlayLayer(e[n])},t.prototype.getUTFGridInfo=function(t){var e=this;return new Promise(function(n,i){var r=[],o=e._configService.getOverlayLayers();for(var s in o)if(e._gridLayers[o[s].id]){var a=e._gridLayers[o[s].id].getSource().getTileGrid().getTileCoordForCoordAndResolution(t,e._view.getResolution());r.push(e._modelService.getGridJson([a[0],a[1],-a[2]],o[s].tilesUrl,o[s].id))}0!==r.length?Promise.all(r).then(function(i){for(var r in o)if(i[r]){var s=e._gridLayers[o[r].id].getSource().getTileGrid().getTileCoordForCoordAndResolution(t,e._view.getResolution()),a=new un(s,st.LOADED,o[r].tilesUrl+s[0]+"/"+s[1]+"/"+-s[2]+".grid.json",e._gridLayers[o[r].id].getSource().getTileGrid().getTileCoordExtent(s),!0,!1);a.keys_=i[r].keys,a.data_=i[r].data,a.grid_=i[r].grid,n(a.getData(t));break}},function(){n(void 0)}):n(void 0)})},t.prototype.initialize=function(){var t,e,n=this;if(this._configService.hasMap()){var i=document.createElement("ion-icon"),r=document.createElement("div");i.setAttribute("src",Xh.a.ioniconsUrl+"ios-compass.svg"),i.style.transform="rotate(-45deg)",r.appendChild(i);var o=this._configService.getMapDefZoom(),c=this._configService.getMapCenter();this._view=new Vo({center:this._fromLonLat(c||Uh.i),zoom:o||Uh.k,maxZoom:this._configService.getMapMaxZoom(),minZoom:this._configService.getMapMinZoom(),projection:"EPSG:3857",extent:this._extentFromLonLat(this._configService.getMapExtent())}),this._map=new Ia({target:"map",view:this._view,controls:[new cs,new us({label:r,autoHide:!0,resetNorth:function(){n.onRotateReset.emit(),n.rotate(0,500)}}),new Fa({units:"metric",minWidth:50})],interactions:ir({mouseWheelZoom:!(!this._deviceService.isLocalServer&&window.location.hostname!==Uh.m)}),moveTolerance:3,loadTilesWhileAnimating:!1,loadTilesWhileInteracting:!!this._deviceService.isBrowser}),this._initializeBaseLayers(),this._initializeOverlayLayers(),this._map.on("pointerdrag",function(t){n.onDrag.emit(t.coordinate)}),this._deviceService.onResize.pipe((30,void 0===t&&(t=u.a),e=function(){return function(t,e,n){void 0===t&&(t=0);var i=-1;return v(e)?i=Number(e)<1?1:Number(e):Object(y.a)(e)&&(n=e),Object(y.a)(n)||(n=u.a),new d.a(function(e){var r=v(t)?t:+t-n.now();return n.schedule(m,r,{index:0,period:i,subscriber:e})})}(30,t)},function(t){return t.lift(new p(e))})).subscribe(function(){n._isReady&&(n.adjust(),n.centerFeatureLayer())}),this._view.on("change:resolution",function(t){n.onZoom.emit(t.target.values_)}),this._dataSource=new au({format:new Rr}),this._dataLayer=new nu({source:this._dataSource,style:function(t,e){return n._style(t)},updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:50}),this._modelService.onReady.pipe(Object(s.a)(function(t){return t}),Object(a.a)(1)).subscribe(function(){n._modelService.getFeatures().pipe(Object(_.a)(400)).subscribe(function(t){Object.keys(t).length&&n._updateFeatures(t)}),n._modelService.getTaxonomies().pipe(Object(_.a)(400)).subscribe(function(t){var e={};for(var i in t)for(var r in t[i])e[r]=!n._taxonomyFilters||void 0===n._taxonomyFilters[r]||n._taxonomyFilters[r];n._taxonomyFilters=e,n.onTaxonomyFiltersChange.next(n._taxonomyFilters)})}),this._map.addLayer(this._dataLayer),this._configService.enableMapClickInteraction()&&this._map.on("click",function(t){if(n._previousClickTimeout)return clearInterval(n._previousClickTimeout),void(n._previousClickTimeout=void 0);n._previousClickTimeout=setTimeout(function(){n._isInteractive&&n._checkFeatureClick(t),n._previousClickTimeout=void 0},250)}),this._configService.onMapConfigChange.subscribe(function(){n._view=new Vo({center:n._fromLonLat(n._configService.getMapCenter()||Uh.i),zoom:n._configService.getMapDefZoom()||Uh.k,maxZoom:n._configService.getMapMaxZoom(),minZoom:n._configService.getMapMinZoom(),projection:"EPSG:3857",extent:n._extentFromLonLat(n._configService.getMapExtent())}),n._initializeOverlayLayers(),n._map.setView(n._view),n._map.render()}),this._deviceService.onResize.subscribe(function(){n.adjust()})}},t.prototype.getDistanceBetweenPoints=function(t,e){var n=t.latitude*Math.PI/180,i=e.latitude*Math.PI/180,r=t.longitude*Math.PI/180,o=i-n,s=e.longitude*Math.PI/180-r,a=Math.sin(o/2)*Math.sin(o/2)+Math.cos(n)*Math.cos(i)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371e3},t.prototype.getFixedDistance=function(t,e){return Kt([t.longitude,t.latitude],[e.longitude,e.latitude])/this._view.getResolution()},t.prototype.getDistanceFromLocation=function(t){if(this._geolocationIcon.point){var e=this._geolocationIcon.point.getCoordinates();return e=this._toLonLat(e),this.getDistanceBetweenPoints(t,new $h.a(e[0],e[1]))}return-1},t.prototype._triggerMapClick=function(){this._deviceService.isLgScreen?(void 0!==this._selectedFeatureId&&this.deselectFeature(),this.onClick.emit()):void 0!==this._selectedFeatureId?this.deselectFeature():(this.onClick.emit(),this.showPopup())},t.prototype._triggerUtfGridClick=function(t){for(var e in this._gridLayers)if(this._features[e+"-"+t.id]){this.selectFeature(e+"-"+t.id,!this._features[e+"-"+t.id].properties.noInteraction);break}},t.prototype._checkFeatureClick=function(t){var e=this,n=this._map.getEventCoordinate(t.originalEvent);this.getUTFGridInfo(n).then(function(n){var i,r,o,s,a=15,u=15;e._dataSource.forEachFeature(function(n){if(!e._features[n.getId()+""].properties.noInteraction)if("Point"===n.getGeometry().getType()){var c=n.getGeometry().getCoordinates(),h=new $h.a(e._toLonLat(c)[0],e._toLonLat(c)[1]),l=new $h.a(e._toLonLat(t.coordinate)[0],e._toLonLat(t.coordinate)[1]);(p=e.getFixedDistance(h,l))<a&&(a=p,r=n)}else if(!r&&"LineString"===n.getGeometry().getType()||"MultiLineString"===n.getGeometry().getType()){var p;c=void 0,n.getGeometry().getType(),c=n.getGeometry().getClosestPoint(t.coordinate),h=new $h.a(e._toLonLat(c)[0],e._toLonLat(c)[1]),l=new $h.a(e._toLonLat(t.coordinate)[0],e._toLonLat(t.coordinate)[1]),(p=e.getFixedDistance(h,l))<u&&(u=p,o=n)}else if(!r&&!o&&"Polygon"===n.getGeometry().getType()||"MultiPolygon"===n.getGeometry().getType()){var f=void 0,d=void 0;(n.getGeometry().getType(),d=n.getGeometry()).containsXY(t.coordinate[0],t.coordinate[1])&&((f=d.getArea())<i||!i)&&(i=f,s=n)}}),r?e.selectFeature(r.get("id"),!0):o?e.selectFeature(o.get("id"),!0):n?e._triggerUtfGridClick(n):s?e.selectFeature(s.get("id"),!0):e._triggerMapClick()})},t.prototype._updateFeatures=function(t){this._features=t,this._selectedFeatureId&&void 0===t[this._selectedFeatureId]&&this.deselectFeature(),this._drawAllFeatures(),this._isReady||(this._isReady=!0,this.onReady.next(this._isReady),this._modelService.firstStageId&&this.selectFeature(this._modelService.firstStageId,!0)),this.onMapUpdated.next(Date.now())},t.prototype._drawAllFeatures=function(){var t=this;if(this._fixedDataSource)for(var e=0,n=this._fixedDataSource.getFeatures();e<n.length;e++)void 0!==this._features[(o=n[e]).getId()]&&this._features[o.getId()].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[o.getId()].geometry.type)||this._fixedDataSource.removeFeature(o);if(this._dataSource)for(var i=0,r=this._dataSource.getFeatures();i<r.length;i++){var o;(void 0===this._features[(o=r[i]).getId()]||this._features[o.getId()].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[o.getId()].geometry.type))&&this._dataSource.removeFeature(o)}for(var s in this._features)this._features[s].properties.hide||this._features[s].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[s].geometry.type)?!this._features[s].properties.hide&&this._features[s].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[s].geometry.type)&&(this._fixedDataSource&&this._fixedDataLayer||(this._fixedDataSource=new au({format:new Rr}),this._fixedDataLayer=new nu({source:this._fixedDataSource,style:function(e,n){return t._style(e)},updateWhileAnimating:!0,updateWhileInteracting:!1,zIndex:40}),this._map.addLayer(this._fixedDataLayer)),this._addFeature(s,this._fixedDataSource)):this._addFeature(s,this._dataSource);void 0!==this._activeFeatures&&this.filterFeatures(this._activeFeatures)},t.prototype.isInitialized=function(){return this._isReady},t.prototype.adjust=function(){this.isInitialized()&&this._map.updateSize()},t.prototype.moveContainer=function(t){this._map.setTarget(t),this.adjust()},t.prototype.centerOnCoords=function(t,e){t&&t.latitude&&t.longitude&&"number"==typeof t.latitude&&"number"==typeof t.longitude&&!Number.isNaN(t.latitude)&&!Number.isNaN(t.longitude)&&this._view.animate({center:this._fromLonLat([t.longitude,t.latitude]),duration:500,zoom:"number"==typeof e?Math.min(this._view.getMaxZoom(),Math.max(this._view.getMinZoom(),e)):this._view.getZoom()})},t.prototype.centerOnFeature=function(t,e){e&&this._view.cancelAnimations(),this._dataSource.getFeatureById(t)&&this.fitExtent(this._extentToLonLat(this._dataSource.getFeatureById(t).getGeometry().getExtent()),Uh.j,Uh.h)},t.prototype.centerFeatureLayer=function(){this._view.cancelAnimations(),this._dataSource.getFeatures().length>0&&this.fitExtent(this._extentToLonLat(this._dataSource.getExtent()),Uh.j,void 0,{maxZoom:14,constrainResolution:!1,nearest:!1})},t.prototype.fitExtent=function(t,e,n,i){t=this._extentFromLonLat(t||this._configService.getMapExtent()),i||(i={}),i.padding||(i.padding=e||Uh.j),i.duration||(i.duration=n||Uh.h),this._view.fit(t,i)},t.prototype.setLocation=function(t){var e=this._fromLonLat([t.longitude,t.latitude]);this._geolocationIcon.location?this._geolocationIcon.point.setCoordinates(e):(this._geolocationIcon.location=new or,this._geolocationIcon.point=new Ii(e),this._geolocationIcon.location.setGeometry(this._geolocationIcon.point),this._geolocationIcon.location.setStyle(this._locationIconStyle)),this._geolocationIcon.accuracy?this._geolocationIcon.circle.setCenterAndRadius(e,t.accuracy):(this._geolocationIcon.accuracy=new or,this._geolocationIcon.circle=new rr(e,t.accuracy),this._geolocationIcon.accuracy.setGeometry(this._geolocationIcon.circle)),this._geolocationIcon.layer||(this._geolocationIcon.layer=new nu({source:new au({features:[this._geolocationIcon.location,this._geolocationIcon.accuracy]}),updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:200}),this._map.addLayer(this._geolocationIcon.layer)),this._geolocationIcon.location.changed(),this._geolocationIcon.accuracy.changed(),this._geolocationIcon.point.changed(),this._geolocationIcon.circle.changed(),this._geolocationIcon.layer.changed(),this._map.render()},t.prototype.setLocationAccuracy=function(t){this._geolocationIcon.accuracy&&this._geolocationIcon.circle.setRadius(void 0!==t?t:50)},t.prototype.toggleLocationIcon=function(t){if(this._geolocationIcon.location&&(void 0===t||"string"==typeof t&&t!==this._geolocationIcon.icon))switch(this._geolocationIcon.icon){case"location":this._geolocationIcon.location.setStyle(this._locationIconArrowStyle),this._geolocationIcon.icon="arrow";break;case"arrow":default:this._geolocationIcon.location.setStyle(this._locationIconStyle),this._geolocationIcon.icon="location"}},t.prototype.removeLocation=function(){this._map.removeLayer(this._geolocationIcon.layer),this._geolocationIcon.layer=null,this._geolocationIcon.point=null,this._geolocationIcon.circle=null,this._geolocationIcon.location=null,this._geolocationIcon.accuracy=null,this._geolocationIcon.icon="location"},t.prototype.isInsideExtent=function(t){return!this._map||k(this._extentFromLonLat(this._configService.getMapExtent()),this._fromLonLat([t.longitude,t.latitude]))},t.prototype.rotate=function(t,e){t&&"number"!=typeof t||Number.isNaN(t)||0!==t&&Math.abs(t-180*this._view.getRotation()/Math.PI)<=10||(void 0===e||0===e?this._view.rotate(t*Math.PI/180):this._view.animate({rotation:t*Math.PI/180,duration:e}))},t.prototype.getCenter=function(){var t=this._toLonLat(this._view.getCenter());return new $h.a(t[0],t[1])},t.prototype.getZoom=function(){return this._view.getZoom()},t.prototype._addIconOverlay=function(t){if(!this._map.getOverlayById("icon-"+t)&&"Point"===this._dataSource.getFeatureById(t).getGeometry().getType()){var e=this._modelService.getFeatureIcon(t);if(""!==e){var n=void 0;if("wm-"===e.substring(0,3))(n=document.createElement("i")).className=e,n.style.fontSize="16px",n.style.color="#fff",n.style.height="inherit";else{n=document.createElement("div");var i=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",e.replace(" ",",")),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),i.setAttribute("viewBox","0 0 512 512"),i.setAttribute("width","16px"),i.setAttribute("height","16px"),i.appendChild(r),document.body.appendChild(i),r.getBBox()&&i.setAttribute("viewBox","0 0 "+r.getBBox().width+" "+r.getBBox().height),i.remove(),n.appendChild(i),n.style.fill="#fff"}n.style.zIndex="500",n.style.position="relative",n.style.top="1px",n.style.display="block",n.style.margin="0",this._map.addOverlay(new ka({id:"icon-"+t,element:n,stopEvent:!1,autoPan:!1,position:this._fromLonLat(this._features[t].geometry.coordinates),positioning:Ra.CENTER_CENTER}))}}},t.prototype._removeIconOverlay=function(t){this._map.getOverlayById("icon-"+t)&&this._map.removeOverlay(this._map.getOverlayById("icon-"+t))},t.prototype._style=function(t){return void 0===t.getProperties().minZoom||this._view.getZoom()>=t.getProperties().minZoom?"Point"===t.getGeometry().getType()?this._getPoiStyle(""+t.getId()):"LineString"===t.getGeometry().getType()||"MultiLineString"===t.getGeometry().getType()?this._getLineStyle(""+t.getId()):"Polygon"===t.getGeometry().getType()||"MultiPolygon"===t.getGeometry().getType()?this._getPolygonStyle(""+t.getId()):[]:[]},t.prototype._getPolygonStyle=function(t){var e=[],n=!1;if(!(this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):this._fixedDataSource.getFeatureById(t)?this._fixedDataSource.getFeatureById(t):void 0))return[new Ha];var i=this._modelService.getFeatureColor(t),r=this._modelService.getFeatureFillColor(t),o=this._modelService.getFeatureFillOpacity(t),s=this._modelService.getFeatureStrokeWidth(t),a=this._modelService.getFeatureStrokeOpacity(t),u=this._modelService.getFeatureLineDash(t);return""+this._selectedFeatureId==""+t&&(n=!0,o=Math.min(1,o+.1),s=Math.min(5,s+2),a=Math.min(1,a+.1),i=this._themeService.getTertiaryColor()),r="rgba("+this._themeService.getRgb(r)+","+o+")",i="rgba("+this._themeService.getRgb(i)+","+a+")",e.push(new Ha({fill:new fr({color:r}),stroke:new Ga({color:i,width:s,lineDash:u}),zIndex:n?400:100})),e},t.prototype._getLineStyle=function(t){var e=[],n=!1;if(!(this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0))return[new Ha];var i=this._modelService.getFeatureColor(t),r=this._modelService.getFeatureStrokeWidth(t),o=this._modelService.getFeatureStrokeOpacity(t),s=this._modelService.getFeatureLineDash(t);return""+this._selectedFeatureId==""+t&&(n=!0,r=Math.min(5,r+2),o=Math.min(1,o+.1),i=this._themeService.getTertiaryColor()),i="rgba("+this._themeService.getRgb(i)+","+o+")",(void 0===this._features[t].properties.showArrows&&this._configService.addArrowsOverTracks()||!0===this._features[t].properties.showArrows)&&this._view.getZoom()>12&&(e=this._getArrowStyle(this._dataSource.getFeatureById(t),this._view.getResolution(),i,n?410:110)),e.push(new Ha({stroke:new Ga({color:i,width:r,lineDash:s}),zIndex:n?400:100})),e},t.prototype._getPoiStyle=function(t){var e,n=!1,i=this._modelService.getFeatureColor(t);if(!(this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0))return[new Ha];if(""+this._selectedFeatureId==""+t&&(n=!0),n)this._removeIconOverlay(t),l=this._configService.getPoiPin(),e=[new Ha({image:new Wr({src:l.src,scale:l.scale*this._configService.getPoiSelectedRadius(),color:"#fff"}),zIndex:499})];else{var r=this._configService.getPoiMaxRadius(),o=this._configService.getPoiMinRadius(),s=this._configService.getIconPoiZoom(),a=this._configService.getPoiIconRadius(),u=this._configService.getPoiMinZoom(),c=this._view.getZoom(),h=c>=s?a:c<u?o:(r-o)/(s-u)*(c-u)+o,l=this._configService.getPoiPin();e=[new Ha({image:new Wr({src:l.src,scale:l.scale*h,color:i}),zIndex:150})],this._view.getZoom()>=this._configService.getIconPoiZoom()?this._addIconOverlay(t):this._removeIconOverlay(t)}return e},t.prototype._splitLineString=function(t,e,n){var i=function(t,e,n,i){var r=i/n;return[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r]},r=function(t,e,n){var i=e[0]-t[0],r=e[1]-t[1],o=Math.atan2(r,i);return n||(o=r<0&&i<0?-1*o:r<0&&0==i?2*Math.PI-o:-1*o),o},o=[],s=t.getCoordinates();if(0!==s.length){for(var a,u,c,h,l=0,p=s[l],f=s[l+1],d=n.vertices||r(p,f,n.alwaysUp),g=Math.ceil(t.getLength()/e),v=t.getLength()/g,y=n.midPoints&&!n.vertices,m=y?v/2:v,_=0;_<=g;_++){var b=(c=(a=p)[0]-(u=f)[0],h=a[1]-u[1],Math.sqrt(c*c+h*h));if((m+=b)<v){if(++l<s.length-1){p=s[l],f=s[l+1],d=n.vertices||r(p,f,n.alwaysUp),!n.vertices||n.extent&&!k(n.extent,p)||o.push(p),_--;continue}if(!y){var w=f;n.extent&&!k(n.extent,w)||(n.vertices||w.push(d),o.push(w))}break}p=w=i(p,f,b,m-v),n.extent&&!k(n.extent,w)||(n.vertices||w.push(d),o.push(w)),m=0}return o}},t.prototype._getArrowStyle=function(t,e,n,i){var r,o,s,a=.2-(17-this._view.getZoom())/75,u=[],c=this._map.getSize(),h=t.getGeometry();try{s=h.getLength()/(85*e)}catch(l){return console.warn("WARNING: wrong geometry in feature "+t.getId()),u}return s<2?u:(s>1e6&&(s=Math.sqrt(s/100),r=this._view.calculateExtent([c[0]*s,c[1]*s]),o=this._splitLineString(h,85*e*s,{extent:r,vertices:!1}),h=new Er(o)),r=this._view.calculateExtent([c[0]+170,c[1]+170]),(o=this._splitLineString(h,85*e,{alwaysUp:!1,midPoints:!0,extent:r})).forEach(function(t){u.push(new Ha({geometry:new Ii([t[0],t[1]]),image:new Wr({src:Xh.a.deployUrl+"assets/images/line-icon-arrow.png",scale:a,rotation:t[2],color:n,rotateWithView:!0}),zIndex:i+1}))}),u)},t.prototype.selectFeature=function(t,e){if(this._selectedFeatureId!==(t=""+t)){if(void 0!==this._selectedFeatureId&&this.deselectFeature(),this._features&&this._features[t]&&this._features[t].properties.hide&&(this._addFeature(t,this._dataSource),this._utfgridSelectedFeature=this._dataSource.getFeatureById(t)),this._dataSource.getFeatureById(t)){var n=this._dataSource.getFeatureById(t);if("Point"===n.getGeometry().getType()){var i=this._modelService.getFeatureIcon(t);if(""!==i){var r=void 0;if("wm-"===i.substring(0,3))(r=document.createElement("i")).className=i,r.style.fontSize="24px",r.style.color=this._modelService.getFeatureColor(t),r.style.height="inherit";else{r=document.createElement("div");var o=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",i.replace(" ",",")),o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),o.setAttribute("viewBox","0 0 512 512"),o.setAttribute("width","24px"),o.setAttribute("height","24px"),o.appendChild(s),document.body.appendChild(o),s.getBBox()&&o.setAttribute("viewBox","0 0 "+s.getBBox().width+" "+s.getBBox().height),o.remove(),r.appendChild(o),r.style.fill=this._modelService.getFeatureColor(t)}r.style.zIndex="500",r.style.position="relative",r.style.top="1px",r.style.display="block",this._map.addOverlay(new ka({id:"selected-pin-icon",element:r,stopEvent:!1,autoPan:!1,position:this._fromLonLat(this._features[t].geometry.coordinates),positioning:Ra.CENTER_CENTER}))}}this._selectedFeatureId=t,n.changed()}this._map.render(),this._selectedFeatureId&&e&&this.showPopup(t)}else e?this.showPopup(t):this.showPopup()},t.prototype.deselectFeature=function(){if(this._selectedFeatureId){var t=void 0;this._utfgridSelectedFeature?(this._dataSource.removeFeature(this._utfgridSelectedFeature),this._utfgridSelectedFeature=void 0):this._dataSource.getFeatureById(this._selectedFeatureId)&&"Point"===(t=this._dataSource.getFeatureById(this._selectedFeatureId)).getGeometry().getType()&&this._map.getOverlayById("selected-pin-icon")&&this._map.removeOverlay(this._map.getOverlayById("selected-pin-icon")),this._selectedFeatureId=void 0,t&&t.changed()}this._map.render(),this.showPopup()},t.prototype.showPopup=function(t){var e=this;!this._deviceService.isLgScreen||t&&this._features[t].properties.noDetails||this._configService.openWebLinkFromPopup()?this.onPopupChange.emit(t):!t||this._features[t].properties.noDetails||this._features[t].properties.noInteraction?this.onPopupChange.emit():this._routerService.onUrlChange.pipe(Object(a.a)(1)).subscribe(function(n){e._routerService.navigate(["/details/"+t],{replaceUrl:-1!==n.urlAfterRedirects.indexOf("details")})})},t.prototype._addFeature=function(t,e){var n;if(e.getFeatureById(t))n=e.getFeatureById(t);else{var i=[];try{i=new Rr({featureProjection:"EPSG:3857"}).readFeatures(this._features[t])}catch(r){return}if(0===i.length)return;(n=i[0]).setId(t),e.addFeature(n)}this._map.render()},t.prototype.filterFeatures=function(t){for(var e in t)t[e]=""+t[e];for(var n=this._dataSource.getFeatures(),i={},r=0,o=t;r<o.length;r++)i[c=o[r]]=!1;for(var s=0,a=n;s<a.length;s++){var u=a[s];if(-1===t.indexOf(u.getId()+"")){this._selectedFeatureId===u.getId()+""&&this.deselectFeature();try{this._dataSource.removeFeature(u)}catch(h){}this._removeIconOverlay(u.getId()+"")}else i[u.getId()+""]=!0}for(var c in i)i[c]||(this._features[c]&&!this._features[c].properties.hide&&this._addFeature(c,this._dataSource),i[c]=!0);this._map.render(),this._activeFeatures=t,void 0!==this._selectedFeatureId&&-1===this._activeFeatures.indexOf(this._selectedFeatureId)&&this.showPopup()},t.prototype.filterRelatedFeatures=function(t){var e=this._features[t],n=[];if(e){if(e.properties.related&&e.properties.related.poi&&e.properties.related.poi.related)for(var i=0,r=e.properties.related.poi.related;i<r.length;i++)n.push(r[i].toString());n.push(e.properties.id),this.filterFeatures(n)}},t.prototype.resetFilters=function(){this._activeFeatures=void 0,this._drawTaxonomyFilteredFeatures()},t.prototype._drawTaxonomyFilteredFeatures=function(){var t=!0;for(var e in this._taxonomyFilters)if(!(t=t&&this._taxonomyFilters[e]))break;if(!this._taxonomyFilters||t)return this._activeFeatures=void 0,void this._drawAllFeatures();var n=[];for(var e in this._features)if(this._features[e].properties.preventFilter)n.push(e+"");else{var i=!1;for(var r in this._features[e].properties.taxonomy){for(var o in this._features[e].properties.taxonomy[r])if(this._taxonomyFilters[this._features[e].properties.taxonomy[r][o]+""]){i=!0,n.push(e+"");break}if(i)break}}this.filterFeatures(n)},t.prototype.toggleTaxonomyFilter=function(t){void 0!==this._taxonomyFilters[t+""]&&(this._taxonomyFilters[t+""]=!this._taxonomyFilters[t+""],this._drawTaxonomyFilteredFeatures(),this.onTaxonomyFiltersChange.next(this._taxonomyFilters))},t.prototype.toggleAllTaxonomyFilters=function(){if(void 0!==this._taxonomyFilters){var t=0;for(var e in this._taxonomyFilters)this._taxonomyFilters[e]&&t++;for(var e in this._taxonomyFilters)this._taxonomyFilters[e]=0===t;this._drawTaxonomyFilteredFeatures(),this.onTaxonomyFiltersChange.next(this._taxonomyFilters)}},t.prototype.enableInteraction=function(){this._isReady&&(this._map.getInteractions().forEach(function(t){t.setActive(!0)}),this._isInteractive=!0)},t.prototype.disableInteraction=function(){this._isReady&&(this._map.getInteractions().forEach(function(t){t.setActive(!1)}),this._isInteractive=!1)},t.prototype.getClosestPoint=function(t,e){var n;if(void 0!==e){if(this._dataSource.getFeatureById(e))n=this._toLonLat(this._dataSource.getFeatureById(e).getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])));else if(this._features&&this._features[e]){var i=new Rr({featureProjection:"EPSG:3857"}).readFeatures(this._features[e])[0];n=this._toLonLat(i.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])))}}else(i=this._dataSource.getClosestFeatureToCoordinate(this._fromLonLat([t.longitude,t.latitude])))&&(n=this._toLonLat(i.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude]))));return n&&n[0]&&n[1]||(n=[void 0,void 0]),new $h.a(n[0],n[1])},t.prototype.getClosestPointToLocation=function(t){var e;if(this._geolocationIcon.point){var n=this._geolocationIcon.point.getCoordinates();n=this._toLonLat(n),e=this.getClosestPoint(new $h.a(n[0],n[1]),t)}return e},t.prototype.getFeatureLength=function(t){var e=0;if(t&&t.geometry&&"LineString"===t.geometry.type)for(var n=0;n<t.geometry.coordinates.length-1;n++)e+=this.getDistanceBetweenPoints(new $h.a(t.geometry.coordinates[n][0],t.geometry.coordinates[n][0]),new $h.a(t.geometry.coordinates[n+1][0],t.geometry.coordinates[n+1][0]));return e},t.ngInjectableDef=i.T({factory:function(){return new t(i.X(Vh.a),i.X(Bh.a),i.X(Hh.a),i.X(Wh.a),i.X(qh.a))},token:t,providedIn:"root"}),t}()},"26FU":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("mrSG"),r=n("K9Ia"),o=n("8g8A"),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i.d(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.a)},"2Bdj":function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",function(){return i})},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"4pTB":function(t,e){},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),r=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.project=n,r.count=0,r.thisArg=i||r,r}return i.d(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(r.a)},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("iLxQ"),r=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var i=n("FFOo"),r=n("L/V9"),o=n("6ahw"),s=n("xTla"),a=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var s=this.operator,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof i.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=h(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}},i,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(a.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=h(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}();function h(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"81W9":function(t){t.exports={APP:{name:"Monte Pisano in Toscana",id:"it.webmapp.mptravel",customerName:"Monte Pisano"},HOME:[{view:"title",title:"Monte Pisano in Toscana",translations:{en:{title:"Monte Pisano in Tuscany"}}},{view:"expanded",title:"Scopri il Monte Pisano",subtitle:"Innamorati anche tu del Monte Pisano!",terms:["366","380"],translations:{en:{title:"Fall in love with Monte Pisano!"}}},{view:"compact-horizontal",title:"Dormire",subtitle:"Dormire fra Pisa e Lucca, sul Monte Pisano. Fra le nostre proposte, trova la struttura che fa al caso tuo!",terms:["257"],translations:{en:{title:"Sleep  between Pisa and Lucca, on the Monte Pisano. Find the offer made for you!"}}},{view:"compact-horizontal",title:"Mangiare e bere",subtitle:"Prova i Ristoranti, le Osterie e Prodotti Tipici del Monte Pisano.",terms:["270","267"],translations:{en:{title:"Try the restaurants, the Taverns and the Typical Products of Monte Pisano."}}},{view:"compact-horizontal",title:"Servizi",subtitle:"Persone e territorio a disposizione del viaggiatore.",terms:["271"],translations:{en:{title:"People and structures available for the travelers."}}},{view:"static-pages",title:"Offerte",translations:{en:{title:"Offers"}}}],LANGUAGES:{default:"it",available:["en"]},MAP:{maxZoom:16,minZoom:6,defZoom:9,center:[10,44],bbox:[9.45,41.71,13.11,45.16],layers:[{label:"Mappa",type:"maptile",tilesUrl:"https://api.webmapp.it/tiles/",default:!1,maxNativeZoom:17}]},OPTIONS:{baseUrl:"https://k.webmapp.it/mptravel/",startUrl:"/main/explore",beBaseUrl:"http://mptravel.be.webmapp.it/",useClustering:!0,poiMinRadius:1,poiMaxRadius:1,poiIconZoom:10,showMapViewfinder:!0},THEME:{fontFamilyHeader:"Roboto Slab",fontFamilyContent:"Roboto Slab",primary:"#F39437"},GEOLOCATION:{record:{enable:!0}},OFFLINE:{enable:!0},PAGES:{offers:{url:"https://a.webmapp.it/montepisano.travel/resources/offerte.json",type:"jsonOffersList",icon:"wm-icon-montepisano",title:"Offerte",image:"offerte.jpg",translations:{en:{title:"Offers"}}}}}},"8g8A":function(t,e,n){"use strict";function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},"9TBO":function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return a});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(e){o(e)}}function a(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})}function s(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function a(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}},"A1R+":function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n("YcpW");function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(r,t.leaf?i(o):o);return r}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function c(t,e){return t.minX-e.minX}function h(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!d(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],d(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):f(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],d(t,s=e.leaf?n(o):o)){if(e.leaf||f(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,u=this.toBBox(t),c=[],h=[];a||c.length;){if(a||(a=c.pop(),i=c[c.length-1],n=h.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),c.push(a),this._condense(c),this;s||a.leaf||!f(a,u)?i?(a=i.children[++n],s=!1):a=null:(c.push(a),h.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:c,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=g([])).leaf=!1,r.height=i;var u,c,h,l,p=Math.ceil(o/a),f=p*Math.ceil(Math.sqrt(a));for(v(t,e,n,f,this.compareMinX),u=e;u<=n;u+=f)for(v(t,u,h=Math.min(u+f-1,n),p,this.compareMinY),c=u;c<=h;c+=p)l=Math.min(c+p-1,h),r.children.push(this._build(t,c,l,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,c,h,p,f,d;i.push(e),!e.leaf&&i.length-1!==n;){for(h=p=1/0,r=0,o=e.children.length;r<o;r++)u=l(s=e.children[r]),f=t,d=s,(c=(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-u)<p?(p=c,h=u<h?u:h,a=s):c===p&&u<h&&(h=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),u(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,u,c,h,p,f,d,g,v,y,m;for(c=h=1/0,i=e;i<=n-e;i++)f=r=a(t,0,i,this.toBBox),d=o=a(t,i,n,this.toBBox),g=Math.max(f.minX,d.minX),v=Math.max(f.minY,d.minY),y=Math.min(f.maxX,d.maxX),m=Math.min(f.maxY,d.maxY),s=Math.max(0,y-g)*Math.max(0,m-v),u=l(r)+l(o),s<c?(c=s,p=i,h=u<h?u:h):s===c&&u<h&&(h=u,p=i);return p},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:c,r=t.leaf?this.compareMinY:h;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,c=a(t,0,e,s),h=a(t,n-e,n,s),l=p(c)+p(h);for(r=e;r<n-e;r++)o=t.children[r],u(c,t.leaf?s(o):o),l+=p(c);for(r=n-e-1;r>=e;r--)o=t.children[r],u(h,t.leaf?s(o):o),l+=p(h);return l},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)u(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},"A7o+":function(t,e,n){"use strict";var i=n("mrSG"),r=n("CcnG"),o=n("F/XL"),s=n("p0ib"),a=n("6blF"),u=n("dEwP"),c=n("t9fZ"),h=n("S1nX"),l=n("67Y/"),p=n("Qgas");function f(t,e,n){return 0===n?[e]:(t.push(e),t)}var d=n("15JJ");n.d(e,"g",function(){return P}),n.d(e,"f",function(){return g}),n.d(e,"m",function(){return O}),n.d(e,"l",function(){return M}),n.d(e,"j",function(){return I}),n.d(e,"b",function(){return y}),n.d(e,"a",function(){return m}),n.d(e,"h",function(){return E}),n.d(e,"d",function(){return C}),n.d(e,"c",function(){return _}),n.d(e,"e",function(){return b}),n.d(e,"i",function(){return R}),n.d(e,"k",function(){return T});var g=function(){return function(){}}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getTranslation=function(t){return Object(o.a)({})},e}(g),y=function(){return function(){}}(),m=function(){function t(){}return t.prototype.handle=function(t){return t.key},t}(),_=function(){return function(){}}(),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.compile=function(t,e){return t},e.prototype.compileTranslations=function(t,e){return t},e}(_);function w(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!w(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!w(t[i],e[i]))return!1;return!0}}return!1}function x(t){return null!=t}function S(t){return t&&"object"==typeof t&&!Array.isArray(t)}var E=function(){return function(){}}(),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return Object(i.d)(e,t),e.prototype.interpolate=function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t},e.prototype.getValue=function(t,e){var n=e.split(".");e="";do{e+=n.shift(),!x(t)||!x(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t},e.prototype.interpolateFunction=function(t,e){return t(e)},e.prototype.interpolateString=function(t,e){var n=this;return e?t.replace(this.templateMatcher,function(t,i){var r=n.getValue(e,i);return x(r)?r:t}):t},e}(E),T=function(){return function(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new r.m,this.onLangChange=new r.m,this.onDefaultLangChange=new r.m}}(),O=new r.p("USE_STORE"),M=new r.p("USE_DEFAULT_LANG"),I=function(){function t(t,e,n,i,o,s,a){void 0===s&&(s=!0),void 0===a&&(a=!1),this.store=t,this.currentLoader=e,this.compiler=n,this.parser=i,this.missingTranslationHandler=o,this.useDefaultLang=s,this.isolate=a,this.pending=!1,this._onTranslationChange=new r.m,this._onLangChange=new r.m,this._onDefaultLangChange=new r.m,this._langs=[],this._translations={},this._translationRequests={}}return Object.defineProperty(t.prototype,"onTranslationChange",{get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLangChange",{get:function(){return this.isolate?this._onLangChange:this.store.onLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDefaultLangChange",{get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultLang",{get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLang",{get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langs",{get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translations",{get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t},enumerable:!0,configurable:!0}),t.prototype.setDefaultLang=function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(this.defaultLang||(this.defaultLang=t),n.pipe(Object(c.a)(1)).subscribe(function(n){e.changeDefaultLang(t)})):this.changeDefaultLang(t)}},t.prototype.getDefaultLang=function(){return this.defaultLang},t.prototype.use=function(t){var e=this;if(t===this.currentLang)return Object(o.a)(this.translations[t]);var n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.pipe(Object(c.a)(1)).subscribe(function(n){e.changeLang(t)}),n):(this.changeLang(t),Object(o.a)(this.translations[t]))},t.prototype.retrieveTranslations=function(t){var e;return void 0===this.translations[t]&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e},t.prototype.getTranslation=function(t){var e=this;this.pending=!0;var n=this.currentLoader.getTranslation(t).pipe(Object(h.a)());return this.loadingTranslations=n.pipe(Object(c.a)(1),Object(l.a)(function(n){return e.compiler.compileTranslations(n,t)}),Object(h.a)()),this.loadingTranslations.subscribe(function(n){e.translations[t]=n,e.updateLangs(),e.pending=!1},function(t){e.pending=!1}),n},t.prototype.setTranslation=function(t,e,n){void 0===n&&(n=!1),e=this.compiler.compileTranslations(e,t),this.translations[t]=n&&this.translations[t]?function t(e,n){var i=Object.assign({},e);return S(e)&&S(n)&&Object.keys(n).forEach(function(r){var o,s;S(n[r])?r in e?i[r]=t(e[r],n[r]):Object.assign(i,((o={})[r]=n[r],o)):Object.assign(i,((s={})[r]=n[r],s))}),i}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})},t.prototype.getLangs=function(){return this.langs},t.prototype.addLangs=function(t){var e=this;t.forEach(function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)})},t.prototype.updateLangs=function(){this.addLangs(Object.keys(this.translations))},t.prototype.getParsedResult=function(t,e,n){var r,a,u,c,h;if(e instanceof Array){var d={},g=!1;try{for(var v=Object(i.j)(e),y=v.next();!y.done;y=v.next())d[w=y.value]=this.getParsedResult(t,w,n),"function"==typeof d[w].subscribe&&(g=!0)}catch(E){r={error:E}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(r)throw r.error}}if(g){var m=void 0;try{for(var _=Object(i.j)(e),b=_.next();!b.done;b=_.next()){var w,x="function"==typeof d[w=b.value].subscribe?d[w]:Object(o.a)(d[w]);m=void 0===m?x:Object(s.a)(m,x)}}catch(C){u={error:C}}finally{try{b&&!b.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}return m.pipe(Object(p.a)(f,[]),Object(l.a)(function(t){var n={};return t.forEach(function(t,i){n[e[i]]=t}),n}))}return d}if(t&&(h=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===h&&this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(h=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===h){var S={key:e,translateService:this};void 0!==n&&(S.interpolateParams=n),h=this.missingTranslationHandler.handle(S)}return void 0!==h?h:e},t.prototype.get=function(t,e){var n=this;if(!x(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return a.a.create(function(i){var r=function(t){i.next(t),i.complete()},o=function(t){i.error(t)};n.loadingTranslations.subscribe(function(i){"function"==typeof(i=n.getParsedResult(i,t,e)).subscribe?i.subscribe(r,o):r(i)},o)});var i=this.getParsedResult(this.translations[this.currentLang],t,e);return"function"==typeof i.subscribe?i:Object(o.a)(i)},t.prototype.stream=function(t,e){var n=this;if(!x(t)||!t.length)throw new Error('Parameter "key" required');return Object(u.a)(this.get(t,e),this.onLangChange.pipe(Object(d.a)(function(i){var r=n.getParsedResult(i.translations,t,e);return"function"==typeof r.subscribe?r:Object(o.a)(r)})))},t.prototype.instant=function(t,e){if(!x(t)||!t.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],t,e);if(void 0!==n.subscribe){if(t instanceof Array){var i={};return t.forEach(function(e,n){i[t[n]]=t[n]}),i}return t}return n},t.prototype.set=function(t,e,n){void 0===n&&(n=this.currentLang),this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})},t.prototype.changeLang=function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang||this.changeDefaultLang(t)},t.prototype.changeDefaultLang=function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})},t.prototype.reloadLang=function(t){return this.resetLang(t),this.getTranslation(t)},t.prototype.resetLang=function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0},t.prototype.getBrowserLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return-1!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage).indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t}},t.prototype.getBrowserCultureLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator)return(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage},t}(),R=function(){function t(t,e){this.translate=t,this._ref=e,this.value=""}return t.prototype.updateValue=function(t,e,n){var i=this,r=function(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,t,e);"function"==typeof o.subscribe?o.subscribe(r):r(o)}this.translate.get(t,e).subscribe(r)},t.prototype.transform=function(t){for(var e,n=this,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(!t||0===t.length)return t;if(w(t,this.lastKey)&&w(i,this.lastParams))return this.value;if(x(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){var o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{e=JSON.parse(o)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+i[0])}}else"object"!=typeof i[0]||Array.isArray(i[0])||(e=i[0]);return this.lastKey=t,this.lastParams=i,this.updateValue(t,e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(i){n.lastKey&&i.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(i){n.lastKey&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){n.lastKey&&(n.lastKey=null,n.updateValue(t,e))})),this.value},t.prototype._dispose=function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)},t.prototype.ngOnDestroy=function(){this._dispose()},t}(),P=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:g,useClass:v},e.compiler||{provide:_,useClass:b},e.parser||{provide:E,useClass:C},e.missingTranslationHandler||{provide:y,useClass:m},T,{provide:O,useValue:e.isolate},{provide:M,useValue:e.useDefaultLang},I]}},t.forChild=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:g,useClass:v},e.compiler||{provide:_,useClass:b},e.parser||{provide:E,useClass:C},e.missingTranslationHandler||{provide:y,useClass:m},{provide:O,useValue:e.isolate},{provide:M,useValue:e.useDefaultLang},I]}},t}()},AxiF:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("mrSG"),r=n("FFOo"),o=n("b7mW"),s=n("G5J1");function a(t){return function(e){return 0===t?Object(s.b)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.ring=new Array,i.count=0,i}return i.d(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()},e}(r.a)},Axip:function(t,e,n){"use strict";var i=n("CcnG"),r=new i.p("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:void 0),o=n("K9Ia"),s=n("Ip0R");n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var a=function(){function t(t,e){this.document=t,this.window=e,this.copySubject=new o.a,this.copyResponse$=this.copySubject.asObservable()}return Object.defineProperty(t.prototype,"isSupported",{get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window},enumerable:!0,configurable:!0}),t.prototype.isTargetValid=function(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")},t.prototype.copyFromInputElement=function(t){try{this.selectTarget(t);var e=this.copyText();return this.clearSelection(t,this.window),e&&this.isCopySuccessInIE11()}catch(n){return!1}},t.prototype.isCopySuccessInIE11=function(){var t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))},t.prototype.copyFromContent=function(t,e){if(void 0===e&&(e=this.window.document.body),this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(n){throw new Error("Container should be a Dom element")}}return this.tempTextArea.value=t,this.copyFromInputElement(this.tempTextArea)},t.prototype.destroy=function(t){void 0===t&&(t=this.window.document.body),this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)},t.prototype.selectTarget=function(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length},t.prototype.copyText=function(){return this.document.execCommand("copy")},t.prototype.clearSelection=function(t,e){t&&t.focus(),e.getSelection().removeAllRanges()},t.prototype.createTempTextArea=function(t,e){var n,i="rtl"===t.documentElement.getAttribute("dir");return(n=t.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[i?"right":"left"]="-9999px",n.style.top=(e.pageYOffset||t.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n},t.prototype.pushCopyReponse=function(t){this.copySubject.next(t)},t.ngInjectableDef=Object(i.T)({factory:function(){return new t(Object(i.X)(s.c),Object(i.X)(r,8))},token:t,providedIn:"root"}),t}(),u=function(){return function(){}}()},AytR:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={production:!0,deployUrl:"/wp-content/plugins/wm-embedmaps/assets/js/core/",ioniconsUrl:"/wp-content/plugins/wm-embedmaps/assets/js/core/assets/icons/ionicons/svg/"}},BCwa:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("9TBO"),r=n("FX7f"),o=function(){return Object(r.a)().easing("cubic-bezier(0.0, 0.0, 0.2, 1)").duration(300)},s=function(t){var e,n,i=t.width+8,s=Object(r.a)(),a=Object(r.a)();return t.isEndSide?(e=i+"px",n="0px"):(e=-i+"px",n="0px"),s.addElement(t.menuInnerEl).fromTo("transform","translateX("+e+")","translateX("+n+")"),a.addElement(t.backdropEl).fromTo("opacity",.01,.32),o().addAnimation([s,a])},a=function(t){var e,n,i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");var s=Object(r.a)().addElement(t.menuInnerEl).fromTo("transform","translateX("+n+")","translateX(0px)"),a=Object(r.a)().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX("+e+")"),u=Object(r.a)().addElement(t.backdropEl).fromTo("opacity",.01,.32);return o().addAnimation([s,u,a])},u=function(t){var e=t.width*(t.isEndSide?-1:1)+"px",n=Object(r.a)().addElement(t.contentEl).fromTo("transform","translateX(0px)","translateX("+e+")");return o().addAnimation(n)},c=function(){var t=new Map,e=[],n=function(t){return Object(i.a)(void 0,void 0,void 0,function(){var n,r;return Object(i.c)(this,function(i){switch(i.label){case 0:return[4,f()];case 1:return i.sent(),"start"===t||"end"===t?(n=p(function(e){return e.side===t&&!e.disabled}))?[2,n]:[2,p(function(e){return e.side===t})]:null!=t?[2,p(function(e){return e.menuId===t})]:(r=p(function(t){return!t.disabled}))?[2,r]:[2,e.length>0?e[0].el:void 0]}})})},r=function(){return Object(i.a)(void 0,void 0,void 0,function(){return Object(i.c)(this,function(t){switch(t.label){case 0:return[4,f()];case 1:return t.sent(),[2,h()]}})})},o=function(e,n){t.set(e,n)},c=function(t){var n=t.side;e.filter(function(e){return e.side===n&&e!==t}).forEach(function(t){return t.disabled=!0})},h=function(){return p(function(t){return t._isOpen})},l=function(){return e.some(function(t){return t.isAnimating})},p=function(t){var n=e.find(t);if(void 0!==n)return n.el},f=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(function(t){return t.componentOnReady()}))};return o("reveal",u),o("push",a),o("overlay",s),{registerAnimation:o,get:n,getMenus:function(){return Object(i.a)(void 0,void 0,void 0,function(){return Object(i.c)(this,function(t){switch(t.label){case 0:return[4,f()];case 1:return t.sent(),[2,e.map(function(t){return t.el})]}})})},getOpen:r,isEnabled:function(t){return Object(i.a)(void 0,void 0,void 0,function(){var e;return Object(i.c)(this,function(i){switch(i.label){case 0:return[4,n(t)];case 1:return(e=i.sent())?[2,!e.disabled]:[2,!1]}})})},swipeGesture:function(t,e){return Object(i.a)(void 0,void 0,void 0,function(){var r;return Object(i.c)(this,function(i){switch(i.label){case 0:return[4,n(e)];case 1:return(r=i.sent())&&(r.swipeGesture=t),[2,r]}})})},isAnimating:function(){return Object(i.a)(void 0,void 0,void 0,function(){return Object(i.c)(this,function(t){switch(t.label){case 0:return[4,f()];case 1:return t.sent(),[2,l()]}})})},isOpen:function(t){return Object(i.a)(void 0,void 0,void 0,function(){var e;return Object(i.c)(this,function(i){switch(i.label){case 0:return null==t?[3,2]:[4,n(t)];case 1:return[2,void 0!==(e=i.sent())&&e.isOpen()];case 2:return[4,r()];case 3:return[2,void 0!==(e=i.sent())]}})})},enable:function(t,e){return Object(i.a)(void 0,void 0,void 0,function(){var r;return Object(i.c)(this,function(i){switch(i.label){case 0:return[4,n(e)];case 1:return(r=i.sent())&&(r.disabled=!t),[2,r]}})})},toggle:function(t){return Object(i.a)(void 0,void 0,void 0,function(){var e;return Object(i.c)(this,function(i){switch(i.label){case 0:return[4,n(t)];case 1:return(e=i.sent())?[2,e.toggle()]:[2,!1]}})})},close:function(t){return Object(i.a)(void 0,void 0,void 0,function(){var e;return Object(i.c)(this,function(i){switch(i.label){case 0:return[4,void 0!==t?n(t):r()];case 1:return void 0!==(e=i.sent())?[2,e.close()]:[2,!1]}})})},open:function(t){return Object(i.a)(void 0,void 0,void 0,function(){var e;return Object(i.c)(this,function(i){switch(i.label){case 0:return[4,n(t)];case 1:return(e=i.sent())?[2,e.open()]:[2,!1]}})})},_getOpenSync:h,_createAnimation:function(e,n){var i=t.get(e);if(!i)throw new Error("animation not registered");return i(n)},_register:function(t){e.indexOf(t)<0&&(t.disabled||c(t),e.push(t))},_unregister:function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},_setOpen:function(t,e,n){return Object(i.a)(void 0,void 0,void 0,function(){var o;return Object(i.c)(this,function(i){switch(i.label){case 0:return l()?[2,!1]:e?[4,r()]:[3,3];case 1:return(o=i.sent())&&t.el!==o?[4,o.setOpen(!1,!1)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2,t._setOpen(e,n)]}})})},_setActiveMenu:c}}()},Bf66:function(t,e,n){var i={"./ion-action-sheet-controller_8.entry.js":["tiht",0,16],"./ion-action-sheet-ios.entry.js":["8fxj",0,17],"./ion-action-sheet-md.entry.js":["/NAp",0,18],"./ion-alert-ios.entry.js":["v39o",0,19],"./ion-alert-md.entry.js":["LO2T",0,20],"./ion-app_8-ios.entry.js":["QHj0",0,21],"./ion-app_8-md.entry.js":["qAXt",0,22],"./ion-avatar_3-ios.entry.js":["0dZQ",0,23],"./ion-avatar_3-md.entry.js":["KCJs",0,24],"./ion-back-button-ios.entry.js":["alfR",0,25],"./ion-back-button-md.entry.js":["U/jw",0,26],"./ion-backdrop-ios.entry.js":["R/c5",27],"./ion-backdrop-md.entry.js":["pA8c",28],"./ion-button_2-ios.entry.js":["Msuq",0,29],"./ion-button_2-md.entry.js":["u/MI",0,30],"./ion-card_5-ios.entry.js":["lVNE",0,31],"./ion-card_5-md.entry.js":["Gb/J",0,32],"./ion-checkbox-ios.entry.js":["2YsE",0,33],"./ion-checkbox-md.entry.js":["lSJ9",0,34],"./ion-chip-ios.entry.js":["h+UY",0,35],"./ion-chip-md.entry.js":["d14f",0,36],"./ion-col_3.entry.js":["aoqT",37],"./ion-datetime_3-ios.entry.js":["SV55",0,38],"./ion-datetime_3-md.entry.js":["KqJa",0,39],"./ion-fab_3-ios.entry.js":["QdBw",0,40],"./ion-fab_3-md.entry.js":["wLS3",0,41],"./ion-img.entry.js":["lYhy",42],"./ion-infinite-scroll_2-ios.entry.js":["W9z5",0,43],"./ion-infinite-scroll_2-md.entry.js":["Osuu",0,44],"./ion-input-ios.entry.js":["TW18",0,45],"./ion-input-md.entry.js":["A3vp",0,46],"./ion-item-option_3-ios.entry.js":["QSHf",0,47],"./ion-item-option_3-md.entry.js":["Lc8E",0,48],"./ion-item_8-ios.entry.js":["yJkF",0,49],"./ion-item_8-md.entry.js":["nJbe",0,50],"./ion-loading-ios.entry.js":["qfPd",0,51],"./ion-loading-md.entry.js":["Voy3",0,52],"./ion-menu_4-ios.entry.js":["FBP2",0,53],"./ion-menu_4-md.entry.js":["g/I3",0,54],"./ion-modal-ios.entry.js":["0+Bq",0,55],"./ion-modal-md.entry.js":["AF5P",0,56],"./ion-nav_5.entry.js":["nD5p",0,57],"./ion-popover-ios.entry.js":["ZG/G",0,58],"./ion-popover-md.entry.js":["z0lq",0,59],"./ion-progress-bar-ios.entry.js":["2YQO",0,60],"./ion-progress-bar-md.entry.js":["qDED",0,61],"./ion-radio_2-ios.entry.js":["IOpt",0,62],"./ion-radio_2-md.entry.js":["Q4Z5",0,63],"./ion-range-ios.entry.js":["t0+n",0,64],"./ion-range-md.entry.js":["Hy4L",0,65],"./ion-refresher_2-ios.entry.js":["ASjW",0,66],"./ion-refresher_2-md.entry.js":["liZc",0,67],"./ion-reorder_2-ios.entry.js":["aMvp",0,68],"./ion-reorder_2-md.entry.js":["wCZP",0,69],"./ion-ripple-effect.entry.js":["yNr1",70],"./ion-route_4.entry.js":["EOjV",0,71],"./ion-searchbar-ios.entry.js":["RXmo",0,72],"./ion-searchbar-md.entry.js":["ffsq",0,73],"./ion-segment_2-ios.entry.js":["Loa/",0,74],"./ion-segment_2-md.entry.js":["hm+o",0,75],"./ion-select_3-ios.entry.js":["kxfy",0,76],"./ion-select_3-md.entry.js":["RRhw",0,77],"./ion-slide_2-ios.entry.js":["MyoC",78],"./ion-slide_2-md.entry.js":["pKl9",79],"./ion-spinner.entry.js":["4RuT",0,80],"./ion-split-pane-ios.entry.js":["8LTB",81],"./ion-split-pane-md.entry.js":["zG3r",82],"./ion-tab-bar_2-ios.entry.js":["ri6M",0,83],"./ion-tab-bar_2-md.entry.js":["3xPB",0,84],"./ion-tab_2.entry.js":["ZyW4",0,85],"./ion-text.entry.js":["7Ttm",0,86],"./ion-textarea-ios.entry.js":["bRvG",0,87],"./ion-textarea-md.entry.js":["RoCC",0,88],"./ion-toast-ios.entry.js":["W9p6",0,89],"./ion-toast-md.entry.js":["XCFn",0,90],"./ion-toggle-ios.entry.js":["ba+K",0,91],"./ion-toggle-md.entry.js":["ro3r",0,92],"./ion-virtual-scroll.entry.js":["X9e5",93]};function r(t){var e=i[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(i)},r.id="Bf66",t.exports=r},BtSu:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("S5bw"),r=n("CcnG"),o=function(){function t(){var t=this;this._onResize=new i.a(1),this._onResize.next({width:window.innerWidth,height:window.innerHeight}),this.onResize=this._onResize,this.isBrowser=!window.cordova||"browser"===window.cordova.platformId,this.isLgScreen=+window.innerWidth>=768,this.isLocalServer=-1!==window.location.href.indexOf("localhost"),window.addEventListener("resize",function(){t.isLgScreen=+window.innerWidth>=768,t._onResize.next({width:+window.innerWidth,height:+window.innerHeight})})}return t.ngInjectableDef=r.T({factory:function(){return new t},token:t,providedIn:"root"}),t}()},CS9Q:function(t,e,n){"use strict";var i=n("mrSG"),r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}();n.d(e,"a",function(){return o});var o=function(t){function e(n,i){void 0===i&&(i=r.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():i()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return i.d(e,t),e.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,r):t.prototype.schedule.call(this,n,i,r)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(r)},CTpc:function(t,e,n){"use strict";n.d(e,"a",function(){return I}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return p}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return _}),n.d(e,"g",function(){return b}),n.d(e,"h",function(){return S}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return C}),n.d(e,"k",function(){return y}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return l}),n.d(e,"p",function(){return M}),n.d(e,"q",function(){return f});var i=n("9TBO"),r=n("ttJE"),o=0,s=function(t){return{create:function(e){return g(t,e)},dismiss:function(e,n,i){return y(document,e,n,t,i)},getTop:function(){return Object(i.a)(this,void 0,void 0,function(){return Object(i.c)(this,function(e){return[2,m(document,t)]})})}}},a=s("ion-alert"),u=s("ion-action-sheet"),c=s("ion-loading"),h=s("ion-modal"),l=s("ion-picker"),p=s("ion-popover"),f=s("ion-toast"),d=function(t){var e=document;v(e);var n=o++;t.overlayIndex=n,t.hasAttribute("id")||(t.id="ion-overlay-"+n)},g=function(t,e){return customElements.whenDefined(t).then(function(){var n=document,i=n.createElement(t);return i.classList.add("overlay-hidden"),Object.assign(i,e),w(n).appendChild(i),i.componentOnReady()})},v=function(t){0===o&&(o=1,t.addEventListener("focusin",function(e){var n=m(t);if(n&&n.backdropDismiss&&!T(n,e.target)){var i=n.querySelector("input,button");i&&i.focus()}}),t.addEventListener("ionBackButton",function(e){var n=m(t);n&&n.backdropDismiss&&e.detail.register(100,function(){return n.dismiss(void 0,I)})}),t.addEventListener("keyup",function(e){if("Escape"===e.key){var n=m(t);n&&n.backdropDismiss&&n.dismiss(void 0,I)}}))},y=function(t,e,n,i,r){var o=m(t,i,r);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},m=function(t,e,n){var i=function(t,e){return void 0===e&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(function(t){return t.overlayIndex>0})}(t,e);return void 0===n?i[i.length-1]:i.find(function(t){return t.id===n})},_=function(t,e,n,o,s){return Object(i.a)(void 0,void 0,void 0,function(){var a;return Object(i.c)(this,function(i){switch(i.label){case 0:return t.presented?[2]:(t.presented=!0,t.willPresent.emit(),a=t.enterAnimation?t.enterAnimation:r.b.get(e,"ios"===t.mode?n:o),[4,x(t,a,t.el,s)]);case 1:return i.sent()&&t.didPresent.emit(),[2]}})})},b=function(t,e,n,o,s,a,u){return Object(i.a)(void 0,void 0,void 0,function(){var c,h;return Object(i.c)(this,function(i){switch(i.label){case 0:if(!t.presented)return[2,!1];t.presented=!1,i.label=1;case 1:return i.trys.push([1,3,,4]),t.willDismiss.emit({data:e,role:n}),c=t.leaveAnimation?t.leaveAnimation:r.b.get(o,"ios"===t.mode?s:a),[4,x(t,c,t.el,u)];case 2:return i.sent(),t.didDismiss.emit({data:e,role:n}),[3,4];case 3:return h=i.sent(),console.error(h),[3,4];case 4:return t.el.remove(),[2,!0]}})})},w=function(t){return t.querySelector("ion-app")||t.body},x=function(t,e,o,s){return Object(i.a)(void 0,void 0,void 0,function(){var a,u,c,h,l;return Object(i.c)(this,function(i){switch(i.label){case 0:if(t.animation)return t.animation.destroy(),t.animation=void 0,[2,!1];o.classList.remove("overlay-hidden"),a=o.shadowRoot||t.el,c=!0,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,n.e(5).then(n.bind(null,"5QBn"))];case 2:return[4,i.sent().create(e,a,s)];case 3:return u=i.sent(),[3,5];case 4:return i.sent(),(u=e(a,s)).fill("both"),c=!1,[3,5];case 5:return t.animation=u,t.animated&&r.b.getBoolean("animated",!0)||u.duration(0),t.keyboardClose&&u.beforeAddWrite(function(){var t=o.ownerDocument.activeElement;t&&t.matches("input, ion-input, ion-textarea")&&t.blur()}),[4,u.playAsync()];case 6:return h=i.sent(),l=void 0===h||u.hasCompleted,c&&u.destroy(),t.animation=void 0,[2,l]}})})},S=function(t,e){var n,i=new Promise(function(t){return n=t});return E(t,e,function(t){n(t.detail)}),i},E=function(t,e,n){var i=function(r){t.removeEventListener(e,i),n(r)};t.addEventListener(e,i)},C=function(t){return"cancel"===t||t===I},T=function(t,e){for(;e;){if(e===t)return!0;e=e.parentElement}return!1},O=function(t){return t()},M=function(t,e){if("function"==typeof t)return r.b.get("_zoneGate",O)(function(){try{return t(e)}catch(n){console.error(n)}})},I="backdrop"},CcnG:function(t,e,n){"use strict";n.d(e,"jb",function(){return Ti}),n.d(e,"kb",function(){return Oi}),n.d(e,"lb",function(){return Mi}),n.d(e,"ib",function(){return sn}),n.d(e,"g",function(){return Vn}),n.d(e,"S",function(){return zn}),n.d(e,"y",function(){return Gn}),n.d(e,"U",function(){return $t}),n.d(e,"Y",function(){return Ut}),n.d(e,"c",function(){return on}),n.d(e,"C",function(){return un}),n.d(e,"B",function(){return cn}),n.d(e,"b",function(){return hn}),n.d(e,"d",function(){return nn}),n.d(e,"e",function(){return rn}),n.d(e,"W",function(){return ai}),n.d(e,"N",function(){return An}),n.d(e,"ab",function(){return jn}),n.d(e,"u",function(){return Ci}),n.d(e,"f",function(){return Ii}),n.d(e,"m",function(){return le}),n.d(e,"l",function(){return Le}),n.d(e,"H",function(){return Nt}),n.d(e,"I",function(){return jt}),n.d(e,"a",function(){return w}),n.d(e,"n",function(){return Oe}),n.d(e,"r",function(){return Te}),n.d(e,"Q",function(){return j}),n.d(e,"O",function(){return Ft}),n.d(e,"T",function(){return f}),n.d(e,"V",function(){return k}),n.d(e,"q",function(){return it}),n.d(e,"X",function(){return B}),n.d(e,"D",function(){return Je}),n.d(e,"p",function(){return g}),n.d(e,"o",function(){return N}),n.d(e,"A",function(){return F}),n.d(e,"J",function(){return G}),n.d(e,"z",function(){return Tn}),n.d(e,"E",function(){return At}),n.d(e,"F",function(){return Pt}),n.d(e,"G",function(){return kt}),n.d(e,"i",function(){return _n}),n.d(e,"j",function(){return St}),n.d(e,"k",function(){return Mt}),n.d(e,"v",function(){return Ot}),n.d(e,"x",function(){return Tt}),n.d(e,"w",function(){return ye}),n.d(e,"K",function(){return Yn}),n.d(e,"L",function(){return qn}),n.d(e,"M",function(){return pe}),n.d(e,"P",function(){return Zn}),n.d(e,"h",function(){return Qn}),n.d(e,"s",function(){return _i}),n.d(e,"t",function(){return bi}),n.d(e,"R",function(){return q}),n.d(e,"Z",function(){return Ei}),n.d(e,"tb",function(){return Y}),n.d(e,"db",function(){return ln}),n.d(e,"bb",function(){return yt}),n.d(e,"cb",function(){return Et}),n.d(e,"eb",function(){return ce}),n.d(e,"fb",function(){return ve}),n.d(e,"gb",function(){return Wt}),n.d(e,"rb",function(){return E}),n.d(e,"wb",function(){return I}),n.d(e,"Eb",function(){return R}),n.d(e,"ub",function(){return en}),n.d(e,"vb",function(){return tn}),n.d(e,"hb",function(){return xr}),n.d(e,"mb",function(){return $r}),n.d(e,"nb",function(){return Hs}),n.d(e,"ob",function(){return qi}),n.d(e,"pb",function(){return po}),n.d(e,"qb",function(){return Sr}),n.d(e,"sb",function(){return br}),n.d(e,"xb",function(){return Ar}),n.d(e,"yb",function(){return kr}),n.d(e,"zb",function(){return Lo}),n.d(e,"Ab",function(){return Qr}),n.d(e,"Bb",function(){return fo}),n.d(e,"Cb",function(){return No}),n.d(e,"Db",function(){return Io}),n.d(e,"Fb",function(){return Fo}),n.d(e,"Gb",function(){return Vi}),n.d(e,"Hb",function(){return zo});var i=n("mrSG"),r=n("pugT"),o=n("K9Ia"),s=n("6blF"),a=n("p0ib"),u=n("S1nX");function c(t){for(var e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var l=c({ngInjectableDef:c}),p=c({ngBaseDef:c});function f(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function d(t){return t&&t.hasOwnProperty(l)?t[l]:null}var g=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?f({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),v="__parameters__",y="__prop__metadata__";function m(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,Object(i.i)(e));for(var o in r)this[o]=r[o]}}}function _(t,e,n){var r=m(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return r.apply(this,e),this;var s=new((t=o).bind.apply(t,Object(i.i)([void 0],e)));return a.annotation=s,a;function a(t,e,n){for(var i=t.hasOwnProperty(v)?t[v]:Object.defineProperty(t,v,{value:[]})[v];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(s),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function b(t,e,n,r){var o=m(e);function s(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof s)return o.apply(this,e),this;var a=new((t=s).bind.apply(t,Object(i.i)([void 0],e)));return function(t,n){var o=t.constructor,s=o.hasOwnProperty(y)?o[y]:Object.defineProperty(o,y,{value:{}})[y];s[n]=s.hasOwnProperty(n)&&s[n]||[],s[n].unshift(a),r&&r.apply(void 0,Object(i.i)([t,n],e))}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}var w=new g("AnalyzeForEntryComponents"),x="undefined"!=typeof window&&window,S="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,E="undefined"!=typeof global&&global||x||S,C=Promise.resolve(0),T=null;function O(){if(!T){var t=E.Symbol;if(t&&t.iterator)T=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(T=i)}}return T}function M(t){"undefined"==typeof Zone?C.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function I(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function R(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var P=c({__forward_ref__:c});function k(t){return t.__forward_ref__=k,t.toString=function(){return R(this())},t}function A(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(P)&&e.__forward_ref__===k?e():t}var L,j=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),N=_("Inject",function(t){return{token:t}}),F=_("Optional"),D=_("Self"),G=_("SkipSelf"),z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),U=void 0;function $(t){var e=U;return U=t,e}function B(t,e){return void 0===e&&(e=z.Default),(L||function(t,e){if(void 0===e&&(e=z.Default),void 0===U)throw new Error("inject() must be called from an injection context");return null===U?function(t,e,n){var i=d(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&z.Optional)return null;throw new Error("Injector: NOT_FOUND ["+R(t)+"]")}(t,0,e):U.get(t,e&z.Optional?null:void 0,e)})(t,e)}var V=/([A-Z])/g;function H(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function W(t,e){var n=Y(t),i=Y(e);return n&&i?function(t,e,n){for(var i=t[O()](),r=e[O()]();;){var o=i.next(),s=r.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(t,e,W):!(n||!t||"object"!=typeof t&&"function"!=typeof t||i||!e||"object"!=typeof e&&"function"!=typeof e)||I(t,e)}var q=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),X=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Y(t){return!!K(t)&&(Array.isArray(t)||!(t instanceof Map)&&O()in t)}function K(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var J="__source",Q=new Object,tt=Q,et=new g("INJECTOR"),nt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Q),e===Q)throw new Error("NullInjectorError: No provider for "+R(t)+"!");return e},t}(),it=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new ft(t,e):new ft(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=Q,t.NULL=new nt,t.ngInjectableDef=f({providedIn:"any",factory:function(){return B(et)}}),t.__NG_ELEMENT_ID__=function(){return rt()},t}(),rt=Z,ot=function(t){return t},st=[],at=ot,ut=function(){return Array.prototype.slice.call(arguments)},ct=c({provide:String,useValue:c}),ht=it.NULL,lt=/\n/gm,pt="\u0275",ft=function(){function t(t,e,n){void 0===e&&(e=ht),void 0===n&&(n=null),this.parent=e,this.source=n;var i=this._records=new Map;i.set(it,{token:it,fn:ot,deps:st,value:this,useNew:!1}),i.set(et,{token:et,fn:ot,deps:st,value:this,useNew:!1}),function t(e,n){if(n)if((n=A(n))instanceof Array)for(var i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw vt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw vt("Unexpected provider",n);var r=A(n.provide),o=function(t){var e=function(t){var e=st,n=t.deps;if(n&&n.length){e=[];for(var i=0;i<n.length;i++){var r=6;if((u=A(n[i]))instanceof Array)for(var o=0,s=u;o<s.length;o++){var a=s[o];a instanceof F||a==F?r|=1:a instanceof G||a==G?r&=-3:a instanceof D||a==D?r&=-5:u=a instanceof N?a.token:A(a)}e.push({token:u,options:r})}}else if(t.useExisting){var u;e=[{token:u=A(t.useExisting),options:6}]}else if(!(n||ct in t))throw vt("'deps' required",t);return e}(t),n=ot,i=st,r=!1,o=A(t.provide);if(ct in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=A(t.useClass);else{if("function"!=typeof o)throw vt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){var s=e.get(r);if(s){if(s.fn!==ut)throw dt(r)}else e.set(r,s={token:n.provide,deps:[],useNew:!1,fn:ut,value:st});s.deps.push({token:r=n,options:6})}var a=e.get(r);if(a&&a.fn==ut)throw dt(r);e.set(r,o)}}(i,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=z.Default);var r=this._records.get(t);try{return function t(e,n,r,o,s,a){try{return function(e,n,r,o,s,a){var u,c;if(!n||a&z.SkipSelf)a&z.Self||(c=o.get(e,s,z.Default));else{if((c=n.value)==at)throw Error(pt+"Circular dependency");if(c===st){n.value=at;var h=n.useNew,l=n.fn,p=n.deps,f=st;if(p.length){f=[];for(var d=0;d<p.length;d++){var g=p[d],v=g.options,y=2&v?r.get(g.token):void 0;f.push(t(g.token,y,r,y||4&v?o:ht,1&v?null:it.THROW_IF_NOT_FOUND,z.Default))}}n.value=c=h?new((u=l).bind.apply(u,Object(i.i)([void 0],f))):l.apply(void 0,f)}}return c}(e,n,r,o,s,a)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==at&&(n.value=st),u}}(t,r,this._records,this.parent,e,n)}catch(s){var o=s.ngTempTokenPath;throw t[J]&&o.unshift(t[J]),s.message=gt("\n"+s.message,o,this.source),s.ngTokenPath=o,s.ngTempTokenPath=null,s}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(R(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function dt(t){return vt("Cannot mix multi providers and regular providers",t)}function gt(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==pt?t.substr(2):t;var i=R(e);if(e instanceof Array)i=e.map(R).join(" -> ");else if("object"==typeof e){var r=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];r.push(o+":"+("string"==typeof s?JSON.stringify(s):R(s)))}i="{"+r.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+i+"]: "+t.replace(lt,"\n  ")}function vt(t,e){return new Error(gt(t,e))}var yt=new g("The presence of this token marks an injector as being the root injector."),mt=function(){return function(){}}(),_t=function(){return function(){}}();function bt(t){var e=Error("No component factory found for "+R(t)+". Did you add it to @NgModule.entryComponents?");return e[wt]=t,e}var wt="ngComponent",xt=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw bt(t)},t}(),St=function(){function t(){}return t.NULL=new xt,t}(),Et=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var i=0;i<t.length;i++){var r=t[i];this._factories.set(r.componentType,r)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw bt(t);return new Ct(e,this._ngModule)},t}(),Ct=function(t){function e(e,n){var i=t.call(this)||this;return i.factory=e,i.ngModule=n,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return Object(i.d)(e,t),e.prototype.create=function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)},e}(_t),Tt=function(){return function(){}}(),Ot=function(){return function(){}}(),Mt=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return It(t)},t}(),It=Z,Rt=function(){return function(){}}(),Pt=function(){return function(){}}(),kt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),At=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Lt()},t}(),Lt=Z,jt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Nt=function(){return function(){}}(),Ft=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Dt=new Ft("7.2.15"),Gt=!0,zt=!1;function Ut(){return zt=!0,Gt}function $t(){if(zt)throw new Error("Cannot enable prod mode after platform setup.");Gt=!1}var Bt=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling},t}(),Vt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Ht=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wt(t){return(t=String(t)).match(Vt)||t.match(Ht)?t:(Ut()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function qt(t){var e,n,r={};try{for(var o=Object(i.j)(t.split(",")),s=o.next();!s.done;s=o.next())r[s.value]=!0}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function Xt(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};try{for(var s=Object(i.j)(n),a=s.next();!a.done;a=s.next()){var u=a.value;for(var c in u)u.hasOwnProperty(c)&&(o[c]=!0)}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}var Yt,Kt=qt("area,br,col,hr,img,wbr"),Zt=qt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jt=qt("rp,rt"),Qt=Xt(Jt,Zt),te=Xt(Kt,Xt(Zt,qt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xt(Jt,qt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qt),ee=qt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ne=qt("srcset"),ie=Xt(ee,ne,qt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),re=qt("script,style,template"),oe=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,n=t.nodeName.toLowerCase();if(!te.hasOwnProperty(n))return this.sanitizedSomething=!0,!re.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var i=t.attributes,r=0;r<i.length;r++){var o=i.item(r),s=o.name,a=s.toLowerCase();if(ie.hasOwnProperty(a)){var u=o.value;ee[a]&&(u=Wt(u)),ne[a]&&(e=u,u=(e=String(e)).split(",").map(function(t){return Wt(t.trim())}).join(", ")),this.buf.push(" ",s,'="',ue(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();te.hasOwnProperty(e)&&!Kt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(ue(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),se=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ae=/([^\#-~ |!])/g;function ue(t){return t.replace(/&/g,"&amp;").replace(se,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ae,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ce(t,e){var n=null;try{Yt=Yt||new Bt(t);var i=e?String(e):"";n=Yt.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Yt.getInertBodyElement(i)}while(i!==o);var s=new oe,a=s.sanitizeChildren(he(n)||n);return Ut()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var u=he(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function he(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var le=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(i.d)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,i){var o,s=function(t){return null},a=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(s=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),i&&(a=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var u=t.prototype.subscribe.call(this,o,s,a);return e instanceof r.a&&e.add(u),u},e}(o.a),pe=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return fe(t,Mt)},t}(),fe=Z,de=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ge=/^url\(([^)]+)\)$/;function ve(t){if(!(t=String(t).trim()))return"";var e=t.match(ge);return e&&Wt(e[1])===e[1]||t.match(de)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Ut()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var ye=function(){return function(){}}(),me=Function;function _e(t){return"function"==typeof t}var be=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,we=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,xe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Se=function(){function t(t){this._reflect=t||E.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(i.i)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var i=0;i<n.length;i++)n[i]=void 0===t?[]:t[i]!=Object?[t[i]]:[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(be.exec(n)||we.exec(n)&&!xe.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var i=t.ctorParameters;if(i&&i!==e.ctorParameters){var r="function"==typeof i?i():i,o=r.map(function(t){return t&&t.type}),s=r.map(function(t){return t&&Ee(t.decorators)});return this._zipTypesAndAnnotations(o,s)}var a=t.hasOwnProperty(v)&&t[v],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||a?this._zipTypesAndAnnotations(u,a):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!_e(t))return[];var e=Ce(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?Ee(t.decorators):t.hasOwnProperty("__annotations__")?t.__annotations__:null},t.prototype.annotations=function(t){if(!_e(t))return[];var e=Ce(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var i=t.propDecorators,r={};return Object.keys(i).forEach(function(t){r[t]=Ee(i[t])}),r}return t.hasOwnProperty(y)?t[y]:null},t.prototype.propMetadata=function(t){if(!_e(t))return{};var e=Ce(t),n={};if(e!==Object){var r=this.propMetadata(e);Object.keys(r).forEach(function(t){n[t]=r[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(i.i)(n[t])),e.push.apply(e,Object(i.i)(o[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof me&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+R(t)},t.prototype.resourceUri=function(t){return"./"+R(t)},t.prototype.resolveIdentifier=function(t,e,n,i){return i},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function Ee(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(i.i)([void 0],n)))}):[]}function Ce(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var Te=b("Input",function(t){return{bindingPropertyName:t}},void 0,function(t){return function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=t.constructor;r.hasOwnProperty(p)||function(t){var e=t.constructor,n=e.ngBaseDef,i=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(h(i.inputs,n.inputs),h(i.outputs,n.outputs),h(i.declaredInputs,n.declaredInputs))}(t),(function(t){return t.inputs||{}}(r.ngBaseDef))[e]=n[0]}}()),Oe=b("HostBinding",function(t){return{hostPropertyName:t}}),Me="ngDebugContext",Ie="ngOriginalError",Re="ngErrorLogger";function Pe(t){return t[Me]}function ke(t){return t[Ie]}function Ae(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(i.i)(e))}var Le=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[Re]||Ae}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Pe(t)?Pe(t):this._findContext(ke(t)):null},t.prototype._findOriginalError=function(t){for(var e=ke(t);e&&ke(e);)e=ke(e);return e},t}();function je(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return R(t.token)}).join(" -> ")+")":""}function Ne(t,e,n,i){var r=[e],o=n(r),s=i?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),i=Error(n);return i[Ie]=e,i}(0,i):Error(o);return s.addKey=Fe,s.keys=r,s.injectors=[t],s.constructResolvingMessage=n,s[Ie]=i,s}function Fe(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function De(t,e){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];n.push(o&&0!=o.length?o.map(R).join(" "):"?")}return Error("Cannot resolve all parameters for '"+R(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+R(t)+"' is decorated with Injectable.")}var Ge=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=R(this.token)}return t.get=function(t){return ze.get(A(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return ze.numberOfKeys},enumerable:!0,configurable:!0}),t}(),ze=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof Ge)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new Ge(t,Ge.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Ue=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,i){return this.reflectionCapabilities.resolveIdentifier(t,e,n,i)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Se),$e=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Be=[],Ve=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),He=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function We(t){var e,n;if(t.useClass){var i=A(t.useClass);e=Ue.factory(i),n=Xe(i)}else t.useExisting?(e=function(t){return t},n=[$e.fromKey(Ge.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return Ye(t,e,n)})}return Xe(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Be);return new He(e,n)}function qe(t){return new Ve(Ge.get(t.provide),[We(t)],t.multi||!1)}function Xe(t){var e=Ue.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw De(t,e);return e.map(function(n){return Ye(t,n,e)})}function Ye(t,e,n){var i=null,r=!1;if(!Array.isArray(e))return Ke(e instanceof N?e.token:e,r,null);for(var o=null,s=0;s<e.length;++s){var a=e[s];a instanceof me?i=a:a instanceof N?i=a.token:a instanceof F?r=!0:a instanceof D||a instanceof G?o=a:a instanceof g&&(i=a)}if(null!=(i=A(i)))return Ke(i,r,o);throw De(t,n)}function Ke(t,e,n){return new $e(Ge.get(t),e,n)}var Ze=new Object,Je=function(){function t(){}return t.resolve=function(t){return function(t){var e=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e.get(i.key.id);if(r){if(i.multiProvider!==r.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+r+" "+i);if(i.multiProvider)for(var o=0;o<i.resolvedFactories.length;o++)r.resolvedFactories.push(i.resolvedFactories[o]);else e.set(i.key.id,i)}else{var s;s=i.multiProvider?new Ve(i.key,i.resolvedFactories.slice(),i.multiProvider):i,e.set(i.key.id,s)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof me)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(qe),new Map);return Array.from(e.values())}(t)},t.resolveAndCreate=function(e,n){var i=t.resolve(e);return t.fromResolvedProviders(i,n)},t.fromResolvedProviders=function(t,e){return new Qe(t,e)},t}(),Qe=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var i=0;i<n;i++)this.keyIds[i]=t[i].key.id,this.objs[i]=Ze}return t.prototype.get=function(t,e){return void 0===e&&(e=tt),this._getByKey(Ge.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=Je.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Je.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Ne(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+je(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,r,o,s=this,a=e.factory;try{n=e.dependencies.map(function(t){return s._getByReflectiveDependency(t)})}catch(u){throw u.addKey&&u.addKey(this,t.key),u}try{r=a.apply(void 0,Object(i.i)(n))}catch(u){throw Ne(this,t.key,function(t){var e=R(t[0].token);return o.message+": Error during instantiation of "+e+"!"+je(t)+"."},o=u)}return r},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:tt)},t.prototype._getByKey=function(e,n,i){return e===t.INJECTOR_KEY?this:n instanceof D?this._getByKeySelf(e,i):this._getByKeyDefault(e,i,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Ze&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Ze},t.prototype._throwOrNull=function(t,e){if(e!==tt)return e;throw function(t,e){return Ne(t,e,function(t){return"No provider for "+R(t[0].token)+"!"+je(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Ze?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,i){var r;for(r=i instanceof G?this.parent:this;r instanceof t;){var o=r,s=o._getObjByKeyId(e.id);if(s!==Ze)return s;r=o.parent}return null!==r?r.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),i=0;i<t._providers.length;++i)n[i]=' "'+t.getProviderAtIndex(i).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=Ge.get(it),t}();function tn(t){return!!t&&"function"==typeof t.then}function en(t){return!!t&&"function"==typeof t.subscribe}var nn=new g("Application Initializer"),rn=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();tn(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),on=new g("AppId");function sn(){return""+an()+an()+an()}function an(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var un=new g("Platform Initializer"),cn=new g("Platform ID"),hn=new g("appBootstrapListener"),ln=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function pn(){throw new Error("Runtime compiler is not loaded")}var fn,dn,gn=pn,vn=pn,yn=pn,mn=pn,_n=function(){function t(){this.compileModuleSync=gn,this.compileModuleAsync=vn,this.compileModuleAndAllComponentsSync=yn,this.compileModuleAndAllComponentsAsync=mn}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),bn=function(){return function(){}}();function wn(){var t=E.wtf;return!(!t||!(fn=t.trace)||(dn=fn.events,0))}var xn=wn();function Sn(t,e){return null}var En=xn?function(t,e){return void 0===e&&(e=null),dn.createScope(t,e)}:function(t,e){return Sn},Cn=xn?function(t,e){return fn.leaveScope(t,e),e}:function(t,e){return e},Tn=function(){function t(t){var e,n=t.enableLongStackTrace,i=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,i,r,o,s){try{return Rn(e),t.invokeTask(i,r,o,s)}finally{Pn(e)}},onInvoke:function(t,n,i,r,o,s,a){try{return Rn(e),t.invoke(i,r,o,s,a)}finally{Pn(e)}},onHasTask:function(t,n,i,r){t.hasTask(i,r),n===i&&("microTask"==r.change?(e.hasPendingMicrotasks=r.microTask,In(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,n,i,r){return t.handleError(i,r),e.runOutsideAngular(function(){return e.onError.emit(r)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Mn,On,On);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function On(){}var Mn={};function In(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Rn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Pn(t){t._nesting--,In(t)}var kn=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),An=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Tn.assertNotInAngularZone(),M(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())M(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==r}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Ln=function(){function t(){this._applications=new Map,Fn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Fn.findTestabilityInTree(this,t,e)},Object(i.c)([Object(i.f)("design:paramtypes",[])],t)}();function jn(t){Fn=t}var Nn,Fn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Dn=new g("AllowMultipleToken"),Gn=function(){return function(t,e){this.name=t,this.token=e}}();function zn(t,e,n){void 0===n&&(n=[]);var i="Platform: "+e,r=new g(i);return function(e){void 0===e&&(e=[]);var o=Un();if(!o||o.injector.get(Dn,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var s=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(Nn&&!Nn.destroyed&&!Nn.injector.get(Dn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Nn=t.get($n);var e=t.get(un,null);e&&e.forEach(function(t){return t()})}(it.create({providers:s,name:i}))}return function(t){var e=Un();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Un(){return Nn&&!Nn.destroyed?Nn:null}var $n=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,i=this,r="noop"===(n=e?e.ngZone:void 0)?new kn:("zone.js"===n?void 0:n)||new Tn({enableLongStackTrace:Ut()}),o=[{provide:Tn,useValue:r}];return r.run(function(){var e=it.create({providers:o,parent:i.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(Le,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return Hn(i._modules,n)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(t){s.handleError(t)}})}),function(t,e,r){try{var o=((s=n.injector.get(rn)).runInitializers(),s.donePromise.then(function(){return i._moduleDoBootstrap(n),n}));return tn(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(a){throw e.runOutsideAngular(function(){return t.handleError(a)}),a}var s}(s,r)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var i=Bn({},e);return function(t,e,n){return t.get(bn).createCompiler([e]).compileModuleAsync(n)}(this.injector,i,t).then(function(t){return n.bootstrapModuleFactory(t,i)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Vn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+R(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Bn(t,e){return Array.isArray(e)?e.reduce(Bn,t):Object(i.a)({},t,e)}var Vn=function(){function t(t,e,n,i,r,o){var c=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ut(),this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var h=new s.a(function(t){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){t.next(c._stable),t.complete()})}),l=new s.a(function(t){var e;c._zone.runOutsideAngular(function(){e=c._zone.onStable.subscribe(function(){Tn.assertNotInAngularZone(),M(function(){c._stable||c._zone.hasPendingMacrotasks||c._zone.hasPendingMicrotasks||(c._stable=!0,t.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){Tn.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(a.a)(h,l.pipe(Object(u.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof _t?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n instanceof Ct?null:this._injector.get(Tt),o=n.create(it.NULL,[],e||n.selector,r);o.onDestroy(function(){i._unloadComponent(o)});var s=o.injector.get(An,null);return s&&o.injector.get(Ln).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Ut()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1,Cn(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;Hn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(hn,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),Hn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=En("ApplicationRef#tick()"),t}();function Hn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Wn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new le,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[O()]=function(){return this._results[O()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var i=Array.isArray(n)?t(n):n;return e.concat(i)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),qn=function(){return function(){}}(),Xn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Yn=function(){function t(t,e){this._compiler=t,this._config=e||Xn}return t.prototype.load=function(t){return this._compiler instanceof _n?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=Object(i.h)(t.split("#"),2),o=r[0],s=r[1];return void 0===s&&(s="default"),n("crnd")(o).then(function(t){return t[s]}).then(function(t){return Kn(t,o,s)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(i.h)(t.split("#"),2),r=e[0],o=e[1],s="NgFactory";return void 0===o&&(o="default",s=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[o+s]}).then(function(t){return Kn(t,r,o)})},t}();function Kn(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Zn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Jn(t,Mt)},t}(),Jn=Z,Qn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ti()},t}(),ti=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},ei=function(){return function(t,e){this.name=t,this.callback=e}}(),ni=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof ii&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),ii=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=e,r}return Object(i.d)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(i.i)([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return ri(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return oi(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(ni);function ri(t,e,n){t.childNodes.forEach(function(t){t instanceof ii&&(e(t)&&n.push(t),ri(t,e,n))})}function oi(t,e,n){t instanceof ii&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof ii&&oi(t,e,n)})}var si=new Map,ai=function(t){return si.get(t)||null};function ui(t){si.set(t.nativeNode,t)}var ci=function(){function t(){}return t.prototype.supports=function(t){return Y(t)},t.prototype.create=function(t){return new li(t)},t}(),hi=function(t,e){return e},li=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hi}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<gi(n,i,r)?e:n,s=gi(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var u=s-i,c=a-i;if(u!=c){for(var h=0;h<u;h++){var l=h<r.length?r[h]:r[h]=0,p=l+h;c<=p&&p<u&&(r[h]=l+1)}r[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Y(t))throw new Error("Error trying to diff '"+R(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)r=this._trackByFn(a,i=t[a]),null!==o&&I(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),I(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i=t[O()](),r=void 0;!(r=i.next()).done;)e(r.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&I(o.trackById,r)?(s&&(o=e._verifyReinsertion(o,t,r,n)),I(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(I(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(I(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new pi(e,n),r,i),t},t.prototype._verifyReinsertion=function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new di),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new di),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),pi=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),fi=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&I(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),di=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new fi,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function gi(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var vi=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||K(t)},t.prototype.create=function(){return new yi},t}(),yi=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||K(t)))throw new Error("Error trying to diff '"+R(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new mi(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){I(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),mi=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),_i=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new G,new F]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=f({providedIn:"root",factory:function(){return new t([new ci])}}),t}(),bi=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new G,new F]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=f({providedIn:"root",factory:function(){return new t([new vi])}}),t}(),wi=[new vi],xi=new _i([new ci]),Si=new bi(wi),Ei=zn(null,"core",[{provide:cn,useValue:"unknown"},{provide:$n,deps:[it]},{provide:Ln,deps:[]},{provide:ln,deps:[]}]),Ci=new g("LocaleId");function Ti(){return xi}function Oi(){return Si}function Mi(t){return t||"en-US"}var Ii=function(){return function(t){}}();function Ri(t,e,n){var i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Pi(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ki(t,e){return t.nodes[e]}function Ai(t,e){return t.nodes[e]}function Li(t,e){return t.nodes[e]}function ji(t,e){return t.nodes[e]}function Ni(t,e){return t.nodes[e]}var Fi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Di(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Gi(n,e),n}(r,t)}function Gi(t,e){t[Me]=e,t[Re]=e.logError.bind(e)}function zi(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Ui=function(){},$i=new Map;function Bi(t){var e=$i.get(t);return e||(e=R(t)+"_"+$i.size,$i.set(t,e)),e}function Vi(t,e,n,i){if(q.isWrapped(i)){i=q.unwrap(i);var r=t.def.nodes[e].bindingIndex+n,o=q.unwrap(t.oldValues[r]);t.oldValues[r]=new q(o)}return i}var Hi="$$undefined",Wi="$$empty";function qi(t){return{id:Hi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Xi=0;function Yi(t,e,n,i){return!(!(2&t.state)&&I(t.oldValues[e.bindingIndex+n],i))}function Ki(t,e,n,i){return!!Yi(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function Zi(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!W(r,i)){var o=e.bindings[n].name;throw Di(Fi.createDebugContext(t,e.nodeIndex),o+": "+r,o+": "+i,0!=(1&t.state))}}function Ji(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Qi(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function tr(t,e,n,i){try{return Ji(33554432&t.def.nodes[e].flags?Ai(t,e).componentView:t),Fi.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function er(t){return t.parent?Ai(t.parent,t.parentNodeDef.nodeIndex):null}function nr(t){return t.parent?t.parentNodeDef.parent:null}function ir(t,e){switch(201347067&e.flags){case 1:return Ai(t,e.nodeIndex).renderElement;case 2:return ki(t,e.nodeIndex).renderText}}function rr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function or(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function sr(t){return 1<<t%32}function ar(t){var e={},n=0,r={};return t&&t.forEach(function(t){var o=Object(i.h)(t,2),s=o[0],a=o[1];"number"==typeof s?(e[s]=a,n|=sr(s)):r[s]=a}),{matchedQueries:e,references:r,matchedQueryIds:n}}function ur(t,e){return t.map(function(t){var n,r,o;return Array.isArray(t)?(o=(n=Object(i.h)(t,2))[0],r=n[1]):(o=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,J,{value:e,configurable:!0}),{flags:o,token:r,tokenKey:Bi(r)}})}function cr(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===j.Native?Ai(t,n.renderParent.nodeIndex).renderElement:void 0:e}var hr=new WeakMap;function lr(t){var e=hr.get(t);return e||((e=t(function(){return Ui})).factory=t,hr.set(t,e)),e}function pr(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(ir(t,t.def.lastRenderRootNode))),fr(t,e,0,t.def.nodes.length-1,n,i,r)}function fr(t,e,n,i,r,o,s){for(var a=n;a<=i;a++){var u=t.def.nodes[a];11&u.flags&&gr(t,u,e,r,o,s),a+=u.childCount}}function dr(t,e,n,i,r,o){for(var s=t;s&&!rr(s);)s=s.parent;for(var a=s.parent,u=nr(s),c=u.nodeIndex+u.childCount,h=u.nodeIndex+1;h<=c;h++){var l=a.def.nodes[h];l.ngContentIndex===e&&gr(a,l,n,i,r,o),h+=l.childCount}if(!a.parent){var p=t.root.projectableNodes[e];if(p)for(h=0;h<p.length;h++)vr(t,p[h],n,i,r,o)}}function gr(t,e,n,i,r,o){if(8&e.flags)dr(t,e.ngContent.index,n,i,r,o);else{var s=ir(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&vr(t,s,n,i,r,o),32&e.bindingFlags&&vr(Ai(t,e.nodeIndex).componentView,s,n,i,r,o)):vr(t,s,n,i,r,o),16777216&e.flags)for(var a=Ai(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)pr(a[u],n,i,r,o);1&e.flags&&!e.element.name&&fr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function vr(t,e,n,i,r,o){var s=t.renderer;switch(n){case 1:s.appendChild(i,e);break;case 2:s.insertBefore(i,e,r);break;case 3:s.removeChild(i,e);break;case 0:o.push(e)}}var yr=/^:([^:]+):(.+)$/;function mr(t){if(":"===t[0]){var e=t.match(yr);return[e[1],e[2]]}return["",t]}function _r(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function br(t,e,n,i,r,o,s,a,u,c,h,l,p,f,d,g,v,y,m,_){switch(t){case 1:return e+wr(n)+i;case 2:return e+wr(n)+i+wr(r)+o;case 3:return e+wr(n)+i+wr(r)+o+wr(s)+a;case 4:return e+wr(n)+i+wr(r)+o+wr(s)+a+wr(u)+c;case 5:return e+wr(n)+i+wr(r)+o+wr(s)+a+wr(u)+c+wr(h)+l;case 6:return e+wr(n)+i+wr(r)+o+wr(s)+a+wr(u)+c+wr(h)+l+wr(p)+f;case 7:return e+wr(n)+i+wr(r)+o+wr(s)+a+wr(u)+c+wr(h)+l+wr(p)+f+wr(d)+g;case 8:return e+wr(n)+i+wr(r)+o+wr(s)+a+wr(u)+c+wr(h)+l+wr(p)+f+wr(d)+g+wr(v)+y;case 9:return e+wr(n)+i+wr(r)+o+wr(s)+a+wr(u)+c+wr(h)+l+wr(p)+f+wr(d)+g+wr(v)+y+wr(m)+_;default:throw new Error("Does not support more than 9 expressions")}}function wr(t){return null!=t?t.toString():""}function xr(t,e,n,i,r,o){t|=1;var s=ar(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?lr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Ui},provider:null,text:null,query:null,ngContent:null}}function Sr(t,e,n,r,o,s,a,u,c,h,l,p){var f;void 0===a&&(a=[]),h||(h=Ui);var d=ar(n),g=d.matchedQueries,v=d.references,y=d.matchedQueryIds,m=null,_=null;s&&(m=(f=Object(i.h)(mr(s),2))[0],_=f[1]),u=u||[];for(var b=new Array(u.length),w=0;w<u.length;w++){var x=Object(i.h)(u[w],3),S=x[0],E=x[1],C=x[2],T=Object(i.h)(mr(E),2),O=T[0],M=T[1],I=void 0,R=void 0;switch(15&S){case 4:R=C;break;case 1:case 8:I=C}b[w]={flags:S,ns:O,name:M,nonMinifiedName:M,securityContext:I,suffix:R}}c=c||[];var P=new Array(c.length);for(w=0;w<c.length;w++){var k=Object(i.h)(c[w],2);P[w]={type:0,target:k[0],eventName:k[1],propName:null}}var A=(a=a||[]).map(function(t){var e=Object(i.h)(t,2),n=e[0],r=e[1],o=Object(i.h)(mr(n),2);return[o[0],o[1],r]});return p=function(t){if(t&&t.id===Hi){var e=null!=t.encapsulation&&t.encapsulation!==j.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Xi++:Wi}return t&&t.id===Wi&&(t=null),t||null}(p),l&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:y,references:v,ngContentIndex:r,childCount:o,bindings:b,bindingFlags:_r(b),outputs:P,element:{ns:m,name:_,attrs:A,template:null,componentProvider:null,componentView:l||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:h||Ui},provider:null,text:null,query:null,ngContent:null}}function Er(t,e,n){var r,o=n.element,s=t.root.selectorOrNode,a=t.renderer;if(t.parent||!s){r=o.name?a.createElement(o.name,o.ns):a.createComment("");var u=cr(t,e,n);u&&a.appendChild(u,r)}else r=a.selectRootElement(s,!!o.componentRendererType&&o.componentRendererType.encapsulation===j.ShadowDom);if(o.attrs)for(var c=0;c<o.attrs.length;c++){var h=Object(i.h)(o.attrs[c],3);a.setAttribute(r,h[1],h[2],h[0])}return r}function Cr(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],s=Tr(t,n.nodeIndex,(l=o.eventName,(h=o.target)?h+":"+l:l)),a=o.target,u=t;"component"===o.target&&(a=null,u=e);var c=u.renderer.listen(a||i,o.eventName,s);t.disposables[n.outputIndex+r]=c}var h,l}function Tr(t,e,n){return function(i){return tr(t,e,n,i)}}function Or(t,e,n,i){if(!Ki(t,e,n,i))return!1;var r=e.bindings[n],o=Ai(t,e.nodeIndex),s=o.renderElement,a=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,r,a,i):u.removeAttribute(n,r,i)}(t,r,s,r.ns,a,i);break;case 2:!function(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,s,a,i);break;case 4:!function(t,e,n,i,r){var o=t.root.sanitizer.sanitize(jt.STYLE,r);if(null!=o){o=o.toString();var s=e.suffix;null!=s&&(o+=s)}else o=null;var a=t.renderer;null!=o?a.setStyle(n,i,o):a.removeStyle(n,i)}(t,r,s,a,i);break;case 8:!function(t,e,n,i,r){var o=e.securityContext,s=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,s)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,s,a,i)}return!0}var Mr=new Object,Ir=Bi(it),Rr=Bi(et),Pr=Bi(Tt);function kr(t,e,n,i){return n=A(n),{index:-1,deps:ur(i,R(e)),flags:t,token:e,value:n}}function Ar(t){for(var e={},n=[],i=!1,r=0;r<t.length;r++){var o=t[r];o.token===yt&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=r,e[Bi(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}function Lr(t,e,n){void 0===n&&(n=it.THROW_IF_NOT_FOUND);var i,r,o=$(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var s=e.tokenKey;switch(s){case Ir:case Rr:case Pr:return t}var a,u=t._def.providersByKey[s];if(u){var c=t._providers[u.index];return void 0===c&&(c=t._providers[u.index]=jr(t,u)),c===Mr?void 0:c}if((a=d(e.token))&&(i=t,null!=(r=a).providedIn&&(function(t,e){return t._def.modules.indexOf(r.providedIn)>-1}(i)||"root"===r.providedIn&&i._def.isRoot))){var h=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:h,token:e.token},t._providers[h]=Mr,t._providers[h]=jr(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{$(o)}}function jr(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Lr(t,n[0]));case 2:return new e(Lr(t,n[0]),Lr(t,n[1]));case 3:return new e(Lr(t,n[0]),Lr(t,n[1]),Lr(t,n[2]));default:for(var o=new Array(r),s=0;s<r;s++)o[s]=Lr(t,n[s]);return new(e.bind.apply(e,Object(i.i)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Lr(t,n[0]));case 2:return e(Lr(t,n[0]),Lr(t,n[1]));case 3:return e(Lr(t,n[0]),Lr(t,n[1]),Lr(t,n[2]));default:for(var o=Array(r),s=0;s<r;s++)o[s]=Lr(t,n[s]);return e.apply(void 0,Object(i.i)(o))}}(t,e.value,e.deps);break;case 2048:n=Lr(t,e.deps[0]);break;case 256:n=e.value}return n===Mr||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Mr:n}function Nr(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,zr(n,e),Fi.dirtyParentQueries(i),Dr(i),i}function Fr(t,e,n){var i=e?ir(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);pr(n,2,r,o,void 0)}function Dr(t){pr(t,3,null,null,void 0)}function Gr(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zr(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Ur=new Object;function $r(t,e,n,i,r,o){return new Br(t,e,n,i,r,o)}var Br=function(t){function e(e,n,i,r,o,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=r,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=i,a}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=lr(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,s=Fi.createRootView(t,e||[],n,r,i,Ur),a=Li(s,o).instance;return n&&s.renderer.setAttribute(Ai(s,0).renderElement,"ng-version",Dt.full),new Vr(s,new Xr(s),a)},e}(_t),Vr=function(t){function e(e,n,i){var r=t.call(this)||this;return r._view=e,r._viewRef=n,r._component=i,r._elDef=r._view.def.nodes[0],r.hostView=n,r.changeDetectorRef=n,r.instance=i,r}return Object(i.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Mt(Ai(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Jr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(mt);function Hr(t,e,n){return new Wr(t,e,n)}var Wr=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Mt(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Jr(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=nr(t),t=t.parent;return t?new Jr(t,e):new Jr(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Nr(this._data,t);Fi.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Xr(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i},t.prototype.createComponent=function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof Ct||(r=o.get(Tt));var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,r,o,s=t;return o=(n=this._data).viewContainer._embeddedViews,null==(i=e)&&(i=o.length),(r=s._view).viewContainerParent=this._view,Gr(o,i,r),function(t,e){var n=er(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var i=n.parent;i;)i.childFlags|=4,i=i.parent}}(0,e.parentNodeDef)}}(n,r),Fi.dirtyParentQueries(r),Fr(n,i>0?o[i-1]:null,r),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,r,o,s,a=this._embeddedViews.indexOf(t._view);return r=e,s=(o=(n=this._data).viewContainer._embeddedViews)[i=a],zr(o,i),null==r&&(r=o.length),Gr(o,r,s),Fi.dirtyParentQueries(s),Dr(s),Fr(n,r>0?o[r-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Nr(this._data,t);e&&Fi.destroyView(e)},t.prototype.detach=function(t){var e=Nr(this._data,t);return e?new Xr(e):null},t}();function qr(t){return new Xr(t)}var Xr=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return pr(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Ji(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Fi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Fi.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Fi.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Dr(this._view),Fi.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Yr(t,e){return new Kr(t,e)}var Kr=function(t){function e(e,n){var i=t.call(this)||this;return i._parentView=e,i._def=n,i}return Object(i.d)(e,t),e.prototype.createEmbeddedView=function(t){return new Xr(Fi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Mt(Ai(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(pe);function Zr(t,e){return new Jr(t,e)}var Jr=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=it.THROW_IF_NOT_FOUND),Fi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Bi(t)},e)},t}();function Qr(t,e){var n=t.def.nodes[e];if(1&n.flags){var i=Ai(t,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return ki(t,n.nodeIndex).renderText;if(20240&n.flags)return Li(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function to(t){return new eo(t.renderer)}var eo=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(i.h)(mr(e),2),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=Object(i.h)(mr(e),2),o=r[0],s=r[1];null!=n?this.delegate.setAttribute(t,s,n,o):this.delegate.removeAttribute(t,s,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function no(t,e,n,i){return new io(t,e,n,i)}var io=function(){function t(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=jr(t,r))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=it.THROW_IF_NOT_FOUND),void 0===n&&(n=z.Default);var i=0;return n&z.SkipSelf?i|=1:n&z.Self&&(i|=4),Lr(this,{token:t,tokenKey:Bi(t),flags:i},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(St)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+R(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,i=new Set,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var o=t._providers[r];if(o&&o!==Mr){var s=o.ngOnDestroy;"function"!=typeof s||i.has(o)||(s.apply(o),i.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),ro=Bi(Rt),oo=Bi(At),so=Bi(Mt),ao=Bi(Zn),uo=Bi(pe),co=Bi(Qn),ho=Bi(it),lo=Bi(et);function po(t,e,n,r,o,s,a,u){var c=[];if(a)for(var h in a){var l=Object(i.h)(a[h],2);c[l[0]]={flags:8,name:h,nonMinifiedName:l[1],ns:null,securityContext:null,suffix:null}}var p=[];if(u)for(var f in u)p.push({type:1,propName:f,target:null,eventName:u[f]});return go(t,e|=16384,n,r,o,o,s,c,p)}function fo(t,e,n){return go(-1,t|=16,null,0,e,e,n)}function go(t,e,n,i,r,o,s,a,u){var c=ar(n),h=c.matchedQueries,l=c.references,p=c.matchedQueryIds;u||(u=[]),a||(a=[]),o=A(o);var f=ur(s,R(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:h,matchedQueryIds:p,references:l,ngContentIndex:-1,childCount:i,bindings:a,bindingFlags:_r(a),outputs:u,element:null,provider:{token:r,value:o,deps:f},text:null,query:null,ngContent:null}}function vo(t,e){return bo(t,e)}function yo(t,e){for(var n=t;n.parent&&!rr(n);)n=n.parent;return wo(n.parent,nr(n),!0,e.provider.value,e.provider.deps)}function mo(t,e){var n=wo(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var r=e.outputs[i],o=n[r.propName];if(!en(o))throw new Error("@Output "+r.propName+" not initialized in '"+n.constructor.name+"'.");var s=o.subscribe(_o(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=s.unsubscribe.bind(s)}return n}function _o(t,e,n){return function(i){return tr(t,e,n,i)}}function bo(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return wo(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,o){var s=o.length;switch(s){case 0:return r();case 1:return r(So(t,e,n,o[0]));case 2:return r(So(t,e,n,o[0]),So(t,e,n,o[1]));case 3:return r(So(t,e,n,o[0]),So(t,e,n,o[1]),So(t,e,n,o[2]));default:for(var a=Array(s),u=0;u<s;u++)a[u]=So(t,e,n,o[u]);return r.apply(void 0,Object(i.i)(a))}}(t,e.parent,n,r.value,r.deps);case 2048:return So(t,e.parent,n,r.deps[0]);case 256:return r.value}}function wo(t,e,n,r,o){var s=o.length;switch(s){case 0:return new r;case 1:return new r(So(t,e,n,o[0]));case 2:return new r(So(t,e,n,o[0]),So(t,e,n,o[1]));case 3:return new r(So(t,e,n,o[0]),So(t,e,n,o[1]),So(t,e,n,o[2]));default:for(var a=new Array(s),u=0;u<s;u++)a[u]=So(t,e,n,o[u]);return new(r.bind.apply(r,Object(i.i)([void 0],a)))}}var xo={};function So(t,e,n,i,r){if(void 0===r&&(r=it.THROW_IF_NOT_FOUND),8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var s=i.tokenKey;s===co&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(s){case ro:return to(Eo(a,e,n));case oo:return Eo(a,e,n).renderer;case so:return new Mt(Ai(a,e.nodeIndex).renderElement);case ao:return Ai(a,e.nodeIndex).viewContainer;case uo:if(e.element.template)return Ai(a,e.nodeIndex).template;break;case co:return qr(Eo(a,e,n));case ho:case lo:return Zr(a,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var c=Li(a,u.nodeIndex);return c||(c={instance:bo(a,u)},a.nodes[u.nodeIndex]=c),c.instance}}n=rr(a),e=nr(a),a=a.parent,4&i.flags&&(a=null)}var h=o.root.injector.get(i.token,xo);return h!==xo||r===xo?h:o.root.ngModule.injector.get(i.token,r)}function Eo(t,e,n){var i;if(n)i=Ai(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!rr(i);)i=i.parent;return i}function Co(t,e,n,i,r,o){if(32768&n.flags){var s=Ai(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};var a=q.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new X(a,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function To(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0,r=0;r<n.length;r++){var o=n[r],s=o.parent;for(!s&&o.flags&e&&Mo(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);s&&1&s.flags&&r===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(i=Oo(t,s,e,i)),s=s.parent}}function Oo(t,e,n,i){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&Mo(t,r,o.flags&n,i++),r+=o.childCount}return i}function Mo(t,e,n,i){var r=Li(t,e);if(r){var o=r.instance;o&&(Fi.setCurrentNode(t,e),1048576&n&&Pi(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Pi(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Io(t,e,n){var i=[];for(var r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:sr(e),bindings:i},ngContent:null}}function Ro(t){for(var e=t.def.nodeMatchedQueries;t.parent&&or(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,r=0;r<=i;r++)67108864&(o=t.def.nodes[r]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Ni(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}if(134217728&t.def.nodeFlags)for(r=0;r<t.def.nodes.length;r++){var o;134217728&(o=t.def.nodes[r]).flags&&536870912&o.flags&&Ni(t,r).setDirty(),r+=o.childCount}}function Po(t,e){var n=Ni(t,e.nodeIndex);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=ko(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),i=Li(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=ko(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var c=s[u],h=void 0;switch(c.bindingType){case 0:h=n.first;break;case 1:h=n,a=!0}i[c.propName]=h}a&&n.notifyOnChanges()}}function ko(t,e,n,i,r){for(var o=e;o<=n;o++){var s=t.def.nodes[o],a=s.matchedQueries[i.id];if(null!=a&&r.push(Ao(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var u=Ai(t,o);if((s.childMatchedQueries&i.filterId)===i.filterId&&(ko(t,o+1,o+s.childCount,i,r),o+=s.childCount),16777216&s.flags)for(var c=u.viewContainer._embeddedViews,h=0;h<c.length;h++){var l=c[h],p=er(l);p&&p===u&&ko(l,0,l.def.nodes.length-1,i,r)}var f=u.template._projectedViews;if(f)for(h=0;h<f.length;h++){var d=f[h];ko(d,0,d.def.nodes.length-1,i,r)}}(s.childMatchedQueries&i.filterId)!==i.filterId&&(o+=s.childCount)}return r}function Ao(t,e,n){if(null!=n)switch(n){case 1:return Ai(t,e.nodeIndex).renderElement;case 0:return new Mt(Ai(t,e.nodeIndex).renderElement);case 2:return Ai(t,e.nodeIndex).template;case 3:return Ai(t,e.nodeIndex).viewContainer;case 4:return Li(t,e.nodeIndex).instance}}function Lo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function jo(t,e,n){var i=cr(t,e,n);i&&dr(t,n.ngContent.index,1,i,null,void 0)}function No(t,e){for(var n=Object.keys(e),i=n.length,r=new Array(i),o=0;o<i;o++){var s=n[o];r[e[s]]=s}return function(t,e,n){for(var i=new Array(n.length),r=0;r<n.length;r++){var o=n[r];i[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:_r(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function Fo(t,e,n){for(var i=new Array(n.length-1),r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Do(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=cr(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function Go(t,e){return(null!=t?t.toString():"")+e.suffix}function zo(t,e,n,i){for(var r=0,o=0,s=0,a=0,u=0,c=null,h=null,l=!1,p=!1,f=null,d=0;d<e.length;d++){var g=e[d];if(g.nodeIndex=d,g.parent=c,g.bindingIndex=r,g.outputIndex=o,g.renderParent=h,s|=g.flags,u|=g.matchedQueryIds,g.element){var v=g.element;v.publicProviders=c?c.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,l=!1,p=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if($o(c,g,e.length),r+=g.bindings.length,o+=g.outputs.length,!h&&3&g.flags&&(f=g),20224&g.flags){l||(l=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var y=0!=(32768&g.flags);0==(8192&g.flags)||y?c.element.publicProviders[Bi(g.provider.token)]=g:(p||(p=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Bi(g.provider.token)]=g),y&&(c.element.componentProvider=g)}if(c?(c.childFlags|=g.flags,c.directChildFlags|=g.flags,c.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(c.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)c=g,Uo(g)||(h=g);else for(;c&&d===c.nodeIndex+c.childCount;){var m=c.parent;m&&(m.childFlags|=c.childFlags,m.childMatchedQueries|=c.childMatchedQueries),h=(c=m)&&Uo(c)?c.renderParent:c}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Ui,updateRenderer:i||Ui,handleEvent:function(t,n,i,r){return e[n].element.handleEvent(t,i,r)},bindingCount:r,outputCount:o,lastRenderRootNode:f}}function Uo(t){return 0!=(1&t.flags)&&null===t.element.name}function $o(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Bo(t,e,n,i){var r=Wo(t.root,t.renderer,t,e,n);return qo(r,t.component,i),Xo(r),r}function Vo(t,e,n){var i=Wo(t,t.renderer,null,null,e);return qo(i,n,n),Xo(i),i}function Ho(t,e,n,i){var r,o=e.element.componentRendererType;return r=o?t.root.rendererFactory.createRenderer(i,o):t.root.renderer,Wo(t.root,r,t,e.element.componentProvider,n)}function Wo(t,e,n,i,r){var o=new Array(r.nodes.length),s=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:s,initIndex:-1}}function qo(t,e,n){t.component=e,t.context=n}function Xo(t){var e;rr(t)&&(e=Ai(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,i=t.nodes,r=0;r<n.nodes.length;r++){var o=n.nodes[r];Fi.setCurrentNode(t,r);var s=void 0;switch(201347067&o.flags){case 1:var a=Er(t,e,o),u=void 0;if(33554432&o.flags){var c=lr(o.element.componentView);u=Fi.createComponentView(t,o,c,a)}Cr(t,u,o,a),s={renderElement:a,componentView:u,viewContainer:null,template:o.element.template?Yr(t,o):void 0},16777216&o.flags&&(s.viewContainer=Hr(t,o,s));break;case 2:s=Do(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=i[r])||4096&o.flags||(s={instance:vo(t,o)});break;case 16:s={instance:yo(t,o)};break;case 16384:(s=i[r])||(s={instance:mo(t,o)}),32768&o.flags&&qo(Ai(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new Wn;break;case 8:jo(t,e,o),s=void 0}i[r]=s}is(t,ns.CreateViewNodes),as(t,201326592,268435456,0)}function Yo(t){Jo(t),Fi.updateDirectives(t,1),rs(t,ns.CheckNoChanges),Fi.updateRenderer(t,1),is(t,ns.CheckNoChanges),t.state&=-97}function Ko(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Ri(t,0,256),Jo(t),Fi.updateDirectives(t,0),rs(t,ns.CheckAndUpdate),as(t,67108864,536870912,0);var e=Ri(t,256,512);To(t,2097152|(e?1048576:0)),Fi.updateRenderer(t,0),is(t,ns.CheckAndUpdate),as(t,134217728,536870912,0),To(t,8388608|((e=Ri(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Ri(t,768,1024)}function Zo(t,e,n,r,o,s,a,u,c,h,l,p,f){return 0===n?function(t,e,n,i,r,o,s,a,u,c,h,l){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,s,a,u,c,h,l){var p=e.bindings.length,f=!1;return p>0&&Or(t,e,0,n)&&(f=!0),p>1&&Or(t,e,1,i)&&(f=!0),p>2&&Or(t,e,2,r)&&(f=!0),p>3&&Or(t,e,3,o)&&(f=!0),p>4&&Or(t,e,4,s)&&(f=!0),p>5&&Or(t,e,5,a)&&(f=!0),p>6&&Or(t,e,6,u)&&(f=!0),p>7&&Or(t,e,7,c)&&(f=!0),p>8&&Or(t,e,8,h)&&(f=!0),p>9&&Or(t,e,9,l)&&(f=!0),f}(t,e,n,i,r,o,s,a,u,c,h,l);case 2:return function(t,e,n,i,r,o,s,a,u,c,h,l){var p=!1,f=e.bindings,d=f.length;if(d>0&&Ki(t,e,0,n)&&(p=!0),d>1&&Ki(t,e,1,i)&&(p=!0),d>2&&Ki(t,e,2,r)&&(p=!0),d>3&&Ki(t,e,3,o)&&(p=!0),d>4&&Ki(t,e,4,s)&&(p=!0),d>5&&Ki(t,e,5,a)&&(p=!0),d>6&&Ki(t,e,6,u)&&(p=!0),d>7&&Ki(t,e,7,c)&&(p=!0),d>8&&Ki(t,e,8,h)&&(p=!0),d>9&&Ki(t,e,9,l)&&(p=!0),p){var g=e.text.prefix;d>0&&(g+=Go(n,f[0])),d>1&&(g+=Go(i,f[1])),d>2&&(g+=Go(r,f[2])),d>3&&(g+=Go(o,f[3])),d>4&&(g+=Go(s,f[4])),d>5&&(g+=Go(a,f[5])),d>6&&(g+=Go(u,f[6])),d>7&&(g+=Go(c,f[7])),d>8&&(g+=Go(h,f[8])),d>9&&(g+=Go(l,f[9]));var v=ki(t,e.nodeIndex).renderText;t.renderer.setValue(v,g)}return p}(t,e,n,i,r,o,s,a,u,c,h,l);case 16384:return function(t,e,n,i,r,o,s,a,u,c,h,l){var p=Li(t,e.nodeIndex),f=p.instance,d=!1,g=void 0,v=e.bindings.length;return v>0&&Yi(t,e,0,n)&&(d=!0,g=Co(t,p,e,0,n,g)),v>1&&Yi(t,e,1,i)&&(d=!0,g=Co(t,p,e,1,i,g)),v>2&&Yi(t,e,2,r)&&(d=!0,g=Co(t,p,e,2,r,g)),v>3&&Yi(t,e,3,o)&&(d=!0,g=Co(t,p,e,3,o,g)),v>4&&Yi(t,e,4,s)&&(d=!0,g=Co(t,p,e,4,s,g)),v>5&&Yi(t,e,5,a)&&(d=!0,g=Co(t,p,e,5,a,g)),v>6&&Yi(t,e,6,u)&&(d=!0,g=Co(t,p,e,6,u,g)),v>7&&Yi(t,e,7,c)&&(d=!0,g=Co(t,p,e,7,c,g)),v>8&&Yi(t,e,8,h)&&(d=!0,g=Co(t,p,e,8,h,g)),v>9&&Yi(t,e,9,l)&&(d=!0,g=Co(t,p,e,9,l,g)),g&&f.ngOnChanges(g),65536&e.flags&&Pi(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,n,i,r,o,s,a,u,c,h,l);case 32:case 64:case 128:return function(t,e,n,i,r,o,s,a,u,c,h,l){var p=e.bindings,f=!1,d=p.length;if(d>0&&Ki(t,e,0,n)&&(f=!0),d>1&&Ki(t,e,1,i)&&(f=!0),d>2&&Ki(t,e,2,r)&&(f=!0),d>3&&Ki(t,e,3,o)&&(f=!0),d>4&&Ki(t,e,4,s)&&(f=!0),d>5&&Ki(t,e,5,a)&&(f=!0),d>6&&Ki(t,e,6,u)&&(f=!0),d>7&&Ki(t,e,7,c)&&(f=!0),d>8&&Ki(t,e,8,h)&&(f=!0),d>9&&Ki(t,e,9,l)&&(f=!0),f){var g=ji(t,e.nodeIndex),v=void 0;switch(201347067&e.flags){case 32:v=new Array(p.length),d>0&&(v[0]=n),d>1&&(v[1]=i),d>2&&(v[2]=r),d>3&&(v[3]=o),d>4&&(v[4]=s),d>5&&(v[5]=a),d>6&&(v[6]=u),d>7&&(v[7]=c),d>8&&(v[8]=h),d>9&&(v[9]=l);break;case 64:v={},d>0&&(v[p[0].name]=n),d>1&&(v[p[1].name]=i),d>2&&(v[p[2].name]=r),d>3&&(v[p[3].name]=o),d>4&&(v[p[4].name]=s),d>5&&(v[p[5].name]=a),d>6&&(v[p[6].name]=u),d>7&&(v[p[7].name]=c),d>8&&(v[p[8].name]=h),d>9&&(v[p[9].name]=l);break;case 128:var y=n;switch(d){case 1:v=y.transform(n);break;case 2:v=y.transform(i);break;case 3:v=y.transform(i,r);break;case 4:v=y.transform(i,r,o);break;case 5:v=y.transform(i,r,o,s);break;case 6:v=y.transform(i,r,o,s,a);break;case 7:v=y.transform(i,r,o,s,a,u);break;case 8:v=y.transform(i,r,o,s,a,u,c);break;case 9:v=y.transform(i,r,o,s,a,u,c,h);break;case 10:v=y.transform(i,r,o,s,a,u,c,h,l)}}g.value=v}return f}(t,e,n,i,r,o,s,a,u,c,h,l);default:throw"unreachable"}}(t,e,r,o,s,a,u,c,h,l,p,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var i=!1,r=0;r<n.length;r++)Or(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Ki(t,e,o,n[o])&&(r=!0);if(r){var s="";for(o=0;o<n.length;o++)s+=Go(n[o],i[o]);s=e.text.prefix+s;var a=ki(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return r}(t,e,n);case 16384:return function(t,e,n){for(var i=Li(t,e.nodeIndex),r=i.instance,o=!1,s=void 0,a=0;a<n.length;a++)Yi(t,e,a,n[a])&&(o=!0,s=Co(t,i,e,a,n[a],s));return s&&r.ngOnChanges(s),65536&e.flags&&Pi(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,o=!1,s=0;s<n.length;s++)Ki(t,e,s,n[s])&&(o=!0);if(o){var a=ji(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},s=0;s<n.length;s++)u[r[s].name]=n[s];break;case 128:var c=n[0],h=n.slice(1);u=c.transform.apply(c,Object(i.i)(h))}a.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Jo(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=Ai(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var s=r[o];s.state|=32,Qi(s,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Qo(t,e,n,i,r,o,s,a,u,c,h,l,p){return 0===n?function(t,e,n,i,r,o,s,a,u,c,h,l){var p=e.bindings.length;p>0&&Zi(t,e,0,n),p>1&&Zi(t,e,1,i),p>2&&Zi(t,e,2,r),p>3&&Zi(t,e,3,o),p>4&&Zi(t,e,4,s),p>5&&Zi(t,e,5,a),p>6&&Zi(t,e,6,u),p>7&&Zi(t,e,7,c),p>8&&Zi(t,e,8,h),p>9&&Zi(t,e,9,l)}(t,e,i,r,o,s,a,u,c,h,l,p):function(t,e,n){for(var i=0;i<n.length;i++)Zi(t,e,i,n[i])}(t,e,i),!1}function ts(t,e){if(Ni(t,e.nodeIndex).dirty)throw Di(Fi.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function es(t){if(!(128&t.state)){if(rs(t,ns.Destroy),is(t,ns.Destroy),To(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=er(t);if(e){var n=e.template._projectedViews;n&&(zr(n,n.indexOf(t)),Fi.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(Ai(t,n).renderElement):2&i.flags?t.renderer.destroyNode(ki(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&Ni(t,n).destroy()}}(t),rr(t)&&t.renderer.destroy(),t.state|=128}}var ns=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function is(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?os(Ai(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function rs(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=Ai(t,i).viewContainer._embeddedViews,s=0;s<o.length;s++)os(o[s],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function os(t,e){var n=t.state;switch(e){case ns.CheckNoChanges:0==(128&n)&&(12==(12&n)?Yo(t):64&n&&ss(t,ns.CheckNoChangesProjectedViews));break;case ns.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Yo(t):64&n&&ss(t,e));break;case ns.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ko(t):64&n&&ss(t,ns.CheckAndUpdateProjectedViews));break;case ns.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ko(t):64&n&&ss(t,e));break;case ns.Destroy:es(t);break;case ns.CreateViewNodes:Xo(t)}}function ss(t,e){rs(t,e),is(t,e)}function as(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var s=t.def.nodes[o];if(s.flags&e&&s.flags&n)switch(Fi.setCurrentNode(t,s.nodeIndex),i){case 0:Po(t,s);break;case 1:ts(t,s)}s.childFlags&e&&s.childFlags&n||(o+=s.childCount)}}var us=!1;function cs(t,e,n,i,r,o){var s=r.injector.get(Pt);return Vo(ls(t,r,s,e,n),i,o)}function hs(t,e,n,i,r,o){var s=r.injector.get(Pt),a=ls(t,r,new Bs(s),e,n),u=ws(i);return Us(Rs.create,Vo,null,[a,u,o])}function ls(t,e,n,i,r){var o=e.injector.get(Nt),s=e.injector.get(Le),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function ps(t,e,n,i){var r=ws(n);return Us(Rs.create,Bo,null,[t,e,r,i])}function fs(t,e,n,i){return n=ys.get(e.element.componentProvider.provider.token)||ws(n),Us(Rs.create,Ho,null,[t,e,n,i])}function ds(t,e,n,i){return no(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===gs.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var i=gs.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(function(t){vs.forEach(function(i,r){d(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var i=t.providers[e];n&&(i.flags|=4096);var r=gs.get(i.token);r&&(i.flags=-3841&i.flags|r.flags,i.deps=ur(r.deps),i.value=r.value)}if(vs.size>0){var o=new Set(t.modules);vs.forEach(function(e,i){if(o.has(d(i).providedIn)){var r={token:i,flags:e.flags|(n?4096:0),deps:ur(e.deps),value:e.value,index:t.providers.length};t.providers.push(r),t.providersByKey[Bi(i)]=r}})}}(t=t.factory(function(){return Ui})),t):t}(i))}var gs=new Map,vs=new Map,ys=new Map;function ms(t){var e;gs.set(t.token,t),"function"==typeof t.token&&(e=d(t.token))&&"function"==typeof e.providedIn&&vs.set(t.token,t)}function _s(t,e){var n=lr(e.viewDefFactory),i=lr(n.nodes[0].element.componentView);ys.set(t,i)}function bs(){gs.clear(),vs.clear(),ys.clear()}function ws(t){if(0===gs.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&gs.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Ui});for(var n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var r=i.provider,o=gs.get(r.token);o&&(i.flags=-3841&i.flags|o.flags,r.deps=ur(o.deps),r.value=o.value)}}}}function xs(t,e,n,i,r,o,s,a,u,c,h,l,p){var f=t.def.nodes[e];return Zo(t,f,n,i,r,o,s,a,u,c,h,l,p),224&f.flags?ji(t,e).value:void 0}function Ss(t,e,n,i,r,o,s,a,u,c,h,l,p){var f=t.def.nodes[e];return Qo(t,f,n,i,r,o,s,a,u,c,h,l,p),224&f.flags?ji(t,e).value:void 0}function Es(t){return Us(Rs.detectChanges,Ko,null,[t])}function Cs(t){return Us(Rs.checkNoChanges,Yo,null,[t])}function Ts(t){return Us(Rs.destroy,es,null,[t])}var Os,Ms,Is,Rs=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Ps(t,e){Ms=t,Is=e}function ks(t,e,n,i){return Ps(t,e),Us(Rs.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function As(t,e){if(128&t.state)throw zi(Rs[Os]);return Ps(t,Fs(t,0)),t.def.updateDirectives(function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?js(t,s,i,r):Ns(t,s,i,r),16384&s.flags&&Ps(t,Fs(t,n)),224&s.flags?ji(t,s.nodeIndex).value:void 0},t)}function Ls(t,e){if(128&t.state)throw zi(Rs[Os]);return Ps(t,Ds(t,0)),t.def.updateRenderer(function(t,n,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var s=t.def.nodes[n];return 0===e?js(t,s,i,r):Ns(t,s,i,r),3&s.flags&&Ps(t,Ds(t,n)),224&s.flags?ji(t,s.nodeIndex).value:void 0},t)}function js(t,e,n,r){if(Zo.apply(void 0,Object(i.i)([t,e,n],r))){var o=1===n?r[0]:r;if(16384&e.flags){for(var s={},a=0;a<e.bindings.length;a++){var u=e.bindings[a],c=o[a];8&u.flags&&(s[(f=u.nonMinifiedName,"ng-reflect-"+f.replace(/[$@]/g,"_").replace(V,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=H(c))}var h=e.parent,l=Ai(t,h.nodeIndex).renderElement;if(h.element.name)for(var p in s)null!=(c=s[p])?t.renderer.setAttribute(l,p,c):t.renderer.removeAttribute(l,p);else t.renderer.setValue(l,"bindings="+JSON.stringify(s,null,2))}}var f}function Ns(t,e,n,r){Qo.apply(void 0,Object(i.i)([t,e,n],r))}function Fs(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function Ds(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var Gs=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,i=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=nr(i),i=i.parent;this.elDef=n,this.elView=i}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Ai(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Zr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){zs(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&zs(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!rr(t);)t=t.parent;return t.parent?Ai(t.parent,nr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ir(this.view,this.nodeDef):ir(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var s=function(t,e){for(var n=-1,i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(e,n),a=-1;e.factory(function(){var e;return++a===s?(e=t.error).bind.apply(e,Object(i.i)([t],r)):Ui}),a<s&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(i.i)(r)))},t}();function zs(t,e,n){for(var i in e.references)n[i]=Ao(t,e,e.references[i])}function Us(t,e,n,i){var r=Os,o=Ms,s=Is;try{Os=t;var a=e.apply(n,i);return Ms=o,Is=s,Os=r,a}catch(u){if(Pe(u)||!Ms)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Gi(t,e),t}(u,$s())}}function $s(){return Ms?new Gs(Ms,Is):null}var Bs=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Vs(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Vs=function(){function t(t){this.delegate=t,this.debugContextFactory=$s,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){si.delete(t.nativeNode)}(ai(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){var r=new ii(n,null,i);r.name=t,ui(r)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ui(new ni(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ui(new ni(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=ai(t),i=ai(e);n&&i&&n instanceof ii&&n.addChild(i),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var i=ai(t),r=ai(e),o=ai(n);i&&r&&i instanceof ii&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=ai(t),i=ai(e);n&&i&&n instanceof ii&&n.removeChild(i),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),i=$s();return i&&ui(new ii(n,null,i)),n},t.prototype.setAttribute=function(t,e,n,i){var r=ai(t);r&&r instanceof ii&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)},t.prototype.removeAttribute=function(t,e,n){var i=ai(t);i&&i instanceof ii&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=ai(t);n&&n instanceof ii&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=ai(t);n&&n instanceof ii&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,i){var r=ai(t);r&&r instanceof ii&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)},t.prototype.removeStyle=function(t,e,n){var i=ai(t);i&&i instanceof ii&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var i=ai(t);i&&i instanceof ii&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var i=ai(t);i&&i.listeners.push(new ei(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Hs(t,e,n){return new Ws(t,e,n)}var Ws=function(t){function e(e,n,i){var r=t.call(this)||this;return r.moduleType=e,r._bootstrapComponents=n,r._ngModuleDefFactory=i,r}return Object(i.d)(e,t),e.prototype.create=function(t){!function(){if(!us){us=!0;var t=Ut()?{setCurrentNode:Ps,createRootView:hs,createEmbeddedView:ps,createComponentView:fs,createNgModuleRef:ds,overrideProvider:ms,overrideComponentView:_s,clearOverrides:bs,checkAndUpdateView:Es,checkNoChangesView:Cs,destroyView:Ts,createDebugContext:function(t,e){return new Gs(t,e)},handleEvent:ks,updateDirectives:As,updateRenderer:Ls}:{setCurrentNode:function(){},createRootView:cs,createEmbeddedView:Bo,createComponentView:Ho,createNgModuleRef:no,overrideProvider:Ui,overrideComponentView:Ui,clearOverrides:Ui,checkAndUpdateView:Ko,checkNoChangesView:Yo,destroyView:es,createDebugContext:function(t,e){return new Gs(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?xs:Ss,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?xs:Ss,t)}};Fi.setCurrentNode=t.setCurrentNode,Fi.createRootView=t.createRootView,Fi.createEmbeddedView=t.createEmbeddedView,Fi.createComponentView=t.createComponentView,Fi.createNgModuleRef=t.createNgModuleRef,Fi.overrideProvider=t.overrideProvider,Fi.overrideComponentView=t.overrideComponentView,Fi.clearOverrides=t.clearOverrides,Fi.checkAndUpdateView=t.checkAndUpdateView,Fi.checkNoChangesView=t.checkNoChangesView,Fi.destroyView=t.destroyView,Fi.resolveDep=So,Fi.createDebugContext=t.createDebugContext,Fi.handleEvent=t.handleEvent,Fi.updateDirectives=t.updateDirectives,Fi.updateRenderer=t.updateRenderer,Fi.dirtyParentQueries=Ro}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),i={};for(var r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(lr(this._ngModuleDefFactory));return Fi.createNgModuleRef(this.moduleType,t||it.NULL,this._bootstrapComponents,e)},e}(Ot)},DKTb:function(t,e,n){"use strict";function i(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return i})},"En8+":function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return r});var r=i()},"F/XL":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("nkY7"),r=n("IUTb"),o=n("JF+6");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(i.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(r.a)(t)}},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("mrSG"),r=n("2Bdj"),o=n("6ahw"),s=n("pugT"),a=n("L/V9"),u=n("iLxQ"),c=n("DKTb"),h=function(t){function e(n,i,r){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new l(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new l(s,n,i,r)}return s}return i.d(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.a),l=function(t){function e(e,n,i,s){var a,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(r.a)(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==o.a&&(c=Object.create(n),Object(r.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=i,u._complete=s,u}return i.d(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(h)},FX7f:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("9TBO"),r=n("wSPg"),o=function(t,e,n){t.style.setProperty(e,n)},s=function(t,e){t.style.removeProperty(e)},a=[],u=function(t,e){if(void 0===t&&(t=[]),void 0!==e){var n=Array.isArray(e)?e:[e];return Object(i.d)(t,n)}return t},c=function(){var t,e,n,c,h,l,p,f,d,g,v,y,m,_=[],b=[],w=[],x=!1,S={},E=[],C=[],T={},O=0,M=!1,I=!1,R=!0,P=!1,k=!0,A=[],L=[],j=[],N=[],F=[],D=[],G=[],z=[],U=[],$=[],B="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,V="function"==typeof Element&&"function"==typeof Element.prototype.animate&&B,H=function(t,e){return(e&&e.oneTimeCallback?L:A).push({c:t,o:e}),m},W=function(){if(V)$.forEach(function(t){t.cancel()}),$.length=0;else{var t=j.slice();Object(r.k)(function(){t.forEach(function(t){s(t,"animation-name"),s(t,"animation-duration"),s(t,"animation-timing-function"),s(t,"animation-iteration-count"),s(t,"animation-delay"),s(t,"animation-play-state"),s(t,"animation-fill-mode"),s(t,"animation-direction")})})}},q=function(){F.forEach(function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}),F.length=0},X=function(){return void 0!==h?h:p?p.getFill():"both"},Y=function(){return void 0!==d?d:void 0!==l?l:p?p.getDirection():"normal"},K=function(){return M?"linear":void 0!==n?n:p?p.getEasing():"linear"},Z=function(){return I?0:void 0!==g?g:void 0!==e?e:p?p.getDuration():0},J=function(){return void 0!==c?c:p?p.getIterations():1},Q=function(){return void 0!==v?v:void 0!==t?t:p?p.getDelay():0},tt=function(){0!==O&&0==--O&&(function(){var t,e,n;at(),z.forEach(function(t){t()}),U.forEach(function(t){t()}),t=E,e=C,n=T,j.forEach(function(i){var r=i.classList;for(var s in t.forEach(function(t){return r.add(t)}),e.forEach(function(t){return r.remove(t)}),n)n.hasOwnProperty(s)&&o(i,s,n[s])});var i=R?1:0;A.forEach(function(t){return t.c(i,m)}),L.forEach(function(t){return t.c(i,m)}),L.length=0,k=!0,P=!0}(),p&&p.animationFinish())},et=function(t){var e,n,i;void 0===t&&(t=!0),D.forEach(function(t){t()}),G.forEach(function(t){t()}),e=b,n=w,i=S,j.forEach(function(t){var r=t.classList;for(var s in e.forEach(function(t){return r.add(t)}),n.forEach(function(t){return r.remove(t)}),i)i.hasOwnProperty(s)&&o(t,s,i[s])}),_.length>0&&(V?(j.forEach(function(t){var e=t.animate(_,{delay:Q(),duration:Z(),easing:K(),iterations:J(),fill:X(),direction:Y()});e.pause(),$.push(e)}),$.length>0&&($[0].onfinish=function(){tt()})):function(t){void 0===t&&(t=!0),q(),j.forEach(function(e){if(_.length>0){var n=(void 0===(u=_)&&(u=[]),u.map(function(t){var e=t.offset,n=[];for(var i in t)t.hasOwnProperty(i)&&"offset"!==i&&n.push(i+": "+t[i]+";");return 100*e+"% { "+n.join(" ")+" }"}).join(" ")),i=function(t,e,n){var i=function(t){var e=t.getRootNode();return e.head||e}(n),r=i.querySelector("#"+t);if(r)return r;var o=(n.ownerDocument||document).createElement("style");return o.id=t,o.textContent="@keyframes "+t+" { "+e+" } @keyframes "+t+"-alt { "+e+" }",i.appendChild(o),o}(y=function(t){var e=a.indexOf(t);return e<0&&(e=a.push(t)-1),"ion-animation-"+e}(n),n,e);F.push(i),o(e,"animation-duration",Z()+"ms"),o(e,"animation-timing-function",K()),o(e,"animation-delay",Q()+"ms"),o(e,"animation-fill-mode",X()),o(e,"animation-direction",Y());var s=J()===1/0?"infinite":J().toString();o(e,"animation-iteration-count",s),o(e,"animation-play-state","paused"),t&&o(e,"animation-name",i.id+"-alt"),Object(r.k)(function(){o(e,"animation-name",i.id||null)})}var u})}(t)),x=!0},nt=function(t){if(t=Math.min(Math.max(t,0),.999),V)$.forEach(function(e){e.currentTime=e.effect.getComputedTiming().delay+Z()*t,e.pause()});else{var e="-"+((Q()||0)+Z()*t)+"ms";j.forEach(function(t){_.length>0&&(o(t,"animation-delay",e),o(t,"animation-play-state","paused"))})}},it=function(t){void 0===t&&(t=!0),j.forEach(function(e){Object(r.k)(function(){o(e,"animation-name",y||null),o(e,"animation-duration",Z()+"ms"),o(e,"animation-timing-function",K()),o(e,"animation-delay",Q()+"ms"),o(e,"animation-fill-mode",X()||null),o(e,"animation-direction",Y()||null);var n=J()===1/0?"infinite":J().toString();o(e,"animation-iteration-count",n),t&&o(e,"animation-name",y+"-alt"),Object(r.k)(function(){o(e,"animation-name",y||null)})})})},rt=function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!0),t&&N.forEach(function(e){e.update(t)}),V?$.forEach(function(t){t.effect.updateTiming({delay:Q(),duration:Z(),easing:K(),iterations:J(),fill:X(),direction:Y()})}):it(e),m},ot=function(){x&&(V?$.forEach(function(t){t.pause()}):j.forEach(function(t){o(t,"animation-play-state","paused")}))},st=function(){f=void 0,tt()},at=function(){f&&clearTimeout(f)},ut=function(t){return new Promise(function(e){t&&t.sync&&(I=!0,H(function(){return I=!1},{oneTimeCallback:!0})),x||et(),P&&(V?nt(0):it(),P=!1),k&&(O=N.length+1,k=!1),H(function(){return e()},{oneTimeCallback:!0}),N.forEach(function(t){t.play()}),V?($.forEach(function(t){t.play()}),0!==_.length&&0!==j.length||tt()):function(){if(at(),j.forEach(function(t){_.length>0&&Object(r.k)(function(){o(t,"animation-play-state","running")})}),0===_.length||0===j.length)tt();else{var t=Q()||0,e=Z()||0,n=J()||1;f=setTimeout(st,t+e*n+100),a=function(){at(),Object(r.k)(function(){j.forEach(function(t){s(t,"animation-duration"),s(t,"animation-delay"),s(t,"animation-play-state")}),Object(r.k)(tt)})},c={passive:!0},h=function(){u&&u()},l=function(t){i===t.target&&(h(),a())},(i=j[0])&&(i.addEventListener("webkitAnimationEnd",l,c),i.addEventListener("animationend",l,c),u=function(){i.removeEventListener("webkitAnimationEnd",l,c),i.removeEventListener("animationend",l,c)})}var i,a,u,c,h,l}()})},ct=function(t,e){var n,r=_[0];return void 0!==r&&0===r.offset?r[t]=e:_=Object(i.d)([(n={offset:0},n[t]=e,n)],_),m};return m={parentAnimation:p,elements:j,childAnimations:N,animationFinish:tt,from:ct,to:function(t,e){var n,r=_[_.length-1];return void 0!==r&&1===r.offset?r[t]=e:_=Object(i.d)(_,[(n={offset:1},n[t]=e,n)]),m},fromTo:function(t,e,n){return ct(t,e).to(t,n)},parent:function(t){return p=t,m},play:ut,playAsync:function(){return ut()},playSync:function(){return ut({sync:!0}),m},pause:function(){return N.forEach(function(t){t.pause()}),ot(),m},stop:function(){N.forEach(function(t){t.stop()}),x&&(W(),x=!1)},destroy:function(){return N.forEach(function(t){t.destroy()}),W(),q(),j.length=0,N.length=0,_.length=0,A.length=0,L.length=0,x=!1,k=!0,m},keyframes:function(t){return _=t,m},addAnimation:function(t){if(null!=t)if(Array.isArray(t))for(var e=0,n=t;e<n.length;e++){var i=n[e];i.parent(m),N.push(i)}else t.parent(m),N.push(t);return m},addElement:function(t){if(null!=t)if(1===t.nodeType)j.push(t);else if(t.length>=0)for(var e=0;e<t.length;e++)j.push(t[e]);else console.error("Invalid addElement value");return m},update:rt,fill:function(t){return h=t,rt(!0),m},direction:function(t){return l=t,rt(!0),m},iterations:function(t){return c=t,rt(!0),m},duration:function(t){return V||0!==t||(t=1),e=t,rt(!0),m},easing:function(t){return n=t,rt(!0),m},delay:function(e){return t=e,rt(!0),m},getWebAnimations:function(){return $},getKeyframes:function(){return _},getFill:X,getDirection:Y,getDelay:Q,getIterations:J,getEasing:K,getDuration:Z,afterAddRead:function(t){return z.push(t),m},afterAddWrite:function(t){return U.push(t),m},afterClearStyles:function(t){void 0===t&&(t=[]);for(var e=0,n=t;e<n.length;e++)T[n[e]]="";return m},afterStyles:function(t){return void 0===t&&(t={}),T=t,m},afterRemoveClass:function(t){return C=u(C,t),m},afterAddClass:function(t){return E=u(E,t),m},beforeAddRead:function(t){return D.push(t),m},beforeAddWrite:function(t){return G.push(t),m},beforeClearStyles:function(t){void 0===t&&(t=[]);for(var e=0,n=t;e<n.length;e++)S[n[e]]="";return m},beforeStyles:function(t){return void 0===t&&(t={}),S=t,m},beforeRemoveClass:function(t){return w=u(w,t),m},beforeAddClass:function(t){return b=u(b,t),m},onFinish:H,progressStart:function(t){return void 0===t&&(t=!1),N.forEach(function(e){e.progressStart(t)}),ot(),M=t,x?(rt(),nt(0)):et(),m},progressStep:function(t){return N.forEach(function(e){e.progressStep(t)}),nt(t),m},progressEnd:function(t,e,n){return M=!1,N.forEach(function(i){i.progressEnd(t,e,n)}),void 0!==n&&(g=n),P=!1,(R=1===t)?V||(v=e*Z()*-1,rt(!1,!1)):(d="reverse"===Y()?"normal":"reverse",V?(rt(),nt(1-e)):(v=(1-e)*Z()*-1,rt(!1,!1))),H(function(){R=!0,g=void 0,d=void 0,v=void 0},{oneTimeCallback:!0}),p||ut(),m}}}},Fxb1:function(t,e,n){"use strict";var i=n("+tJ4"),r=n("DKTb"),o=n("En8+"),s=n("xTla"),a=n("2ePl"),u=n("/WYv"),c=n("McSo");n.d(e,"a",function(){return h});var h=function(t){if(t&&"function"==typeof t[s.a])return h=t,function(t){var e=h[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,r.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,h,l=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+l+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("6blF"),r=new i.a(function(t){return t.complete()});function o(t){return t?function(t){return new i.a(function(e){return t.schedule(function(){return e.complete()})})}(t):r}},Gi3i:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("mrSG"),r=n("FFOo"),o=n("T1DM");function s(t,e){return void 0===e&&(e=o.a),function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.dueTime,this.scheduler))},t}(),u=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return i.d(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(r.a);function c(t){t.debouncedNext()}},GrlX:function(t,e,n){var i=n("T016"),r=n("JRS9"),o={};for(var s in i)i.hasOwnProperty(s)&&(o[i[s]]=s);var a=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}a.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=a.get.hsl(t),n="hsl";break;case"hwb":e=a.get.hwb(t),n="hwb";break;default:e=a.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},a.get.rgb=function(t){if(!t)return null;var e,n,r,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(r=e[2],e=e[1],n=0;n<3;n++){var s=2*n;o[n]=parseInt(e.slice(s,s+2),16)}r&&(o[3]=Math.round(parseInt(r,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(r=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);r&&(o[3]=Math.round(parseInt(r+r,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(o=i[e[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=u(o[n],0,255);return o[3]=u(o[3],0,1),o},a.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},a.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},a.to.hex=function(){var t=r(arguments);return"#"+c(t[0])+c(t[1])+c(t[2])+(t[3]<1?c(Math.round(255*t[3])):"")},a.to.rgb=function(){var t=r(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},a.to.rgb.percent=function(){var t=r(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),i=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+i+"%)":"rgba("+e+"%, "+n+"%, "+i+"%, "+t[3]+")"},a.to.hsl=function(){var t=r(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},a.to.hwb=function(){var t=r(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},a.to.keyword=function(t){return o[t.slice(0,3)]}},"H+Hf":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("ZZ/e"),r=n("1i8C"),o=n("BtSu"),s=n("S5bw"),a=n("VnD/"),u=n("t9fZ"),c=n("r4Kj"),h=n("f5ys"),l=n("l207"),p=n("gTw3"),f=n("CcnG"),d=n("A7o+"),g=function(){function t(t,e,n,i,r,o,c,h){var l=this;this._alertController=t,this._configService=e,this._deviceService=n,this._geolocation=i,this._mapService=r,this._ngZone=o,this._platform=c,this._translateService=h,this._outsideBboxPresented=!1,this._useGpsBearing=!1,this._state={isActive:!1,isLoading:!1,isFollowing:!1,isRotating:!1},this._events={onZoom:null,onDrag:null,onRotate:null},this.onLocationChange=new s.a(1),this.onGeolocationStateChange=new s.a(1),this._platform.ready().then(function(){l._mapService.onReady.pipe(Object(a.a)(function(t){return t}),Object(u.a)(1)).subscribe(function(){l._start(!0)})})}return t.prototype._checkMapMovement=function(){var t=this._mapService.getCenter();if(this._currentLocation&&this._currentLocation.latitude&&this._currentLocation.longitude){if(this._mapService.getFixedDistance(t,this._currentLocation)>30&&(this._state.isFollowing||this._state.isRotating))return this._toggleFollow(!1),this.onGeolocationStateChange.next(this._state),!0}else if(this._state.isFollowing||this._state.isRotating)return this._toggleFollow(!1),this.onGeolocationStateChange.next(this._state),!0;return!1},t.prototype._enableMapEventListeners=function(){var t=this;this._events.onDrag=this._mapService.onDrag.subscribe(function(){t._checkMapMovement()}),this._events.onZoom=this._mapService.onZoom.subscribe(function(){t._checkMapMovement()}),this._events.onRotate=this._mapService.onRotateReset.subscribe(function(){t.switchState({isActive:t._state.isActive,isLoading:t._state.isLoading,isFollowing:t._state.isFollowing,isRotating:!1})})},t.prototype._disableMapEventListeners=function(){this._events&&this._events.onDrag&&this._events.onDrag.unsubscribe&&"function"==typeof this._events.onDrag.unsubscribe&&this._events.onDrag.unsubscribe(),this._events.onDrag=null,this._events&&this._events.onDrag&&this._events.onZoom.unsubscribe&&"function"==typeof this._events.onZoom.unsubscribe&&this._events.onZoom.unsubscribe(),this._events.onZoom=null},t.prototype._locationUpdate=function(t,e){if(this._state.isActive&&!Number.isNaN(t.latitude)&&!Number.isNaN(t.longitude)){if(t.latitude&&"number"!=typeof t.latitude){if(!((n=parseFloat(t.latitude))>(i=this._configService.getMapExtent())[1]&&n<i[3]))return;t.latitude=n}if(t.longitude&&"number"!=typeof t.longitude){var n,i;if(!((n=parseFloat(t.longitude))>(i=this._configService.getMapExtent())[0]&&n<i[2]))return;t.longitude=n}var r=new h.a(t.longitude,t.latitude,t.altitude&&"number"==typeof t.altitude&&!Number.isNaN(t.altitude)?t.altitude:void 0,t.accuracy&&"number"==typeof t.accuracy&&!Number.isNaN(t.accuracy)?t.accuracy:void 0,t.speed&&"number"==typeof t.speed&&!Number.isNaN(t.speed)?t.speed:void 0,t.bearing&&"number"==typeof t.bearing&&!Number.isNaN(t.bearing)?t.bearing:void 0),o=!this._currentLocation||this._mapService.getDistanceBetweenPoints(this._currentLocation,r)>4;if(this._mapService.isInitialized()){if(!this._mapService.isInsideExtent(r))return void(e||(this._currentLocation=null,this.onLocationChange.next(void 0),this._outsideBboxPresented||(this._alertController.create({header:this._translateService.instant("alert.warning"),message:this._translateService.instant("alert.outsideExtent"),buttons:[{text:this._translateService.instant("buttons.ok"),cssClass:"primary"}]}).then(function(t){t.present()}),this._outsideBboxPresented=!0),this._stop()));this._outsideBboxPresented=!1,this._state.isFollowing&&this._mapService.centerOnCoords(r)}this._state.isLoading&&(this._state.isLoading=!1,this.onGeolocationStateChange.next(this._state)),o&&(this._currentLocation=r,this.onLocationChange.next(this._currentLocation))}},t.prototype._start=function(t){var e=this;return t&&(this._outsideBboxPresented=!1),new Promise(function(t,n){!e._state.isActive&&e._configService.isGeolocationAvailable()?(e._deviceService.isLocalServer||e._deviceService.isBrowser&&"https:"!==window.location.protocol?e._deviceService.isLocalServer&&(e._enableMapEventListeners(),e._state.isActive=!0,e._state.isLoading=!0,e._state.isFollowing=!0,e._state.isRotating=!1,e.onGeolocationStateChange.next(e._state),setInterval(function(){var t=e._configService.getMapCenter(),n=e._configService.getMapExtent(),i=5e3*Math.random(),r=t[1],o=t[0],s=5+100*Math.random(),a=1+50*Math.random(),u=360*Math.random();e._currentLocation&&(i=Math.max(10,e._currentLocation.altitude+(50*Math.random()-25)),r=Math.max(n[1],Math.min(n[3],e._currentLocation.latitude+(Math.random()/5e3-1e-4))),o=Math.max(n[0],Math.min(n[2],e._currentLocation.longitude+(Math.random()/5e3-1e-4))),u=!e._currentLocation.bearing||Number.isNaN(e._currentLocation.bearing)?0:e._currentLocation.bearing+(20*Math.random()-10)),e._locationUpdate({altitude:i,latitude:r,longitude:o,id:1,accuracy:s,time:Date.now(),speed:a,locationProvider:void 0,provider:void 0,bearing:u})},2e3)):(e._enableMapEventListeners(),e._state.isActive=!0,e._state.isLoading=!0,e._state.isFollowing=!0,e._state.isRotating=!1,e.onGeolocationStateChange.next(e._state),e._geolocation.getCurrentPosition({timeout:l.g,enableHighAccuracy:!0}).then(function(t){t&&t.coords&&e._locationUpdate({id:-1,longitude:t.coords.longitude,latitude:t.coords.latitude,altitude:t.coords.altitude,accuracy:t.coords.accuracy,speed:t.coords.speed,bearing:t.coords.heading,time:t.timestamp,provider:void 0,locationProvider:void 0},!0)},function(t){console.warn(t)})),t(e._state)):t(e._state)})},t.prototype._stop=function(){var t=this;return new Promise(function(e,n){t._disableMapEventListeners(),t._toggleFollow(!1),t._state.isActive=!1,t._state.isLoading=!1,t._state.isFollowing=!1,t._state.isRotating=!1,t.onGeolocationStateChange.next(t._state),e(t._state)})},t.prototype._switchState=function(t){t&&t.isFollowing!==this._state.isFollowing?this._toggleFollow(t.isFollowing):this._state.isLoading||this._state.isFollowing||this._toggleFollow(!0),this.onGeolocationStateChange.next(this._state)},t.prototype.switchState=function(t,e){var n=this;return new Promise(function(i,r){n._state.isActive?(n._switchState(t),i(n._state)):n._start(e).then(function(){n._switchState(t),i(n._state)},function(t){r(t)})})},t.prototype._toggleFollow=function(t){this._state.isFollowing||!t&&void 0!==t?!this._state.isFollowing||t&&void 0!==t||(this._state.isFollowing=!1):(this._state.isFollowing=!0,this._currentLocation&&this._currentLocation.latitude&&this._currentLocation.longitude&&this._mapService.centerOnCoords(this._currentLocation))},t.ngInjectableDef=f.T({factory:function(){return new t(f.X(i.a),f.X(c.a),f.X(o.a),f.X(p.a),f.X(r.a),f.X(f.z),f.X(i.Gb),f.X(d.j))},token:t,providedIn:"root"}),t}()},HJBe:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),r=n("FFOo");function o(t){return void 0===t&&(t=null),function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return i.d(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(r.a)},HPGL:function(t,e,n){"use strict";function i(){var t=Date.now(),e=!1;document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),e=!0}),setTimeout(function(){!e&&window.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}n.d(e,"a",function(){return i})},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("6blF"),r=n("+tJ4"),o=n("JF+6");function s(t,e){return e?Object(o.a)(t,e):new i.a(Object(r.a)(t))}},Ip0R:function(t,e,n){"use strict";n.d(e,"s",function(){return y}),n.d(e,"k",function(){return _}),n.d(e,"l",function(){return m}),n.d(e,"t",function(){return b}),n.d(e,"b",function(){return I}),n.d(e,"h",function(){return w}),n.d(e,"i",function(){return S}),n.d(e,"j",function(){return C}),n.d(e,"m",function(){return M}),n.d(e,"c",function(){return R}),n.d(e,"r",function(){return P}),n.d(e,"q",function(){return A}),n.d(e,"p",function(){return L}),n.d(e,"o",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"n",function(){return p}),n.d(e,"f",function(){return c});var i=n("CcnG"),r=n("mrSG"),o=function(){return function(){}}(),s=new i.p("Location Initialized"),a=function(){return function(){}}(),u=new i.p("appBaseHref"),c=function(){function t(t){var n=this;this._subject=new i.m,this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(h(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,h(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function h(t){return t.replace(/\/index.html$/,"")}var l=function(t){function e(e,n){var i=t.call(this)||this;return i._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return Object(r.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+c.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+c.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(a),p=function(t){function e(e,n){var i=t.call(this)||this;if(i._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,i}return Object(r.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return c.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,i){var r=this.prepareExternalUrl(n+c.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)},e.prototype.replaceState=function(t,e,n,i){var r=this.prepareExternalUrl(n+c.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(a),f=void 0,d=["en",[["a","p"],["AM","PM"],f],[["AM","PM"],f,f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",f,"{1} 'at' {0}",f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],g={},v=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),y=new i.p("UseV4Plurals"),m=function(){return function(){}}(),_=function(t){function e(e,n){var i=t.call(this)||this;return i.locale=e,i.deprecatedPluralFn=n,i}return Object(r.d)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=g[e];if(n)return n;var i=e.split("-")[0];if(n=g[i])return n;if("en"===i)return d;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case v.Zero:return"zero";case v.One:return"one";case v.Two:return"two";case v.Few:return"few";case v.Many:return"many";default:return"other"}},e}(m);function b(t,e){var n,i;e=encodeURIComponent(e);try{for(var o=Object(r.j)(t.split(";")),s=o.next();!s.done;s=o.next()){var a=s.value,u=a.indexOf("="),c=Object(r.h)(-1==u?[a,""]:[a.slice(0,u),a.slice(u+1)],2),h=c[1];if(c[0].trim()===e)return decodeURIComponent(h)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}var w=function(){function t(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.tb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(i.Eb)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),x=function(){function t(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),S=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(i.Y)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new x(null,e._ngForOf,-1,-1),r),s=new E(t,o);n.push(s)}else null==r?e._viewContainer.remove(i):(o=e._viewContainer.get(i),e._viewContainer.move(o,r),s=new E(t,o),n.push(s))});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);i=0;for(var r=this._viewContainer.length;i<r;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=r,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),E=function(){return function(t,e){this.record=t,this.view=e}}(),C=function(){function t(t,e){this._viewContainer=t,this._context=new T,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){O("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){O("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),T=function(){return function(){this.$implicit=null,this.ngIf=null}}();function O(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(i.Eb)(e)+"'.")}var M=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(r.h)(t.split("."),2),i=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,i,e):this._renderer.removeStyle(this._ngEl.nativeElement,i)},t}(),I=function(){return function(){}}(),R=new i.p("DocumentToken"),P="browser",k="server";function A(t){return t===k}var L=function(){function t(){}return t.ngInjectableDef=Object(i.T)({providedIn:"root",factory:function(){return new j(Object(i.X)(R),window,Object(i.X)(i.l))}}),t}(),j=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},"JF+6":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("6blF"),r=n("pugT");function o(t,e){return new i.a(function(n){var i=new r.a,o=0;return i.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},JRS9:function(t,e,n){"use strict";var i=n("uPr3"),r=Array.prototype.concat,o=Array.prototype.slice,s=t.exports=function(t){for(var e=[],n=0,s=t.length;n<s;n++){var a=t[n];i(a)?e=r.call(e,o.call(a)):e.push(a)}return e};s.wrap=function(t){return function(){return t(s(arguments))}}},Ji5e:function(t,e,n){},K9Ia:function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"a",function(){return l});var i=n("mrSG"),r=n("6blF"),o=n("FFOo"),s=n("pugT"),a=n("8g8A"),u=n("uMaO"),c=n("L/V9"),h=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i.d(e,t),e}(o.a),l=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i.d(e,t),e.prototype[c.a]=function(){return new h(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new r.a;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(r.a),p=function(t){function e(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return i.d(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(l)},"KOl+":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return g});var i=n("6blF"),r=n("bne5"),o={error:"cordova_not_available"},s={error:"plugin_not_installed"};function a(t){if(window.angular){var e=window.angular.element(document.querySelector("[ng-app]")||document.body).injector();if(e)return e.get("$q")(function(e,n){t(e,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(e,n){t(e,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(t,e,n){var i,r,a;return"string"==typeof t?i=t:(i=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),a=t.constructor.getPluginInstallName()),!(!(r=p(i))||e&&void 0===r[e])||(window.cordova?(function(t,n,i){e?console.warn("Native: tried calling "+t+"."+e+", but the "+t+" plugin is not installed."):console.warn("Native: tried accessing the "+t+" plugin but it's not installed."),n&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+n+"'")}(n,a),s):(function(t,n){e?console.warn("Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(n),o))}function c(t,e,n,i){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(i),t.unshift(n);else if("node"===e.callbackStyle)t.push(function(t,e){t?i(t):n(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var r={};r[e.successName]=n,r[e.errorName]=i,t.push(r)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var o=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},s=function(){e.errorIndex>t.length?t[e.errorIndex]=i:t.splice(e.errorIndex,0,i)};e.successIndex>e.errorIndex?(s(),o()):(o(),s())}else t.push(n),t.push(i);return t}function h(t,e,n,i,r,o){void 0===i&&(i={}),n=c(n,i,r,o);var s=u(t,e);if(!0===s){var a=p(t.constructor.getPluginRef());return a[e].apply(a,n)}return s}function l(t,e,n,i,r,o){if(void 0===i&&(i={}),n=c(n,i,r,o),function(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function p(t){return f(window,t)}function f(t,e){for(var n=e.split("."),i=t,r=0;r<n.length;r++){if(!i)return null;i=i[n[r]]}return i}var d=function(t,e,n){return void 0===n&&(n={}),function(){for(var o,s,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return n.sync?h(t,e,u,n):n.observable?function(t,e,n,r){return void 0===r&&(r={}),new i.a(function(i){var o;return(o=r.destruct?h(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.error(t)}):h(t,e,n,r,i.next.bind(i),i.error.bind(i)))&&o.error&&(i.error(o.error),i.complete()),function(){try{if(r.clearFunction)return r.clearWithArgs?h(t,r.clearFunction,n,r,i.next.bind(i),i.error.bind(i)):h(t,r.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}})}(t,e,u,n):n.eventObservable&&n.event?(o=n.event,s=(s=n.element)?f(window,s):window,Object(r.a)(s,o)):n.otherPromise?function(t,e,n,i){return void 0===i&&(i={}),a(function(r,o){var s=h(t,e,n,i);s?s.error?o(s.error):s.then&&s.then(r).catch(o):o({error:"unexpected_error"})})}(t,e,u,n):function(t,e,n,i){var r,o;void 0===i&&(i={});var s=a(function(s,a){r=i.destruct?h(t,e,n,i,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)}):h(t,e,n,i,s,a),o=a});return r&&r.error&&(s.catch(function(){}),"function"==typeof o&&o(r.error)),s}(t,e,u,n)}};function g(t,e,n){return void 0===n&&(n={}),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n.sync)return l(t,e,r,n);if(n.observable)return new i.a(function(i){var o;return(o=n.destruct?l(t,e,r,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i.error(t)}):l(t,e,r,n,i.next.bind(i),i.error.bind(i)))&&o.error&&i.error(o.error),function(){try{return n.clearWithArgs?l(t,n.clearFunction,r,n,i.next.bind(i),i.error.bind(i)):l(t,n.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}});if(n.otherPromise)return a(function(i,o){var s;(s=n.destruct?l(t,e,r,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):l(t,e,r,n,i,o))&&s.then?s.then(i,o):o()});var s,u,c=a(function(i,o){s=n.destruct?l(t,e,r,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):l(t,e,r,n,i,o),u=o});return s&&s.error&&(c.catch(function(){}),"function"==typeof u&&u(s.error)),c}}},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},Lq6m:function(t,e,n){"use strict";var i=n("KOl+");n.d(e,"a",function(){return r});var r=function(){function t(){}return t.installed=function(){return!0===Object(i.a)(this.pluginRef)},t.getPlugin=function(){return function(t,e){for(var n=e.split("."),i=t,r=0;r<n.length;r++){if(!i)return null;i=i[n[r]]}return i}(window,this.pluginRef)},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms||[]},t}()},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("mrSG"),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},MLd6:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("S5bw"),r=n("r4Kj"),o=n("CcnG"),s=n("A7o+"),a=function(){function t(t,e){this._translateService=t,this._configService=e,this._currentLang$=new i.a(1),this._initTranslate()}return t.prototype._initTranslate=function(){this._defaultLang=this._configService.getDefaultLanguage(),this._available=this._configService.getAvailableLanguages(),this._translateService.setDefaultLang("en"),void 0!==this._translateService.getBrowserLang()&&this.isAvailable(this._translateService.getBrowserLang())?(this._translateService.use(this._translateService.getBrowserLang()),this._currentLang=this._translateService.getBrowserLang().substring(0,2)):(this._translateService.use(this._defaultLang),this._currentLang=this._defaultLang),this._currentLang$.next(this._currentLang)},t.prototype.changeLanguage=function(t){t=t.substring(0,2),this.isAvailable(t)&&(this._translateService.use(t),this._currentLang=t,this._currentLang$.next(this._currentLang))},t.prototype.isAvailable=function(t){if(null==t||""===t||t.length<2)return!1;for(var e=0,n=this._available;e<n.length;e++)if(n[e]===t.substring(0,2))return!0;return!1},t.prototype.getDefaultLang=function(){return this._defaultLang},t.prototype.onCurrentLangChange=function(){return this._currentLang$},t.prototype.getCurrentLang=function(){return this._currentLang},t.ngInjectableDef=o.T({factory:function(){return new t(o.X(s.j),o.X(r.a))},token:t,providedIn:"root"}),t}()},McSo:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return i})},Mzne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("ZYCi"),r=n("S5bw"),o=n("VnD/"),s=n("CcnG"),a=function(){function t(t){var e=this;this._router=t,this.onStateChange=new r.a(1),this.onUrlChange=new r.a(1),this.onQueryParamsChange=new r.a(1),this._router.events.pipe(Object(o.a)(function(t){return t instanceof i.d})).subscribe(function(t){var n=t.urlAfterRedirects.split("?")[0],i=!1;e._previousUrl!==n&&(e._previousUrl=n,e.onUrlChange.next(t),i=!0),e._queryParams!==e._getQueryParams(t.urlAfterRedirects)&&(e._queryParams=e._getQueryParams(t.urlAfterRedirects),e.onQueryParamsChange.next(e._queryParams),i=!0),i&&e.onStateChange.next({state:t,params:e._queryParams})})}return t.prototype.navigate=function(t,e){return e||(e={}),e.skipLocationChange=!0,this._router.navigate(t,e)},t.prototype._getQueryParams=function(t){for(var e=t.split("?"),n={},i=0,r=(e&&2===e.length?e[1]:"").split("&");i<r.length;i++){var o=r[i];""!==o&&(n[decodeURIComponent(o.split("=")[0])]=decodeURIComponent(o.split("=")[1]))}return n},t.prototype.getQueryParams=function(){return this._queryParams},t.prototype.openUrl=function(t,e){window.open(t,e?"_self":"_system")},t.ngInjectableDef=s.T({factory:function(){return new t(s.X(i.n))},token:t,providedIn:"root"}),t}()},OceT:function(t){t.exports={a:"2.5.0"}},Phjn:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("psW0");function r(t,e){return Object(i.a)(t,e,1)}},Qgas:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("dC0D"),r=n("AxiF"),o=n("HJBe"),s=n("y3By");function a(t,e){return arguments.length>=2?function(n){return Object(s.a)(Object(i.a)(t,e),Object(r.a)(1),Object(o.a)(e))(n)}:function(e){return Object(s.a)(Object(i.a)(function(e,n,i){return t(e,n,i+1)}),Object(r.a)(1))(e)}}},"Rt+L":function(t,e,n){"use strict";n("KOl+")},S1nX:function(t,e,n){"use strict";var i=n("mrSG"),r=n("K9Ia"),o=n("6blF"),s=n("FFOo"),a=n("pugT");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new h(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),h=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return i.d(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},e}(s.a),l=function(t){function e(e,n){var i=t.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return i.d(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:l._subscribe},_isComplete:{value:l._isComplete,writable:!0},getSubject:{value:l.getSubject},connect:{value:l.connect},refCount:{value:l.refCount}},f=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return i.d(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.b);function d(){return new r.a}function g(){return function(t){return u()((e=d,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,p);return i.source=t,i.subjectFactory=n,i})(t));var e}}n.d(e,"a",function(){return g})},S5bw:function(t,e,n){"use strict";var i,r=n("mrSG"),o=n("K9Ia"),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return r.d(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},e}(n("h9Dq").a),a=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e}(n("CS9Q").a))(s),u=n("pugT"),c=n("FFOo"),h=n("G5J1"),l=n("F/XL"),p=n("6blF");i||(i={});var f=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return Object(l.a)(this.value);case"E":return t=this.error,new p.a(function(e){return e.error(t)});case"C":return Object(h.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),d=function(t){function e(e,n,i){void 0===i&&(i=0);var r=t.call(this,e)||this;return r.scheduler=n,r.delay=i,r}return r.d(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new g(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(f.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(f.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(f.createComplete()),this.unsubscribe()},e}(c.a),g=function(){return function(t,e){this.notification=t,this.destination=e}}(),v=n("8g8A"),y=n("uMaO");n.d(e,"a",function(){return m});var m=function(t){function e(e,n,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=e<1?1:e,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return r.d(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new _(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new v.a;if(this.isStopped||this.hasError?e=u.a.EMPTY:(this.observers.push(t),e=new y.a(this,t)),r&&t.add(t=new d(t,r)),n)for(var s=0;s<o&&!t.closed;s++)t.next(i[s]);else for(s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i},e}(o.a),_=function(){return function(t,e){this.time=t,this.value=e}}()},T016:function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},T1DM:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("h9Dq"),r=new(n("CS9Q").a)(i.a)},Twl7:function(t,e,n){"use strict";n.d(e,"a",function(){return X}),n.d(e,"b",function(){return z}),n.d(e,"c",function(){return It}),n.d(e,"d",function(){return Rt}),n.d(e,"e",function(){return At}),n.d(e,"f",function(){return kt}),n.d(e,"g",function(){return N}),n.d(e,"h",function(){return Lt}),n.d(e,"i",function(){return W}),n.d(e,"j",function(){return Pt}),n.d(e,"k",function(){return Tt}),n.d(e,"l",function(){return S}),n.d(e,"m",function(){return F});var i,r,o,s,a=n("9TBO"),u=n("ttJE"),c=0,h=!1,l=!1,p=!1,f=!1,d=!1,g=window,v=document,y={$flags$:0,$resourcesUrl$:"",jmp:function(t){return t()},raf:function(t){return requestAnimationFrame(t)},ael:function(t,e,n,i){return t.addEventListener(e,n,i)},rel:function(t,e,n,i){return t.removeEventListener(e,n,i)}},m=function(){return!!v.documentElement.attachShadow}(),_=function(){var t=!1;try{v.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),b=function(){try{return new CSSStyleSheet,!0}catch(t){}return!1}(),w=new WeakMap,x=function(t){return w.get(t)},S=function(t,e){return w.set(e.$lazyInstance$=t,e)},E=function(t){var e={$flags$:0,$hostElement$:t,$instanceValues$:new Map};return e.$onInstancePromise$=new Promise(function(t){return e.$onInstanceResolve$=t}),e.$onReadyPromise$=new Promise(function(t){return e.$onReadyResolve$=t}),t["s-p"]=[],t["s-rc"]=[],w.set(t,e)},C=function(t,e){return e in t},T=function(t){return console.error(t)},O=new Map,M=new Map,I=[],R=[],P=[],k=function(t,e){return function(n){t.push(n),h||(h=!0,e&&4&y.$flags$?j(L):y.raf(L))}},A=function(t,e){for(var n=0,i=0;n<t.length&&(i=performance.now())<e;)try{t[n++](i)}catch(r){T(r)}n===t.length?t.length=0:0!==n&&t.splice(0,n)},L=function(){c++,function(t){for(var e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){T(n)}t.length=0}(I);var t=2==(6&y.$flags$)?performance.now()+10*Math.ceil(c*(1/22)):1/0;A(R,t),A(P,t),R.length>0&&(P.push.apply(P,R),R.length=0),(h=I.length+R.length+P.length>0)?y.raf(L):c=0},j=function(t){return Promise.resolve().then(t)},N=k(I,!1),F=k(R,!0),D={},G=function(t){return"object"==(t=typeof t)||"function"===t},z=function(){return g.CSS&&g.CSS.supports&&g.CSS.supports("color","var(--c)")?Promise.resolve():n.e(14).then(n.t.bind(null,"GhCX",7)).then(function(){if(y.$cssShim$=g.__stencil_cssshim,y.$cssShim$)return y.$cssShim$.initShim()})},U="http://www.w3.org/1999/xlink",$=new WeakMap,B=function(t,e,n){var i=M.get(t);b&&n?(i=i||new CSSStyleSheet).replace(e):i=e,M.set(t,i)},V=function(t,e,n,i){var r=H(e.$tagName$,n),o=M.get(r);if(t=11===t.nodeType?t:v,o||(r=H(e.$tagName$),o=M.get(r)),o)if("string"==typeof o){var s=$.get(t=t.head||t),u=void 0;if(s||$.set(t,s=new Set),!s.has(r)){if(t.host&&(u=t.firstElementChild)&&"STYLE"===u.tagName)u.innerHTML=o;else{if(y.$cssShim$){var c=(u=y.$cssShim$.createHostStyle(i,r,o,!!(10&e.$flags$)))["s-sc"];c&&(r=c,s=null)}else(u=v.createElement("style")).setAttribute("data-styles",""),u.innerHTML=o;t.insertBefore(u,t.querySelector("link"))}s&&s.add(r)}}else t.adoptedStyleSheets.includes(o)||(t.adoptedStyleSheets=Object(a.d)(t.adoptedStyleSheets,[o]));return r},H=function(t,e){return"sc-"+(e?t+"-"+e:t)},W=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=null,o=null,s=null,a=!1,u=!1,c=[],h=function(e){for(var n=0;n<e.length;n++)r=e[n],Array.isArray(r)?h(r):null!=r&&"boolean"!=typeof r&&((a="function"!=typeof t&&!G(r))&&(r=String(r)),a&&u?c[c.length-1].$text$+=r:c.push(a?q(null,r):r),u=a)};if(h(n),e){e.key&&(o=e.key),e.name&&(s=e.name);var l=e.className||e.class;l&&(e.class="object"!=typeof l?l:Object.keys(l).filter(function(t){return l[t]}).join(" "))}if("function"==typeof t)return t(e,c,Y);var p=q(t,null);return p.$attrs$=e,c.length>0&&(p.$children$=c),p.$key$=o,p.$name$=s,p},q=function(t,e){return{$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}},X={},Y={forEach:function(t,e){return t.map(K).forEach(e)},map:function(t,e){return t.map(K).map(e).map(Z)}},K=function(t){return{vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}},Z=function(t){var e=q(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},J=function(t,e,n,i,r,o){if(n!==i){var s=C(t,e),a=e.toLowerCase();if("class"===e){var u=t.classList,c=tt(n),h=tt(i);u.remove.apply(u,c.filter(function(t){return t&&!h.includes(t)})),u.add.apply(u,h.filter(function(t){return t&&!c.includes(t)}))}else if("style"===e){for(var l in n)i&&null!=i[l]||(l.includes("-")?t.style.removeProperty(l):t.style[l]="");for(var l in i)n&&i[l]===n[l]||(l.includes("-")?t.style.setProperty(l,i[l]):t.style[l]=i[l])}else if("key"===e);else if("ref"===e)i&&i(t);else if(s||"o"!==e[0]||"n"!==e[1]){var p=G(i);if((s||p&&null!==i)&&!r)try{if(t.tagName.includes("-"))t[e]=i;else{var f=null==i?"":i;null!=n&&t[e]==f||(t[e]=f)}}catch(v){}var d=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,d=!0),null==i||!1===i?d?t.removeAttributeNS(U,e):t.removeAttribute(e):(!s||4&o||r)&&!p&&(i=!0===i?"":i,d?t.setAttributeNS(U,e,i):t.setAttribute(e,i))}else e="-"===e[2]?e.slice(3):C(g,a)?a.slice(2):a[2]+e.slice(3),n&&y.rel(t,e,n,!1),i&&y.ael(t,e,i,!1)}},Q=/\s/,tt=function(t){return t?t.split(Q):[]},et=function(t,e,n,i){var r=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,o=t&&t.$attrs$||D,s=e.$attrs$||D;for(i in o)i in s||J(r,i,o[i],void 0,n,e.$flags$);for(i in s)J(r,i,o[i],s[i],n,e.$flags$)},nt=function(t,e,n,s){var a,u,c,h=e.$children$[n],p=0;if(l||(f=!0,"slot"===h.$tag$&&(i&&s.classList.add(i+"-s"),h.$flags$|=h.$children$?2:1)),null!==h.$text$)a=h.$elm$=v.createTextNode(h.$text$);else if(1&h.$flags$)a=h.$elm$=v.createTextNode("");else{if(d||(d="svg"===h.$tag$),a=h.$elm$=v.createElementNS(d?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&h.$flags$?"slot-fb":h.$tag$),d&&"foreignObject"===h.$tag$&&(d=!1),et(null,h,d),null!=i&&a["s-si"]!==i&&a.classList.add(a["s-si"]=i),h.$children$)for(p=0;p<h.$children$.length;++p)(u=nt(t,h,p,a))&&a.appendChild(u);"svg"===h.$tag$?d=!1:"foreignObject"===a.tagName&&(d=!0)}return a["s-hn"]=o,3&h.$flags$&&(a["s-sr"]=!0,a["s-cr"]=r,a["s-sn"]=h.$name$||"",(c=t&&t.$children$&&t.$children$[n])&&c.$tag$===h.$tag$&&t.$elm$&&it(t.$elm$,!1)),a},it=function(t,e){y.$flags$|=1;for(var n=t.childNodes,i=n.length-1;i>=0;i--){var r=n[i];r["s-hn"]!==o&&r["s-ol"]&&(ut(r).insertBefore(r,at(r)),r["s-ol"].remove(),r["s-ol"]=void 0,f=!0),e&&it(r,e)}y.$flags$&=-2},rt=function(t,e,n,i,r,s){var a,u=t["s-cr"]&&t["s-cr"].parentNode||t;for(u.shadowRoot&&u.tagName===o&&(u=u.shadowRoot);r<=s;++r)i[r]&&(a=nt(null,n,r,t))&&(i[r].$elm$=a,u.insertBefore(a,at(e)))},ot=function(t,e,n,i,r){for(;e<=n;++e)(i=t[e])&&(r=i.$elm$,ft(i),p=!0,r["s-ol"]?r["s-ol"].remove():it(r,!0),r.remove())},st=function(t,e){return t.$tag$===e.$tag$&&("slot"===t.$tag$?t.$name$===e.$name$:t.$key$===e.$key$)},at=function(t){return t&&t["s-ol"]||t},ut=function(t){return(t["s-ol"]?t["s-ol"]:t).parentNode},ct=function(t,e){var n,i=e.$elm$=t.$elm$,r=t.$children$,o=e.$children$;d=i&&i.parentNode&&void 0!==i.ownerSVGElement,d="svg"===e.$tag$||"foreignObject"!==e.$tag$&&d,null===e.$text$?("slot"===e.$tag$||et(t,e,d),null!==r&&null!==o?function(t,e,n,i){for(var r,o,s=0,a=0,u=0,c=0,h=e.length-1,l=e[0],p=e[h],f=i.length-1,d=i[0],g=i[f];s<=h&&a<=f;)if(null==l)l=e[++s];else if(null==p)p=e[--h];else if(null==d)d=i[++a];else if(null==g)g=i[--f];else if(st(l,d))ct(l,d),l=e[++s],d=i[++a];else if(st(p,g))ct(p,g),p=e[--h],g=i[--f];else if(st(l,g))"slot"!==l.$tag$&&"slot"!==g.$tag$||it(l.$elm$.parentNode,!1),ct(l,g),t.insertBefore(l.$elm$,p.$elm$.nextSibling),l=e[++s],g=i[--f];else if(st(p,d))"slot"!==l.$tag$&&"slot"!==g.$tag$||it(p.$elm$.parentNode,!1),ct(p,d),t.insertBefore(p.$elm$,l.$elm$),p=e[--h],d=i[++a];else{for(u=-1,c=s;c<=h;++c)if(e[c]&&null!==e[c].$key$&&e[c].$key$===d.$key$){u=c;break}u>=0?((o=e[u]).$tag$!==d.$tag$?r=nt(e&&e[a],n,u,t):(ct(o,d),e[u]=void 0,r=o.$elm$),d=i[++a]):(r=nt(e&&e[a],n,a,t),d=i[++a]),r&&ut(l.$elm$).insertBefore(r,at(l.$elm$))}s>h?rt(t,null==i[f+1]?null:i[f+1].$elm$,n,i,a,f):a>f&&ot(e,s,h)}(i,r,e,o):null!==o?(null!==t.$text$&&(i.textContent=""),rt(i,null,e,o,0,o.length-1)):null!==r&&ot(r,0,r.length-1)):(n=i["s-cr"])?n.parentNode.textContent=e.$text$:t.$text$!==e.$text$&&(i.data=e.$text$),d&&"svg"===e.$tag$&&(d=!1)},ht=function(t){var e,n,i,r,o,s,a=t.childNodes;for(n=0,i=a.length;n<i;n++)if(1===(e=a[n]).nodeType){if(e["s-sr"])for(o=e["s-sn"],e.hidden=!1,r=0;r<i;r++)if(a[r]["s-hn"]!==e["s-hn"])if(s=a[r].nodeType,""!==o){if(1===s&&o===a[r].getAttribute("slot")){e.hidden=!0;break}}else if(1===s||3===s&&""!==a[r].textContent.trim()){e.hidden=!0;break}ht(e)}},lt=[],pt=function(t){var e,n,i,r,o,s=t.childNodes,a=0,u=0,c=0;for(e=s.length;a<e;a++){if((n=s[a])["s-sr"]&&(i=n["s-cr"]))for(o=n["s-sn"],u=(r=i.parentNode.childNodes).length-1;u>=0;u--)(i=r[u])["s-cn"]||i["s-nr"]||i["s-hn"]===n["s-hn"]||((3===(c=i.nodeType)||8===c)&&""===o||1===c&&null===i.getAttribute("slot")&&""===o||1===c&&i.getAttribute("slot")===o)&&(lt.some(function(t){return t.$nodeToRelocate$===i})||(p=!0,i["s-sn"]=o,lt.push({$slotRefNode$:n,$nodeToRelocate$:i})));1===n.nodeType&&pt(n)}},ft=function(t){t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.forEach(ft)},dt=function(t,e){e&&!t.$onRenderResolve$&&e["s-p"].push(new Promise(function(e){return t.$onRenderResolve$=e}))},gt=function(t,e,n,i){if(e.$flags$|=16,!(4&e.$flags$)){var r,o=e.$lazyInstance$,s=function(){return vt(t,e,n,o,i)},a=t["s-rc"];return dt(e,e.$ancestorComponent$),i&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.forEach(function(t){return _t(o,t[0],t[1])}),e.$queuedListeners$=null),r=_t(o,"componentWillLoad")),r=bt(r,function(){return _t(o,"componentWillRender")}),a&&(a.forEach(function(t){return t()}),t["s-rc"]=void 0),bt(r,function(){return F(s)})}e.$flags$|=512},vt=function(t,e,n,s,a){a&&function(t,e,n){var i=V(m&&t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n,t);10&e.$flags$&&(t["s-sc"]=i,t.classList.add(i+"-h"),2&e.$flags$&&t.classList.add(i+"-s"))}(t,n,e.$modeName$);try{!function(t,e,n,s){o=t.tagName;var a,u=e.$vnode$||q(null,null),c=(a=s)&&a.$tag$===X?s:W(null,null,s);if(n.$attrsToReflect$&&(c.$attrs$=c.$attrs$||{},n.$attrsToReflect$.forEach(function(e){return c.$attrs$[e[1]]=t[e[0]]})),c.$tag$=null,c.$flags$|=4,e.$vnode$=c,c.$elm$=u.$elm$=t.shadowRoot||t,i=t["s-sc"],r=t["s-cr"],l=m&&0!=(1&n.$flags$),f=p=!1,ct(u,c),f){pt(c.$elm$);for(var h=0;h<lt.length;h++)(d=lt[h]).$nodeToRelocate$["s-ol"]||((b=v.createTextNode(""))["s-nr"]=d.$nodeToRelocate$,d.$nodeToRelocate$.parentNode.insertBefore(d.$nodeToRelocate$["s-ol"]=b,d.$nodeToRelocate$));for(y.$flags$|=1,h=0;h<lt.length;h++){for(var d,g=(d=lt[h]).$slotRefNode$.parentNode,_=d.$slotRefNode$.nextSibling,b=d.$nodeToRelocate$["s-ol"];b=b.previousSibling;){var w=b["s-nr"];if(w&&w["s-sn"]===d.$nodeToRelocate$["s-sn"]&&g===w.parentNode&&(!(w=w.nextSibling)||!w["s-nr"])){_=w;break}}(!_&&g!==d.$nodeToRelocate$.parentNode||d.$nodeToRelocate$.nextSibling!==_)&&d.$nodeToRelocate$!==_&&g.insertBefore(d.$nodeToRelocate$,_)}y.$flags$&=-2}p&&ht(c.$elm$),lt.length=0}(t,e,n,s.render&&s.render())}catch(h){T(h)}y.$cssShim$&&y.$cssShim$.updateHost(t),e.$flags$&=-17,e.$flags$|=2;var u=t["s-p"],c=function(){return yt(t,e,n)};0===u.length?c():(Promise.all(u).then(c),e.$flags$|=4,u.length=0)},yt=function(t,e,n){var i=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$?_t(i,"componentDidUpdate"):(e.$flags$|=64,t.classList.add("hydrated"),_t(i,"componentDidLoad"),e.$onReadyResolve$(t),r||mt()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&j(function(){return gt(t,e,n,!1)}),e.$flags$&=-517},mt=function(){v.documentElement.classList.add("hydrated"),y.$flags$|=2},_t=function(t,e,n){if(t&&t[e])try{return t[e](n)}catch(i){T(i)}},bt=function(t,e){return t&&t.then?t.then(e):e()},wt=function(t,e,n){if(e.$members$){t.watchers&&(e.$watchers$=t.watchers);var i=Object.entries(e.$members$),r=t.prototype;if(i.forEach(function(t){var i=t[0],o=t[1][0];31&o||2&n&&32&o?Object.defineProperty(r,i,{get:function(){return t=i,x(this).$instanceValues$.get(t);var t},set:function(t){!function(t,e,n,i){var r,o,s=x(t),a=s.$hostElement$,u=s.$instanceValues$.get(e),c=s.$flags$,h=s.$lazyInstance$;if(o=i.$members$[e][0],!((n=null==(r=n)||G(r)?r:4&o?"false"!==r&&(""===r||!!r):2&o?parseFloat(r):1&o?String(r):r)===u||8&c&&void 0!==u)&&(s.$instanceValues$.set(e,n),h)){if(i.$watchers$&&128&c){var l=i.$watchers$[e];l&&l.forEach(function(t){try{h[t](n,u,e)}catch(i){T(i)}})}2==(18&c)&&gt(a,s,i,!1)}}(this,i,t,e)},configurable:!0,enumerable:!0}):1&n&&64&o&&Object.defineProperty(r,i,{value:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=x(this);return n.$onInstancePromise$.then(function(){var e;return(e=n.$lazyInstance$)[i].apply(e,t)})}})}),1&n){var o=new Map;r.attributeChangedCallback=function(t,e,n){var i=this;y.jmp(function(){var e=o.get(t);i[e]=(null!==n||"boolean"!=typeof i[e])&&n})},t.observedAttributes=i.filter(function(t){return 15&t[1][0]}).map(function(t){var n=t[0],i=t[1],r=i[1]||n;return o.set(r,n),512&i[0]&&e.$attrsToReflect$.push([n,r]),r})}}return t},xt=function(t,e,n,i,r,o,s){var a,u,c,h;if(1===o.nodeType){for((a=o.getAttribute("c-id"))&&((u=a.split("."))[0]!==s&&"0"!==u[0]||(c={$flags$:0,$hostId$:u[0],$nodeId$:u[1],$depth$:u[2],$index$:u[3],$tag$:o.tagName.toLowerCase(),$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},e.push(c),o.removeAttribute("c-id"),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,t=c,i&&"0"===c.$depth$&&(i[c.$index$]=c.$elm$))),h=o.childNodes.length-1;h>=0;h--)xt(t,e,n,i,r,o.childNodes[h],s);if(o.shadowRoot)for(h=o.shadowRoot.childNodes.length-1;h>=0;h--)xt(t,e,n,i,r,o.shadowRoot.childNodes[h],s)}else if(8===o.nodeType)(u=o.nodeValue.split("."))[1]!==s&&"0"!==u[1]||(c={$flags$:0,$hostId$:u[1],$nodeId$:u[2],$depth$:u[3],$index$:u[4],$elm$:o,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===(a=u[0])?(c.$elm$=o.nextSibling,c.$elm$&&3===c.$elm$.nodeType&&(c.$text$=c.$elm$.textContent,e.push(c),o.remove(),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c,i&&"0"===c.$depth$&&(i[c.$index$]=c.$elm$))):c.$hostId$===s&&("s"===a?(c.$tag$="slot",o["s-sn"]=u[5]?c.$name$=u[5]:"",o["s-sr"]=!0,i&&(c.$elm$=v.createElement(c.$tag$),c.$name$&&c.$elm$.setAttribute("name",c.$name$),o.parentNode.insertBefore(c.$elm$,o),o.remove(),"0"===c.$depth$&&(i[c.$index$]=c.$elm$)),n.push(c),t.$children$||(t.$children$=[]),t.$children$[c.$index$]=c):"r"===a&&(i?o.remove():(r["s-cr"]=o,o["s-cn"]=!0))));else if(t&&"style"===t.$tag$){var l=q(null,o.textContent);l.$elm$=o,l.$index$="0",t.$children$=[l]}},St=function(t,e){if(1===t.nodeType){for(var n=0;n<t.childNodes.length;n++)St(t.childNodes[n],e);if(t.shadowRoot)for(n=0;n<t.shadowRoot.childNodes.length;n++)St(t.shadowRoot.childNodes[n],e)}else if(8===t.nodeType){var i=t.nodeValue.split(".");"o"===i[0]&&(e.set(i[1]+"."+i[2],t),t.nodeValue="",t["s-sd"]=""===i[3])}},Et=[],Ct=function(t){return Et.push(t)},Tt=function(t){return x(t).$modeName$},Ot=function(t){_t(t,"connectedCallback")},Mt=function(t){var e=t["s-cr"]=v.createComment("");e["s-cn"]=!0,t.insertBefore(e,t.firstChild)},It=function(t,e){void 0===e&&(e={});var i,r=[],o=e.exclude||[],s=v.head,u=g.customElements,c=s.querySelector("meta[charset]"),h=v.createElement("style");Object.assign(y,e),y.$resourcesUrl$=new URL(e.resourcesUrl||"./",v.baseURI).href,e.syncQueue&&(y.$flags$|=4),y.$flags$|=2;for(var l=v.querySelectorAll("style[s-id]"),p="",f=0;f<l.length;f++)p+=l[f].innerHTML;for(f=0;f<l.length;f++){var d=l[f];B(d.getAttribute("s-id"),p+d.innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0)}t.forEach(function(t){return t[1].forEach(function(e){var s={$flags$:e[0],$tagName$:e[1],$members$:e[2],$listeners$:e[3]};s.$members$=e[2],s.$listeners$=e[3],s.$attrsToReflect$=[],s.$watchers$={},!m&&1&s.$flags$&&(s.$flags$|=8);var c=s.$tagName$,h=function(t){function e(e){var n=t.call(this,e)||this;return E(e=n),1&s.$flags$&&(m?e.attachShadow({mode:"open"}):"shadowRoot"in e||(e.shadowRoot=e)),n}return Object(a.b)(e,t),e.prototype.connectedCallback=function(){var t=this;i&&(clearTimeout(i),i=null),y.jmp(function(){return function(t,e){if(0==(1&y.$flags$)){var i=x(t);if(e.$listeners$&&(i.$rmListeners$=function(t,e,n){e.$queuedListeners$=e.$queuedListeners$||[];var i=n.map(function(n){var i=n[0],r=n[1],o=n[2],s=function(t,e){return 4&e?v:8&e?g:32&e?v.body:16&e?t.parentElement:t}(t,i),a=function(t,e){return function(n){256&t.$flags$?t.$lazyInstance$[e](n):t.$queuedListeners$.push([e,n])}}(e,o),u=function(t){return _?{passive:0!=(1&t),capture:0!=(2&t)}:0!=(2&t)}(i);return y.ael(s,r,a,u),function(){return y.rel(s,r,a,u)}});return function(){return i.forEach(function(t){return t()})}}(t,i,e.$listeners$)),!(1&i.$flags$)){var r;if(i.$flags$|=1,r=t.getAttribute("s-id")){if(m&&1&e.$flags$){var o=V(t.shadowRoot,e,t.getAttribute("s-mode"));t.classList.remove(o+"-h"),t.classList.remove(o+"-s")}!function(t,e,n,r){var o=t.shadowRoot,s=[],a=o?[]:null,u=i.$vnode$=q(e,null);y.$orgLocNodes$||St(v.body,y.$orgLocNodes$=new Map),t["s-id"]=n,t.removeAttribute("s-id"),xt(u,s,[],a,t,t,n),s.forEach(function(t){var n=t.$hostId$+"."+t.$nodeId$,i=y.$orgLocNodes$.get(n),r=t.$elm$;i&&(i["s-sd"]||"0"===t.$hostId$)&&i.parentNode.insertBefore(r,i.nextSibling),o||(r["s-hn"]=e,i&&(r["s-ol"]=i,r["s-ol"]["s-nr"]=r)),y.$orgLocNodes$.delete(n)}),o&&a.forEach(function(t){t&&o.appendChild(t)})}(t,e.$tagName$,r)}r||(4&e.$flags$||8&e.$flags$)&&Mt(t);for(var s=t;s=s.parentNode||s.host;)if(1===s.nodeType&&s.hasAttribute("s-id")||s["s-p"]){dt(i,i.$ancestorComponent$=s);break}e.$members$&&Object.entries(e.$members$).forEach(function(e){var n=e[0];if(31&e[1][0]&&t.hasOwnProperty(n)){var i=t[n];delete t[n],t[n]=i}}),j(function(){return function(t,e,i,r,o){return Object(a.a)(void 0,void 0,void 0,function(){var r,s,u,c;return Object(a.c)(this,function(a){switch(a.label){case 0:return 0!=(32&e.$flags$)?[3,5]:(e.$flags$|=32,null==e.$modeName$&&(e.$modeName$="string"!=typeof i.$lazyBundleIds$?function(t){return Et.map(function(e){return e(t)}).find(function(t){return!!t})}(t):""),(o=function(t,e,i){var r=t.$tagName$.replace(/-/g,"_"),o="string"!=typeof t.$lazyBundleIds$?t.$lazyBundleIds$[e.$modeName$]:t.$lazyBundleIds$,s=O.get(o);return s?s[r]:n("Bf66")("./"+o+".entry.js").then(function(t){return O.set(o,t),t[r]},T)}(i,e)).then?[4,o]:[3,2]);case 1:o=a.sent(),a.label=2;case 2:o.isProxied||(i.$watchers$=o.watchers,wt(o,i,2),o.isProxied=!0),e.$flags$|=8;try{new o(e)}catch(h){T(h)}return e.$flags$&=-9,e.$flags$|=128,Ot(e.$lazyInstance$),r=H(i.$tagName$,e.$modeName$),M.has(r)||!o.style?[3,5]:("string"!=typeof(s=o.style)&&(s=s[e.$modeName$]),8&i.$flags$?[4,n.e(96).then(n.bind(null,"C/zs")).then(function(t){return t.scopeCss(s,r,!1)})]:[3,4]);case 3:s=a.sent(),a.label=4;case 4:B(r,s,!!(1&i.$flags$)),a.label=5;case 5:return c=function(){return gt(t,e,i,!0)},(u=e.$ancestorComponent$)&&u["s-rc"]?u["s-rc"].push(c):c(),[2]}})})}(t,i,e)})}Ot(i.$lazyInstance$)}}(t,s)})},e.prototype.disconnectedCallback=function(){var t=this;y.jmp(function(){return function(t){if(0==(1&y.$flags$)){var e=x(t),n=e.$lazyInstance$;e.$rmListeners$&&(e.$rmListeners$(),e.$rmListeners$=void 0),y.$cssShim$&&y.$cssShim$.removeHost(t),_t(n,"disconnectedCallback"),_t(n,"componentDidUnload")}}(t)})},e.prototype["s-hmr"]=function(t){},e.prototype.forceUpdate=function(){!function(t,e){var n=x(t);2==(18&n.$flags$)&&gt(t,n,e,!1)}(this,s)},e.prototype.componentOnReady=function(){return x(this).$onReadyPromise$},e}(HTMLElement);s.$lazyBundleIds$=t[0],o.includes(c)||u.get(c)||(r.push(c),u.define(c,wt(h,s,1)))})}),h.innerHTML=r+"{visibility:hidden}.hydrated{visibility:inherit}",h.setAttribute("data-styles",""),s.insertBefore(h,c?c.nextSibling:s.firstChild),y.jmp(function(){return i=setTimeout(mt,30)})},Rt=function(t,e,n){var i=kt(t);return{emit:function(t){return i.dispatchEvent(new CustomEvent(e,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:t}))}}},Pt=function(t){var e=new URL(t,y.$resourcesUrl$);return e.origin!==g.location.origin?e.href:e.pathname},kt=function(t){return x(t).$hostElement$},At=function(t){return t&&Tt(t)||s},Lt=function(){!function(){var t=document,e=window,n=e.Ionic=e.Ionic||{};Object(u.g)(e);var i=Object.assign(Object.assign(Object.assign(Object.assign({},Object(u.c)(e)),{persistConfig:!1}),n.config),Object(u.a)(e));u.b.reset(i),u.b.getBoolean("persistConfig")&&Object(u.d)(e,i),n.config=u.b,n.mode=s=u.b.get("mode",t.documentElement.getAttribute("mode")||(Object(u.f)(e,"ios")?"ios":"md")),u.b.set("mode",s),t.documentElement.setAttribute("mode",s),t.documentElement.classList.add(s),u.b.getBoolean("_testing")&&u.b.set("animated",!1),Ct(function(t){return t.mode=t.mode||t.getAttribute("mode")||s})}(),Ct(function(t){return"ION-ICON"===t.tagName?t.mode||t.getAttribute("mode"):null})}},Txjg:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Zn8D");function r(){return Object(i.a)(1)}},"VnD/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),r=n("FFOo");function o(t,e){return function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return i.d(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(r.a)},WPWp:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("aSns"),r=n("r4Kj"),o=n("CcnG"),s=n("Ip0R"),a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},u={primary:"#3880ff",secondary:"#0cd1e8",tertiary:"#00ffff",success:"#10dc60",warning:"#ffce00",danger:"#f04141",dark:"#000000",medium:"#989aa2",light:"#ffffff",fontXxxlg:"28px",fontXxlg:"25px",fontXlg:"22px",fontLg:"20px",fontMd:"17px",fontSm:"14px",fontXsm:"12px",fontFamilyHeader:"Roboto Slab",fontFamilyContent:"Roboto"},c=function(){function t(t,e){var n;this._document=t,this._configService=e,this._style=this._configService.getStyle();try{this._host=this._document.getElementsByTagName("wm-map-container")[0],this._host||(this._host=this._document.documentElement)}catch(i){this._host=this._document.documentElement}(n=getComputedStyle(this._host)).getPropertyValue("--ion-color-primary")&&(this._style.primary=n.getPropertyValue("--ion-color-primary").trim()),n.getPropertyValue("--ion-color-secondary")&&(this._style.secondary=n.getPropertyValue("--ion-color-secondary").trim()),n.getPropertyValue("--ion-color-tertiary")&&(this._style.tertiary=n.getPropertyValue("--ion-color-tertiary").trim()),n.getPropertyValue("--ion-color-light")&&(this._style.light=n.getPropertyValue("--ion-color-light").trim()),n.getPropertyValue("--ion-color-medium")&&(this._style.medium=n.getPropertyValue("--ion-color-medium").trim()),n.getPropertyValue("--ion-color-dark")&&(this._style.dark=n.getPropertyValue("--ion-color-dark").trim()),n.getPropertyValue("--ion-color-success")&&(this._style.success=n.getPropertyValue("--ion-color-success").trim()),n.getPropertyValue("--ion-color-warning")&&(this._style.warning=n.getPropertyValue("--ion-color-warning").trim()),n.getPropertyValue("--ion-color-danger")&&(this._style.danger=n.getPropertyValue("--ion-color-danger").trim()),n.getPropertyValue("--font-xxxlg")&&(this._style.fontXxxlg=n.getPropertyValue("--font-xxxlg").trim()),n.getPropertyValue("--font-xxlg")&&(this._style.fontXxlg=n.getPropertyValue("--font-xxlg").trim()),n.getPropertyValue("--font-xlg")&&(this._style.fontXlg=n.getPropertyValue("--font-xlg").trim()),n.getPropertyValue("--font-lg")&&(this._style.fontLg=n.getPropertyValue("--font-lg").trim()),n.getPropertyValue("--font-md")&&(this._style.fontMd=n.getPropertyValue("--font-md").trim()),n.getPropertyValue("--font-sm")&&(this._style.fontSm=n.getPropertyValue("--font-sm").trim()),n.getPropertyValue("--font-xsm")&&(this._style.fontXsm=n.getPropertyValue("--font-xsm").trim()),n.getPropertyValue("font-family")&&(this._style.fontFamilyHeader=n.getPropertyValue("font-family").trim(),this._style.fontFamilyContent=n.getPropertyValue("font-family").trim()),n.getPropertyValue("--font-family-header")&&(this._style.fontFamilyHeader=n.getPropertyValue("--font-family-header").trim()),n.getPropertyValue("--font-family-content")&&(this._style.fontFamilyContent=n.getPropertyValue("--font-family-content").trim()),this.setTheme(this._style)}return t.prototype.setTheme=function(t){var e=this._CSSTextGenerator(t);this._setGlobalCSS(e)},t.prototype.setVariable=function(t,e){this._host.style.setProperty(t,e)},t.prototype.contrast=function(t,e){return void 0===e&&(e=.8),"#000000"===t?"#ffffff":"#ffffff"===t?"#000000":(t=i(t)).isDark()?t.lighten(e).hex():t.darken(e).hex()},t.prototype.darken=function(t,e){return void 0===e&&(e=.8),(t=i(t)).darken(e).hex()},t.prototype.lighten=function(t,e){return void 0===e&&(e=.8),(t=i(t)).lighten(e).hex()},t.prototype.fade=function(t,e){return void 0===e&&(e=.8),(t=i(t)).fade(e).hex()},t.prototype.getPrimaryColor=function(){return(this._style.primary?this._style.primary:u.primary).replace(/ /g,"")},t.prototype.getSecondaryColor=function(){return(this._style.secondary?this._style.secondary:u.secondary).replace(/ /g,"")},t.prototype.getTertiaryColor=function(){return(this._style.tertiary?this._style.tertiary:u.tertiary).replace(/ /g,"")},t.prototype.getRgb=function(t){return i(t).color.join(",")},t.prototype.getFontSize=function(t){switch(t.toLowerCase()){case"xxxlg":return parseInt(getComputedStyle(this._host).getPropertyValue("--font-xxxlg").replace(/px/g,""));case"xxlg":return parseInt(getComputedStyle(this._host).getPropertyValue("--font-xxlg").replace(/px/g,""));case"xlg":return parseInt(getComputedStyle(this._host).getPropertyValue("--font-xlg").replace(/px/g,""));case"lg":return parseInt(getComputedStyle(this._host).getPropertyValue("--font-lg").replace(/px/g,""));case"md":default:return parseInt(getComputedStyle(this._host).getPropertyValue("--font-md").replace(/px/g,""));case"sm":return parseInt(getComputedStyle(this._host).getPropertyValue("--font-sm").replace(/px/g,""));case"xsm":return parseInt(getComputedStyle(this._host).getPropertyValue("--font-xsm").replace(/px/g,""))}},t.prototype._setGlobalCSS=function(t){for(var e in t)this._host.style.setProperty(t[e][0],t[e][1])},t.prototype._CSSTextGenerator=function(t){var e=(t=a({},u,t)).primary,n=t.secondary,r=t.tertiary,o=t.success,s=t.warning,c=t.danger,h=t.dark,l=t.medium,p=t.light,f=t.fontXxxlg,d=t.fontXxlg,g=t.fontXlg,v=t.fontLg,y=t.fontMd,m=t.fontSm,_=t.fontXsm,b=t.fontFamilyHeader,w=t.fontFamilyContent;return[["--ion-color-base",p],["--ion-color-contrast",h],["--ion-background-color",p],["--ion-text-color",h],["--ion-toolbar-background-color",this.contrast(p,.1)],["--ion-toolbar-text-color",this.contrast(h,.1)],["--ion-item-background-color",this.contrast(p,.3)],["--ion-item-text-color",this.contrast(h,.3)],["--ion-color-primary",e],["--ion-color-primary-rgb",i(e).array().toString()],["--ion-color-primary-contrast",this.contrast(e)],["--ion-color-primary-contrast-rgb",i(this.contrast(e)).array().toString()],["--ion-color-primary-shade",i(e).darken(.1)],["--ion-color-primary-tint",i(e).lighten(.1)],["--ion-color-secondary",n],["--ion-color-secondary-rgb",i(n).array().toString()],["--ion-color-secondary-contrast",this.contrast(n)],["--ion-color-secondary-contrast-rgb",i(this.contrast(n)).array().toString()],["--ion-color-secondary-shade",i(n).darken(.1)],["--ion-color-secondary-tint",i(n).lighten(.1)],["--ion-color-tertiary",r],["--ion-color-tertiary-rgb",i(r).array().toString()],["--ion-color-tertiary-contrast",this.contrast(r)],["--ion-color-tertiary-contrast-rgb",i(this.contrast(r)).array().toString()],["--ion-color-tertiary-shade",i(r).darken(.1)],["--ion-color-tertiary-tint",i(r).lighten(.1)],["--ion-color-success",o],["--ion-color-success-rgb",i(o).array().toString()],["--ion-color-success-contrast",this.contrast(o)],["--ion-color-success-contrast-rgb",i(this.contrast(o)).array().toString()],["--ion-color-success-shade",i(o).darken(.1)],["--ion-color-success-tint",i(o).lighten(.1)],["--ion-color-warning",s],["--ion-color-warning-rgb",i(s).array().toString()],["--ion-color-warning-contrast",this.contrast(s)],["--ion-color-warning-contrast-rgb",i(this.contrast(s)).array().toString()],["--ion-color-warning-shade",i(s).darken(.1)],["--ion-color-warning-tint",i(s).lighten(.1)],["--ion-color-danger",c],["--ion-color-danger-rgb",i(c).array().toString()],["--ion-color-danger-contrast",this.contrast(c)],["--ion-color-danger-contrast-rgb",i(this.contrast(c)).array().toString()],["--ion-color-danger-shade",i(c).darken(.1)],["--ion-color-danger-tint",i(c).lighten(.1)],["--ion-color-dark",h],["--ion-color-dark-rgb",i(h).array().toString()],["--ion-color-dark-contrast",this.contrast(h)],["--ion-color-dark-contrast-rgb",i(this.contrast(h)).array().toString()],["--ion-color-dark-shade",i(h).darken(.1)],["--ion-color-dark-tint",i(h).lighten(.1)],["--ion-color-medium",l],["--ion-color-medium-rgb",i(l).array().toString()],["--ion-color-medium-contrast",this.contrast(l)],["--ion-color-medium-contrast-rgb",i(this.contrast(l)).array().toString()],["--ion-color-medium-shade",i(l).darken(.1)],["--ion-color-medium-tint",i(l).lighten(.1)],["--ion-color-light",p],["--ion-color-light-rgb",i(p).array().toString()],["--ion-color-light-contrast",this.contrast(p)],["--ion-color-light-contrast-rgb",i(this.contrast(p)).array().toString()],["--ion-color-light-shade",i(p).darken(.1)],["--ion-color-light-tint",i(p).lighten(.1)],["--font-xxxlg",f],["--font-xxlg",d],["--font-xlg",g],["--font-lg",v],["--font-md",y],["--font-sm",m],["--font-xsm",_],["--font-family-header",b],["--font-family-content",w]]},t.ngInjectableDef=o.T({factory:function(){return new t(o.X(s.c),o.X(r.a))},token:t,providedIn:"root"}),t}()},YcpW:function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,c=Math.log(a),h=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*h*(a-h)/a)*(u-a/2<0?-1:1);e(n,i,Math.max(r,Math.floor(i-u*h/a+l)),Math.min(o,Math.floor(i+(a-u)*h/a+l)),s)}var p=n[i],f=r,d=o;for(t(n,r,i),s(n[o],p)>0&&t(n,r,o);f<d;){for(t(n,f,d),f++,d--;s(n[f],p)<0;)f++;for(;s(n[d],p)>0;)d--}0===s(n[r],p)?t(n,r,d):t(n,++d,o),d<=i&&(r=d+1),i<=d&&(o=d-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},ZYCi:function(t,e,n){"use strict";var i=n("mrSG"),r=n("Ip0R"),o=n("CcnG"),s=n("F/XL"),a=n("0/uQ"),u=n("26FU"),c=n("6blF");function h(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}h.prototype=Object.create(Error.prototype);var l=h,p=n("dzgT"),f=n("G5J1");function d(t){return new c.a(function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(a.a)(n):Object(f.b)()).subscribe(e)})}var g=n("K9Ia"),v=n("67Y/"),y=n("Txjg"),m=n("VnD/"),_=n("AxiF"),b=n("FFOo");function w(t){return void 0===t&&(t=E),function(e){return e.lift(new x(t))}}var x=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new S(t,this.errorFactory))},t}(),S=function(t){function e(e,n){var i=t.call(this,e)||this;return i.errorFactory=n,i.hasValue=!1,i}return i.d(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(b.a);function E(){return new l}var C=n("HJBe"),T=n("mChF");function O(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(m.a)(function(e,n){return t(e,n,i)}):T.a,Object(_.a)(1),n?Object(C.a)(e):w(function(){return new l}))}}var M=n("MGBS"),I=n("rPjj"),R=n("zotm");function P(t){return function(e){var n=new k(t),i=e.lift(n);return n.caught=i}}var k=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new A(t,this.selector,this.caught))},t}(),A=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.selector=n,r.caught=i,r}return i.d(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(r){return void t.prototype.error.call(this,r)}this._unsubscribeAndRecycle();var i=new I.a(this,void 0,void 0);this.add(i),Object(R.a)(this,n,void 0,void 0,i)}},e}(M.a),L=n("t9fZ");function j(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(m.a)(function(e,n){return t(e,n,i)}):T.a,Object(L.a)(1),n?Object(C.a)(e):w(function(){return new l}))}}var N=n("psW0"),F=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.predicate,this.thisArg,this.source))},t}(),D=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||o,o}return i.d(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(b.a),G=n("15JJ"),z=n("dEwP"),U=n("nkY7"),$=n("dC0D"),B=n("Phjn"),V=n("Qgas"),H=n("+umK"),W=n("2Bdj");function q(t,e,n){return function(i){return i.lift(new X(t,e,n))}}var X=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Y(t,this.nextOrObserver,this.error,this.complete))},t}(),Y=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o._tapNext=H.a,o._tapError=H.a,o._tapComplete=H.a,o._tapError=i||H.a,o._tapComplete=r||H.a,Object(W.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||H.a,o._tapError=n.error||H.a,o._tapComplete=n.complete||H.a),o}return i.d(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(b.a),K=n("pugT"),Z=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.callback))},t}(),J=function(t){function e(e,n){var i=t.call(this,e)||this;return i.add(new K.a(n)),i}return i.d(e,t),e}(b.a),Q=n("Zn8D"),tt=n("ZYjt");n.d(e,"v",function(){return An}),n.d(e,"C",function(){return Bn}),n.d(e,"x",function(){return Fn}),n.d(e,"D",function(){return Vn}),n.d(e,"E",function(){return Hn}),n.d(e,"z",function(){return Gn}),n.d(e,"y",function(){return Dn}),n.d(e,"B",function(){return $n}),n.d(e,"w",function(){return jn}),n.d(e,"A",function(){return Un}),n.d(e,"F",function(){return Pn}),n.d(e,"o",function(){return wn}),n.d(e,"q",function(){return Cn}),n.d(e,"d",function(){return it}),n.d(e,"e",function(){return nt}),n.d(e,"m",function(){return ln}),n.d(e,"n",function(){return bn}),n.d(e,"l",function(){return fn}),n.d(e,"j",function(){return kn}),n.d(e,"k",function(){return Wn}),n.d(e,"p",function(){return Nn}),n.d(e,"b",function(){return En}),n.d(e,"f",function(){return In}),n.d(e,"h",function(){return Mn}),n.d(e,"i",function(){return On}),n.d(e,"r",function(){return Rn}),n.d(e,"a",function(){return ce}),n.d(e,"g",function(){return _t}),n.d(e,"s",function(){return gn}),n.d(e,"c",function(){return $t}),n.d(e,"t",function(){return Ut}),n.d(e,"u",function(){return mt});var et=function(){return function(t,e){this.id=t,this.url=e}}(),nt=function(t){function e(e,n,i,r){void 0===i&&(i="imperative"),void 0===r&&(r=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=i,o.restoredState=r,o}return Object(i.d)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(et),it=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.urlAfterRedirects=i,r}return Object(i.d)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(et),rt=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.reason=i,r}return Object(i.d)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(et),ot=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.error=i,r}return Object(i.d)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(et),st=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(i.d)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),at=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(i.d)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),ut=function(t){function e(e,n,i,r,o){var s=t.call(this,e,n)||this;return s.urlAfterRedirects=i,s.state=r,s.shouldActivate=o,s}return Object(i.d)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(et),ct=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(i.d)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),ht=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=i,o.state=r,o}return Object(i.d)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),lt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),pt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),ft=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),dt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),gt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),vt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),yt=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),mt=function(){return function(){}}(),_t="primary",bt=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function wt(t){return new bt(t)}var xt="ngNavigationCancelingError";function St(t){var e=Error("NavigationCancelingError: "+t);return e[xt]=!0,e}function Et(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}var Ct=function(){return function(t,e){this.routes=t,this.module=e}}();function Tt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var i=t[n];Ot(i,Mt(e,i))}}function Ot(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==_t)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Tt(t.children,e)}function Mt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function It(t){var e=t.children&&t.children.map(It),n=e?Object(i.a)({},t,{children:e}):Object(i.a)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_t&&(n.component=mt),n}function Rt(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(t[n=i[o]]!==e[n])return!1;return!0}function Pt(t){return Array.prototype.concat.apply([],t)}function kt(t){return t.length>0?t[t.length-1]:null}function At(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Lt(t){return Object(o.ub)(t)?t:Object(o.vb)(t)?Object(a.a)(Promise.resolve(t)):Object(s.a)(t)}function jt(t,e,n){return n?function(t,e){return Rt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Gt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Gt(s=n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Gt(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!t(n.children[o],i.children[o]))return!1}return!0}var s=r.slice(0,n.segments.length),a=r.slice(n.segments.length);return!!Gt(n.segments,s)&&!!n.children[_t]&&e(n.children[_t],i,a)}(e,n,n.segments)}(t.root,e.root)}var Nt=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Bt.serialize(this)},t}(),Ft=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,At(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Vt(this)},t}(),Dt=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=wt(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Kt(this)},t}();function Gt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function zt(t,e){var n=[];return At(t.children,function(t,i){i===_t&&(n=n.concat(e(t,i)))}),At(t.children,function(t,i){i!==_t&&(n=n.concat(e(t,i)))}),n}var Ut=function(){return function(){}}(),$t=function(){function t(){}return t.prototype.parse=function(t){var e=new ee(t);return new Nt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Vt(e);if(n){var i=e.children[_t]?t(e.children[_t],!1):"",r=[];return At(e.children,function(e,n){n!==_t&&r.push(n+":"+t(e,!1))}),r.length>0?i+"("+r.join("//")+")":i}var o=zt(e,function(n,i){return i===_t?[t(e.children[_t],!1)]:[i+":"+t(n,!1)]});return Vt(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Wt(t)+"="+Wt(e)}).join("&"):Wt(t)+"="+Wt(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Bt=new $t;function Vt(t){return t.segments.map(function(t){return Kt(t)}).join("/")}function Ht(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wt(t){return Ht(t).replace(/%3B/gi,";")}function qt(t){return Ht(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(t){return decodeURIComponent(t)}function Yt(t){return Xt(t.replace(/\+/g,"%20"))}function Kt(t){return""+qt(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+qt(t)+"="+qt(e[t])}).join(""));var e}var Zt=/^[^\/()?;=#]+/;function Jt(t){var e=t.match(Zt);return e?e[0]:""}var Qt=/^[^=?&#]+/,te=/^[^?&#]+/,ee=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[_t]=new Ft(t,e)),n},t.prototype.parseSegment=function(){var t=Jt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Dt(Xt(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Jt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Jt(this.remaining);i&&this.capture(n=i)}t[Xt(e)]=Xt(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Qt))?e[0]:"";if(n){this.capture(n);var i="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(te);return e?e[0]:""}(this.remaining);r&&this.capture(i=r)}var o=Yt(n),s=Yt(i);if(t.hasOwnProperty(o)){var a=t[o];Array.isArray(a)||(t[o]=a=[a]),a.push(s)}else t[o]=s}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Jt(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=_t);var o=this.parseChildren();e[r]=1===Object.keys(o).length?o[_t]:new Ft([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),ne=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=ie(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=ie(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=re(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return re(t,this._root).map(function(t){return t.value})},t}();function ie(t,e){var n,r;if(t===e.value)return e;try{for(var o=Object(i.j)(e.children),s=o.next();!s.done;s=o.next()){var a=ie(t,s.value);if(a)return a}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function re(t,e){var n,r;if(t===e.value)return[e];try{for(var o=Object(i.j)(e.children),s=o.next();!s.done;s=o.next()){var a=re(t,s.value);if(a.length)return a.unshift(e),a}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[]}var oe=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function se(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var ae=function(t){function e(e,n){var i=t.call(this,e)||this;return i.snapshot=n,fe(i,e),i}return Object(i.d)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(ne);function ue(t,e){var n=function(t,e){var n=new le([],{},{},"",{},_t,e,null,t.root,-1,{});return new pe("",new oe(n,[]))}(t,e),i=new u.a([new Dt("",{})]),r=new u.a({}),o=new u.a({}),s=new u.a({}),a=new u.a(""),c=new ce(i,r,s,a,o,_t,e,n.root);return c.snapshot=n.root,new ae(new oe(c,[]),n)}var ce=function(){function t(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(v.a)(function(t){return wt(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(v.a)(function(t){return wt(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function he(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var o=n[r],s=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object(i.a)({},t.params,e.params),data:Object(i.a)({},t.data,e.data),resolve:Object(i.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var le=function(){function t(t,e,n,i,r,o,s,a,u,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=wt(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),pe=function(t){function e(e,n){var i=t.call(this,n)||this;return i.url=e,fe(i,n),i}return Object(i.d)(e,t),e.prototype.toString=function(){return de(this._root)},e}(ne);function fe(t,e){e.value._routerState=t,e.children.forEach(function(e){return fe(t,e)})}function de(t){var e=t.children.length>0?" { "+t.children.map(de).join(", ")+" } ":"";return""+t.value+e}function ge(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Rt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Rt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Rt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ve(t,e){var n,i;return Rt(t.params,e.params)&&Gt(n=t.url,i=e.url)&&n.every(function(t,e){return Rt(t.parameters,i[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||ve(t.parent,e.parent))}function ye(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function me(t,e,n,i,r){var o={};return i&&At(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Nt(n.root===t?e:function t(e,n,i){var r={};return At(e.children,function(e,o){r[o]=e===n?i:t(e,n,i)}),new Ft(e.segments,r)}(n.root,t,e),o,r)}var _e=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ye(n[0]))throw new Error("Root segment cannot have matrix parameters");var i=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(i&&i!==kt(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),be=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function we(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[_t]:""+t}function xe(t,e,n){if(t||(t=new Ft([],{})),0===t.segments.length&&t.hasChildren())return Se(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var s=t.segments[r],a=we(n[i]),u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Oe(a,u,s))return o;i+=2}else{if(!Oe(a,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Ft(t.segments.slice(0,i.pathIndex),{});return o.children[_t]=new Ft(t.segments.slice(i.pathIndex),t.children),Se(o,0,r)}return i.match&&0===r.length?new Ft(t.segments,{}):i.match&&!t.hasChildren()?Ee(t,e,n):i.match?Se(t,0,r):Ee(t,e,n)}function Se(t,e,n){if(0===n.length)return new Ft(t.segments,{});var i=function(t){var e,n;return"object"!=typeof t[0]?((e={})[_t]=t,e):void 0===t[0].outlets?((n={})[_t]=t,n):t[0].outlets}(n),r={};return At(i,function(n,i){null!==n&&(r[i]=xe(t.children[i],e,n))}),At(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Ft(t.segments,r)}function Ee(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=Ce(n[r].outlets);return new Ft(i,o)}if(0===r&&ye(n[0]))i.push(new Dt(t.segments[e].path,n[0])),r++;else{var s=we(n[r]),a=r<n.length-1?n[r+1]:null;s&&a&&ye(a)?(i.push(new Dt(s,Te(a))),r+=2):(i.push(new Dt(s,{})),r++)}}return new Ft(i,{})}function Ce(t){var e={};return At(t,function(t,n){null!==t&&(e[n]=Ee(new Ft([],{}),0,t))}),e}function Te(t){var e={};return At(t,function(t,n){return e[n]=""+t}),e}function Oe(t,e,n){return t==n.path&&Rt(e,n.parameters)}var Me=function(){function t(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ge(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var i=this,r=se(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),At(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=se(t),o=t.value.component?i.children:e;At(r,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var i=this,r=se(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new vt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dt(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var i=t.value,r=e?e.value:null;if(ge(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component)if(o=n.getOrCreateContext(i.outlet),this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Ie(s.route)}else{var a=function(t){for(var e=i.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Ie(t){ge(t.value),t.children.forEach(Ie)}function Re(t){return"function"==typeof t}function Pe(t){return t instanceof Nt}var ke=function(){return function(t){this.segmentGroup=t||null}}(),Ae=function(){return function(t){this.urlTree=t}}();function Le(t){return new c.a(function(e){return e.error(new ke(t))})}function je(t){return new c.a(function(e){return e.error(new Ae(t))})}function Ne(t){return new c.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Fe=function(){function t(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(o.x)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,_t).pipe(Object(v.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(P(function(e){if(e instanceof Ae)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof ke)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,_t).pipe(Object(v.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(P(function(t){if(t instanceof ke)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var i,r=t.segments.length>0?new Ft([],((i={})[_t]=t,i)):t;return new Nt(r,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(v.a)(function(t){return new Ft([],t)})):this.expandSegment(t,n,e,n.segments,i,!0)},t.prototype.expandChildren=function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Object(s.a)({});var o=[],a=[],u={};return At(n,function(n,r){var s,c,h=(s=r,c=n,i.expandSegmentGroup(t,e,c,s)).pipe(Object(v.a)(function(t){return u[r]=t}));r===_t?o.push(h):a.push(h)}),s.a.apply(null,o.concat(a)).pipe(Object(y.a)(),O(),Object(v.a)(function(){return u}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,o,a){var u=this;return s.a.apply(void 0,Object(i.i)(n)).pipe(Object(v.a)(function(i){return u.expandSegmentAgainstRoute(t,e,n,i,r,o,a).pipe(P(function(t){if(t instanceof ke)return Object(s.a)(null);throw t}))}),Object(y.a)(),j(function(t){return!!t}),P(function(t,n){if(t instanceof l||"EmptyError"===t.name){if(u.noLeftoversInUrl(e,r,o))return Object(s.a)(new Ft([],{}));throw new ke(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,i,r,o,s){return Ue(i)!==o?Le(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Le(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?je(o):this.lineralizeSegments(n,o).pipe(Object(N.a)(function(n){var o=new Ft(n,{});return r.expandSegment(t,o,e,n,i,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,i,r,o){var s=this,a=De(e,i,r),u=a.consumedSegments,c=a.lastChild,h=a.positionalParamSegments;if(!a.matched)return Le(e);var l=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?je(l):this.lineralizeSegments(i,l).pipe(Object(N.a)(function(i){return s.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(v.a)(function(t){return n._loadedConfig=t,new Ft(r,{})})):Object(s.a)(new Ft(r,{}));var a=De(e,n,r),u=a.consumedSegments,c=a.lastChild;if(!a.matched)return Le(e);var h=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(N.a)(function(t){var n=t.module,r=t.routes,a=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return ze(t,e,n)&&Ue(n)!==_t})}(t,n)?{segmentGroup:Ge(new Ft(e,function(t,e){var n,r,o={};o[_t]=e;try{for(var s=Object(i.j)(t),a=s.next();!a.done;a=s.next()){var u=a.value;""===u.path&&Ue(u)!==_t&&(o[Ue(u)]=new Ft([],{}))}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o}(r,new Ft(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return ze(t,e,n)})}(t,n)?{segmentGroup:Ge(new Ft(t.segments,function(t,e,n,r){var o,s,a={};try{for(var u=Object(i.j)(n),c=u.next();!c.done;c=u.next()){var h=c.value;ze(t,e,h)&&!r[Ue(h)]&&(a[Ue(h)]=new Ft([],{}))}}catch(l){o={error:l}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return Object(i.a)({},r,a)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,h,r),c=a.segmentGroup,l=a.slicedSegments;return 0===l.length&&c.hasChildren()?o.expandChildren(n,r,c).pipe(Object(v.a)(function(t){return new Ft(u,t)})):0===r.length&&0===l.length?Object(s.a)(new Ft(u,{})):o.expandSegment(n,c,r,l,_t,!0).pipe(Object(v.a)(function(t){return new Ft(u.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var i=this;return e.children?Object(s.a)(new Ct(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):function(t,e,n){var i,r=e.canLoad;return r&&0!==r.length?Object(a.a)(r).pipe(Object(v.a)(function(i){var r,o=t.get(i);if(function(t){return t&&Re(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!Re(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return Lt(r)})).pipe(Object(y.a)(),(i=function(t){return!0===t},function(t){return t.lift(new F(i,void 0,t))})):Object(s.a)(!0)}(t.injector,e,n).pipe(Object(N.a)(function(n){return n?i.configLoader.load(t.injector,e).pipe(Object(v.a)(function(t){return e._loadedConfig=t,t})):function(t){return new c.a(function(e){return e.error(St("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Object(s.a)(new Ct([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(s.a)(n);if(i.numberOfChildren>1||!i.children[_t])return Ne(t.redirectTo);i=i.children[_t]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new Nt(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return At(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),s={};return At(e.children,function(e,o){s[o]=r.createSegmentGroup(t,e,n,i)}),new Ft(o,s)},t.prototype.createSegments=function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return i},t.prototype.findOrReturn=function(t,e){var n,r,o=0;try{for(var s=Object(i.j)(e),a=s.next();!a.done;a=s.next()){var u=a.value;if(u.path===t.path)return e.splice(o),u;o++}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return t},t}();function De(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||Et)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ge(t){if(1===t.numberOfChildren&&t.children[_t]){var e=t.children[_t];return new Ft(t.segments.concat(e.segments),e.children)}return t}function ze(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ue(t){return t.outlet||_t}var $e=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),Be=function(){return function(t,e){this.component=t,this.route=e}}();function Ve(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function He(t,e,n,i,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var o=se(e);return t.children.forEach(function(t){!function(t,e,n,i,r){void 0===r&&(r={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gt(t.url,e.url)||!Rt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ve(t,e)||!Rt(t.queryParams,e.queryParams);case"paramsChange":default:return!ve(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new $e(i)):(o.data=s.data,o._resolvedData=s._resolvedData),He(t,e,o.component?a?a.children:null:n,i,r),u&&r.canDeactivateChecks.push(new Be(a&&a.outlet&&a.outlet.component||null,s))}else s&&We(e,a,r),r.canActivateChecks.push(new $e(i)),He(t,null,o.component?a?a.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),At(o,function(t,e){return We(t,n.getContext(e),r)}),r}function We(t,e,n){var i=se(t),r=t.value;At(i,function(t,i){We(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Be(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var qe=Symbol("INITIAL_VALUE");function Xe(){return Object(G.a)(function(t){return p.a.apply(void 0,Object(i.i)(t.map(function(t){return t.pipe(Object(L.a)(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(U.a)(n)?(t.pop(),function(e){return Object(z.a)(t,e,n)}):function(e){return Object(z.a)(t,e)}}(qe))}))).pipe(Object($.a)(function(t,e){var n=!1;return e.reduce(function(t,i,r){if(t!==qe)return t;if(i===qe&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Pe(i))return i}return t},t)},qe),Object(m.a)(function(t){return t!==qe}),Object(v.a)(function(t){return Pe(t)?t:!0===t}),Object(L.a)(1))})}function Ye(t,e){return null!==t&&e&&e(new gt(t)),Object(s.a)(!0)}function Ke(t,e){return null!==t&&e&&e(new ft(t)),Object(s.a)(!0)}function Ze(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(s.a)(!0);var r=i.map(function(i){return d(function(){var r,o=Ve(i,e,n);if(function(t){return t&&Re(t.canActivate)}(o))r=Lt(o.canActivate(e,t));else{if(!Re(o))throw new Error("Invalid CanActivate guard");r=Lt(o(e,t))}return r.pipe(j())})});return Object(s.a)(r).pipe(Xe())}function Je(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return d(function(){var r=e.guards.map(function(r){var o,s=Ve(r,e.node,n);if(function(t){return t&&Re(t.canActivateChild)}(s))o=Lt(s.canActivateChild(i,t));else{if(!Re(s))throw new Error("Invalid CanActivateChild guard");o=Lt(s(i,t))}return o.pipe(j())});return Object(s.a)(r).pipe(Xe())})});return Object(s.a)(r).pipe(Xe())}var Qe=function(){return function(){}}(),tn=function(){function t(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=rn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_t),n=new le([],Object.freeze({}),Object.freeze(Object(i.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new oe(n,e),o=new pe(this.url,r);return this.inheritParamsAndData(o._root),Object(s.a)(o)}catch(a){return new c.a(function(t){return t.error(a)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,i=he(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,i=this,r=zt(e,function(e,n){return i.processSegmentGroup(t,e,n)});return n={},r.forEach(function(t){var e=n[t.value.outlet];if(e){var i=e.url.map(function(t){return t.toString()}).join("/"),r=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+i+"' and '"+r+"'.")}n[t.value.outlet]=t.value}),r.sort(function(t,e){return t.value.outlet===_t?-1:e.value.outlet===_t?1:t.value.outlet.localeCompare(e.value.outlet)}),r},t.prototype.processSegment=function(t,e,n,r){var o,s;try{for(var a=Object(i.j)(t),u=a.next();!u.done;u=a.next()){var c=u.value;try{return this.processSegmentAgainstRoute(c,e,n,r)}catch(h){if(!(h instanceof Qe))throw h}}}catch(l){o={error:l}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Qe},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Qe;if((t.outlet||_t)!==r)throw new Qe;var o,s=[],a=[];if("**"===t.path){var u=n.length>0?kt(n).parameters:{};o=new le(n,u,Object.freeze(Object(i.a)({},this.urlTree.queryParams)),this.urlTree.fragment,an(t),r,t.component,t,en(e),nn(e)+n.length,un(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Qe;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Et)(n,t,e);if(!r)throw new Qe;var o={};At(r.posParams,function(t,e){o[e]=t.path});var s=r.consumed.length>0?Object(i.a)({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=c.consumedSegments,a=n.slice(c.lastChild),o=new le(s,c.parameters,Object.freeze(Object(i.a)({},this.urlTree.queryParams)),this.urlTree.fragment,an(t),r,t.component,t,en(e),nn(e)+s.length,un(t))}var h=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=rn(e,s,a,h,this.relativeLinkResolution),p=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&p.hasChildren()){var d=this.processChildren(h,p);return[new oe(o,d)]}if(0===h.length&&0===f.length)return[new oe(o,[])];var g=this.processSegment(h,p,f,_t);return[new oe(o,g)]},t}();function en(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function nn(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function rn(t,e,n,r,o){if(n.length>0&&function(t,e,n){return r.some(function(n){return on(t,e,n)&&sn(n)!==_t})}(t,n)){var s=new Ft(e,function(t,e,n,r){var o,s,a={};a[_t]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=Object(i.j)(n),c=u.next();!c.done;c=u.next()){var h=c.value;if(""===h.path&&sn(h)!==_t){var l=new Ft([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,a[sn(h)]=l}}}catch(p){o={error:p}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}return a}(t,e,r,new Ft(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return on(t,e,n)})}(t,n)){var a=new Ft(t.segments,function(t,e,n,r,o,s){var a,u,c={};try{for(var h=Object(i.j)(r),l=h.next();!l.done;l=h.next()){var p=l.value;if(on(t,n,p)&&!o[sn(p)]){var f=new Ft([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===s?t.segments.length:e.length,c[sn(p)]=f}}}catch(d){a={error:d}}finally{try{l&&!l.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}return Object(i.a)({},o,c)}(t,e,n,r,t.children,o));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var u=new Ft(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function on(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function sn(t){return t.outlet||_t}function an(t){return t.data||{}}function un(t){return t.resolve||{}}function cn(t,e,n,i){var r=Ve(t,e,i);return Lt(r.resolve?r.resolve(e,n):r(e,n))}function hn(t){return function(e){return e.pipe(Object(G.a)(function(e){var n=t(e);return n?Object(a.a)(n).pipe(Object(v.a)(function(){return e})):Object(a.a)([e])}))}}var ln=function(){return function(){}}(),pn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),fn=new o.p("ROUTES"),dn=function(){function t(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(v.a)(function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new Ct(Pt(r.injector.get(fn)).map(It),r)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(a.a)(this.loader.load(t)):Lt(t()).pipe(Object(N.a)(function(t){return t instanceof o.v?Object(s.a)(t):Object(a.a)(e.compiler.compileModuleAsync(t))}))},t}(),gn=function(){return function(){}}(),vn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function yn(t){throw t}function mn(t,e,n){return e.parse("/")}function _n(t,e){return Object(s.a)(null)}var bn=function(){function t(t,e,n,i,r,s,a,c){var h=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new g.a,this.errorHandler=yn,this.malformedUriErrorHandler=mn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_n,afterPreactivation:_n},this.urlHandlingStrategy=new vn,this.routeReuseStrategy=new pn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(o.x),this.console=r.get(o.db);var l=r.get(o.z);this.isNgZoneEnabled=l instanceof o.z,this.resetConfig(c),this.currentUrlTree=new Nt(new Ft([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dn(s,a,function(t){return h.triggerEvent(new lt(t))},function(t){return h.triggerEvent(new pt(t))}),this.routerState=ue(this.currentUrlTree,this.rootComponentType),this.transitions=new u.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Object(m.a)(function(t){return 0!==t.id}),Object(v.a)(function(t){return Object(i.a)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Object(G.a)(function(t){var r,o,c,h,l=!1,p=!1;return Object(s.a)(t).pipe(q(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(i.a)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(G.a)(function(t){var r,o,a,u,c=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||c)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Object(G.a)(function(t){var i=e.transitions.getValue();return n.next(new nt(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?f.a:[t]}),Object(G.a)(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,o=e.configLoader,a=e.urlSerializer,u=e.config,function(t){return t.pipe(Object(G.a)(function(t){return function(e,n,i,r,o){return new Fe(e,n,i,t.extractedUrl,o).apply()}(r,o,a,0,u).pipe(Object(v.a)(function(e){return Object(i.a)({},t,{urlAfterRedirects:e})}))}))}),q(function(t){e.currentNavigation=Object(i.a)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,r,o,s){return function(r){return r.pipe(Object(N.a)(function(r){return function(t,e,n,i,r,o){return void 0===r&&(r="emptyOnly"),void 0===o&&(o="legacy"),new tn(t,e,n,i,r,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),o,s).pipe(Object(v.a)(function(t){return Object(i.a)({},r,{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),q(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),q(function(t){var i=new st(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)}));if(c&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var h=t.extractedUrl,l=t.source,p=t.restoredState,d=t.extras,g=new nt(t.id,e.serializeUrl(h),l,p);n.next(g);var y=ue(h,e.rootComponentType).snapshot;return Object(s.a)(Object(i.a)({},t,{targetSnapshot:y,urlAfterRedirects:h,extras:Object(i.a)({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),f.a}),hn(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),q(function(t){var n=new at(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(v.a)(function(t){return Object(i.a)({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,o=e.rootContexts,s=n._root,He(s,r?r._root:null,o,[s.value]))});var n,r,o,s}),function(t,e){return function(n){return n.pipe(Object(N.a)(function(n){var r=n.targetSnapshot,o=n.currentSnapshot,u=n.guards,c=u.canActivateChecks,h=u.canDeactivateChecks;return 0===h.length&&0===c.length?Object(s.a)(Object(i.a)({},n,{guardsResult:!0})):function(t,e,n,i){return Object(a.a)(t).pipe(Object(N.a)(function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);var a=o.map(function(o){var s,a=Ve(o,e,r);if(function(t){return t&&Re(t.canDeactivate)}(a))s=Lt(a.canDeactivate(t,e,n,i));else{if(!Re(a))throw new Error("Invalid CanDeactivate guard");s=Lt(a(t,e,n,i))}return s.pipe(j())});return Object(s.a)(a).pipe(Xe())}(t.component,t.route,n,e,i)}),j(function(t){return!0!==t},!0))}(h,r,o,t).pipe(Object(N.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return Object(a.a)(e).pipe(Object(B.a)(function(e){return Object(a.a)([Ke(e.route.parent,i),Ye(e.route,i),Je(t,e.path,n),Ze(t,e.route,n)]).pipe(Object(y.a)(),j(function(t){return!0!==t},!0))}),j(function(t){return!0!==t},!0))}(r,c,t,e):Object(s.a)(n)}),Object(v.a)(function(t){return Object(i.a)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),q(function(t){if(Pe(t.guardsResult)){var n=St('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),q(function(t){var n=new ut(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Object(m.a)(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new rt(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0}),hn(function(t){if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(q(function(t){var n=new ct(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(N.a)(function(t){var e=t.targetSnapshot,o=t.guards.canActivateChecks;return o.length?Object(a.a)(o).pipe(Object(B.a)(function(t){return function(t,n,r,o){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return Object(s.a)({});if(1===r.length){var o=r[0];return cn(t[o],e,n,i).pipe(Object(v.a)(function(t){var e;return(e={})[o]=t,e}))}var u={};return Object(a.a)(r).pipe(Object(N.a)(function(r){return cn(t[r],e,n,i).pipe(Object(v.a)(function(t){return u[r]=t,t}))})).pipe(O(),Object(v.a)(function(){return u}))}(t._resolve,t,e,o).pipe(Object(v.a)(function(e){return t._resolvedData=e,t.data=Object(i.a)({},t.data,he(t,r).resolve),null}))}(t.route,0,n,r)}),Object(V.a)(function(t,e){return t}),Object(v.a)(function(e){return t})):Object(s.a)(t)}))}),q(function(t){var n=new ht(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),hn(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(v.a)(function(t){var n,r,o,s=(o=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(h=r.value)._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map(function(n){var o,s;try{for(var a=Object(i.j)(r.children),u=a.next();!u.done;u=a.next()){var c=u.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(h){o={error:h}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,r);return new oe(h,o)}var s=e.retrieve(n.value);if(s){var a=s.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,a),a}var c,h=new ce(new u.a((c=n.value).url),new u.a(c.params),new u.a(c.queryParams),new u.a(c.fragment),new u.a(c.data),c.outlet,c.component,c);return o=n.children.map(function(n){return t(e,n)}),new oe(h,o)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new ae(o,n));return Object(i.a)({},t,{targetRouterState:s})}),q(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(o=e.rootContexts,c=e.routeReuseStrategy,h=function(t){return e.triggerEvent(t)},Object(v.a)(function(t){return new Me(c,t.targetRouterState,t.currentRouterState,h).activate(o),t})),q({next:function(){l=!0},complete:function(){l=!0}}),(r=function(){if(!l&&!p){e.resetUrlToCurrentUrlTree();var i=new rt(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(i),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Z(r))}),P(function(i){if(p=!0,(a=i)&&a[xt]){var r=Pe(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new rt(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),t.resolve(!1),r&&e.navigateByUrl(i.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new ot(t.id,e.serializeUrl(t.extractedUrl),i);n.next(s);try{t.resolve(e.errorHandler(i))}catch(u){t.reject(u)}}var a;return f.a}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(i.a)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),i="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,i,r,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Tt(t),this.config=t.map(It),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,s=e.fragment,a=e.preserveQueryParams,u=e.queryParamsHandling,c=e.preserveFragment;Object(o.Y)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var h=n||this.routerState.root,l=c?this.currentUrlTree.fragment:s,p=null;if(u)switch(u){case"merge":p=Object(i.a)({},this.currentUrlTree.queryParams,r);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=r||null}else p=a?this.currentUrlTree.queryParams:r||null;return null!==p&&(p=this.removeEmptyProps(p)),function(t,e,n,r,o){if(0===n.length)return me(e.root,e.root,e,r,o);var s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _e(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var s={};return At(r.outlets,function(t,e){s[e]="string"==typeof t?t.split("/"):t}),Object(i.i)(t,[{outlets:s}])}if(r.segmentPath)return Object(i.i)(t,[r.segmentPath])}return"string"!=typeof r?Object(i.i)(t,[r]):0===o?(r.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):Object(i.i)(t,[r])},[]);return new _e(n,e,r)}(n);if(s.toRoot())return me(e.root,new Ft([],{}),e,r,o);var a=function(t,n,i){if(t.isAbsolute)return new be(e.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new be(i.snapshot._urlSegment,!0,0);var r=ye(t.commands[0])?0:1;return function(e,n,o){for(var s=i.snapshot._urlSegment,a=i.snapshot._lastPathIndex+r,u=t.numberOfDoubleDots;u>a;){if(u-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new be(s,!1,a-u)}()}(s,0,t),u=a.processChildren?Se(a.segmentGroup,a.index,s.commands):xe(a.segmentGroup,a.index,s.commands);return me(a.segmentGroup,u,e,r,o)}(h,this.currentUrlTree,t,p,l)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(o.Y)()&&this.isNgZoneEnabled&&!o.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Pe(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(Pe(t))return jt(this.currentUrlTree,t,e);var n=this.parseUrl(t);return jt(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!=i&&(e[n]=i),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new it(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,i){var r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,s=null,a=new Promise(function(t,e){o=t,s=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,r){var o=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object(i.a)({},r,{navigationId:n})):this.location.go(o,"",Object(i.a)({},r,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),wn=function(){function t(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(o.Y)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:xn(this.skipLocationChange),replaceUrl:xn(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:xn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:xn(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function xn(t){return""===t||!!t}var Sn=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new En,this.attachRef=null}}(),En=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Sn,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Cn=function(){function t(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.m,this.deactivateEvents=new o.m,this.name=i||_t,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Tn(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Tn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===ce?this.route:t===En?this.childContexts:this.parent.get(t,e)},t}(),On=function(){return function(){}}(),Mn=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(P(function(){return Object(s.a)(null)}))},t}(),In=function(){function t(){}return t.prototype.preload=function(t,e){return Object(s.a)(null)},t}(),Rn=function(){function t(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new dn(e,n,function(e){return t.triggerEvent(new lt(e))},function(e){return t.triggerEvent(new pt(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Object(m.a)(function(t){return t instanceof it}),Object(B.a)(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(o.x);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,o=[];try{for(var s=Object(i.j)(e),u=s.next();!u.done;u=s.next()){var c=u.value;if(c.loadChildren&&!c.canLoad&&c._loadedConfig){var h=c._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children))}}catch(l){n={error:l}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return Object(a.a)(o).pipe(Object(Q.a)(),Object(v.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(N.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Pn=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof nt?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof it&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof yt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new yt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),kn=new o.p("ROUTER_CONFIGURATION"),An=new o.p("ROUTER_FORROOT_GUARD"),Ln=[r.f,{provide:Ut,useClass:$t},{provide:bn,useFactory:Un,deps:[o.g,Ut,En,r.f,o.q,o.w,o.i,fn,kn,[gn,new o.A],[ln,new o.A]]},En,{provide:ce,useFactory:$n,deps:[bn]},{provide:o.w,useClass:o.K},Rn,In,Mn,{provide:kn,useValue:{enableTracing:!1}}];function jn(){return new o.y("Router",bn)}var Nn=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[Ln,zn(t),{provide:An,useFactory:Gn,deps:[[bn,new o.A,new o.J]]},{provide:kn,useValue:n||{}},{provide:r.g,useFactory:Dn,deps:[r.o,[new o.o(r.a),new o.A],kn]},{provide:Pn,useFactory:Fn,deps:[bn,r.p,kn]},{provide:On,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:In},{provide:o.y,multi:!0,useFactory:jn},[Bn,{provide:o.d,multi:!0,useFactory:Vn,deps:[Bn]},{provide:Wn,useFactory:Hn,deps:[Bn]},{provide:o.b,multi:!0,useExisting:Wn}]]}},t.forChild=function(t){return{ngModule:e,providers:[zn(t)]}},t}();function Fn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Pn(t,e,n)}function Dn(t,e,n){return void 0===n&&(n={}),n.useHash?new r.d(t,e):new r.n(t,e)}function Gn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function zn(t){return[{provide:o.a,multi:!0,useValue:t},{provide:fn,multi:!0,useValue:t}]}function Un(t,e,n,i,r,o,s,a,u,c,h){void 0===u&&(u={});var l=new bn(null,e,n,i,r,o,s,Pt(a));if(c&&(l.urlHandlingStrategy=c),h&&(l.routeReuseStrategy=h),u.errorHandler&&(l.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(l.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var p=Object(tt.r)();l.events.subscribe(function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()})}return u.onSameUrlNavigation&&(l.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(l.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(l.relativeLinkResolution=u.relativeLinkResolution),l}function $n(t){return t.routerState.root}var Bn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new g.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(r.e,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(bn),r=t.injector.get(kn);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");i.hooks.afterPreactivation=function(){return t.initNavigation?Object(s.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(kn),n=this.injector.get(Rn),i=this.injector.get(Pn),r=this.injector.get(bn),s=this.injector.get(o.g);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Vn(t){return t.appInitializer.bind(t)}function Hn(t){return t.bootstrapListener.bind(t)}var Wn=new o.p("Router Initializer")},ZYjt:function(t,e,n){"use strict";n.d(e,"p",function(){return yt}),n.d(e,"q",function(){return T}),n.d(e,"a",function(){return mt}),n.d(e,"h",function(){return vt}),n.d(e,"c",function(){return O}),n.d(e,"d",function(){return M}),n.d(e,"e",function(){return tt}),n.d(e,"f",function(){return et}),n.d(e,"g",function(){return nt}),n.d(e,"b",function(){return at}),n.d(e,"r",function(){return a}),n.d(e,"j",function(){return D}),n.d(e,"i",function(){return J}),n.d(e,"m",function(){return it}),n.d(e,"n",function(){return st}),n.d(e,"l",function(){return P}),n.d(e,"o",function(){return R}),n.d(e,"k",function(){return ut});var i=n("mrSG"),r=n("Ip0R"),o=n("CcnG"),s=null;function a(){return s}var u,c={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},h={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},l={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o.rb.Node&&(u=o.rb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var p,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,s||(s=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,Object(i.i)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return c},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n.item(i);e.set(r.name,r.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,i){t.setAttributeNS(e,n,i)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&l.hasOwnProperty(e)&&(e=l[e]))}return h[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=d||(d=document.querySelector("base"))?d.getAttribute("href"):null;return null==n?null:(e=n,p||(p=document.createElement("a")),p.setAttribute("href",e),"/"===p.pathname.charAt(0)?p.pathname:"/"+p.pathname)},e.prototype.resetBaseElement=function(){d=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(r.t)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],r=0;r<i.length;r++)if(null!=e.getStyle(n,i[r]+"AnimationName")){e._animationPrefix="-"+i[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(i.d)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),d=null,g=r.c;function v(){return!!window.history.pushState}var y=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(i.d)(e,t),e.prototype._init=function(){this.location=a().getLocation(),this._history=a().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return a().getBaseHref(this._doc)},e.prototype.onPopState=function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){v()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){v()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(i.c)([Object(i.g)(0,Object(o.o)(g)),Object(i.f)("design:paramtypes",[Object])],e)}(r.o),m=new o.p("TRANSITION_ID"),_=[{provide:o.d,useFactory:function(t,e,n){return function(){n.get(o.e).donePromise.then(function(){var n=a();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[m,g,o.q],multi:!0}],b=function(){function t(){}return t.init=function(){Object(o.ab)(new t)},t.prototype.addToWindow=function(t){o.rb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},o.rb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},o.rb.getAllAngularRootElements=function(){return t.getAllRootElements()},o.rb.frameworkStabilizers||(o.rb.frameworkStabilizers=[]),o.rb.frameworkStabilizers.push(function(t){var e=o.rb.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,a().getHost(e),!0):this.findTestabilityInTree(t,a().parentElement(e),!0):null},t}();function w(t,e){"undefined"!=typeof COMPILED&&COMPILED||((o.rb.ng=o.rb.ng||{})[t]=e)}var x={ApplicationRef:o.g,NgZone:o.z},S="probe",E="coreTokens";function C(t){return Object(o.W)(t)}function T(t){return w(S,C),w(E,Object(i.a)({},x,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return C}}var O=new o.p("EventManagerPlugins"),M=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)},t}(),I=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var i=a().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target "+i+" for event "+e);return this.addEventListener(i,e,n)},t}(),R=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),P=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(i.d)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return a().remove(t)})},e}(R),k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},A=/%COMP%/g,L="_nghost-%COMP%",j="_ngcontent-%COMP%";function N(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?N(t,r,n):(r=r.replace(A,t),n.push(r))}return n}function F(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var D=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new G(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case o.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new B(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case o.Q.Native:case o.Q.ShadowDom:return new V(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=N(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),G=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(k[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,i){if(i){e=i+":"+e;var r=k[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var i=k[n];i?t.removeAttributeNS(i,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,i){i&o.G.DashCase?t.style.setProperty(e,n,i&o.G.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&o.G.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){U(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return U(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,F(n)):this.eventManager.addEventListener(t,e,F(n))},t}(),z="@".charCodeAt(0);function U(t,e){if(t.charCodeAt(0)===z)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var $,B=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;o.component=i;var s=N(r+"-"+i.id,i.styles,[]);return n.addStyles(s),o.contentAttr=j.replace(A,r+"-"+i.id),o.hostAttr=L.replace(A,r+"-"+i.id),o}return Object(i.d)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var i=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,i,this.contentAttr,""),i},e}(G),V=function(t){function e(e,n,i,r){var s=t.call(this,e)||this;s.sharedStylesHost=n,s.hostEl=i,s.component=r,s.shadowRoot=r.encapsulation===o.Q.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=N(r.id,r.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return Object(i.d)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,i){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,i)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(G),H="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},W=H("addEventListener"),q=H("removeEventListener"),X={},Y="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[H("BLACK_LISTED_EVENTS")]&&($={});var K=function(t){return!!$&&$.hasOwnProperty(t)},Z=function(t){var e=X[t.type];if(e){var n=this[e];if(n){var i=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i);for(var r=n.slice(),o=0;o<r.length&&!0!==t[Y];o++){var s;(s=r[o]).zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i)}}}},J=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.ngZone=n,i&&Object(r.q)(i)||o.patchEvent(),o}return Object(i.d)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Y]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var i=this,r=n;if(!t[W]||o.z.isInAngularZone()&&!K(e))t.addEventListener(e,r,!1);else{var s=X[e];s||(s=X[e]=H("ANGULAR"+e+"FALSE"));var a=t[s],u=a&&a.length>0;a||(a=t[s]=[]);var c=K(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:c,handler:r});else{for(var h=!1,l=0;l<a.length;l++)if(a[l].handler===r){h=!0;break}h||a.push({zone:c,handler:r})}u||t[W](e,Z,!1)}return function(){return i.removeEventListener(t,e,r)}},e.prototype.removeEventListener=function(t,e,n){var i=t[q];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);var r=X[e],o=r&&t[r];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&i.apply(t,[e,Z,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(I),Q={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tt=new o.p("HammerGestureConfig"),et=new o.p("HammerLoader"),nt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),it=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o._config=n,o.console=i,o.loader=r,o}return Object(i.d)(e,t),e.prototype.supports=function(t){return!(!Q.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var i=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});o||(s=i.addEventListener(t,e,n))}).catch(function(){i.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}}),function(){s()}}return r.runOutsideAngular(function(){var o=i._config.buildHammer(t),s=function(t){r.runGuarded(function(){n(t)})};return o.on(e,s),function(){o.off(e,s),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(I),rt=["alt","control","meta","shift"],ot={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},st=function(t){function e(e){return t.call(this,e)||this}var n;return Object(i.d)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return a().onAndCancel(t,r.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),o="";if(rt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=r,0!=e.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s},e.getEventFullKey=function(t){var e="",n=a().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),rt.forEach(function(i){i!=n&&(0,ot[i])(t)&&(e+=i+".")}),e+=n},e.eventCallback=function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded(function(){return e(r)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(I),at=function(){return function(){}}(),ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(i.d)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case o.I.NONE:return e;case o.I.HTML:return e instanceof ht?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(o.eb)(this._doc,String(e)));case o.I.STYLE:return e instanceof lt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(o.fb)(e));case o.I.SCRIPT:if(e instanceof pt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case o.I.URL:return e instanceof dt||e instanceof ft?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(o.gb)(String(e)));case o.I.RESOURCE_URL:if(e instanceof dt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ct)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ht(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new lt(t)},e.prototype.bypassSecurityTrustScript=function(t){return new pt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ft(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new dt(t)},e}(at),ct=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ct),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ct),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ct),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ct),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ct),gt=[{provide:o.B,useValue:r.r},{provide:o.C,useValue:function(){f.makeCurrent(),b.init()},multi:!0},{provide:r.o,useClass:y,deps:[g]},{provide:g,useFactory:function(){return document},deps:[]}],vt=Object(o.S)(o.Z,"browser",gt);function yt(){return new o.l}var mt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:m,useExisting:o.c},_]}},t}();"undefined"!=typeof window&&window},"ZZ/e":function(t,e,n){"use strict";var i=n("mrSG"),r=n("CcnG"),o=n("Ip0R"),s=n("ZYCi"),a=n("ttJE"),u=(n("wSPg"),n("FX7f"),n("xoJo"),n("ocqh")),c=(n("BCwa"),n("CTpc")),h=n("K9Ia"),l=n("bne5"),p=n("26FU"),f=n("VnD/"),d=n("15JJ"),g=n("FFOo"),v=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new y(t,this.compare,this.keySelector))},t}(),y=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return i.d(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))},e}(g.a),m=n("Twl7");!function(){if(void 0!==window.Reflect&&void 0!==window.customElements){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}(),n.d(e,"a",function(){return Se}),n.d(e,"b",function(){return te}),n.d(e,"c",function(){return Kt}),n.d(e,"d",function(){return R}),n.d(e,"e",function(){return P}),n.d(e,"f",function(){return k}),n.d(e,"g",function(){return A}),n.d(e,"h",function(){return L}),n.d(e,"i",function(){return j}),n.d(e,"j",function(){return N}),n.d(e,"k",function(){return F}),n.d(e,"l",function(){return D}),n.d(e,"m",function(){return G}),n.d(e,"n",function(){return z}),n.d(e,"o",function(){return U}),n.d(e,"p",function(){return $}),n.d(e,"q",function(){return B}),n.d(e,"r",function(){return V}),n.d(e,"s",function(){return H}),n.d(e,"t",function(){return W}),n.d(e,"u",function(){return q}),n.d(e,"v",function(){return X}),n.d(e,"w",function(){return Y}),n.d(e,"x",function(){return K}),n.d(e,"y",function(){return Z}),n.d(e,"z",function(){return J}),n.d(e,"A",function(){return Q}),n.d(e,"B",function(){return tt}),n.d(e,"C",function(){return et}),n.d(e,"D",function(){return nt}),n.d(e,"E",function(){return it}),n.d(e,"F",function(){return rt}),n.d(e,"G",function(){return ot}),n.d(e,"H",function(){return st}),n.d(e,"I",function(){return at}),n.d(e,"J",function(){return ut}),n.d(e,"K",function(){return ct}),n.d(e,"L",function(){return ht}),n.d(e,"M",function(){return lt}),n.d(e,"N",function(){return pt}),n.d(e,"O",function(){return ft}),n.d(e,"P",function(){return dt}),n.d(e,"Q",function(){return gt}),n.d(e,"R",function(){return vt}),n.d(e,"S",function(){return yt}),n.d(e,"T",function(){return mt}),n.d(e,"U",function(){return _t}),n.d(e,"V",function(){return bt}),n.d(e,"W",function(){return wt}),n.d(e,"X",function(){return xt}),n.d(e,"Y",function(){return St}),n.d(e,"Z",function(){return Et}),n.d(e,"ab",function(){return Ct}),n.d(e,"bb",function(){return Tt}),n.d(e,"cb",function(){return Ot}),n.d(e,"db",function(){return Mt}),n.d(e,"eb",function(){return It}),n.d(e,"fb",function(){return Rt}),n.d(e,"gb",function(){return ve}),n.d(e,"hb",function(){return Pt}),n.d(e,"ib",function(){return kt}),n.d(e,"jb",function(){return At}),n.d(e,"kb",function(){return Lt}),n.d(e,"lb",function(){return jt}),n.d(e,"mb",function(){return Nt}),n.d(e,"nb",function(){return Ft}),n.d(e,"ob",function(){return Dt}),n.d(e,"pb",function(){return Gt}),n.d(e,"qb",function(){return zt}),n.d(e,"rb",function(){return Ut}),n.d(e,"sb",function(){return $t}),n.d(e,"tb",function(){return Bt}),n.d(e,"ub",function(){return me}),n.d(e,"vb",function(){return Vt}),n.d(e,"wb",function(){return Ht}),n.d(e,"xb",function(){return Wt}),n.d(e,"yb",function(){return qt}),n.d(e,"zb",function(){return Xt}),n.d(e,"Ab",function(){return Yt}),n.d(e,"Bb",function(){return be}),n.d(e,"Cb",function(){return Re}),n.d(e,"Db",function(){return Oe}),n.d(e,"Eb",function(){return Ee}),n.d(e,"Fb",function(){return S}),n.d(e,"Gb",function(){return b}),n.d(e,"Hb",function(){return Ce}),n.d(e,"Ib",function(){return _e}),n.d(e,"Jb",function(){return Te}),n.d(e,"Kb",function(){return Zt}),n.d(e,"Lb",function(){return Ie});var _=function(t){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)},b=function(){function t(t,e){var n=this;this.doc=t,this.backButton=new h.a,this.pause=new h.a,this.resume=new h.a,this.resize=new h.a,e.run(function(){var i;n.win=t.defaultView,n.backButton.subscribeWithPriority=function(t,n){return this.subscribe(function(i){return i.register(t,function(){return e.run(n)})})},x(n.pause,t,"pause"),x(n.resume,t,"resume"),x(n.backButton,t,"ionBackButton"),x(n.resize,n.win,"resize"),n._readyPromise=new Promise(function(t){i=t}),n.win&&n.win.cordova?t.addEventListener("deviceready",function(){i("cordova")},{once:!0}):i("dom")})}return t.prototype.is=function(t){return Object(a.f)(this.win,t)},t.prototype.platforms=function(){return Object(a.e)(this.win)},t.prototype.ready=function(){return this._readyPromise},Object.defineProperty(t.prototype,"isRTL",{get:function(){return"rtl"===this.doc.dir},enumerable:!0,configurable:!0}),t.prototype.getQueryParam=function(t){return w(this.win.location.href,t)},t.prototype.isLandscape=function(){return!this.isPortrait()},t.prototype.isPortrait=function(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches},t.prototype.testUserAgent=function(t){var e=this.win.navigator;return!!(e&&e.userAgent&&e.userAgent.indexOf(t)>=0)},t.prototype.url=function(){return this.win.location.href},t.prototype.width=function(){return this.win.innerWidth},t.prototype.height=function(){return this.win.innerHeight},t.ngInjectableDef=Object(r.T)({factory:function(){return new t(Object(r.X)(o.c),Object(r.X)(r.z))},token:t,providedIn:"root"}),t}(),w=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},x=function(t,e,n){e&&e.addEventListener(n,function(e){t.next(null!=e?e.detail:void 0)})},S=function(){function t(t,e,n,i){var r=this;this.location=e,this.serializer=n,this.router=i,this.direction=C,this.animated=T,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(function(t){if(t instanceof s.e){var e=t.restoredState?t.restoredState.navigationId:t.id;r.guessDirection=e<r.lastNavId?"back":"forward",r.guessAnimation=t.restoredState?void 0:r.guessDirection,r.lastNavId="forward"===r.guessDirection?t.id:e}}),t.backButton.subscribeWithPriority(0,function(){return r.pop()})}return t.prototype.navigateForward=function(t,e){return void 0===e&&(e={}),this.setDirection("forward",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateBack=function(t,e){return void 0===e&&(e={}),this.setDirection("back",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateRoot=function(t,e){return void 0===e&&(e={}),this.setDirection("root",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.back=function(t){return void 0===t&&(t={animated:!0,animationDirection:"back"}),this.setDirection("back",t.animated,t.animationDirection),this.location.back()},t.prototype.pop=function(){return Object(i.b)(this,void 0,void 0,function(){var t;return Object(i.e)(this,function(e){switch(e.label){case 0:t=this.topOutlet,e.label=1;case 1:return t?[4,t.pop()]:[3,3];case 2:return e.sent()?[3,3]:(t=t.parentOutlet,[3,1]);case 3:return[2]}})})},t.prototype.setDirection=function(t,e,n){this.direction=t,this.animated=E(t,e,n)},t.prototype.setTopOutlet=function(t){this.topOutlet=t},t.prototype.consumeTransition=function(){var t,e="root";return"auto"===this.direction?(e=this.guessDirection,t=this.guessAnimation):(t=this.animated,e=this.direction),this.direction=C,this.animated=T,{direction:e,animation:t}},t.prototype.navigate=function(t,e){if(Array.isArray(t))return this.router.navigate(t,e);var n=this.serializer.parse(t.toString());return void 0!==e.queryParams&&(n.queryParams=Object(i.a)({},e.queryParams)),void 0!==e.fragment&&(n.fragment=e.fragment),this.router.navigateByUrl(n,e)},t.ngInjectableDef=Object(r.T)({factory:function(){return new t(Object(r.X)(b),Object(r.X)(o.f),Object(r.X)(s.t),Object(r.X)(s.n,8))},token:t,providedIn:"root"}),t}(),E=function(t,e,n){if(!1!==e)return void 0!==n?n:"forward"===t||"back"===t?t:"root"===t&&!0===e?"forward":void 0},C="auto",T=void 0,O=function(t,e){var n=t.prototype;e.forEach(function(t){Object.defineProperty(n,t,{get:function(){return this.el[t]},set:function(e){var n=this;this.z.runOutsideAngular(function(){return n.el[t]=e})}})})},M=function(t,e){var n=t.prototype;e.forEach(function(t){n[t]=function(){var e=this,n=arguments;return this.z.runOutsideAngular(function(){return e.el[t].apply(e.el,n)})}})},I=function(t,e,n){n.forEach(function(n){return t[n]=Object(l.a)(e,n)})},R=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),P=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),k=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(k,["color","defaultHref","disabled","icon","mode","text","type"]);var A=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionBackdropTap"])}}();O(A,["stopPropagation","tappable","visible"]);var L=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(L,["color","mode"]);var j=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionFocus","ionBlur"])}}();O(j,["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerDirection","shape","size","strong","target","type"]);var N=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(N,["collapse"]);var F=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(F,["button","color","disabled","download","href","mode","rel","routerDirection","target","type"]);var D=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(D,["mode"]);var G=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(G,["color","mode","translucent"]);var z=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(z,["color","mode"]);var U=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(U,["color","mode"]);var $=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionChange","ionFocus","ionBlur"])}}();O($,["checked","color","disabled","indeterminate","mode","name","value"]);var B=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(B,["color","mode","outline"]);var V=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(V,["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]);var H=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}}();M(H,["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]),O(H,["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"]);var W=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}}();M(W,["open"]),O(W,["cancelText","dayNames","dayShortNames","dayValues","disabled","displayFormat","doneText","hourValues","max","min","minuteValues","mode","monthNames","monthShortNames","monthValues","name","pickerFormat","pickerOptions","placeholder","readonly","value","yearValues"]);var q=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();M(q,["close"]),O(q,["activated","edge","horizontal","vertical"]);var X=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionFocus","ionBlur"])}}();O(X,["activated","color","disabled","download","href","mode","rel","routerDirection","show","size","target","translucent","type"]);var Y=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Y,["activated","side"]);var K=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(K,["mode","translucent"]);var Z=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Z,["fixed"]);var J=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(J,["collapse","mode","translucent"]);var Q=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Q,["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]);var tt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}}();O(tt,["alt","src"]);var et=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionInfinite"])}}();M(et,["complete"]),O(et,["disabled","position","threshold"]);var nt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(nt,["loadingSpinner","loadingText"]);var it=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}}();M(it,["setFocus","getInputElement"]),O(it,["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"]);var rt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(rt,["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerDirection","target","type"]);var ot=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(ot,["color","mode","sticky"]);var st=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),at=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(at,["color","disabled","download","expandable","href","mode","rel","target","type"]);var ut=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionSwipe"])}}();O(ut,["side"]);var ct=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionDrag"])}}();M(ct,["getOpenAmount","getSlidingRatio","open","close","closeOpened"]),O(ct,["disabled"]);var ht=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(ht,["color","mode","position"]);var lt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();M(lt,["closeSlidingItems"]),O(lt,["inset","lines","mode"]);var pt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(pt,["color","mode"]);var ft=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}}();M(ft,["isOpen","isActive","open","close","toggle","setOpen"]),O(ft,["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"]);var dt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(dt,["autoHide","color","disabled","menu","type"]);var gt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(gt,["autoHide","menu"]);var vt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionNavWillChange","ionNavDidChange"])}}();M(vt,["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]),O(vt,["animated","animation","root","rootParams","swipeGesture"]);var yt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(yt,["component","componentProps","routerDirection"]);var mt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),_t=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(_t,["component","componentProps"]);var bt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(bt,["component","componentProps"]);var wt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(wt,["color","mode"]);var xt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(xt,["buffer","color","mode","reversed","type","value"]);var St=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionSelect","ionFocus","ionBlur"])}}();O(St,["checked","color","disabled","mode","name","value"]);var Et=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionChange"])}}();O(Et,["allowEmptySelection","name","value"]);var Ct=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionChange","ionFocus","ionBlur"])}}();O(Ct,["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","snaps","step","ticks","value"]);var Tt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionRefresh","ionPull","ionStart"])}}();M(Tt,["complete","cancel","getProgress"]),O(Tt,["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"]);var Ot=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Ot,["pullingIcon","pullingText","refreshingSpinner","refreshingText"]);var Mt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),It=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionItemReorder"])}}();M(It,["complete"]),O(It,["disabled"]);var Rt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();M(Rt,["addRipple"]),O(Rt,["type"]);var Pt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),kt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}}();M(kt,["setFocus","getInputElement"]),O(kt,["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","inputmode","mode","placeholder","searchIcon","showCancelButton","spellcheck","type","value"]);var At=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionChange"])}}();O(At,["color","disabled","mode","scrollable","value"]);var Lt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionSelect"])}}();O(Lt,["checked","disabled","layout","mode","type","value"]);var jt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}}();M(jt,["open"]),O(jt,["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"]);var Nt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Nt,["disabled","selected","value"]);var Ft=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Ft,["animated","width"]);var Dt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),Gt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}}();M(Gt,["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes","getSwiper"]),O(Gt,["mode","options","pager","scrollbar"]);var zt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(zt,["color","duration","name","paused"]);var Ut=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionSplitPaneVisible"])}}();O(Ut,["contentId","disabled","when"]);var $t=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O($t,["color","mode","selectedTab","translucent"]);var Bt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Bt,["disabled","download","href","layout","mode","rel","selected","tab","target"]);var Vt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Vt,["color","mode"]);var Ht=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}}();M(Ht,["setFocus","getInputElement"]),O(Ht,["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"]);var Wt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}(),qt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(qt,["color","size"]);var Xt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement,I(this,this.el,["ionChange","ionFocus","ionBlur"])}}();O(Xt,["checked","color","disabled","mode","name","value"]);var Yt=function(){return function(t,e,n){this.z=n,t.detach(),this.el=e.nativeElement}}();O(Yt,["color","mode"]);var Kt=function(){function t(){}return t.prototype.get=function(t,e){var n=Jt();return n?n.get(t,e):null},t.prototype.getBoolean=function(t,e){var n=Jt();return!!n&&n.getBoolean(t,e)},t.prototype.getNumber=function(t,e){var n=Jt();return n?n.getNumber(t,e):0},t.prototype.set=function(t,e){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");var n=Jt();n&&n.set(t,e)},t.ngInjectableDef=Object(r.T)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Zt=new r.p("USERCONFIG"),Jt=function(){if("undefined"!=typeof window){var t=window.Ionic;if(t&&t.config)return t.config}return null},Qt=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return this.data[t]},t}(),te=function(){function t(t,e){this.zone=t,this.appRef=e}return t.prototype.create=function(t,e,n){return new ee(t,e,n,this.appRef,this.zone)},t}(),ee=function(){function t(t,e,n,i,r){this.resolver=t,this.injector=e,this.location=n,this.appRef=i,this.zone=r,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}return t.prototype.attachViewToDom=function(t,e,n,i){var r=this;return this.zone.run(function(){return new Promise(function(o){o(ne(r.zone,r.resolver,r.injector,r.location,r.appRef,r.elRefMap,r.elEventsMap,t,e,n,i))})})},t.prototype.removeViewFromDom=function(t,e){var n=this;return this.zone.run(function(){return new Promise(function(t){var i=n.elRefMap.get(e);if(i){i.destroy(),n.elRefMap.delete(e);var r=n.elEventsMap.get(e);r&&(r(),n.elEventsMap.delete(e))}t()})})},t}(),ne=function(t,e,n,i,o,s,a,u,c,h,l){var p=e.resolveComponentFactory(c),f=r.q.create({providers:se(h),parent:n}),d=i?i.createComponent(p,i.length,f):p.create(f),g=d.instance,v=d.location.nativeElement;if(h&&Object.assign(g,h),l)for(var y=0,m=l;y<m.length;y++)v.classList.add(m[y]);var _=re(t,g,v);return u.appendChild(v),i||o.attachView(d.hostView),d.changeDetectorRef.reattach(),s.set(v,d),a.set(v,_),v},ie=[u.a,u.b,u.c,u.d,u.e],re=function(t,e,n){return t.run(function(){var t=ie.filter(function(t){return"function"==typeof e[t]}).map(function(t){var i=function(n){return e[t](n.detail)};return n.addEventListener(t,i),function(){return n.removeEventListener(t,i)}});return function(){return t.forEach(function(t){return t()})}})},oe=new r.p("NavParamsToken"),se=function(t){return[{provide:oe,useValue:t},{provide:Qt,useFactory:ae,deps:[oe]}]},ae=function(t){return new Qt(t)},ue=function(t,e){return(t=t.filter(function(t){return t.stackId!==e.stackId})).push(e),t},ce=function(t,e){var n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},he=function(t,e){if(t)for(var n=le(e),i=0;i<n.length;i++){if(i>=t.length)return n[i];if(n[i]!==t[i])return}},le=function(t){return t.split("/").map(function(t){return t.trim()}).filter(function(t){return""!==t})},pe=function(t){t&&(t.ref.destroy(),t.unlistenEvents())},fe=function(){function t(t,e,n,i,r,o){this.containerEl=e,this.router=n,this.navCtrl=i,this.zone=r,this.location=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?le(t):void 0}return t.prototype.createView=function(t,e){var n=ce(this.router,e),i=t&&t.location&&t.location.nativeElement,r=re(this.zone,t.instance,i);return{id:this.nextId++,stackId:he(this.tabsPrefix,n),unlistenEvents:r,element:i,ref:t,url:n}},t.prototype.getExistingView=function(t){var e=ce(this.router,t),n=this.views.find(function(t){return t.url===e});return n&&n.ref.changeDetectorRef.reattach(),n},t.prototype.setActive=function(t){var e=this,n=this.navCtrl.consumeTransition(),i=n.direction,r=n.animation,o=this.activeView,s=function(t,e){return!e||t.stackId!==e.stackId}(t,o);s&&(i="back",r=void 0);var a,u=this.views.slice(),c=this.router;c.getCurrentNavigation?a=c.getCurrentNavigation():c.navigations&&c.navigations.value&&(a=c.navigations.value),a&&a.extras&&a.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);var h=this.views.includes(t),l=this.insertView(t,i);return h||t.ref.changeDetectorRef.detectChanges(),this.zone.runOutsideAngular(function(){return e.wait(function(){return o&&o.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),e.transition(t,o,r,e.canGoBack(1),!1).then(function(){return de(t,l,u,e.location)}).then(function(){return{enteringView:t,direction:i,animation:r,tabSwitch:s}})})})},t.prototype.canGoBack=function(t,e){return void 0===e&&(e=this.getActiveStackId()),this.getStack(e).length>t},t.prototype.pop=function(t,e){var n=this;return void 0===e&&(e=this.getActiveStackId()),this.zone.run(function(){var i=n.getStack(e);if(i.length<=t)return Promise.resolve(!1);var r=i[i.length-t-1],o=r.url,s=r.savedData;if(s){var a=s.get("primary");a&&a.route&&a.route._routerState&&a.route._routerState.snapshot&&a.route._routerState.snapshot.url&&(o=a.route._routerState.snapshot.url)}return n.navCtrl.navigateBack(o,r.savedExtras).then(function(){return!0})})},t.prototype.startBackTransition=function(){var t=this,e=this.activeView;if(e){var n=this.getStack(e.stackId),i=n[n.length-2];return this.wait(function(){return t.transition(i,e,"back",t.canGoBack(2),!0)})}return Promise.resolve()},t.prototype.endBackTransition=function(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&ge(this.activeView,this.views,this.views,this.location)},t.prototype.getLastUrl=function(t){var e=this.getStack(t);return e.length>0?e[e.length-1]:void 0},t.prototype.getActiveStackId=function(){return this.activeView?this.activeView.stackId:void 0},t.prototype.destroy=function(){this.containerEl=void 0,this.views.forEach(pe),this.activeView=void 0,this.views=[]},t.prototype.getStack=function(t){return this.views.filter(function(e){return e.stackId===t})},t.prototype.insertView=function(t,e){return this.activeView=t,this.views=function(t,e,n){return"root"===n?ue(t,e):"forward"===n?function(t,e){return t.indexOf(e)>=0?t=t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):t.push(e),t}(t,e):function(t,e){return t.indexOf(e)>=0?t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):ue(t,e)}(t,e)}(this.views,t,e),this.views.slice()},t.prototype.transition=function(t,e,n,i,r){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===t)return Promise.resolve(!1);var o=t?t.element:void 0,s=e?e.element:void 0,a=this.containerEl;return o&&o!==s&&(o.classList.add("ion-page"),o.classList.add("ion-page-invisible"),o.parentElement!==a&&a.appendChild(o),a.commit)?a.commit(o,s,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:i,progressAnimation:r}):Promise.resolve(!1)},t.prototype.wait=function(t){return Object(i.b)(this,void 0,void 0,function(){return Object(i.e)(this,function(e){switch(e.label){case 0:return void 0===this.runningTask?[3,2]:[4,this.runningTask];case 1:e.sent(),this.runningTask=void 0,e.label=2;case 2:return[2,this.runningTask=t()]}})})},t}(),de=function(t,e,n,i){return"function"==typeof requestAnimationFrame?new Promise(function(r){requestAnimationFrame(function(){ge(t,e,n,i),r()})}):Promise.resolve()},ge=function(t,e,n,i){n.filter(function(t){return!e.includes(t)}).forEach(pe),e.forEach(function(e){var n=i.path().split("?")[0].split("#")[0];if(e!==t&&e.url!==n){var r=e.element;r.setAttribute("aria-hidden","true"),r.classList.add("ion-page-hidden"),e.ref.changeDetectorRef.detach()}})},ve=function(){function t(t,e,n,i,o,a,u,c,h,l,f,d,g){this.parentContexts=t,this.location=e,this.resolver=n,this.config=a,this.navCtrl=u,this.parentOutlet=g,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new p.a(null),this.stackEvents=new r.m,this.activateEvents=new r.m,this.deactivateEvents=new r.m,this.nativeEl=h.nativeElement,this.name=i||s.g,this.tabsPrefix="true"===o?ce(l,d):void 0,this.stackCtrl=new fe(this.tabsPrefix,this.nativeEl,l,u,f,c),t.onChildOutletCreated(this.name,this)}return Object.defineProperty(t.prototype,"animated",{set:function(t){this.nativeEl.animated=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeGesture",{set:function(t){var e=this;this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:function(){return e.stackCtrl.canGoBack(1)},onStart:function(){return e.stackCtrl.startBackTransition()},onEnd:function(t){return e.stackCtrl.endBackTransition(t)}}:void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.stackCtrl.destroy()},t.prototype.getContext=function(){return this.parentContexts.getContext(this.name)},t.prototype.ngOnInit=function(){var t=this;if(!this.activated){var e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}this.nativeEl.componentOnReady&&this.nativeEl.componentOnReady().then(function(){void 0===t._swipeGesture&&(t.swipeGesture=t.config.getBoolean("swipeBackEnabled","ios"===t.nativeEl.mode))})},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){throw new Error("incompatible reuse strategy")},t.prototype.attach=function(t,e){throw new Error("incompatible reuse strategy")},t.prototype.deactivate=function(){if(this.activated){if(this.activatedView){this.activatedView.savedData=new Map(this.getContext().children.contexts),this.activatedView.savedExtras={};var t=this.getContext();if(t.route){var e=t.route.snapshot;this.activatedView.savedExtras.queryParams=e.queryParams,this.activatedView.savedExtras.fragment=e.fragment}}var n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}},t.prototype.activateWith=function(t,e){var n,i=this;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var r=this.stackCtrl.getExistingView(t);if(r){n=this.activated=r.ref;var o=r.savedData;o&&(this.getContext().children.contexts=o),this.updateActivatedRouteProxy(n.instance,t)}else{var s=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new p.a(null),c=this.createActivatedRouteProxy(u,t),h=new ye(c,a,this.location.injector);n=this.activated=this.location.createComponent(s,this.location.length,h),u.next(n.instance),r=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(n.instance,c),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:t})}this.activatedView=r,this.stackCtrl.setActive(r).then(function(t){i.navCtrl.setTopOutlet(i),i.activateEvents.emit(n.instance),i.stackEvents.emit(t)})},t.prototype.canGoBack=function(t,e){return void 0===t&&(t=1),this.stackCtrl.canGoBack(t,e)},t.prototype.pop=function(t,e){return void 0===t&&(t=1),this.stackCtrl.pop(t,e)},t.prototype.getLastUrl=function(t){var e=this.stackCtrl.getLastUrl(t);return e?e.url:void 0},t.prototype.getActiveStackId=function(){return this.stackCtrl.getActiveStackId()},t.prototype.createActivatedRouteProxy=function(t,e){var n=new s.a;return n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,n._paramMap=this.proxyObservable(t,"paramMap"),n._queryParamMap=this.proxyObservable(t,"queryParamMap"),n.url=this.proxyObservable(t,"url"),n.params=this.proxyObservable(t,"params"),n.queryParams=this.proxyObservable(t,"queryParams"),n.fragment=this.proxyObservable(t,"fragment"),n.data=this.proxyObservable(t,"data"),n},t.prototype.proxyObservable=function(t,e){var n=this;return t.pipe(Object(f.a)(function(t){return!!t}),Object(d.a)(function(t){return n.currentActivatedRoute$.pipe(Object(f.a)(function(e){return null!==e&&e.component===t}),Object(d.a)(function(t){return t&&t.activatedRoute[e]}),function(t){return t.lift(new v(void 0,void 0))})}))},t.prototype.updateActivatedRouteProxy=function(t,e){var n=this.proxyMap.get(t);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,this.currentActivatedRoute$.next({component:t,activatedRoute:e})},t}(),ye=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===s.a?this.route:t===s.b?this.childContexts:this.parent.get(t,e)},t}(),me=function(){function t(t){this.navCtrl=t,this.ionTabsWillChange=new r.m,this.ionTabsDidChange=new r.m}return t.prototype.onPageSelected=function(t){var e=t.enteringView.stackId;t.tabSwitch&&void 0!==e&&(this.tabBar&&(this.tabBar.selectedTab=e),this.ionTabsWillChange.emit({tab:e}),this.ionTabsDidChange.emit({tab:e}))},t.prototype.select=function(t){var e=this.outlet.getActiveStackId()===t,n=this.outlet.tabsPrefix+"/"+t,i=e?n:this.outlet.getLastUrl(t)||n;return this.navCtrl.navigateRoot(i,{animated:!0,animationDirection:"back"})},t.prototype.getSelected=function(){return this.outlet.getActiveStackId()},t}(),_e=function(){function t(t,e,n,i,r){this.locationStrategy=t,this.navCtrl=e,this.elementRef=n,this.router=i,this.routerLink=r,this.routerDirection="forward"}return t.prototype.ngOnInit=function(){this.updateTargetUrlAndHref()},t.prototype.ngOnChanges=function(){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.updateTargetUrlAndHref=function(){if(this.routerLink){var t=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=t}},t.prototype.onClick=function(t){this.navCtrl.setDirection(this.routerDirection),t.preventDefault()},t}(),be=function(){function t(t,e,n){this.z=t,this.iterableDiffers=e,this.refMap=new WeakMap,this.el=n.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}return t.prototype.ngOnChanges=function(t){if(this.trackBy&&"items"in t){var e=t.items.currentValue;if(void 0===this.differ&&null!=e)try{this.differ=this.iterableDiffers.find(e).create(this.trackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+e+"'. VirtualScroll only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)},t.prototype.nodeRender=function(t,e,n){var i=this;return this.z.run(function(){var r;if(t){var o=(r=i.refMap.get(t)).context;o.$implicit=e.value,o.index=e.index}else r=i.itmTmp.viewContainer.createEmbeddedView(i.getComponent(e.type),{$implicit:e.value,index:n},n),t=we(r),i.refMap.set(t,r);return r.detectChanges(),t})},t.prototype.getComponent=function(t){switch(t){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef}throw new Error("template for virtual item was not provided")},t}(),we=function(t){for(var e=t.rootNodes,n=0;n<e.length;n++)if(1===e[n].nodeType)return e[n];throw new Error("virtual element was not created")};O(be,["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight","headerHeight","footerHeight"]),M(be,["checkEnd","checkRange","positionForItem"]);var xe=function(){function t(t){this.ctrl=t}return t.prototype.create=function(t){return this.ctrl.create(t||{})},t.prototype.dismiss=function(t,e,n){return this.ctrl.dismiss(t,e,n)},t.prototype.getTop=function(){return this.ctrl.getTop()},t}(),Se=function(t){function e(){return t.call(this,c.b)||this}return Object(i.d)(e,t),e.ngInjectableDef=Object(r.T)({factory:function(){return new e},token:e,providedIn:"root"}),e}(xe),Ee=function(t){function e(e,n,i){var r=t.call(this,c.n)||this;return r.angularDelegate=e,r.resolver=n,r.injector=i,r}return Object(i.d)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(i.a)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(xe),Ce=function(t){function e(e,n,i){var r=t.call(this,c.d)||this;return r.angularDelegate=e,r.resolver=n,r.injector=i,r}return Object(i.d)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(i.a)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(xe),Te=function(t){function e(){return t.call(this,c.q)||this}return Object(i.d)(e,t),e.ngInjectableDef=Object(r.T)({factory:function(){return new e},token:e,providedIn:"root"}),e}(xe),Oe=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.shouldAttach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){if(t.routeConfig!==e.routeConfig)return!1;var n=t.params,i=e.params,r=Object.keys(n),o=Object.keys(i);if(r.length!==o.length)return!1;for(var s=0,a=r;s<a.length;s++){var u=a[s];if(i[u]!==n[u])return!1}return!0},t}(),Me=!1,Ie=function(t,e,r){return function(){var o=e.defaultView;if(o){Me&&console.warn("Ionic Angular was already initialized. Make sure IonicModule.forRoot() is just called once."),Me=!0,(o.Ionic=o.Ionic||{}).config=Object(i.a)({},t,{_zoneGate:function(t){return r.run(t)}});var s="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var t=window,e=[];return t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove)||e.push(n.e(98).then(n.t.bind(null,"QdDj",7))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||e.push(n.e(97).then(n.t.bind(null,"t6o4",7))),Promise.all(e)}().then(function(){return t={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:_,jmp:function(t){return r.runOutsideAngular(t)},ael:function(t,e,n,i){t[s](e,n,i)},rel:function(t,e,n,i){t.removeEventListener(e,n,i)}},Object(m.b)().then(function(){Object(m.h)(),Object(m.c)(JSON.parse('[[{"ios":"ion-select_3-ios","md":"ion-select_3-md"},[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionSelect","onSelect"]]],[1,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"selected":[4],"value":[8]}]]],[{"ios":"ion-menu_4-ios","md":"ion-menu_4-md"},[[1,"ion-menu-button",{"color":[1],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[32,"ionMenuChange","visibilityChanged"],[32,"ionSplitPaneVisible","visibilityChanged"]]],[1,"ion-menu",{"contentId":[1,"content-id"],"menuId":[1,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[32,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[0,"ion-menu-controller",{"open":[64],"close":[64],"toggle":[64],"enable":[64],"swipeGesture":[64],"isOpen":[64],"isEnabled":[64],"get":[64],"getOpen":[64],"getMenus":[64],"isAnimating":[64],"registerAnimation":[64]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[32,"ionMenuChange","visibilityChanged"],[32,"ionSplitPaneVisible","visibilityChanged"]]]]],[{"ios":"ion-action-sheet-ios","md":"ion-action-sheet-md"},[[2,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-fab_3-ios","md":"ion-fab_3-md"},[[1,"ion-fab-button",{"color":[1],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],[{"ios":"ion-refresher_2-ios","md":"ion-refresher_2-md"},[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[0,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],[{"ios":"ion-backdrop-ios","md":"ion-backdrop-md"},[[1,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"touchstart","onTouchStart"],[2,"click","onMouseDown"],[2,"mousedown","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],[{"ios":"ion-alert-ios","md":"ion-alert-md"},[[2,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-back-button-ios","md":"ion-back-button-md"},[[2,"ion-back-button",{"color":[1],"defaultHref":[1,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1]}]]],[{"ios":"ion-loading-ios","md":"ion-loading-md"},[[2,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-toast-ios","md":"ion-toast-md"},[[1,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[1],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"showCloseButton":[4,"show-close-button"],"closeButtonText":[1,"close-button-text"],"buttons":[16],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-card_5-ios","md":"ion-card_5-md"},[[6,"ion-card",{"color":[1],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1]}],[0,"ion-card-content"],[1,"ion-card-header",{"color":[1],"translucent":[4]}],[1,"ion-card-subtitle",{"color":[1]}],[1,"ion-card-title",{"color":[1]}]]],[{"ios":"ion-item-option_3-ios","md":"ion-item-option_3-md"},[[1,"ion-item-option",{"color":[1],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[0,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],[{"ios":"ion-infinite-scroll_2-ios","md":"ion-infinite-scroll_2-md"},[[0,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],[{"ios":"ion-reorder_2-ios","md":"ion-reorder_2-md"},[[1,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],[{"ios":"ion-segment_2-ios","md":"ion-segment_2-md"},[[1,"ion-segment-button",{"checked":[1028],"disabled":[4],"layout":[1],"type":[1],"value":[1]}],[2,"ion-segment",{"color":[1],"disabled":[4],"scrollable":[4],"value":[1025]},[[0,"ionSelect","segmentClick"]]]]],[{"ios":"ion-tab-bar_2-ios","md":"ion-tab-bar_2-md"},[[1,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[16,"ionTabBarChanged","onTabBarChanged"]]],[1,"ion-tab-bar",{"color":[1],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},[[8,"keyboardWillHide","onKeyboardWillHide"],[8,"keyboardWillShow","onKeyboardWillShow"]]]]],[{"ios":"ion-chip-ios","md":"ion-chip-md"},[[1,"ion-chip",{"color":[1],"outline":[4]}]]],[{"ios":"ion-modal-ios","md":"ion-modal-md"},[[2,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-popover-ios","md":"ion-popover-md"},[[2,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],[{"ios":"ion-searchbar-ios","md":"ion-searchbar-md"},[[2,"ion-searchbar",{"color":[1],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[8,"show-cancel-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-action-sheet-controller_8",[[0,"ion-action-sheet-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-alert-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[1,"ion-anchor",{"color":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"]}],[0,"ion-loading-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-modal-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-picker-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-popover-controller",{"create":[64],"dismiss":[64],"getTop":[64]}],[0,"ion-toast-controller",{"create":[64],"dismiss":[64],"getTop":[64]}]]],[{"ios":"ion-app_8-ios","md":"ion-app_8-md"},[[0,"ion-app"],[2,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[1],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[2,"click","onClick"]]],[0,"ion-footer",{"translucent":[4]}],[0,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[1,"ion-title",{"color":[1],"size":[1]}],[1,"ion-toolbar",{"color":[1]},[[0,"ionStyle","childrenStyle"]]]]],["ion-nav_5",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"]}],[0,"ion-nav-pop"],[0,"ion-nav-push",{"component":[1],"componentProps":[16]}],[0,"ion-nav-set-root",{"component":[1],"componentProps":[16]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"target":[1]}]]],[{"ios":"ion-avatar_3-ios","md":"ion-avatar_3-md"},[[1,"ion-avatar"],[1,"ion-badge",{"color":[1]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],[{"ios":"ion-slide_2-ios","md":"ion-slide_2-md"},[[0,"ion-slide"],[4,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],[{"ios":"ion-checkbox-ios","md":"ion-checkbox-md"},[[1,"ion-checkbox",{"color":[1],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],[{"ios":"ion-input-ios","md":"ion-input-md"},[[2,"ion-input",{"color":[1],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1025],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],[{"ios":"ion-progress-bar-ios","md":"ion-progress-bar-md"},[[1,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[1]}]]],[{"ios":"ion-range-ios","md":"ion-range-md"},[[1,"ion-range",{"color":[1],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],[{"ios":"ion-split-pane-ios","md":"ion-split-pane-md"},[[0,"ion-split-pane",{"contentId":[1,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[1]}]]],[{"ios":"ion-textarea-ios","md":"ion-textarea-md"},[[2,"ion-textarea",{"color":[1],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],[{"ios":"ion-toggle-ios","md":"ion-toggle-md"},[[1,"ion-toggle",{"color":[1],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],[{"ios":"ion-datetime_3-ios","md":"ion-datetime_3-md"},[[2,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[1,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[0,"ion-picker-column",{"col":[16]}]]],[{"ios":"ion-radio_2-ios","md":"ion-radio_2-md"},[[1,"ion-radio",{"color":[1],"name":[1],"disabled":[4],"checked":[1028],"value":[1032]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[1],"duration":[2],"name":[1],"paused":[4]}]]],[{"ios":"ion-button_2-ios","md":"ion-button_2-md"},[[1,"ion-button",{"color":[1],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"color":[1],"ariaLabel":[1537,"aria-label"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[1],"src":[1],"icon":[8],"size":[1],"lazy":[4],"svgContent":[32],"isVisible":[32]}]]],[{"ios":"ion-item_8-ios","md":"ion-item_8-md"},[[1,"ion-item-divider",{"color":[1],"sticky":[4]}],[0,"ion-item-group"],[1,"ion-note",{"color":[1]}],[1,"ion-skeleton-text",{"animated":[4],"width":[1]}],[1,"ion-item",{"color":[1],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionStyle","itemStyle"]]],[2,"ion-label",{"color":[1],"position":[1],"noAnimate":[32]}],[0,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[1,"ion-list-header",{"color":[1]}]]]]'),t)});var t})}}},Re=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:Zt,useValue:e},{provide:r.d,useFactory:Ie,multi:!0,deps:[Zt,o.c,r.z]}]}},t}()},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("psW0"),r=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(i.a)(r.a,t)}},a3Cf:function(t,e,n){"use strict";var i=n("HPGL"),r=n("Lq6m");n.d(e,"IonicNativePlugin",function(){return r.a}),n("KOl+");var o=n("xSm1");n.d(e,"cordova",function(){return o.a}),n("hKQe"),n("Rt+L"),n("pxS/"),n("Ji5e"),n("4pTB"),Object(i.a)()},aSns:function(t,e,n){"use strict";var i=n("GrlX"),r=n("uxXc"),o=[].slice,s=["keyword","gray","hex"],a={};Object.keys(r).forEach(function(t){a[o.call(r[t].labels).sort().join("")]=t});var u={};function c(t,e){if(!(this instanceof c))return new c(t,e);if(e&&e in s&&(e=null),e&&!(e in r))throw new Error("Unknown model: "+e);var n,h;if(void 0===t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof c)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var l=i.get(t);if(null===l)throw new Error("Unable to parse color from string: "+t);this.model=l.model,this.color=l.value.slice(0,h=r[this.model].channels),this.valpha="number"==typeof l.value[h]?l.value[h]:1}else if(t.length){this.model=e||"rgb";var f=o.call(t,0,h=r[this.model].channels);this.color=p(f,h),this.valpha="number"==typeof t[h]?t[h]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=d.sort().join("");if(!(g in a))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=a[g];var v=r[this.model].labels,y=[];for(n=0;n<v.length;n++)y.push(t[v[n]]);this.color=p(y)}if(u[this.model])for(h=r[this.model].channels,n=0;n<h;n++){var m=u[this.model][n];m&&(this.color[n]=m(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function h(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(u[t]||(u[t]=[]))[e]=n}),t=t[0],function(i){var r;return arguments.length?(n&&(i=n(i)),(r=this[t]()).color[e]=i,r):(r=this[t]().color[e],n&&(r=n(r)),r)}}function l(t){return function(e){return Math.max(0,Math.min(t,e))}}function p(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}c.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in i.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return i.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return i.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=r[this.model].channels,n=r[this.model].labels,i=0;i<e;i++)t[n[i]]=this.color[i];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new c(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new c(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:h("rgb",0,l(255)),green:h("rgb",1,l(255)),blue:h("rgb",2,l(255)),hue:h(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:h("hsl",1,l(100)),lightness:h("hsl",2,l(100)),saturationv:h("hsv",1,l(100)),value:h("hsv",2,l(100)),chroma:h("hcg",1,l(100)),gray:h("hcg",2,l(100)),white:h("hwb",1,l(100)),wblack:h("hwb",2,l(100)),cyan:h("cmyk",0,l(100)),magenta:h("cmyk",1,l(100)),yellow:h("cmyk",2,l(100)),black:h("cmyk",3,l(100)),x:h("xyz",0,l(100)),y:h("xyz",1,l(100)),z:h("xyz",2,l(100)),l:h("lab",0,l(100)),a:h("lab",1),b:h("lab",2),keyword:function(t){return arguments.length?new c(t):r[this.model].keyword(this.color)},hex:function(t){return arguments.length?new c(t):i.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return c.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return e.color[0]=n=(n=(n+t)%360)<0?360+n:n,e},mix:function(t,e){var n=t.rgb(),i=this.rgb(),r=void 0===e?.5:e,o=2*r-1,s=n.alpha()-i.alpha(),a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return c.rgb(a*n.red()+u*i.red(),a*n.green()+u*i.green(),a*n.blue()+u*i.blue(),n.alpha()*r+i.alpha()*(1-r))}},Object.keys(r).forEach(function(t){if(-1===s.indexOf(t)){var e=r[t].channels;c.prototype[t]=function(){if(this.model===t)return new c(this);if(arguments.length)return new c(arguments,t);var n,i="number"==typeof arguments[e]?e:this.valpha;return new c((n=r[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(i),t)},c[t]=function(n){return"number"==typeof n&&(n=p(o.call(arguments),e)),new c(n,t)}}}),t.exports=c},b7mW:function(t,e,n){"use strict";function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},bne5:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("6blF"),r=n("isby"),o=n("2Bdj"),s=n("67Y/");function a(t,e,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?a(t,e,n).pipe(Object(s.a)(function(t){return Object(r.a)(t)?u.apply(void 0,t):u(t)})):new i.a(function(i){!function t(e,n,i,r,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,i,o),s=function(){return a.removeEventListener(n,i,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,i),s=function(){return u.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,i),s=function(){return c.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var h=0,l=e.length;h<l;h++)t(e[h],n,i,r,o)}r.add(s)}(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}},crnd:function(t,e,n){var i={"./pages/main/main.module.ngfactory":["LRkE",13]};function r(t){var e=i[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return Object.keys(i)},r.id="crnd",t.exports=r},dC0D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),r=n("FFOo");function o(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}var s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return i.d(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)},e}(r.a)},dEwP:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("F/XL"),r=n("Txjg");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(r.a)()(i.a.apply(void 0,t))}},dzgT:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("mrSG"),r=n("nkY7"),o=n("isby"),s=n("MGBS"),a=n("zotm"),u=n("IUTb"),c={};function h(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,i=null;return Object(r.a)(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(u.a)(t,i).lift(new l(n))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}(),p=function(t){function e(e,n){var i=t.call(this,e)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return i.d(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(Object(a.a)(this,i,i,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.values,s=this.toRespond?o[n]===c?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(s.a)},f5ys:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i,r,o){this.longitude=Math.round(1e5*t)/1e5,this.latitude=Math.round(1e5*e)/1e5,this.altitude=Math.round(n)||void 0,this.accuracy=Math.round(i)||void 0,this.speed=Math.round(100*r)/100||void 0,this.bearing=Math.round(o)||void 0,this.timestamp=Date.now()}return t.prototype.getLatLng=function(){return[this.latitude,this.longitude]},t}()},gTw3:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("mrSG"),r=n("a3Cf"),o=n("6blF"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.d)(e,t),e.prototype.getCurrentPosition=function(t){return Object(r.cordova)(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},e.prototype.watchPosition=function(t){return new o.a(function(e){var n=navigator.geolocation.watchPosition(e.next.bind(e),e.next.bind(e),t);return function(){return navigator.geolocation.clearWatch(n)}})},e.pluginName="Geolocation",e.plugin="cordova-plugin-geolocation",e.pluginRef="navigator.geolocation",e.repo="https://github.com/apache/cordova-plugin-geolocation",e.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',e.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],e.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],e}(r.IonicNativePlugin)},h9Dq:function(t,e,n){"use strict";var i=n("mrSG"),r=function(t){function e(e,n){return t.call(this)||this}return i.d(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return i.d(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r)},hKQe:function(t,e,n){"use strict";n("6blF"),n("KOl+")},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},l207:function(t,e,n){"use strict";n.d(e,"m",function(){return i}),n.d(e,"l",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"k",function(){return h}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return p}),n.d(e,"h",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"c",function(){return g});var i="wa.webmapp.it",r="track",o=6e4,s=.2,a=2.5,u=1,c=1,h=6,l=[10.4017,43.7228],p=[15,15,15,15],f=500,d="wm_route_overlay_id",g={id:"",type:"geojson",color:"#f00",icon:"wm-icon-generic"}},mChF:function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",function(){return i})},mrSG:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return h}),n.d(e,"j",function(){return l}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return f});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(e){o(e)}}function a(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(s,a)}u((i=i.apply(t,e||[])).next())})}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}},nkY7:function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return i})},o29C:function(t){t.exports={a:"1.6.9"}},oBZk:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"h",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"i",function(){return c}),n.d(e,"d",function(){return h}),n.d(e,"j",function(){return l}),n.d(e,"e",function(){return p}),n.d(e,"k",function(){return f}),n.d(e,"f",function(){return d}),n.d(e,"l",function(){return g});var i=n("CcnG");n("ZZ/e"),n("Ip0R"),n("ZYCi");var r=i.ob({encapsulation:2,styles:[],data:{}});function o(t){return i.Hb(2,[i.zb(null,0)],null,null)}var s=i.ob({encapsulation:2,styles:[],data:{}});function a(t){return i.Hb(2,[i.zb(null,0)],null,null)}var u=i.ob({encapsulation:2,styles:[],data:{}});function c(t){return i.Hb(2,[i.zb(null,0)],null,null)}var h=i.ob({encapsulation:2,styles:[],data:{}});function l(t){return i.Hb(2,[i.zb(null,0)],null,null)}var p=i.ob({encapsulation:2,styles:[],data:{}});function f(t){return i.Hb(2,[i.zb(null,0)],null,null)}var d=i.ob({encapsulation:2,styles:[],data:{}});function g(t){return i.Hb(2,[i.zb(null,0)],null,null)}},ocqh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return a});var i="ionViewWillEnter",r="ionViewDidEnter",o="ionViewWillLeave",s="ionViewDidLeave",a="ionViewWillUnload"},onlc:function(t,e,n){var i=n("t1N5");function r(t,e){return function(n){return e(t(n))}}function o(t,e){for(var n=[e[t].parent,t],o=i[e[t].parent][t],s=e[t].parent;e[s].parent;)n.unshift(e[s].parent),o=r(i[e[s].parent][s],o),s=e[s].parent;return o.conversion=n,o}t.exports=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(i),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),o=Object.keys(i[r]),s=o.length,a=0;a<s;a++){var u=o[a],c=e[u];-1===c.distance&&(c.distance=e[r].distance+1,c.parent=r,n.unshift(u))}return e}(t),n={},r=Object.keys(e),s=r.length,a=0;a<s;a++){var u=r[a];null!==e[u].parent&&(n[u]=o(u,e))}return n}},p0ib:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("6blF"),r=n("nkY7"),o=n("Zn8D"),s=n("IUTb");function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,u=t[t.length-1];return Object(r.a)(u)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof i.a?t[0]:Object(o.a)(n)(Object(s.a)(t,a))}},pMnS:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("CcnG"),r=n("ZYCi"),o=i.ob({encapsulation:2,styles:[],data:{}});function s(t){return i.Hb(0,[(t()(),i.qb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),i.pb(1,212992,null,0,r.q,[r.b,i.P,i.j,[8,null],i.h],null,null)],function(t,e){t(e,1,0)},null)}function a(t){return i.Hb(0,[(t()(),i.qb(0,0,null,null,1,"ng-component",[],null,null,null,s,o)),i.pb(1,49152,null,0,r.u,[],null,null)],null,null)}var u=i.mb("ng-component",r.u,a,{},{},[])},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("mrSG"),r=n("zotm"),o=n("MGBS"),s=n("rPjj"),a=n("67Y/"),u=n("0/uQ");function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(i){return i.pipe(c(function(n,i){return Object(u.a)(t(n,i)).pipe(Object(a.a)(function(t,r){return e(n,t,i,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new h(t,n))})}var h=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))},t}(),l=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=t.call(this,e)||this;return r.project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return i.d(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new s.a(this,void 0,void 0);this.destination.add(i),Object(r.a)(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var i=n("isby"),r=n("McSo"),o=n("2Bdj");function s(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}s.prototype=Object.create(Error.prototype);var a=s;n.d(e,"a",function(){return u});var u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,s=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(o.a)(s))try{s.call(this)}catch(f){e=f instanceof a?c(f.errors):[f]}if(Object(i.a)(u)){h=-1;for(var l=u.length;++h<l;){var p=u[h];if(Object(r.a)(p))try{p.unsubscribe()}catch(f){e=e||[],f instanceof a?e=e.concat(c(f.errors)):e.push(f)}}}if(e)throw new a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce(function(t,e){return t.concat(e instanceof a?e.errors:e)},[])}},"pxS/":function(t,e,n){"use strict";n("KOl+")},r4Kj:function(t,e,n){"use strict";var i=n("81W9"),r=n.t(i,2),o=n("o29C"),s=n("w69+"),a=n("S5bw"),u={MAP:{layers:[{label:"Mappa",type:"maptile",tilesUrl:"https://api.webmapp.it/tiles/",default:!1}]},OPTIONS:{openWebLinkFromPopup:!0},GEOLOCATION:{disable:!0}},c=[-180,-85,180,85],h=n("CcnG");n.d(e,"a",function(){return l});var l=function(){function t(t){this._communicationService=t,console.info("Core version "+o.a),this.onMapConfigChange=new a.a(1),this.onHomeConfigChange=new a.a(1),this.isEmbedded=!1}return t.prototype.initialize=function(){var t=this;return new Promise(function(e,n){t._config=r.default;var i="/config.json",o="/",s=window.location.search.split("?");if(s.length>1)for(var a=0,c=s=s[1].split("&");a<c.length;a++){var h=c[a],l=h.split("=")[0],p=h.split("=")[1];"config_json"===l&&"http"!==(i=p).substring(0,4)&&(i="http://"+i)}var f=document.getElementsByTagName("wm-map-container")[0];if(f){i=f.getAttribute("configJsonUrl")||void 0;var d=f.getAttribute("baseUrl")||void 0,g=f.getAttribute("fitLayerMaxZoom")||void 0,v=f.getAttribute("disableClickInMap")||void 0,y=f.getAttribute("featureColor")||void 0,m=f.getAttribute("color")||void 0;o=f.getAttribute("startUrl")||"/",t._routeParam=f.getAttribute("route")||void 0,t.isEmbedded=!0;var _=function(n){t._config=n,t._config.OPTIONS||(t._config.OPTIONS={}),d&&(t._config.OPTIONS.baseUrl="/"===d[d.length-1]?d:d+"/"),t._config.OPTIONS.baseUrl&&"/"!==t._config.OPTIONS.baseUrl[t._config.OPTIONS.baseUrl.length-1]&&(t._config.OPTIONS.baseUrl+="/"),"/"===o&&t._config.OPTIONS.startUrl||(t._config.OPTIONS.startUrl=o),g&&!Number.isNaN(parseFloat(g))&&(t._config.MAP.fitLayerMaxZoom=parseFloat(g)),v&&"true"===v&&(t._config.OPTIONS.disableClickInMap=!0),t._routeParam&&(t._config.OPTIONS.poiIconZoom=t.getMapMinZoom()),t._config.THEME||(t._config.THEME={}),m&&(t._config.THEME.primary=m),y&&(t._config.THEME.defaultFeatureColor=y),e()};i?t._communicationService.get(i+"?t="+Date.now()).subscribe(function(t){_(t)},function(t){console.error(t),e()}):_(u)}else t._communicationService.get(i+"?t="+Date.now()).subscribe(function(n){console.log("OKOKOK"),t._config=n,t._config.OPTIONS||(t._config.OPTIONS={}),t._config.OPTIONS.baseUrl&&"/"!==t._config.OPTIONS.baseUrl[t._config.OPTIONS.baseUrl.length-1]&&(t._config.OPTIONS.baseUrl+="/"),t._config.OPTIONS.startUrl=o,e()},function(n){t._config=u,console.error(n),e()})})},t.prototype.getVersion=function(){return o.a},t.prototype.getAppName=function(){return this._config.APP?this._config.APP.name:"Webmapp"},t.prototype.getAppId=function(){return this._config.APP&&this._config.APP.id?this._config.APP.id:""},t.prototype.getCustomerName=function(){return this._config.APP&&this._config.APP.customerName?this._config.APP.customerName:"Webmapp"},t.prototype.getPrivacyUrl=function(){return this._config.OPTIONS&&this._config.OPTIONS.privacyUrl?this._config.OPTIONS.privacyUrl:"https://webmapp.it/privacy"},t.prototype.getStartUrl=function(){return this._config.OPTIONS&&this._config.OPTIONS.startUrl?this._config.OPTIONS.startUrl:"/"},t.prototype.getRouteUrl=function(){return!this._routeUrl&&this._routeParam&&("http"===this._routeParam.substring(0,4)?this._routeUrl=this._routeParam:this._config.OPTIONS&&this._config.OPTIONS.baseUrl&&(this._routeUrl=this.getFeatureBaseUrl()+this._routeParam,-1===this._routeParam.indexOf(".")&&(this._routeUrl+=".geojson"))),this._routeUrl},t.prototype.openWebLinkFromPopup=function(){return!(this.getRouteUrl()||!this._config.OPTIONS||!this._config.OPTIONS.openWebLinkFromPopup)},t.prototype.isGeolocationAvailable=function(){return!(this._config&&this._config.GEOLOCATION&&this._config.GEOLOCATION.disable)},t.prototype.hasK=function(){return!!(this._config&&this._config.OPTIONS&&this._config.OPTIONS.baseUrl)},t.prototype.hasMap=function(){var t=!1;return this._config.MAP&&this._config.MAP.layers&&this._config.MAP.layers.length>0&&this._config.MAP.layers.forEach(function(e){"string"==typeof e.tilesUrl&&""!==e.tilesUrl&&"string"==typeof e.type&&""!==e.type&&(t=!0)}),t},t.prototype.enableMapClickInteraction=function(){return!this._config.OPTIONS||!this._config.OPTIONS.disableClickInMap},t.prototype.getMapMaxZoom=function(){return this._config.MAP.maxZoom&&"number"==typeof this._config.MAP.maxZoom&&!this.getRouteUrl()?this._config.MAP.maxZoom:this.getRouteUrl()?14:17},t.prototype.getMapMinZoom=function(){return this._config.MAP.minZoom&&"number"==typeof this._config.MAP.minZoom?this._config.MAP.minZoom:1},t.prototype.getMapDefZoom=function(){return this._config.MAP.defZoom&&"number"==typeof this._config.MAP.defZoom?this._config.MAP.defZoom:void 0},t.prototype.getMapFitLayerMaxZoom=function(){return this._config.MAP.fitLayerMaxZoom&&"number"==typeof this._config.MAP.fitLayerMaxZoom?Math.min(Math.max(this._config.MAP.fitLayerMaxZoom,this.getMapMinZoom()),this.getMapMaxZoom()):14},t.prototype.getMapCenter=function(){var t=!0;return this._config.MAP.center&&2===this._config.MAP.center.length?this._config.MAP.center.forEach(function(e){"number"!=typeof e&&(t=!1)}):t=!1,t?[this._config.MAP.center[0],this._config.MAP.center[1]]:void 0},t.prototype.areMapExtentDefined=function(){var t=this.getMapExtent();return t[0]!==c[0]||t[1]!==c[1]||t[2]!==c[2]||t[3]!==c[3]},t.prototype.getMapExtent=function(){return this._config.MAP.bbox&&this._config.MAP.bbox.length&&4===this._config.MAP.bbox.length?[this._config.MAP.bbox[0],this._config.MAP.bbox[1],this._config.MAP.bbox[2],this._config.MAP.bbox[3]]:c},t.prototype.getBaseLayers=function(){var t=[];return this.hasMap()&&this._config.MAP.layers.forEach(function(e){"string"==typeof e.tilesUrl&&""!==e.tilesUrl&&"string"==typeof e.type&&""!==e.type&&t.push(e)}),t},t.prototype.getOverlayLayers=function(){var t=[];return this._config.MAP.overlays&&this._config.MAP.overlays.forEach(function(e){"string"==typeof e.type&&""!==e.type&&t.push(e)}),t},t.prototype.addArrowsOverTracks=function(){return!(!this._config.OPTIONS||!this._config.OPTIONS.addArrowsOverTracks)},t.prototype.getPoiPin=function(){return this._config.OPTIONS&&this._config.OPTIONS.poiPinImage&&"rt_pin"===this._config.OPTIONS.poiPinImage?{src:"/wp-content/plugins/wm-embedmaps/assets/js/core/assets/images/rt_pin.png",scale:.18}:{src:"/wp-content/plugins/wm-embedmaps/assets/js/core/assets/images/webmapp_pin.png",scale:.2}},t.prototype.getPoiMaxRadius=function(){return this._config.OPTIONS&&this._config.OPTIONS.poiMaxRadius?this._config.OPTIONS.poiMaxRadius:1.7},t.prototype.getPoiMinRadius=function(){return this._config.OPTIONS&&this._config.OPTIONS.poiMinRadius&&this._config.OPTIONS.poiMinRadius<=this.getPoiMaxRadius()?this._config.OPTIONS.poiMinRadius:.2},t.prototype.getPoiMinZoom=function(){return this._config.OPTIONS&&this._config.OPTIONS.poiMinZoom&&this._config.OPTIONS.poiMinZoom>this.getMapMinZoom()?this._config.OPTIONS.poiMinZoom:this.getMapMinZoom()},t.prototype.getPoiIconRadius=function(){return this._config.OPTIONS&&this._config.OPTIONS.poiIconRadius&&this._config.OPTIONS.poiIconRadius>=1.7&&this._config.OPTIONS.poiIconRadius>=this.getPoiMaxRadius()?this._config.OPTIONS.poiIconRadius:Math.max(1.7,this.getPoiMaxRadius())},t.prototype.getIconPoiZoom=function(){return this._config.OPTIONS&&this._config.OPTIONS.poiIconZoom?this._config.OPTIONS.poiIconZoom:this.getMapFitLayerMaxZoom()},t.prototype.getPoiSelectedRadius=function(){return this._config.OPTIONS&&this._config.OPTIONS.poiSelectedRadius&&this._config.OPTIONS.poiSelectedRadius>=2.5&&this._config.OPTIONS.poiSelectedRadius>this.getPoiIconRadius()?this._config.OPTIONS.poiSelectedRadius:Math.max(2.5,this.getPoiIconRadius()+.3)},t.prototype.showMapViewfinder=function(){return!(!this._config.OPTIONS||!this._config.OPTIONS.showMapViewfinder)},t.prototype.getTaxonomyUrl=function(t){return this._config.OPTIONS&&this._config.OPTIONS.baseUrl+"taxonomies/"+t+".json"},t.prototype.getFeatureBaseUrl=function(){return this._config.OPTIONS&&this._config.OPTIONS.baseUrl+"geojson/"},t.prototype.getRouteBaseUrl=function(){return this._config.OPTIONS&&this._config.OPTIONS.baseUrl+"routes/"},t.prototype.getRouteImageBaseUrl=function(t){return this._config.OPTIONS&&this._config.OPTIONS.baseUrl+"media/route_images/"+t+"_map_400x300.png"},t.prototype.getDefaultMapBaseUrl=function(){return this._config.OPTIONS&&this._config.OPTIONS.baseUrl+"tiles/"},t.prototype.getImageBaseUrl=function(){return this._config.OPTIONS&&this._config.OPTIONS.baseUrl+"media/"},t.prototype.getDefaultFeatureColor=function(){return this._config&&this._config.THEME&&this._config.THEME.defaultFeatureColor?this._config.THEME.defaultFeatureColor:"#000000"},t.prototype.getDefaultFeatureFillColor=function(){return this._config&&this._config.THEME&&this._config.THEME.defaultFeatureColor?this._config.THEME.defaultFeatureColor:"#000000"},t.prototype.getDefaultLanguage=function(){var t="en";return this._config&&this._config.LANGUAGES&&this._config.LANGUAGES.default&&(t=this._config.LANGUAGES.default.substring(0,2)),t},t.prototype.getAvailableLanguages=function(){var t=[],e=this.getDefaultLanguage();if(this._config&&this._config.LANGUAGES){if(this._config.LANGUAGES.available)for(var n in this._config.LANGUAGES.available)t.push(this._config.LANGUAGES.available[n]);for(var i=!1,r=0,o=t;r<o.length;r++)if(o[r]===e){i=!0;break}i||t.push(e)}else t.push(e);return t},t.prototype.getStyle=function(){return this._config.THEME?this._config.THEME:{}},t.prototype.showElevationChart=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hideElevationChart)},t.prototype.showAscent=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_ascent)},t.prototype.showDescent=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_descent)},t.prototype.showDurationForward=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_duration:forward"])},t.prototype.showDurationBackward=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_duration:backward"])},t.prototype.showEleMax=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:max"])},t.prototype.showEleMin=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:min"])},t.prototype.showEleFrom=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:from"])},t.prototype.showEleTo=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:to"])},t.prototype.showDistance=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_distance)},t.prototype.showFrom=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_from)},t.prototype.showTo=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_to)},t.prototype.showOperator=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_operator)},t.prototype.showScale=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_scale)},t.prototype.showCaiScale=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_cai_scale)},t.prototype.showMtbScale=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_mtb_scale)},t.prototype.showRef=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_ref)},t.prototype.showWgs84Coords=function(){return!!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.show_wgs84)},t.prototype.showUtmCoords=function(){return!!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.show_utm)},t.ngInjectableDef=h.T({factory:function(){return new t(h.X(s.a))},token:t,providedIn:"root"}),t}()},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("mrSG"),r=function(t){function e(e,n,i){var r=t.call(this)||this;return r.parent=e,r.outerValue=n,r.outerIndex=i,r.index=0,r}return i.d(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},"t/Na":function(t,e,n){"use strict";n.d(e,"k",function(){return A}),n.d(e,"n",function(){return D}),n.d(e,"o",function(){return G}),n.d(e,"l",function(){return j}),n.d(e,"m",function(){return N}),n.d(e,"b",function(){return p}),n.d(e,"f",function(){return l}),n.d(e,"c",function(){return O}),n.d(e,"a",function(){return I}),n.d(e,"d",function(){return $}),n.d(e,"e",function(){return U}),n.d(e,"j",function(){return z}),n.d(e,"g",function(){return L}),n.d(e,"i",function(){return k}),n.d(e,"h",function(){return F});var i=n("mrSG"),r=n("CcnG"),o=n("F/XL"),s=n("6blF"),a=n("Phjn"),u=n("VnD/"),c=n("67Y/"),h=n("Ip0R"),l=function(){return function(){}}(),p=function(){return function(){}}(),f=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var i=t.slice(0,n),r=i.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(i,r),e.headers.has(r)?e.headers.get(r).push(o):e.headers.set(r,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var i=t[n],r=n.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(e.headers.set(r,i),e.maybeSetNormalizedName(n,r))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(i.i)(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var s=this.headers.get(e);if(!s)return;0===(s=s.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),d=function(){function t(){}return t.prototype.encodeKey=function(t){return g(t)},t.prototype.encodeValue=function(t){return g(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function g(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var v=function(){function t(t){void 0===t&&(t={});var e,n,r,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new d,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),o=Object(i.h)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),s=o[0],a=o[1],u=r.get(s)||[];u.push(a),r.set(s,u)}),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];o.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)},t}();function y(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function m(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}var b=function(){function t(t,e,n,i){var r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new f),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+o}}else this.params=new v,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:y(this.body)||m(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:_(this.body)?null:m(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,i,o,{params:c,headers:u,reportProgress:a,responseType:r,withCredentials:s})},t}(),w=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),x=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),S=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=w.ResponseHeader,n}return Object(i.d)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(x),E=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=w.Response,n.body=void 0!==e.body?e.body:null,n}return Object(i.d)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(x),C=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(i.d)(e,t),e}(x);function T(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var O=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var i,r=this;if(void 0===n&&(n={}),t instanceof b)i=t;else{var s;s=n.headers instanceof f?n.headers:new f(n.headers);var h=void 0;n.params&&(h=n.params instanceof v?n.params:new v({fromObject:n.params})),i=new b(t,e,void 0!==n.body?n.body:null,{headers:s,params:h,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var l=Object(o.a)(i).pipe(Object(a.a)(function(t){return r.handler.handle(t)}));if(t instanceof b||"events"===n.observe)return l;var p=l.pipe(Object(u.a)(function(t){return t instanceof E}));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return p.pipe(Object(c.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return p.pipe(Object(c.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return p.pipe(Object(c.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return p.pipe(Object(c.a)(function(t){return t.body}))}case"response":return p;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new v).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,T(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,T(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,T(n,e))},t}(),M=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),I=new r.p("HTTP_INTERCEPTORS"),R=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),P=/^\)\]\}',?\n/,k=function(){return function(){}}(),A=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),L=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new s.a(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var s=t.serializeBody(),a=null,u=function(){if(null!==a)return a;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new f(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return a=new S({headers:r,status:e,statusText:n,url:o})},c=function(){var e=u(),r=e.headers,o=e.status,s=e.statusText,a=e.url,c=null;204!==o&&(c=void 0===i.response?i.responseText:i.response),0===o&&(o=c?200:0);var h=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var l=c;c=c.replace(P,"");try{c=""!==c?JSON.parse(c):null}catch(p){c=l,h&&(h=!1,c={error:p,text:c})}}h?(n.next(new E({body:c,headers:r,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new C({error:c,headers:r,status:o,statusText:s,url:a||void 0}))},h=function(t){var e=u().url,r=new C({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},l=!1,p=function(e){l||(n.next(u()),l=!0);var r={type:w.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},d=function(t){var e={type:w.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",c),i.addEventListener("error",h),t.reportProgress&&(i.addEventListener("progress",p),null!==s&&i.upload&&i.upload.addEventListener("progress",d)),i.send(s),n.next({type:w.Sent}),function(){i.removeEventListener("error",h),i.removeEventListener("load",c),t.reportProgress&&(i.removeEventListener("progress",p),null!==s&&i.upload&&i.upload.removeEventListener("progress",d)),i.abort()}})},t}(),j=new r.p("XSRF_COOKIE_NAME"),N=new r.p("XSRF_HEADER_NAME"),F=function(){return function(){}}(),D=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(h.t)(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),G=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)},t}(),z=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(I,[]);this.chain=e.reduceRight(function(t,e){return new M(t,e)},this.backend)}return this.chain.handle(t)},t}(),U=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:G,useClass:R}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:j,useValue:t.cookieName}:[],t.headerName?{provide:N,useValue:t.headerName}:[]]}},t}(),$=function(){return function(){}}()},t1N5:function(t,e,n){var i=n("T016"),r={};for(var o in i)i.hasOwnProperty(o)&&(r[i[o]]=o);var s=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in s)if(s.hasOwnProperty(a)){if(!("channels"in s[a]))throw new Error("missing channels property: "+a);if(!("labels"in s[a]))throw new Error("missing channel labels property: "+a);if(s[a].labels.length!==s[a].channels)throw new Error("channel and label counts mismatch: "+a);var u=s[a].channels,c=s[a].labels;delete s[a].channels,delete s[a].labels,Object.defineProperty(s[a],"channels",{value:u}),Object.defineProperty(s[a],"labels",{value:c})}s.rgb.hsl=function(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=Math.min(i,r,o),a=Math.max(i,r,o),u=a-s;return a===s?e=0:i===a?e=(r-o)/u:r===a?e=2+(o-i)/u:o===a&&(e=4+(i-r)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(s+a)/2,[e,100*(a===s?0:n<=.5?u/(a+s):u/(2-a-s)),100*n]},s.rgb.hsv=function(t){var e,n,i,r,o,s=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(s,a,u),h=c-Math.min(s,a,u),l=function(t){return(c-t)/6/h+.5};return 0===h?r=o=0:(o=h/c,e=l(s),n=l(a),i=l(u),s===c?r=i-n:a===c?r=1/3+e-i:u===c&&(r=2/3+n-e),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*c]},s.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[s.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,i))*100,100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},s.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-r)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]},s.rgb.keyword=function(t){var e=r[t];if(e)return e;var n,o,s,a=1/0;for(var u in i)if(i.hasOwnProperty(u)){var c=(o=t,s=i[u],Math.pow(o[0]-s[0],2)+Math.pow(o[1]-s[1],2)+Math.pow(o[2]-s[2],2));c<a&&(a=c,n=u)}return n},s.keyword.rgb=function(t){return i[t]},s.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},s.rgb.lab=function(t){var e=s.rgb.xyz(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},s.hsl.rgb=function(t){var e,n,i,r,o,s=t[0]/360,a=t[1]/100,u=t[2]/100;if(0===a)return[o=255*u,o,o];e=2*u-(n=u<.5?u*(1+a):u+a-u*a),r=[0,0,0];for(var c=0;c<3;c++)(i=s+1/3*-(c-1))<0&&i++,i>1&&i--,r[c]=255*(o=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e);return r},s.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,r=n,o=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=o<=1?o:2-o,[e,100*(0===i?2*r/(o+r):2*n/(i+n)),(i+n)/2*100]},s.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,r=Math.floor(e)%6,o=e-Math.floor(e),s=255*i*(1-n),a=255*i*(1-n*o),u=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,u,s];case 1:return[a,i,s];case 2:return[s,i,u];case 3:return[s,a,i];case 4:return[u,s,i];case 5:return[i,s,a]}},s.hsv.hsl=function(t){var e,n,i,r=t[0],o=t[1]/100,s=t[2]/100,a=Math.max(s,.01);return i=(2-o)*s,n=o*a,[r,100*(n=(n/=(e=(2-o)*a)<=1?e:2-e)||0),100*(i/=2)]},s.hwb.rgb=function(t){var e,n,i,r,o,s,a,u=t[0]/360,c=t[1]/100,h=t[2]/100,l=c+h;switch(l>1&&(c/=l,h/=l),i=6*u-(e=Math.floor(6*u)),0!=(1&e)&&(i=1-i),r=c+i*((n=1-h)-c),e){default:case 6:case 0:o=n,s=r,a=c;break;case 1:o=r,s=n,a=c;break;case 2:o=c,s=n,a=r;break;case 3:o=c,s=r,a=n;break;case 4:o=r,s=c,a=n;break;case 5:o=n,s=c,a=r}return[255*o,255*s,255*a]},s.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-i)+i)),255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},s.xyz.rgb=function(t){var e,n,i,r=t[0]/100,o=t[1]/100,s=t[2]/100;return n=-.9689*r+1.8758*o+.0415*s,i=.0557*r+-.204*o+1.057*s,e=(e=3.2406*r+-1.5372*o+-.4986*s)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},s.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},s.lab.xyz=function(t){var e,n,i;e=t[1]/500+(n=(t[0]+16)/116),i=n-t[2]/200;var r=Math.pow(n,3),o=Math.pow(e,3),s=Math.pow(i,3);return n=r>.008856?r:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},s.lab.lch=function(t){var e,n=t[0],i=t[1],r=t[2];return(e=360*Math.atan2(r,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+r*r),e]},s.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},s.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],r=1 in arguments?arguments[1]:s.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===r&&(o+=60),o},s.hsv.ansi16=function(t){return s.rgb.ansi16(s.hsv.rgb(t),t[2])},s.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},s.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},s.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},s.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},s.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},s.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,o=Math.max(Math.max(n,i),r),s=Math.min(Math.min(n,i),r),a=o-s;return e=a<=0?0:o===n?(i-r)/a%6:o===i?2+(r-n)/a:4+(n-i)/a+4,e/=6,[360*(e%=1),100*a,100*(a<1?s/(1-a):0)]},s.hsl.hcg=function(t){var e,n=t[1]/100,i=t[2]/100,r=0;return(e=i<.5?2*n*i:2*n*(1-i))<1&&(r=(i-.5*e)/(1-e)),[t[0],100*e,100*r]},s.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},s.hcg.rgb=function(t){var e=t[1]/100,n=t[2]/100;if(0===e)return[255*n,255*n,255*n];var i,r=[0,0,0],o=t[0]/360%1*6,s=o%1,a=1-s;switch(Math.floor(o)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return[255*(e*r[0]+(i=(1-e)*n)),255*(e*r[1]+i),255*(e*r[2]+i)]},s.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},s.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},s.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},s.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},s.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},s.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},s.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},s.gray.hsl=s.gray.hsv=function(t){return[0,0,t[0]]},s.gray.hwb=function(t){return[0,100,t[0]]},s.gray.cmyk=function(t){return[0,0,0,t[0]]},s.gray.lab=function(t){return[t[0],0,0]},s.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},s.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},t9fZ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("mrSG"),r=n("FFOo"),o=n("b7mW"),s=n("G5J1");function a(t){return function(e){return 0===t?Object(s.b)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.count=0,i}return i.d(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(r.a)},tB1I:function(t,e,n){"use strict";var i,r=n("S5bw"),o=n("6blF"),s=n("Gi3i"),a=n("w69+"),u=n("r4Kj"),c=n("MLd6");!function(t){t.WEBMAPP_CATEGORY="webmapp_category",t.ACTIVITY="activity",t.THEME="theme",t.WHEN="when",t.WHERE="where",t.WHO="who"}(i||(i={}));var h=function(){return function(){}}(),l=n("l207"),p=n("CcnG");n.d(e,"a",function(){return f});var f=function(){function t(t,e,n){var o=this;for(var s in this._communicationService=t,this._configService=e,this._languagesService=n,this.onReady=new r.a(1),this.onReady.next(!1),this.onPagesReady=new r.a(1),this.onPagesReady.next(!1),this._taxononmyEvents={},Object.keys(i))this._taxononmyEvents[Object.values(i)[s]]=new r.a(1);this._onTaxonomyChange=new r.a(1),this._onFeaturesChange=new r.a(1),this._load().then(function(){o.onReady.next(!0)}),this._configService.isEmbedded&&document.addEventListener("wm_overlays_updated",function(){o._load().then(function(){o.onReady.next(!0)})})}return t.prototype.getStartUrl=function(){return"/"},t.prototype._load=function(){var t=this;return new Promise(function(e,n){t._taxonomies=new h,t._features={},t._onTaxonomyChange.next(t._taxonomies),t._onFeaturesChange.next({}),t._getTaxonomies().then(function(){t._loadFeatures().then(function(){t._onTaxonomyChange.next(t._taxonomies),t._onFeaturesChange.next(t._features),e()},function(){e()})},function(){e()})})},t.prototype._populateTaxonomy=function(t){var e=this;return new Promise(function(n,r){e._configService.hasK()?e._communicationService.get(e._configService.getTaxonomyUrl(Object.values(i)[t])+"?t="+Date.now()).subscribe(function(r){e._saveTaxonomy(r,Object.values(i)[t]),n()},function(t){console.warn(t),n()}):n({})})},t.prototype._saveTaxonomy=function(t,e){for(var n in(null==t||t&&void 0!==t.length)&&(t={}),t)for(var i in t[n])""!==t[n][i]&&null!==t[n][i]&&!1!==t[n][i]||delete t[n][i];this._taxonomies[e]=t},t.prototype._getTaxonomies=function(){var t=this;return new Promise(function(e,n){if(t._configService.hasK()){var r=[];for(var o in Object.keys(i))r.push(t._populateTaxonomy(o));Promise.all(r).then(function(){var n=t._configService.getOverlayLayers();for(var i in n)t._taxonomies=t._createTaxonomy(n[i],t._taxonomies);var r=JSON.parse(window.localStorage.getItem("wm_overlays_definition"));if(r)for(var i in r)t._taxonomies=t._createTaxonomy(r[i],t._taxonomies);for(var i in t._onTaxonomyChange.next(t._taxonomies),t._taxononmyEvents)t._taxononmyEvents[i].next(t._taxonomies[i]);e()},function(t){console.warn(t),e()})}else e()})},t.prototype._createTaxonomy=function(t,e){return t.id&&t.label&&t.createTaxonomy&&-1!==["webmapp_category","activity","theme","when","where","who"].indexOf(t.createTaxonomy)&&(e||(e=new h),e[t.createTaxonomy]||(e[t.createTaxonomy]={}),e[t.createTaxonomy][t.id]={id:t.id,name:t.label,locale:t.locale||this._languagesService.getCurrentLang(),items:{poi:[]},taxonomy:t.createTaxonomy},t.description&&(e[t.createTaxonomy][t.id].description=t.description),t.translations&&(e[t.createTaxonomy][t.id].translations=t.translations),t.color&&(e[t.createTaxonomy][t.id].color=t.color),t.strokeWidth&&(e[t.createTaxonomy][t.id].strokeWidth=t.strokeWidth),t.strokeOpacity&&(e[t.createTaxonomy][t.id].strokeOpacity=t.strokeOpacity),t.icon&&(e[t.createTaxonomy][t.id].icon=t.icon),t.lineDash&&(e[t.createTaxonomy][t.id].lineDash=t.lineDash),t.fillColor&&(e[t.createTaxonomy][t.id].fillColor=t.fillColor),t.fillOpacity&&(e[t.createTaxonomy][t.id].fillOpacity=t.fillOpacity)),e},t.prototype._downloadFeature=function(t){var e=this;return t=""+t,new Promise(function(n,i){"wm-custom-track-"!==t.substring(0,16)?e._communicationService.get(e._configService.getFeatureBaseUrl()+t+".geojson").subscribe(function(i){e._features[t]=i,e._onFeaturesChange.next(e._features),n()},function(t){console.warn(t),n()}):n()})},t.prototype._loadFeature=function(t){var e=this;return t=""+t,new Promise(function(n,i){e._downloadFeature(t).then(function(){n()})})},t.prototype._addOverlayFeatureToTaxonomy=function(t){if(t.properties.taxonomy){var e="LineString"===t.geometry.type?"track":"poi";for(var n in t.properties.taxonomy)for(var i in t.properties.taxonomy[n])if(this._taxonomies[n])for(var r in this._taxonomies[n])if(r+""==t.properties.taxonomy[n][i]+""){this._taxonomies[n][r].items||(this._taxonomies[n][r].items={}),this._taxonomies[n][r].items[e]||(this._taxonomies[n][r].items[e]=[]),this._taxonomies[n][r].items[e].push(t.properties.id);break}}},t.prototype._loadFeaturesFromOverlay=function(t,e){var n=this,i=function(e,i,r){var o;try{o=JSON.parse(JSON.stringify(e))}catch(s){return void console.warn(s)}o.properties&&o.properties.id&&void 0!==o.properties.name&&(o.properties.id=t.id+"-"+o.properties.id,"utfgrid"===t.type?o.properties.hide=!0:t.minZoom&&!o.properties.minZoom&&(o.properties.minZoom=t.minZoom),t.noDetails&&void 0===o.properties.noDetails&&(o.properties.noDetails=t.noDetails),t.noInteraction&&void 0===o.properties.noInteraction&&(o.properties.noInteraction=t.noInteraction),t.color&&void 0===o.properties.color&&(o.properties.color=t.color),t.strokeWidth&&!o.properties.strokeWidth&&(o.properties.strokeWidth=t.strokeWidth),t.strokeOpacity&&!o.properties.strokeOpacity&&(o.properties.strokeOpacity=t.strokeOpacity),t.icon&&void 0===o.properties.icon&&(o.properties.icon=t.icon),t.preventFilter&&!1!==o.properties.preventFilter&&!0!==o.properties.preventFilter&&(o.properties.preventFilter=t.preventFilter),t.lineDash&&void 0===o.properties.lineDash&&(o.properties.lineDash=t.lineDash),-1!==["Polygon","MultiPolygon"].indexOf(o.geometry.type)&&(void 0===o.properties.invert&&t.invertPolygons&&(o.properties.invert=t.invertPolygons),o.properties.invert&&(o=n.invertPolygon(o)),t.fillColor&&!o.properties.fillColor&&(o.properties.fillColor=t.fillColor),t.fillOpacity&&!o.properties.fillOpacity&&(o.properties.fillOpacity=t.fillOpacity)),t.id&&t.label&&t.createTaxonomy&&-1!==["webmapp_category","activity","theme","when","where","who"].indexOf(t.createTaxonomy)&&(o.properties.taxonomy||(o.properties.taxonomy={}),o.properties.taxonomy[t.createTaxonomy]||(o.properties.taxonomy[t.createTaxonomy]=[]),o.properties.taxonomy[t.createTaxonomy].push(t.id)),i&&(o.properties.prev_track=t.id+"-"+i),r&&(o.properties.next_track=t.id+"-"+r),t.id!==l.e||n._firstStageId||(n._firstStageId=o.properties.id),n._features[o.properties.id]=o,n._addOverlayFeatureToTaxonomy(o))};if(e&&e.type)switch(e.type){case"Feature":i(e);break;case"FeatureCollection":if(e.features&&Object.keys(e.features).length>0){for(var r=void 0,o=void 0,s=0;s<Object.keys(e.features).length;)e.features[s]&&e.features[s].properties&&e.features[s].geometry?s++:e.features.splice(s,1);var a=void 0,u=void 0;for(var c in this._configService.getRouteUrl()&&(a={type:"Feature",properties:{id:"starting_point",image:void 0,name:"Partenza",locale:"it",noDetails:!0,icon:"wm-icon-flag",color:"#34F00A",translations:{de:{name:"\xfcberpr\xfcfen"},en:{name:"Departure"},es:{name:"Salida"},fr:{name:"Consultez"},nb:{name:"Sjekk ut"}}},geometry:{type:"Point",coordinates:void 0}},u={type:"Feature",properties:{id:"ending_point",image:void 0,name:"Arrivo",locale:"it",noDetails:!0,icon:"wm-icon-flag",color:"#F0430A",translations:{de:{name:"Ankunft"},en:{name:"Arrival"},es:{name:"Llegada"},fr:{name:"Arriv\xe9e"},nb:{name:"Ankomst"}}},geometry:{type:"Point",coordinates:void 0}}),e.features)this._configService.getRouteUrl()&&(r=parseInt(c)-1<0?void 0:e.features[parseInt(c)-1].properties.id+"",o=parseInt(c)+1>Object.keys(e.features).length-1?void 0:e.features[parseInt(c)+1].properties.id+"",e.features[c]&&e.features[c].geometry&&e.features[c].geometry.coordinates&&e.features[c].geometry.coordinates[0]&&!a.geometry.coordinates&&(a.geometry.coordinates=e.features[c].geometry.coordinates[0]),e.features[c]&&e.features[c].geometry&&e.features[c].geometry.coordinates&&e.features[c].geometry.coordinates.length>0&&(u.geometry.coordinates=e.features[c].geometry.coordinates[e.features[c].geometry.coordinates.length-1])),i(e.features[c],r,o);i(a),i(u)}}},t.prototype._loadOverlayLayer=function(t){var e=this;return new Promise(function(n,i){if("utfgrid"===t.type||"geojson"===t.type)if(t.geojsonUrl){var r=t.geojsonUrl,o={};"http"!==r.substr(0,4)&&(r=e._configService.getFeatureBaseUrl()+r),t.headers&&(o={headers:t.headers}),e._communicationService.get(r,o).subscribe(function(i){if(i.type||(i.type="FeatureCollection"),i.metadatiSpaziali&&(i.features=i.metadatiSpaziali,delete i.metadatiSpaziali),i.metadati&&i.metadati.id){var r={id:i.metadati.id+"",name:"",locale:e._languagesService.getDefaultLang()};for(var o in i.metadati.name&&(r.name=i.metadati.name),i.metadati.color?r.color=i.metadati.color:i.metadati.colore&&(r.color=i.metadati.colore),i.metadati.fillColor&&(r.fillColor=i.metadati.fillColor),i.metadati.fillOpacity&&(r.fillOpacity=i.metadati.fillOpacity),i.metadati.strokeWidth&&(r.strokeWidth=i.metadati.strokeWidth),i.metadati.strokeOpacity&&(r.strokeOpacity=i.metadati.strokeOpacity),i.metadati.lineDash&&(r.lineDash=i.metadati.lineDash),i.metadati.icon?r.icon=i.metadati.icon:i.metadati.iconaSvg&&(r.icon=i.metadati.iconaSvg),e._taxonomies.webmapp_category[r.id]=r,i.features){i.features[o].properties.taxonomy||(i.features[o].properties.taxonomy={}),i.features[o].properties.taxonomy.webmapp_category||(i.features[o].properties.taxonomy.webmapp_category=[]);var s=i.features[o].properties.taxonomy.webmapp_category;s.push(r.id),i.features[o].properties.taxonomy.webmapp_category=s}delete i.metadati}e._loadFeaturesFromOverlay(t,i),e._onFeaturesChange.next(e._features),n()})}else n()})},t.prototype._loadLocalOverlayLayers=function(){var t=this;return new Promise(function(e,n){var i=JSON.parse(window.localStorage.getItem("wm_overlays_definition")),r=JSON.parse(window.localStorage.getItem("wm_geojson_layers"));for(var o in r){var s=i&&i[o]?i[o]:JSON.parse(JSON.stringify(l.c));i&&i[o]||(s.id="wm-default-layer-"+o),t._loadFeaturesFromOverlay(s,r[o])}e()})},t.prototype._loadFeatures=function(){var t=this;return new Promise(function(e,n){var i=[],r=[],o=[];if(!t._configService.getRouteUrl()&&t._configService.hasK){for(var s in t._taxonomies)for(var a in t._taxonomies[s])if(t._taxonomies[s][a].items){if(t._taxonomies[s][a].items.track)for(var u=0,c=t._taxonomies[s][a].items.track;u<c.length;u++)-1===i.indexOf(y=c[u])&&i.push(y);if(t._taxonomies[s][a].items.poi)for(var h=0,p=t._taxonomies[s][a].items.poi;h<p.length;h++)-1===i.indexOf(y=p[h])&&i.push(y);if(t._taxonomies[s][a].items.route)for(var f=0,d=t._taxonomies[s][a].items.route;f<d.length;f++)-1===r.indexOf(y=d[f])&&r.push(y)}for(var g=0,v=i;g<v.length;g++){var y;o.push(t._loadFeature(y=v[g]))}var m=t._configService.getOverlayLayers();for(var _ in m)o.push(t._loadOverlayLayer(m[_]));t._configService.isEmbedded&&o.push(t._loadLocalOverlayLayers())}else if(t._configService.getRouteUrl()){var b={id:l.e,geojsonUrl:t._configService.getRouteUrl(),type:"geojson"};o.push(t._loadOverlayLayer(b))}var w=function(){for(var e in t._features)t._features[e].properties.translations&&t._features[e].properties.locale&&(t._features[e].properties.translations[t._features[e].properties.locale]?(t._features[e].properties.translations[t._features[e].properties.locale].name||(t._features[e].properties.translations[t._features[e].properties.locale].name=t._features[e].properties.name),t._features[e].properties.translations[t._features[e].properties.locale].description||(t._features[e].properties.translations[t._features[e].properties.locale].description=t._features[e].properties.description)):t._features[e].properties.translations[t._features[e].properties.locale]={name:t._features[e].properties.name,description:t._features[e].properties.description})};Promise.all(o).then(function(){w(),e()},function(){w(),e()})})},Object.defineProperty(t.prototype,"firstStageId",{get:function(){return this._firstStageId},enumerable:!0,configurable:!0}),t.prototype.invertPolygon=function(t){if(-1!==["Polygon","MultiPolygon"].indexOf(t.geometry.type)){var e=void 0;"MultiPolygon"===t.geometry.type?e=t.geometry.coordinates:(t.geometry.type="MultiPolygon",e=[t.geometry.coordinates]),e[0].splice(0,0,[[0,90],[180,90],[180,-90],[0,-90],[-180,-90],[-180,0],[-180,90],[0,90]]),t.geometry.coordinates=e}return t},t.prototype.getTaxonomy=function(t){return this._taxononmyEvents[t]},t.prototype.getTaxonomyName=function(t){for(var e in t=""+t,this._taxonomies)for(var n in this._taxonomies[e])if(n===""+t){if(this._taxonomies[e][n].translations&&this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()]&&this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()].name)return this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()].name;if(this._taxonomies[e][n].translations&&this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()]&&this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()].name)return this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()].name;if(this._taxonomies[e][n].name)return this._taxonomies[e][n].name;break}return""},t.prototype.getTaxonomyLongName=function(t){for(var e in t=""+t,this._taxonomies)for(var n in this._taxonomies[e])if(n===""+t){if(this._taxonomies[e][n].translations&&this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()]&&this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()].title)return this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()].title;if(this._taxonomies[e][n].translations&&this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()]&&this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()].title)return this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()].title;if(this._taxonomies[e][n].title)return this._taxonomies[e][n].title;break}return this.getTaxonomyName(t)},t.prototype.getTaxonomyDescription=function(t){for(var e in t=""+t,this._taxonomies)for(var n in this._taxonomies[e])if(n===""+t){if(this._taxonomies[e][n].translations&&this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()]&&this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()].description)return this._taxonomies[e][n].translations[this._languagesService.getCurrentLang()].description;if(this._taxonomies[e][n].translations&&this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()]&&this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()].description)return this._taxonomies[e][n].translations[this._languagesService.getDefaultLang()].description;if(this._taxonomies[e][n].description)return this._taxonomies[e][n].description;break}return""},t.prototype.getTaxonomyElement=function(t){for(var e in t=""+t,this._taxonomies)if(this._taxonomies[e]&&this._taxonomies[e][t])return this._taxonomies[e][t]},t.prototype.getFeature=function(t){var e=this;return t=""+t,new o.a(function(n){var i=e._onFeaturesChange.pipe(Object(s.a)(250)).subscribe(function(){n.next(e._features[t]?e._features[t]:void 0)});return{unsubscribe:function(){i.unsubscribe()}}})},t.prototype.hasTaxonomy=function(t,e){if(t=""+t,e=""+e,this._features&&this._features[t]&&this._features[t].properties.taxonomy){var n=!1;for(var i in this._features[t].properties.taxonomy){for(var r=0,o=this._features[t].properties.taxonomy[i];r<o.length;r++)if(""+o[r]===e){n=!0;break}if(n)break}return n}return!1},t.prototype.getFeatures=function(){return this._onFeaturesChange},t.prototype.getTaxonomies=function(){return this._onTaxonomyChange},t.prototype.getFeatureName=function(t){return this._features[t=""+t]?this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getCurrentLang()]&&this._features[t].properties.translations[this._languagesService.getCurrentLang()].name?this._features[t].properties.translations[this._languagesService.getCurrentLang()].name:this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getDefaultLang()]&&this._features[t].properties.translations[this._languagesService.getDefaultLang()].name?this._features[t].properties.translations[this._languagesService.getDefaultLang()].name:this._features[t].properties.name?this._features[t].properties.name:void 0:""},t.prototype.getFeatureImage=function(t){return this._features[t=""+t]&&this._features[t].properties.image?this._features[t].properties.image:""},t.prototype.getFeatureDescription=function(t){return this._features[t=""+t]?this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getCurrentLang()]&&this._features[t].properties.translations[this._languagesService.getCurrentLang()].description?this._features[t].properties.translations[this._languagesService.getCurrentLang()].description:this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getDefaultLang()]&&this._features[t].properties.translations[this._languagesService.getDefaultLang()].description?this._features[t].properties.translations[this._languagesService.getDefaultLang()].description:this._features[t].properties.description?this._features[t].properties.description:"":""},t.prototype.getTaxonomyColor=function(t){t=""+t;var e=this._configService.getDefaultFeatureColor(),n=e;for(var i in this._taxonomies){for(var r in this._taxonomies[i])if(r===t){this._taxonomies[i][r].color?n=this._taxonomies[i][r].color:this._taxonomies[i][r].parent&&(n=this.getTaxonomyColor(this._taxonomies[i][r].parent));break}if(n!==e)break}return n},t.prototype.getFeatureColor=function(t){t=""+t;var e=this._configService.getDefaultFeatureColor(),n=e;if(!this._features[t])return n;if(this._features[t].properties.color)n=this._features[t].properties.color;else if(this._features[t].properties.taxonomy){var i=[];if("Point"===this._features[t].geometry.type&&this._features[t].properties.route){for(var r in this._features[t].properties.taxonomy)if("webmapp_category"!==r)for(var o in this._features[t].properties.taxonomy[r])i.push(""+this._features[t].properties.taxonomy[r][o])}else if("Point"===this._features[t].geometry.type){if(this._features[t].properties.taxonomy.webmapp_category)for(var r in this._features[t].properties.taxonomy.webmapp_category)i.push(""+this._features[t].properties.taxonomy.webmapp_category[r])}else if(this._features[t].properties.taxonomy.activity)for(var r in this._features[t].properties.taxonomy.activity)i.push(""+this._features[t].properties.taxonomy.activity[r]);if(i.length>0)for(var s=0,a=i;s<a.length&&(n=this.getTaxonomyColor(r=a[s]))===e;s++);}return n},t.prototype.getTaxonomyFillColor=function(t){t=""+t;var e=this._configService.getDefaultFeatureFillColor(),n=e;for(var i in this._taxonomies){for(var r in this._taxonomies[i])if(r===t){this._taxonomies[i][r].fillColor&&(n=this._taxonomies[i][r].fillColor),this.getTaxonomyFillColor(this._taxonomies[i][r].parent);break}if(n!==e)break}return n},t.prototype.getFeatureFillColor=function(t){t=""+t;var e=this._configService.getDefaultFeatureFillColor(),n=e;if(!this._features[t])return n;if(this._features[t].properties.fillColor)n=this._features[t].properties.fillColor;else if(this._features[t].properties.taxonomy){var i=[];if("Point"===this._features[t].geometry.type&&this._features[t].properties.route){for(var r in this._features[t].properties.taxonomy)if("webmapp_category"!==r)for(var o in this._features[t].properties.taxonomy[r])i.push(""+this._features[t].properties.taxonomy[r][o])}else if("Point"===this._features[t].geometry.type){if(this._features[t].properties.taxonomy.webmapp_category)for(var r in this._features[t].properties.taxonomy.webmapp_category)i.push(""+this._features[t].properties.taxonomy.webmapp_category[r])}else if(this._features[t].properties.taxonomy.activity)for(var r in this._features[t].properties.taxonomy.activity)i.push(""+this._features[t].properties.taxonomy.activity[r]);if(i.length>0)for(var s=0,a=i;s<a.length&&(n=this.getTaxonomyFillColor(r=a[s]))===e;s++);}return n===e&&(n=this.getFeatureColor(t)),n},t.prototype.getTaxonomyFillOpacity=function(t){t=""+t;var e=l.a;for(var n in this._taxonomies){for(var i in this._taxonomies[n])if(i===t){this._taxonomies[n][i].fillOpacity?e=this._taxonomies[n][i].fillOpacity:this._taxonomies[n][i].fillOpacity&&(e=this.getTaxonomyFillOpacity(this._taxonomies[n][i].parent));break}if(e!==l.a)break}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getFeatureFillOpacity=function(t){var e=l.a;if(!this._features[t=""+t])return e;if(this._features[t].properties.fillOpacity)e=this._features[t].properties.fillOpacity;else if(this._features[t].properties.taxonomy){var n=[];if("Point"===this._features[t].geometry.type&&this._features[t].properties.route){for(var i in this._features[t].properties.taxonomy)if("webmapp_category"!==i)for(var r in this._features[t].properties.taxonomy[i])n.push(""+this._features[t].properties.taxonomy[i][r])}else if("Point"===this._features[t].geometry.type){if(this._features[t].properties.taxonomy.webmapp_category)for(var i in this._features[t].properties.taxonomy.webmapp_category)n.push(""+this._features[t].properties.taxonomy.webmapp_category[i])}else if(this._features[t].properties.taxonomy.activity)for(var i in this._features[t].properties.taxonomy.activity)n.push(""+this._features[t].properties.taxonomy.activity[i]);if(n.length>0)for(var o=0,s=n;o<s.length&&(e=this.getTaxonomyFillOpacity(i=s[o]))===l.a;o++);}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getTaxonomyStrokeWidth=function(t,e){t=""+t;var n=e>=0?e:l.f;for(var i in this._taxonomies){for(var r in this._taxonomies[i])if(r===t){this._taxonomies[i][r].strokeWidth?n=this._taxonomies[i][r].strokeWidth:this._taxonomies[i][r].strokeWidth&&(n=this.getTaxonomyStrokeWidth(this._taxonomies[i][r].parent));break}if(e>=0&&n!==e||void 0===e&&n!==l.f)break}return n},t.prototype.getFeatureStrokeWidth=function(t){var e=l.f,n=l.f;if(!this._features[t=""+t])return e;if(-1!==["Polygon","MultiPolygon"].indexOf(this._features[t].geometry.type)&&(e=l.d,n=l.d),this._features[t].properties.strokeWidth)e=this._features[t].properties.strokeWidth;else if(this._features[t].properties.taxonomy){var i=[];if("Point"===this._features[t].geometry.type&&this._features[t].properties.route){for(var r in this._features[t].properties.taxonomy)if("webmapp_category"!==r)for(var o in this._features[t].properties.taxonomy[r])i.push(""+this._features[t].properties.taxonomy[r][o])}else if("Point"===this._features[t].geometry.type){if(this._features[t].properties.taxonomy.webmapp_category)for(var r in this._features[t].properties.taxonomy.webmapp_category)i.push(""+this._features[t].properties.taxonomy.webmapp_category[r])}else if(this._features[t].properties.taxonomy.activity)for(var r in this._features[t].properties.taxonomy.activity)i.push(""+this._features[t].properties.taxonomy.activity[r]);if(i.length>0)for(var s=0,a=i;s<a.length&&(e=this.getTaxonomyStrokeWidth(r=a[s],n))===n;s++);}return Math.max(0,Math.round(e))},t.prototype.getTaxonomyStrokeOpacity=function(t){t=""+t;var e=l.b;for(var n in this._taxonomies){for(var i in this._taxonomies[n])if(i===t){this._taxonomies[n][i].strokeOpacity?e=this._taxonomies[n][i].strokeOpacity:this._taxonomies[n][i].strokeOpacity&&(e=this.getTaxonomyStrokeOpacity(this._taxonomies[n][i].parent));break}if(e!==l.b)break}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getFeatureStrokeOpacity=function(t){var e=l.b;if(!this._features[t=""+t])return e;if(this._features[t].properties.strokeOpacity)e=this._features[t].properties.strokeOpacity;else if(this._features[t].properties.taxonomy){var n=[];if("Point"===this._features[t].geometry.type&&this._features[t].properties.route){for(var i in this._features[t].properties.taxonomy)if("webmapp_category"!==i)for(var r in this._features[t].properties.taxonomy[i])n.push(""+this._features[t].properties.taxonomy[i][r])}else if("Point"===this._features[t].geometry.type){if(this._features[t].properties.taxonomy.webmapp_category)for(var i in this._features[t].properties.taxonomy.webmapp_category)n.push(""+this._features[t].properties.taxonomy.webmapp_category[i])}else if(this._features[t].properties.taxonomy.activity)for(var i in this._features[t].properties.taxonomy.activity)n.push(""+this._features[t].properties.taxonomy.activity[i]);if(n.length>0)for(var o=0,s=n;o<s.length&&(e=this.getTaxonomyStrokeOpacity(i=s[o]))===l.b;o++);}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getTaxonomyIcon=function(t){for(var e in t=""+t,this._taxonomies)for(var n in this._taxonomies[e])if(n===t)return this._taxonomies[e][n].icon?this._taxonomies[e][n].icon:this._taxonomies[e][n].parent?this.getTaxonomyIcon(this._taxonomies[e][n].parent):"";return""},t.prototype.getFeatureIcon=function(t){if(!this._features[t=""+t])return"";var e="";if(this._features[t].properties.icon)e=this._features[t].properties.icon;else if(this._features[t].properties.taxonomy){var n=[];for(var i in this._features[t].properties.taxonomy)for(var r in this._features[t].properties.taxonomy[i])n.push(""+this._features[t].properties.taxonomy[i][r]);if(n.length>0)for(var o=0,s=n;o<s.length&&""===(e=this.getTaxonomyIcon(i=s[o]));o++);}return e},t.prototype.getTaxonomyLineDash=function(t){t=""+t;var e=void 0;for(var n in this._taxonomies){for(var i in this._taxonomies[n])if(i===t){this._taxonomies[n][i].lineDash?e=this._taxonomies[n][i].lineDash:this._taxonomies[n][i].parent&&(e=this.getTaxonomyLineDash(this._taxonomies[n][i].parent));break}if(e&&e.length&&e.length>0)break}return e},t.prototype.getFeatureLineDash=function(t){if(this._features[t=""+t]){var e=void 0;if(this._features[t].properties.lineDash)e=this._features[t].properties.lineDash;else if(this._features[t].properties.taxonomy){var n=[];if("Point"===this._features[t].geometry.type&&this._features[t].properties.route){for(var i in this._features[t].properties.taxonomy)if("webmapp_category"!==i)for(var r in this._features[t].properties.taxonomy[i])n.push(""+this._features[t].properties.taxonomy[i][r])}else if("Point"===this._features[t].geometry.type){if(this._features[t].properties.taxonomy.webmapp_category)for(var i in this._features[t].properties.taxonomy.webmapp_category)n.push(""+this._features[t].properties.taxonomy.webmapp_category[i])}else if(this._features[t].properties.taxonomy.activity)for(var i in this._features[t].properties.taxonomy.activity)n.push(""+this._features[t].properties.taxonomy.activity[i]);if(n.length>0)for(var o=0,s=n;o<s.length&&!((e=this.getTaxonomyLineDash(i=s[o]))&&e.length&&e.length>1);o++);}return e}},t.prototype.getMediaUrl=function(t,e){return t},t.prototype.getAudioUrl=function(t){t=""+t;var e="";return this._features&&this._features[t]&&(this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getCurrentLang()]&&this._features[t].properties.translations[this._languagesService.getCurrentLang()].audio?e=this._features[t].properties.translations[this._languagesService.getCurrentLang()].audio:this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getDefaultLang()]&&this._features[t].properties.translations[this._languagesService.getDefaultLang()].audio?e=this._features[t].properties.translations[this._languagesService.getDefaultLang()].audio:this._features[t].properties.audio&&(e=this._features[t].properties.audio)),""!==e&&(e=this.getMediaUrl(e,"audio")),e},t.prototype.getTaxonomiesText=function(t){if(!this._features[t=""+t])return"";var e="",n=this._features[t],i=[];for(var r in i.push("webmapp_category"),i.push("activity"),i.push("theme"),i.push("when"),i.push("where"),i.push("who"),n.properties.taxonomy)if(-1!==i.indexOf(r))for(var o in n.properties.taxonomy[r]){var s=this.getTaxonomyElement(n.properties.taxonomy[r][o]);s&&(s.translations&&s.translations[this._languagesService.getCurrentLang()]&&s.translations[this._languagesService.getCurrentLang()].name?(""!==e&&(e+=", "),e+=s.translations[this._languagesService.getCurrentLang()].name):s.translations&&s.translations[this._languagesService.getDefaultLang()]&&s.translations[this._languagesService.getDefaultLang()].name?(""!==e&&(e+=", "),e+=s.translations[this._languagesService.getDefaultLang()].name):s.name&&(""!==e&&(e+=", "),e+=s.name))}return e},t.prototype.getTile=function(t,e,n){return new Promise(function(n,i){t[2]-=1,n(e+t[0]+"/"+t[1]+"/"+t[2]+".png")})},t.prototype.getGridJson=function(t,e,n){var i=this;return new Promise(function(n,r){i._communicationService.get(e+t[0]+"/"+t[1]+"/"+(t[2]-1)+".grid.json").subscribe(function(t){n(t)},function(t){r(t)})})},t.ngInjectableDef=p.T({factory:function(){return new t(p.X(a.a),p.X(u.a),p.X(c.a))},token:t,providedIn:"root"}),t}()},ttJE:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return m}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return r}),n.d(e,"g",function(){return o});var i=function(t){return o(t)},r=function(t,e){return"string"==typeof t&&(e=t,t=void 0),i(t).includes(e)},o=function(t){void 0===t&&(t=window),t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=s(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-"+e)}),e},s=function(t){return Object.keys(g).filter(function(e){return g[e](t)})},a=function(t){return!!f(t,/iPad/i)||!(!f(t,/Macintosh/i)||!c(t))},u=function(t){return f(t,/android|sink/i)},c=function(t){return d(t,"(any-pointer:coarse)")},h=function(t){return l(t)||p(t)},l=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},p=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},f=function(t,e){return e.test(t.navigator.userAgent)},d=function(t,e){return t.matchMedia(e).matches},g={ipad:a,iphone:function(t){return f(t,/iPhone/i)},ios:function(t){return f(t,/iPhone|iPod/i)||a(t)},android:u,phablet:function(t){var e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return i>390&&i<520&&r>620&&r<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,i=Math.min(e,n),r=Math.max(e,n);return a(t)||function(t){return u(t)&&!f(t,/mobile/i)}(t)||i>460&&i<820&&r>780&&r<1400},cordova:l,capacitor:p,electron:function(t){return f(t,/electron/i)},pwa:function(t){return!(!t.matchMedia("(display-mode: standalone)").matches&&!t.navigator.standalone)},mobile:c,mobileweb:function(t){return c(t)&&!h(t)},desktop:function(t){return!c(t)},hybrid:h},v=new(function(){function t(){this.m=new Map}return t.prototype.reset=function(t){this.m=new Map(Object.entries(t))},t.prototype.get=function(t,e){var n=this.m.get(t);return void 0!==n?n:e},t.prototype.getBoolean=function(t,e){void 0===e&&(e=!1);var n=this.m.get(t);return void 0===n?e:"string"==typeof n?"true"===n:!!n},t.prototype.getNumber=function(t,e){var n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n},t.prototype.set=function(t,e){this.m.set(t,e)},t}()),y=function(t){try{var e=t.sessionStorage.getItem(x);return null!==e?JSON.parse(e):{}}catch(n){return{}}},m=function(t,e){try{t.sessionStorage.setItem(x,JSON.stringify(e))}catch(n){return}},_=function(t){var e={};return t.location.search.slice(1).split("&").map(function(t){return t.split("=")}).map(function(t){var e=t[1];return[decodeURIComponent(t[0]),decodeURIComponent(e)]}).filter(function(t){return b(t[0],w)}).map(function(t){var e=t[1];return[t[0].slice(w.length),e]}).forEach(function(t){e[t[0]]=t[1]}),e},b=function(t,e){return t.substr(0,e.length)===e},w="ionic:",x="ionic-persist-config"},uMaO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("mrSG"),r=function(t){function e(e,n){var i=t.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return i.d(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("pugT").a)},uPr3:function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},uxXc:function(t,e,n){var i=n("t1N5"),r=n("onlc"),o={};Object.keys(i).forEach(function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:i[t].channels}),Object.defineProperty(o[t],"labels",{value:i[t].labels});var e=r(t);Object.keys(e).forEach(function(n){var i=e[n];o[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),o[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)})}),t.exports=o},"vf8/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),r=n("a3Cf"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.APP={USER_SELECT:"user_select",APPLE_MAPS:"apple_maps",GOOGLE_MAPS:"google_maps",WAZE:"waze",CITYMAPPER:"citymapper",NAVIGON:"navigon",TRANSIT_APP:"transit_app",YANDEX:"yandex",UBER:"uber",TOMTOM:"tomtom",BING_MAPS:"bing_maps",SYGIC:"sygic",HERE_MAPS:"here_maps",MOOVIT:"moovit"},e.TRANSPORT_MODE={DRIVING:"driving",WALKING:"walking",BICYCLING:"bicycling",TRANSIT:"transit"},e}return Object(i.d)(e,t),e.prototype.navigate=function(t,e){return Object(r.cordova)(this,"navigate",{successIndex:2,errorIndex:3},arguments)},e.prototype.isAppAvailable=function(t){return Object(r.cordova)(this,"isAppAvailable",{},arguments)},e.prototype.availableApps=function(){return Object(r.cordova)(this,"availableApps",{},arguments)},e.prototype.getAppDisplayName=function(t){return Object(r.cordova)(this,"getAppDisplayName",{sync:!0},arguments)},e.prototype.getAppsForPlatform=function(t){return Object(r.cordova)(this,"getAppsForPlatform",{sync:!0},arguments)},e.prototype.supportsTransportMode=function(t,e){return Object(r.cordova)(this,"supportsTransportMode",{sync:!0},arguments)},e.prototype.getTransportModes=function(t,e){return Object(r.cordova)(this,"getTransportModes",{sync:!0},arguments)},e.prototype.supportsDestName=function(t,e){return Object(r.cordova)(this,"supportsDestName",{sync:!0},arguments)},e.prototype.supportsStart=function(t,e){return Object(r.cordova)(this,"supportsStart",{sync:!0},arguments)},e.prototype.supportsStartName=function(t,e){return Object(r.cordova)(this,"supportsStartName",{sync:!0},arguments)},e.prototype.supportsLaunchMode=function(t,e){return Object(r.cordova)(this,"supportsLaunchMode",{sync:!0},arguments)},e.prototype.userSelect=function(t,e){return Object(r.cordova)(this,"userSelect",{sync:!0},arguments)},e.pluginName="LaunchNavigator",e.plugin="uk.co.workingedge.phonegap.plugin.launchnavigator",e.pluginRef="launchnavigator",e.repo="https://github.com/dpa99c/phonegap-launch-navigator",e.platforms=["Android","iOS","Windows","Windows Phone 8"],e}(r.IonicNativePlugin)},"w69+":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("CcnG"),r=n("t/Na"),o=function(){function t(t){this._http=t}return t.prototype.get=function(t,e){return this._http.get(t,e)},t.prototype.post=function(t,e,n){return this._http.post(t,e,n)},t.ngInjectableDef=i.T({factory:function(){return new t(i.X(r.c))},token:t,providedIn:"root"}),t}()},wSPg:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return l}),n.d(e,"k",function(){return r});var i=n("9TBO"),r=function(t){return"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t)},o=function(t){return!!t.shadowRoot&&!!t.attachShadow},s=function(t){var e=t.closest("ion-item");return e?e.querySelector("ion-label"):null},a=function(t,e,n,i,r){if(t||o(e)){var s=e.querySelector("input.aux-input");s||((s=e.ownerDocument.createElement("input")).type="hidden",s.classList.add("aux-input"),e.appendChild(s)),s.disabled=r,s.name=n,s.value=i||""}},u=function(t,e,n){return Math.max(t,Math.min(e,n))},c=function(t,e){if(!t){var n="ASSERT: "+e;throw console.error(n),new Error(n)}},h=function(t){return t.timeStamp||Date.now()},l=function(t){if(t){var e=t.changedTouches;if(e&&e.length>0){var n=e[0];return{x:n.clientX,y:n.clientY}}if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},p=function(t){var e="rtl"===document.dir;switch(t){case"start":return e;case"end":return!e;default:throw new Error('"'+t+'" is not a valid value for [side]. Use "start" or "end" instead.')}},f=function(t,e){var n=t._original||t;return{_original:t,emit:d(n.emit.bind(n),e)}},d=function(t,e){var n;return void 0===e&&(e=0),function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout.apply(void 0,Object(i.d)([t,e],r))}}},xSm1:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("KOl+");function r(t,e,n,r){return Object(i.c)(t,e,n).apply(this,r)}},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},xoJo:function(t,e,n){"use strict";n.r(e),n.d(e,"GESTURE_CONTROLLER",function(){return u}),n.d(e,"createGesture",function(){return p});var i,r=function(){function t(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}return t.prototype.createGesture=function(t){return new o(this,this.newID(),t.name,t.priority||0,!!t.disableScroll)},t.prototype.createBlocker=function(t){return void 0===t&&(t={}),new s(this,this.newID(),t.disable,!!t.disableScroll)},t.prototype.start=function(t,e,n){return this.canStart(t)?(this.requestedStart.set(e,n),!0):(this.requestedStart.delete(e),!1)},t.prototype.capture=function(t,e,n){if(!this.start(t,e,n))return!1;var i=this.requestedStart,r=-1e4;if(i.forEach(function(t){r=Math.max(r,t)}),r===n){this.capturedId=e,i.clear();var o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:t}});return document.dispatchEvent(o),!0}return i.delete(e),!1},t.prototype.release=function(t){this.requestedStart.delete(t),this.capturedId===t&&(this.capturedId=void 0)},t.prototype.disableGesture=function(t,e){var n=this.disabledGestures.get(t);void 0===n&&(n=new Set,this.disabledGestures.set(t,n)),n.add(e)},t.prototype.enableGesture=function(t,e){var n=this.disabledGestures.get(t);void 0!==n&&n.delete(e)},t.prototype.disableScroll=function(t){this.disabledScroll.add(t),1===this.disabledScroll.size&&document.body.classList.add(a)},t.prototype.enableScroll=function(t){this.disabledScroll.delete(t),0===this.disabledScroll.size&&document.body.classList.remove(a)},t.prototype.canStart=function(t){return void 0===this.capturedId&&!this.isDisabled(t)},t.prototype.isCaptured=function(){return void 0!==this.capturedId},t.prototype.isScrollDisabled=function(){return this.disabledScroll.size>0},t.prototype.isDisabled=function(t){var e=this.disabledGestures.get(t);return!!(e&&e.size>0)},t.prototype.newID=function(){return this.gestureId++,this.gestureId},t}(),o=function(){function t(t,e,n,i,r){this.id=e,this.name=n,this.disableScroll=r,this.priority=1e6*i+e,this.ctrl=t}return t.prototype.canStart=function(){return!!this.ctrl&&this.ctrl.canStart(this.name)},t.prototype.start=function(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)},t.prototype.capture=function(){if(!this.ctrl)return!1;var t=this.ctrl.capture(this.name,this.id,this.priority);return t&&this.disableScroll&&this.ctrl.disableScroll(this.id),t},t.prototype.release=function(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))},t.prototype.destroy=function(){this.release(),this.ctrl=void 0},t}(),s=function(){function t(t,e,n,i){this.id=e,this.disable=n,this.disableScroll=i,this.ctrl=t}return t.prototype.block=function(){if(this.ctrl){if(this.disable)for(var t=0,e=this.disable;t<e.length;t++)this.ctrl.disableGesture(e[t],this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}},t.prototype.unblock=function(){if(this.ctrl){if(this.disable)for(var t=0,e=this.disable;t<e.length;t++)this.ctrl.enableGesture(e[t],this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}},t.prototype.destroy=function(){this.unblock(),this.ctrl=void 0},t}(),a="backdrop-no-scroll",u=new r,c=function(t,e,n,i){var r,o,s=h(t)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;return t.__zone_symbol__addEventListener?(r="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(r="addEventListener",o="removeEventListener"),t[r](e,n,s),function(){t[o](e,n,s)}},h=function(t){if(void 0===i)try{var e=Object.defineProperty({},"passive",{get:function(){i=!0}});t.addEventListener("optsTest",function(){},e)}catch(n){i=!1}return!!i},l=function(t){return t instanceof Document?t:t.ownerDocument},p=function(t){var e=!1,n=!1,i=!0,r=!1,o=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},t),s=o.canStart,a=o.onWillStart,h=o.onStart,p=o.onEnd,v=o.notCaptured,y=o.onMove,m=o.threshold,_={type:"pan",startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,event:void 0,data:void 0},b=function(t,e,n){var i=o.maxAngle*(Math.PI/180),r="x"===o.direction,s=Math.cos(i),a=e*e,u=0,c=0,h=!1,l=0;return{start:function(t,e){u=t,c=e,l=0,h=!0},detect:function(t,e){if(!h)return!1;var n=t-u,i=e-c,o=n*n+i*i;if(o<a)return!1;var p=Math.sqrt(o),f=(r?n:i)/p;return l=f>s?1:f<-s?-1:0,h=!1,!0},isGesture:function(){return 0!==l},getDirection:function(){return l}}}(0,o.threshold),w=u.createGesture({name:t.gestureName,priority:t.gesturePriority,disableScroll:t.disableScroll}),x=function(){e&&(r=!1,y&&y(_))},S=function(){return!(w&&!w.capture()||(e=!0,i=!1,_.startX=_.currentX,_.startY=_.currentY,_.startTimeStamp=_.timeStamp,a?a(_).then(E):E(),0))},E=function(){h&&h(_),i=!0},C=function(){e=!1,n=!1,r=!1,i=!0,w.release()},T=function(t){var n=e,r=i;C(),r&&(f(_,t),n?p&&p(_):v&&v(_))},O=function(t,e,n,i,r){var o,s,a,u,h,p,f,d=0,g=function(i){d=Date.now()+2e3,e(i)&&(!s&&n&&(s=c(t,"touchmove",n,r)),a||(a=c(t,"touchend",y,r)),u||(u=c(t,"touchcancel",y,r)))},v=function(i){d>Date.now()||e(i)&&(!p&&n&&(p=c(l(t),"mousemove",n,r)),f||(f=c(l(t),"mouseup",m,r)))},y=function(t){_(),i&&i(t)},m=function(t){b(),i&&i(t)},_=function(){s&&s(),a&&a(),u&&u(),s=a=u=void 0},b=function(){p&&p(),f&&f(),p=f=void 0},w=function(){_(),b()},x=function(e){e?(o&&o(),h&&h(),o=h=void 0,w()):(o||(o=c(t,"touchstart",g,r)),h||(h=c(t,"mousedown",v,r)))};return{setDisabled:x,stop:w,destroy:function(){x(!0),i=n=e=void 0}}}(o.el,function(t){var e=g(t);return!(n||!i)&&(d(t,_),_.startX=_.currentX,_.startY=_.currentY,_.startTimeStamp=_.timeStamp=e,_.velocityX=_.velocityY=_.deltaX=_.deltaY=0,_.event=t,(!s||!1!==s(_))&&(w.release(),!!w.start()&&(n=!0,0===m?S():(b.start(_.startX,_.startY),!0))))},function(t){e?!r&&i&&(r=!0,f(_,t),requestAnimationFrame(x)):(f(_,t),b.detect(_.currentX,_.currentY)&&(b.isGesture()&&S()||M()))},T,{capture:!1}),M=function(){C(),O.stop(),v&&v(_)};return{setDisabled:function(t){t&&e&&T(void 0),O.setDisabled(t)},destroy:function(){w.destroy(),O.destroy()}}},f=function(t,e){if(e){var n=t.currentX,i=t.currentY,r=t.timeStamp;d(e,t);var o=t.currentX,s=t.currentY,a=(t.timeStamp=g(e))-r;if(a>0&&a<100){var u=(s-i)/a;t.velocityX=(o-n)/a*.7+.3*t.velocityX,t.velocityY=.7*u+.3*t.velocityY}t.deltaX=o-t.startX,t.deltaY=s-t.startY,t.event=e}},d=function(t,e){var n=0,i=0;if(t){var r=t.changedTouches;if(r&&r.length>0){var o=r[0];n=o.clientX,i=o.clientY}else void 0!==t.pageX&&(n=t.pageX,i=t.pageY)}e.currentX=n,e.currentY=i},g=function(t){return t.timeStamp||Date.now()}},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var i=n("+umK");function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:i.a}},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("CcnG"),r=n("AytR"),o=function(){function t(t,e,n){void 0===e&&(e="/assets/i18n/"),void 0===n&&(n=".json"),this.http=t,this.prefix=e,this.suffix=n}return t.prototype.getTranslation=function(t){return this.http.get(""+this.prefix+t+this.suffix)},t}(),s=n("r4Kj");function a(t){return new o(t,r.a.deployUrl+"assets/i18n/",".json")}var u=function(){return function(){}}(),c=n("BtSu"),h=n("MLd6"),l=n("H+Hf"),p=n("tB1I"),f=n("WPWp"),d=n("1i8C"),g=n("VnD/"),v=n("t9fZ"),y=n("Mzne"),m=function(){function t(t,e,n,i,r,o,s,a,u,c){this._deviceService=t,this._mapService=e,this._modelService=n,this._languagesService=i,this._configService=r,this._geolocationService=o,this._router=s,this._routerService=a,this._themeService=u,this._ngZone=c,this.initializeApp()}return t.prototype.initializeApp=function(){var t=this,e=this._configService.getStartUrl();this._routerService.navigate([this._configService.getStartUrl()]),this._mapService.onReady.pipe(Object(g.a)(function(t){return t}),Object(v.a)(1)).subscribe(function(){if(-1!==e.indexOf("/poi/")){var n=e.split("/poi/")[1];t._mapService.centerOnFeature(n,!0)}else t._mapService.centerFeatureLayer();t._mapService.onMapUpdated.subscribe(function(){t._mapService.centerFeatureLayer()})})},t}(),_=n("pMnS"),b=n("oBZk"),w=n("ZZ/e"),x=n("ZYCi"),S=n("Ip0R"),E=i.ob({encapsulation:2,styles:[],data:{}});function C(t){return i.Hb(0,[(t()(),i.qb(0,0,null,null,5,"ion-app",[],null,null,null,b.g,b.a)),i.pb(1,49152,null,0,w.d,[i.h,i.k,i.z],null,null),(t()(),i.qb(2,16777216,null,0,1,"ion-router-outlet",[["main",""]],null,null,null,null,null)),i.pb(3,212992,null,0,w.gb,[x.b,i.P,i.j,[8,null],[8,null],w.c,w.Fb,S.f,i.k,x.n,i.z,x.a,[3,w.gb]],null,null),(t()(),i.qb(4,0,null,0,1,"div",[["id","defaultMapContainer"]],null,null,null,null,null)),(t()(),i.qb(5,0,null,null,0,"div",[["id","map"]],null,null,null,null,null))],function(t,e){t(e,3,0)},null)}function T(t){return i.Hb(0,[(t()(),i.qb(0,0,null,null,1,"wm-embedmaps-root",[],null,null,null,C,E)),i.pb(1,49152,null,0,m,[c.a,d.a,p.a,h.a,s.a,l.a,x.n,y.a,f.a,i.z],null,null)],null,null)}var O=i.mb("wm-embedmaps-root",m,T,{},{},[]),M=n("ZYjt"),I=n("t/Na"),R=n("A7o+"),P=n("Axip"),k=n("gTw3"),A=n("vf8/"),L=function(){return function(){}}(),j=i.nb(u,[m],function(t){return i.xb([i.yb(512,i.j,i.cb,[[8,[_.a,O]],[3,i.j],i.x]),i.yb(5120,i.u,i.lb,[[3,i.u]]),i.yb(4608,S.l,S.k,[i.u,[2,S.s]]),i.yb(5120,i.c,i.ib,[]),i.yb(5120,i.s,i.jb,[]),i.yb(5120,i.t,i.kb,[]),i.yb(4608,M.b,M.k,[S.c]),i.yb(6144,i.H,null,[M.b]),i.yb(4608,M.e,M.g,[]),i.yb(5120,M.c,function(t,e,n,i,r,o,s,a){return[new M.i(t,e,n),new M.n(i),new M.m(r,o,s,a)]},[S.c,i.z,i.B,S.c,S.c,M.e,i.db,[2,M.f]]),i.yb(4608,M.d,M.d,[M.c,i.z]),i.yb(135680,M.l,M.l,[S.c]),i.yb(4608,M.j,M.j,[M.d,M.l,i.c]),i.yb(6144,i.F,null,[M.j]),i.yb(6144,M.o,null,[M.l]),i.yb(4608,i.N,i.N,[i.z]),i.yb(4608,w.b,w.b,[i.z,i.g]),i.yb(4608,w.Eb,w.Eb,[w.b,i.j,i.q]),i.yb(4608,w.Hb,w.Hb,[w.b,i.j,i.q]),i.yb(4608,I.h,I.n,[S.c,i.B,I.l]),i.yb(4608,I.o,I.o,[I.h,I.m]),i.yb(5120,I.a,function(t){return[t]},[I.o]),i.yb(4608,I.k,I.k,[]),i.yb(6144,I.i,null,[I.k]),i.yb(4608,I.g,I.g,[I.i]),i.yb(6144,I.b,null,[I.g]),i.yb(4608,I.f,I.j,[I.b,i.q]),i.yb(4608,I.c,I.c,[I.f]),i.yb(5120,x.a,x.B,[x.n]),i.yb(4608,x.h,x.h,[]),i.yb(6144,x.i,null,[x.h]),i.yb(135680,x.r,x.r,[x.n,i.w,i.i,i.q,x.i]),i.yb(4608,x.f,x.f,[]),i.yb(5120,x.F,x.x,[x.n,S.p,x.j]),i.yb(5120,x.k,x.E,[x.C]),i.yb(5120,i.b,function(t){return[t]},[x.k]),i.yb(5120,R.f,a,[I.c]),i.yb(4608,R.c,R.e,[]),i.yb(4608,R.h,R.d,[]),i.yb(4608,R.b,R.a,[]),i.yb(4608,R.k,R.k,[]),i.yb(4608,R.j,R.j,[R.k,R.f,R.c,R.h,R.b,R.l,R.m]),i.yb(4608,P.a,P.a,[]),i.yb(4608,k.a,k.a,[]),i.yb(4608,A.a,A.a,[]),i.yb(1073742336,S.b,S.b,[]),i.yb(1024,i.l,M.p,[]),i.yb(1024,i.y,function(){return[x.w()]},[]),i.yb(512,x.C,x.C,[i.q]),i.yb(256,w.Kb,void 0,[]),i.yb(1024,i.d,function(t,e,n,i,r,o,s){return[M.q(t),x.D(e),w.Lb(n,i,r),(a=o,function(){return a.initialize()})];var a},[[2,i.y],x.C,w.Kb,S.c,i.z,s.a,y.a]),i.yb(512,i.e,i.e,[[2,i.d]]),i.yb(131584,i.g,i.g,[i.z,i.db,i.q,i.l,i.j,i.e]),i.yb(1073742336,i.f,i.f,[i.g]),i.yb(1073742336,M.a,M.a,[[3,M.a]]),i.yb(1073742336,w.Cb,w.Cb,[]),i.yb(1073742336,I.e,I.e,[]),i.yb(1073742336,I.d,I.d,[]),i.yb(1073742336,R.g,R.g,[]),i.yb(1024,x.v,x.z,[[3,x.n]]),i.yb(512,x.t,x.c,[]),i.yb(512,x.b,x.b,[]),i.yb(256,S.a,"/",[]),i.yb(256,x.j,{preloadingStrategy:x.h,useHash:!1,initialNavigation:!1},[]),i.yb(1024,S.g,x.y,[S.o,[2,S.a],x.j]),i.yb(512,S.f,S.f,[S.g]),i.yb(512,i.i,i.i,[]),i.yb(512,i.w,i.K,[i.i,[2,i.L]]),i.yb(1024,x.l,function(){return[[{path:"",loadChildren:"./pages/main/main.module#MainPageModule"},{path:"**",redirectTo:"",pathMatch:"full"}]]},[]),i.yb(512,x.m,w.Db,[]),i.yb(1024,x.n,x.A,[i.g,x.t,x.b,S.f,i.q,i.w,i.i,x.l,x.j,[2,x.s],[2,x.m]]),i.yb(1073742336,x.p,x.p,[[2,x.v],[2,x.n]]),i.yb(1073742336,L,L,[]),i.yb(1073742336,u,u,[]),i.yb(256,i.bb,!0,[]),i.yb(256,I.l,"XSRF-TOKEN",[]),i.yb(256,I.m,"X-XSRF-TOKEN",[]),i.yb(256,R.m,void 0,[]),i.yb(256,R.l,void 0,[])])});r.a.production&&Object(i.U)(),M.h().bootstrapModuleFactory(j).catch(function(t){return console.log(t)})},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("rPjj"),r=n("Fxb1"),o=n("6blF");function s(t,e,n,s,a){if(void 0===a&&(a=new i.a(t,n,s)),!a.closed)return e instanceof o.a?e.subscribe(a):Object(r.a)(e)(a)}}},[[0,1]]]);