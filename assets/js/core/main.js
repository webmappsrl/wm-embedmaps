(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/WYv":function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},"/yFf":function(t,e,n){"use strict";var r=n("oHnp");function i(t){if(t)return function(t){for(var e in i.prototype)Object.prototype.hasOwnProperty.call(i.prototype,e)&&(t[e]=i.prototype[e]);return t}(t)}t.exports=i,i.prototype.get=function(t){return this.header[t.toLowerCase()]},i.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=r.type(e);var n=r.params(e);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(this[i]=n[i]);this.links={};try{t.link&&(this.links=r.parseLinks(t.link))}catch(o){}},i.prototype._setStatusProperties=function(t){var e=t/100|0;this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=1===e,this.ok=2===e,this.redirect=3===e,this.clientError=4===e,this.serverError=5===e,this.error=(4===e||5===e)&&this.toError(),this.created=201===t,this.accepted=202===t,this.noContent=204===t,this.badRequest=400===t,this.unauthorized=401===t,this.notAcceptable=406===t,this.forbidden=403===t,this.notFound=404===t,this.unprocessableEntity=422===t}},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("Fxb1"),o=n("pugT"),a=n("xTla"),s=n("JF+6"),u=n("En8+"),l=n("/WYv"),c=n("2ePl");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(c.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}n.d(e,"a",function(){return h})},"15JJ":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("MGBS"),o=n("rPjj"),a=n("zotm"),s=n("67Y/"),u=n("0/uQ");function l(t,e){return"function"==typeof e?function(n){return n.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new c(t))}}var c=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.d(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(a.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a)},"1i8C":function(t,e,n){"use strict";var r=n("CcnG"),i=n("S5bw"),o=n("ZZ/e"),a=n("Rney"),s=n("Gi3i"),u=n("VnD/"),l=n("t9fZ"),c=n("mrSG");function h(){return function(){throw new Error("Unimplemented abstract method.")}()}var p=0;function f(t){return t.ol_uid||(t.ol_uid=String(++p))}var d="6.3.1",g=function(t){function e(e){var n=this,r="Assertion failed. See https://openlayers.org/en/"+("latest"===d?d:"v"+d.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,r)||this).code=e,n.name="AssertionError",n.message=r,n}return Object(c.d)(e,t),e}(Error);function v(t,e){if(!t)throw new g(e)}var m={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},y={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function _(t){for(var e=[1/0,1/0,-1/0,-1/0],n=0,r=t.length;n<r;++n)j(e,t[n]);return e}function b(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function w(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function S(t,e,n){var r,i;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i}function C(t,e){return E(t,e[0],e[1])}function x(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function E(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function O(t,e){var n=e[0],r=e[1],i=y.UNKNOWN;return n<t[0]?i|=y.LEFT:n>t[2]&&(i|=y.RIGHT),r<t[1]?i|=y.BELOW:r>t[3]&&(i|=y.ABOVE),i===y.UNKNOWN&&(i=y.INTERSECTING),i}function I(){return[1/0,1/0,-1/0,-1/0]}function T(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function M(t){return T(1/0,1/0,-1/0,-1/0,t)}function P(t,e){var n=t[0],r=t[1];return T(n,r,n,r,e)}function k(t,e,n,r,i){return F(M(i),t,e,n,r)}function A(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function R(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function j(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function F(t,e,n,r,i){for(;n<r;n+=i)L(t,e[n],e[n+1]);return t}function L(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function D(t){var e=0;return K(t)||(e=Z(t)*U(t)),e}function N(t){return[t[0],t[1]]}function z(t){return[t[2],t[1]]}function B(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function G(t,e){var n;return e===m.BOTTOM_LEFT?n=N(t):e===m.BOTTOM_RIGHT?n=z(t):e===m.TOP_LEFT?n=q(t):e===m.TOP_RIGHT?n=W(t):v(!1,13),n}function V(t,e,n,r,i){var o=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),l=o*s,c=o*u,h=a*s,p=a*u,f=t[0],d=t[1],g=f-l+p,v=f-l-p,m=f+l-p,y=f+l+p,_=d-c-h,b=d-c+h,w=d+c+h,S=d+c-h;return T(Math.min(g,v,m,y),Math.min(_,b,w,S),Math.max(g,v,m,y),Math.max(_,b,w,S),i)}function U(t){return t[3]-t[1]}function H(t,e,n){var r=n||[1/0,1/0,-1/0,-1/0];return X(t,e)?(r[0]=t[0]>e[0]?t[0]:e[0],r[1]=t[1]>e[1]?t[1]:e[1],r[2]=t[2]<e[2]?t[2]:e[2],r[3]=t[3]<e[3]?t[3]:e[3]):M(r),r}function q(t){return[t[0],t[3]]}function W(t){return[t[2],t[3]]}function Z(t){return t[2]-t[0]}function X(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function K(t){return t[2]<t[0]||t[3]<t[1]}function Y(t,e,n,r){var i=[];if(r>1)for(var o=t[2]-t[0],a=t[3]-t[1],s=0;s<r;++s)i.push(t[0]+o*s/r,t[1],t[2],t[1]+a*s/r,t[2]-o*s/r,t[3],t[0],t[3]-a*s/r);else i=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(i,i,2);for(var u=[],l=[],c=(s=0,i.length);s<c;s+=2)u.push(i[s]),l.push(i[s+1]);return function(t,e,n){return T(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(u,l,n)}var J={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Q(t){return Math.pow(t,3)}function $(t){return 1-Q(1-t)}function tt(t){return 3*t*t-2*t*t*t}function et(t){return t}var nt=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function rt(t,e){return t>e?1:t<e?-1:0}function it(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function ot(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function at(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]}function st(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function ut(){return!0}function lt(){return!1}function ct(){}var ht=function(){function t(t){this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),pt="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(null!=o)for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])}return n};function ft(t){for(var e in t)delete t[e]}var dt="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function gt(t){var e;for(e in t)return!1;return!e}var vt=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_={},n.dispatching_={},n.listeners_={},n}return Object(c.d)(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_[t];n||(this.listeners_[t]=n=[]),-1===n.indexOf(e)&&n.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new ht(t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,i=this.listeners_[n];if(i){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,a=i.length;o<a;++o)if(!1===(r="handleEvent"in i[o]?i[o].handleEvent(e):i[o].call(this,e))||e.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,ct);delete this.dispatching_[n]}return r}},e.prototype.disposeInternal=function(){ft(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(t in this.pendingRemovals_?(n[r]=ct,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(nt),mt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"},yt=function(t){function e(e,n,r){var i=t.call(this)||this,o=r||{};return i.tileCoord=e,i.state=n,i.interimTile=null,i.hifi=!0,i.key="",i.transition_=void 0===o.transition?250:o.transition,i.transitionStarts_={},i}return Object(c.d)(e,t),e.prototype.changed=function(){this.dispatchEvent(mt.CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==J.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==J.LOADED){t.interimTile=null;break}t.getState()==J.LOADING?e=t:t.getState()==J.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==J.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){h()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else this.transitionStarts_[t]=n=e;var r=e-n+1e3/60;return r>=this.transition_?1:Q(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(vt);function _t(t,e,n){return Math.min(Math.max(t,e),n)}var bt=function(){return"cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2}}();function wt(t,e,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=i,r=o):u>0&&(n+=a*u,r+=s*u)}return St(t,e,n,r)}function St(t,e,n,r){var i=n-t,o=r-e;return i*i+o*o}function Ct(t){return t*Math.PI/180}function xt(t,e){var n=t%e;return n*e<0?n+e:n}function Et(t,e,n){return t+n*(e-t)}function Ot(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function It(t,e,n){return t+"/"+e+"/"+n}function Tt(t){return It(t[0],t[1],t[2])}function Mt(t){return(t[1]<<t[0])+t[2]}function Pt(t,e){var n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var t=e.getFullTileRange(a[0]);return v(t,55),(t.getHeight()-a[2]-1).toString()}):void 0}}function kt(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=Pt(t[i],e);return function(t){return 1===t.length?t[0]:function(e,n,r){if(e){var i=xt(Mt(e),t.length);return t[i](e,n,r)}}}(r)}function At(t,e,n){}function Rt(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){var o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function jt(t,e,n,r){return Rt(t,e,n,r,!0)}function Ft(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ft(t))}function Lt(t,e,n,r){var i=document.createElement("script"),o="olc_"+f(e);function a(){delete window[o],i.parentNode.removeChild(i)}i.async=!0,i.src=t+(-1==t.indexOf("?")?"?":"&")+(r||"callback")+"="+o;var s=setTimeout(function(){a(),n&&n()},1e4);window[o]=function(t){clearTimeout(s),a(),e(t)},document.getElementsByTagName("head")[0].appendChild(i)}var Dt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Nt=6371008.8;function zt(t,e,n){var r=n||Nt,i=Ct(t[1]),o=Ct(e[1]),a=(o-i)/2,s=Ct(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}var Bt={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Gt={};Gt[Bt.DEGREES]=2*Math.PI*6370997/360,Gt[Bt.FEET]=.3048,Gt[Bt.METERS]=1,Gt[Bt.USFEET]=1200/3937;var Vt=Bt,Ut=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Gt[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),Ht=6378137,qt=Math.PI*Ht,Wt=[-qt,-qt,qt,qt],Zt=[-180,-85,180,85],Xt=function(t){function e(e){return t.call(this,{code:e,units:Vt.METERS,extent:Wt,global:!0,worldExtent:Zt,getPointResolution:function(t,e){return t/bt(e[1]/Ht)}})||this}return Object(c.d)(e,t),e}(Ut),Kt=[new Xt("EPSG:3857"),new Xt("EPSG:102100"),new Xt("EPSG:102113"),new Xt("EPSG:900913"),new Xt("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Xt("urn:ogc:def:crs:EPSG::3857"),new Xt("http://www.opengis.net/gml/srs/epsg.xml#3857")],Yt=[-180,-90,180,90],Jt=6378137*Math.PI/180,Qt=function(t){function e(e,n){return t.call(this,{code:e,units:Vt.DEGREES,extent:Yt,axisOrientation:n,global:!0,metersPerUnit:Jt,worldExtent:Yt})||this}return Object(c.d)(e,t),e}(Ut),$t=[new Qt("CRS:84"),new Qt("EPSG:4326","neu"),new Qt("urn:ogc:def:crs:EPSG::4326","neu"),new Qt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Qt("urn:ogc:def:crs:OGC:1.3:CRS84"),new Qt("urn:ogc:def:crs:OGC:2:84"),new Qt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Qt("urn:x-ogc:def:crs:EPSG:4326","neu")],te={};function ee(t,e,n){var r=t.getCode(),i=e.getCode();r in te||(te[r]={}),te[r][i]=n}var ne={};function re(t,e,n){var r;if(void 0!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];r=e}else r=t.slice();return r}function ie(t,e,n){if(void 0!==e&&t!==e){for(var r=0,i=t.length;r<i;++r)e[r]=t[r];t=e}return t}function oe(t){!function(t,e){ne[t]=e}(t.getCode(),t),ee(t,t,re)}function ae(t){return"string"==typeof t?ne[t]||null:t||null}function se(t,e,n,r){var i,o=(t=ae(t)).getPointResolutionFunc();if(o)i=o(e,n),r&&r!==t.getUnits()&&(a=t.getMetersPerUnit())&&(i=i*a/Gt[r]);else if(t.getUnits()==Vt.DEGREES&&!r||r==Vt.DEGREES)i=e;else{var a,s=he(t,ae("EPSG:4326")),u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];i=(zt((u=s(u,u,2)).slice(0,2),u.slice(2,4))+zt(u.slice(4,6),u.slice(6,8)))/2,void 0!==(a=r?Gt[r]:t.getMetersPerUnit())&&(i/=a)}return i}function ue(t){!function(t){t.forEach(oe)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&ee(e,t,re)})})}function le(t,e){return t?"string"==typeof t?ae(t):t:ae(e)}function ce(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:he(t,e)===re&&n}function he(t,e){var n=function(t,e){var n;return t in te&&e in te[t]&&(n=te[t][e]),n}(t.getCode(),e.getCode());return n||(n=ie),n}function pe(t,e){return he(ae(t),ae(e))}function fe(t,e,n){return pe(e,n)(t,void 0,t.length)}function de(t,e,n,r){return Y(t,pe(e,n),void 0,r)}var ge,ve,me,ye=null;function _e(){return ye}function be(t,e){return ye?fe(t,e,ye):t}function we(t,e){return ye?fe(t,ye,e):t}function Se(t,e){return ye?de(t,e,ye):t}function Ce(t,e){return ye?de(t,ye,e):t}ue(Kt),ue($t),ge=Kt,ve=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=qt,s=0;s<r;s+=i){o[s]=a*t[s]/180;var u=Ht*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));u>a?u=a:u<-a&&(u=-a),o[s+1]=u}return o},me=function(t,e,n){var r=t.length,i=n>1?n:2,o=e;void 0===o&&(o=i>2?t.slice():new Array(r));for(var a=0;a<r;a+=i)o[a]=180*t[a]/qt,o[a+1]=360*Math.atan(Math.exp(t[a+1]/Ht))/Math.PI-90;return o},$t.forEach(function(t){ge.forEach(function(e){ee(t,e,ve),ee(e,t,me)})});var xe={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache()&&!(this.peekLast().getKey()in t);)this.pop().release()},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(Tt(e.tileCoord)),e.release())}).bind(this))}},e}(function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return v(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},t.prototype.remove=function(t){var e=this.entries_[t];return v(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){v(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}());function Oe(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function Ie(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Te(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var Me={PROPERTYCHANGE:"propertychange"},Pe=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return Object(c.d)(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(mt.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=Rt(this,t[i],e);return r}return Rt(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=jt(this,t[i],e);return r}return jt(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)this.removeEventListener(t[n],e);else this.removeEventListener(t,e)},e}(vt),ke=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.key=n,i.oldValue=r,i}return Object(c.d)(e,t),e}(ht),Ae={};function Re(t){return Ae.hasOwnProperty(t)?Ae[t]:Ae[t]="change:"+t}var je=function(t){function e(e){var n=t.call(this)||this;return f(n),n.values_={},void 0!==e&&n.setProperties(e),n}return Object(c.d)(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return pt({},this.values_)},e.prototype.notify=function(t,e){var n;n=Re(t),this.dispatchEvent(new ke(n,t,e)),this.dispatchEvent(new ke(n=Me.PROPERTYCHANGE,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var r=this.values_[t];this.values_[t]=e,r!==e&&this.notify(t,r)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(Pe);function Fe(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var Le=function(t){function e(e){var n=t.call(this)||this;return n.projection_=ae(e.projection),n.attributions_=Fe(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:xe.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return Object(c.d)(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return h()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Fe(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(je),De=42,Ne=256,ze=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Be(t,e,n,r,i){return void 0!==i?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new ze(t,e,n,r)}var Ge=ze,Ve=[0,0,0],Ue=function(){function t(t){var e,n,r;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,v((n=function(t,e){return e-t}||rt,(e=this.resolutions_).every(function(t,r){if(0===r)return!0;var i=n(e[r-1],t);return!(i>0||0===i)})),17),!t.origins)for(var i=0,o=this.resolutions_.length-1;i<o;++i)if(r){if(this.resolutions_[i]/this.resolutions_[i+1]!==r){r=void 0;break}}else r=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=r,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,v(this.origins_.length==this.resolutions_.length,20));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=q(a)),v(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,v(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:Ne,v(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Ge(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),i=r.minX,o=r.maxX;i<=o;++i)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,i,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var i,o,a=null,s=t[0]-1;for(2===this.zoomFactor_?(i=t[1],o=t[2]):a=this.getTileCoordExtent(t,r);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?Be(i=Math.floor(i/2),i,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],i=2*t[2];return Be(r,r+1,i,i+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),i=this.getResolution(t),o=Te(this.getTileSize(t),this.tmpSize_);return T(r[0]+e.minX*o[0]*i,r[1]+e.minY*o[1]*i,r[0]+(e.maxX+1)*o[0]*i,r[1]+(e.maxY+1)*o[1]*i,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=Ve;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var i=r[1],o=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Be(i,r[1],o,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Te(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Te(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*i[0]*r,a=n[1]-(t[2]+1)*i[1]*r;return T(o,a,o+i[0]*r,a+i[1]*r,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,i){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),u=Te(this.getTileSize(o),this.tmpSize_),l=r?.5:0,c=Math.floor((t-s[0])/n+(r?.5:0)),h=Math.floor((s[1]-e)/n+l),p=a*c/u[0],f=a*h/u[1];return r?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),Ot(o,p,f,i)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,i){var o=this.getOrigin(n),a=this.getResolution(n),s=Te(this.getTileSize(n),this.tmpSize_),u=r?.5:0,l=Math.floor((t-o[0])/a+(r?.5:0)),c=Math.floor((o[1]-e)/a+u),h=l/s[0],p=c/s[1];return r?(h=Math.ceil(h)-1,p=Math.ceil(p)-1):(h=Math.floor(h),p=Math.floor(p)),Ot(n,h,p,i)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){return _t(it(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}();function He(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){var i=m.TOP_LEFT,o=We(t,void 0,void 0);return new Ue({extent:t,origin:G(t,i),resolutions:o,tileSize:void 0})}(Ze(t))}(t),t.setDefaultTileGrid(e)),e}function qe(t){var e=t||{},n=e.extent||ae("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:We(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Ue(r)}function We(t,e,n,r){for(var i=void 0!==e?e:De,o=U(t),a=Z(t),s=Te(void 0!==n?n:Ne),u=r>0?r:Math.max(a/s[0],o/s[1]),l=i+1,c=new Array(l),h=0;h<l;++h)c[h]=u/Math.pow(2,h);return c}function Ze(t){var e=(t=ae(t)).getExtent();if(!e){var n=180*Gt[Vt.DEGREES]/t.getMetersPerUnit();e=T(-n,-n,n,n)}return e}var Xe=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=[256,256],i=e.tileGrid;i&&Te(i.getTileSize(i.getMinZoom()),r);var o="undefined"!=typeof screen,a=o?screen.availWidth||screen.width:1920,s=o?screen.availHeight||screen.height:1080,u=4*Math.ceil(a/r[0])*Math.ceil(s/r[1]);return n.tileCache=new Ee(Math.max(u,e.cacheSize||0)),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return Object(c.d)(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var i=this.getTileCacheForProjection(t);if(!i)return!1;for(var o,a,s,u=!0,l=n.minX;l<=n.maxX;++l)for(var c=n.minY;c<=n.maxY;++c)a=It(e,l,c),s=!1,i.containsKey(a)&&(s=(o=i.get(a)).getState()===J.LOADED)&&(s=!1!==r(o)),s||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,i){return h()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:He(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!ce(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),i=this.getTilePixelRatio(e),o=Te(r.getTileSize(t),this.tmpSize);return 1==i?o:Ie(o,i,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var r=e[0],i=t.getTileCoordCenter(e),o=Ze(n);if(C(o,i))return e;var a=Z(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,t.getTileCoordForCoordAndZ(i,r)}(r,t,n)),function(t,e){var n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,a=e.getExtent();return!(o=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||o.containsXY(r,i)}(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,r){},e}(Le),Ke=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return Object(c.d)(e,t),e}(ht),Ye=Xe,Je=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n)||this;return s.src_=r,s.extent_=i,s.preemptive_=o,s.grid_=null,s.keys_=null,s.data_=null,s.jsonp_=a,s}return Object(c.d)(e,t),e.prototype.getImage=function(){return null},e.prototype.getData=function(t){if(!this.grid_||!this.keys_)return null;var e=(t[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]),n=this.grid_[Math.floor((1-(t[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!=typeof n)return null;var r=n.charCodeAt(Math.floor(e*n.length));r>=93&&r--,r>=35&&r--;var i=null;if((r-=32)in this.keys_){var o=this.keys_[r];i=this.data_&&o in this.data_?this.data_[o]:o}return i},e.prototype.forDataAtCoordinate=function(t,e,n){this.state==J.EMPTY&&!0===n?(this.state=J.IDLE,jt(this,mt.CHANGE,function(n){e(this.getData(t))},this),this.loadInternal_()):!0===n?setTimeout((function(){e(this.getData(t))}).bind(this),0):e(this.getData(t))},e.prototype.getKey=function(){return this.src_},e.prototype.handleError_=function(){this.state=J.ERROR,this.changed()},e.prototype.handleLoad_=function(t){this.grid_=t.grid,this.keys_=t.keys,this.data_=t.data,this.state=J.LOADED,this.changed()},e.prototype.loadInternal_=function(){if(this.state==J.IDLE)if(this.state=J.LOADING,this.jsonp_)Lt(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",this.src_),t.send()}},e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n=void 0;try{n=JSON.parse(e.responseText)}catch(r){return void this.handleError_()}this.handleLoad_(n)}else this.handleError_()},e.prototype.onXHRError_=function(t){this.handleError_()},e.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState(J.EMPTY)},e}(yt),Qe={ADD:"add",REMOVE:"remove"},$e=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.element=n,i.index=r,i}return Object(c.d)(e,t),e}(ht),tn=function(t){function e(e,n){var r=t.call(this)||this;if(r.unique_=!!(n||{}).unique,r.array_=e||[],r.unique_)for(var i=0,o=r.array_.length;i<o;++i)r.assertUnique_(r.array_[i],i);return r.updateLength_(),r}return Object(c.d)(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get("length")},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new $e(Qe.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new $e(Qe.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new $e(Qe.REMOVE,r,t)),this.dispatchEvent(new $e(Qe.ADD,e,t))}else{for(var i=n;i<t;++i)this.insertAt(i,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set("length",this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new g(58)},e}(je),en=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var i=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,i),this.initialVelocity_=Math.sqrt(i*i+o*o)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),nn={SINGLECLICK:"singleclick",CLICK:mt.CLICK,DBLCLICK:mt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};function rn(t,e,n,r){var i=t.getZoom();if(void 0!==i){var o=t.getConstrainedZoom(i+e),a=t.getResolutionForZoom(o);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:$})}}var on=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return Object(c.d)(e,t),e.prototype.getActive=function(){return this.get("active")},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set("active",t)},e.prototype.setMap=function(t){this.map_=t},e}(je);function an(t){var e=!1;if(t.type==nn.DBLCLICK){var n=t.coordinate,r=t.originalEvent.shiftKey?-this.delta_:this.delta_;rn(t.map.getView(),r,n,this.duration_),t.preventDefault(),e=!0}return!e}var sn=function(t){function e(e){var n=t.call(this,{handleEvent:an})||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return Object(c.d)(e,t),e}(on);function un(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function ln(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function cn(t,e){var n=Math.cos(e),r=Math.sin(e),i=t[1]*n+t[0]*r;return t[0]=t[0]*n-t[1]*r,t[1]=i,t}function hn(t,e){return t[0]*=e,t[1]*=e,t}function pn(t,e){var n=e.getExtent();if(e.canWrapX()&&(t[0]<n[0]||t[0]>=n[2])){var r=Z(n),i=Math.floor((t[0]-n[0])/r);t[0]-=i*r}return t}var fn="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",dn=-1!==fn.indexOf("firefox"),gn=-1!==fn.indexOf("webkit")&&-1==fn.indexOf("edge"),vn=-1!==fn.indexOf("macintosh"),mn="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,yn="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,_n="undefined"!=typeof Image&&Image.prototype.decode,bn=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}(),wn=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Sn=function(t){return t.target.getTargetElement()===document.activeElement},Cn=ut,xn=function(t){var e=t.originalEvent;return 0==e.button&&!(gn&&vn&&e.ctrlKey)},En=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},On=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},In=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Tn=function(t){var e=t.pointerEvent;return v(void 0!==e,56),"mouse"==e.pointerType},Mn=function(t){var e=t.pointerEvent;return v(void 0!==e,56),e.isPrimary&&0===e.button};function Pn(t){for(var e=t.length,n=0,r=0,i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return[n/e,r/e]}var kn=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Object(c.d)(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==nn.POINTERDRAG)this.handleDragEvent(t);else if(t.type==nn.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==nn.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==nn.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===nn.POINTERDOWN||e===nn.POINTERDRAG||e===nn.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==nn.POINTERUP?delete this.trackedPointers_[n]:t.type==nn.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=dt(this.trackedPointers_)}},e}(on);function An(t){return En(t)&&Mn(t)}var Rn=function(t){function e(e){var n=t.call(this,{stopDown:lt})||this,r=e||{};return n.kinetic_=r.kinetic,n.lastCentroid=null,n.panning_=!1,n.condition_=r.condition?r.condition:An,n.noKinetic_=!1,n}return Object(c.d)(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=Sn(t)),e&&this.condition_(t)},e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=Pn(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],i=t.map.getView();hn(r,i.getResolution()),cn(r,i.getRotation()),i.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),i=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(o),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:$})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.conditionInternal_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(kn);function jn(t){return void 0!==t?0:void 0}function Fn(t){return void 0!==t?t:void 0}var Ln=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{stopDown:lt})||this).condition_=r.condition?r.condition:wn,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return Object(c.d)(e,t),e.prototype.handleDragEvent=function(t){if(Tn(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==jn){var r=e.getSize(),i=t.pixel,o=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);void 0!==this.lastAngle_&&n.adjustRotationInternal(-(o-this.lastAngle_)),this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){return!Tn(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!(!Tn(t)||!xn(t)||!this.condition_(t)||(t.map.getView().beginInteraction(),this.lastAngle_=void 0,0))},e}(kn),Dn={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function Nn(t,e,n,r,i,o){for(var a=o||[],s=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];a[s++]=i[0]*l+i[2]*c+i[4],a[s++]=i[1]*l+i[3]*c+i[5]}return o&&a.length!=s&&(a.length=s),a}function zn(){return[1,0,0,1,0,0]}function Bn(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Gn(t,e,n,r,i,o,a,s){var u=Math.sin(o),l=Math.cos(o);return t[0]=r*l,t[1]=i*u,t[2]=-r*u,t[3]=i*l,t[4]=a*r*l-s*r*u+e,t[5]=a*i*u+s*i*l+n,t}function Vn(t,e){var n,r=(n=e)[0]*n[3]-n[1]*n[2];v(0!==r,32);var i=e[0],o=e[1],a=e[2],s=e[3],u=e[4],l=e[5];return t[0]=s/r,t[1]=-o/r,t[2]=-a/r,t[3]=i/r,t[4]=(a*l-s*u)/r,t[5]=-(i*l-o*u)/r,t}function Un(t){return"matrix("+t.join(", ")+")"}var Hn=zn(),qn=function(t){function e(){var e,n,r,i,o,a=t.call(this)||this;return a.extent_=[1/0,1/0,-1/0,-1/0],a.extentRevision_=-1,a.simplifiedGeometryMaxMinSquaredTolerance=0,a.simplifiedGeometryRevision=0,a.simplifyTransformedInternal=(e=function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)},o=!1,function(){var t=Array.prototype.slice.call(arguments);return o&&this===i&&st(t,r)||(o=!0,i=this,r=t,n=e.apply(this,arguments)),n}),a}return Object(c.d)(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return h()},e.prototype.closestPointXY=function(t,e,n,r){return h()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return h()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){h()},e.prototype.scale=function(t,e,n){h()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return h()},e.prototype.getType=function(){return h()},e.prototype.applyTransform=function(t){h()},e.prototype.intersectsExtent=function(t){return h()},e.prototype.translate=function(t,e){h()},e.prototype.transform=function(t,e){var n=ae(t),r=n.getUnits()==Vt.TILE_PIXELS?function(t,r,i){var o=n.getExtent(),a=n.getWorldExtent(),s=U(a)/U(o);return Gn(Hn,a[0],a[3],s,-s,0,0,0),Nn(t,0,t.length,i,Hn,r),pe(n,e)(t,r,i)}:pe(n,e);return this.applyTransform(r),this},e}(je);function Wn(t){var e;return t==Dn.XY?e=2:t==Dn.XYZ||t==Dn.XYM?e=3:t==Dn.XYZM&&(e=4),e}var Zn=function(t){function e(){var e=t.call(this)||this;return e.layout=Dn.XY,e.stride=2,e.flatCoordinates=null,e}return Object(c.d)(e,t),e.prototype.computeExtent=function(t){return k(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return h()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Wn(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){h()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=Wn(t);else{for(var i=0;i<n;++i){if(0===e.length)return this.layout=Dn.XY,void(this.stride=2);e=e[0]}t=function(t){var e;return 2==t?e=Dn.XY:3==t?e=Dn.XYZ:4==t&&(e=Dn.XYZM),e}(r=e.length)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,i,o,a){for(var s=a||[],u=Math.cos(i),l=Math.sin(i),c=o[0],h=o[1],p=0,f=0;f<n;f+=r){var d=t[f]-c,g=t[f+1]-h;s[p++]=c+d*u-g*l,s[p++]=h+d*l+g*u;for(var v=f+2;v<f+r;++v)s[p++]=t[v]}a&&s.length!=p&&(s.length=p)}(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var i=n;i||(i=B(this.getExtent()));var o=this.getFlatCoordinates();if(o){var a=this.getStride();!function(t,e,n,r,i,o,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,p=0;p<n;p+=r){var f=t[p+1]-c;u[h++]=l+i*(t[p]-l),u[h++]=c+o*f;for(var d=p+2;d<p+r;++d)u[h++]=t[d]}s&&u.length!=h&&(u.length=h)}(o,0,o.length,a,t,r,i,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();!function(t,e,n,r,i,o,a){for(var s=a||[],u=0,l=0;l<n;l+=r){s[u++]=t[l]+i,s[u++]=t[l+1]+o;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}a&&s.length!=u&&(s.length=u)}(n,0,n.length,r,t,e,n),this.changed()}},e}(qn);function Xn(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=a*s-o*u,o=s,a=u}return i/2}function Kn(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=Xn(t,e,s,r),e=s}return i}function Yn(t,e,n,r,i,o,a){var s,u=t[e],l=t[e+1],c=t[n]-u,h=t[n+1]-l;if(0===c&&0===h)s=e;else{var p=((i-u)*c+(o-l)*h)/(c*c+h*h);if(p>1)s=n;else{if(p>0){for(var f=0;f<r;++f)a[f]=Et(t[e+f],t[n+f],p);return void(a.length=r)}s=e}}for(f=0;f<r;++f)a[f]=t[s+f];a.length=r}function Jn(t,e,n,r,i){var o=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],u=t[e+1],l=St(o,a,s,u);l>i&&(i=l),o=s,a=u}return i}function Qn(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=Jn(t,e,s,r,i),e=s}return i}function $n(t,e,n,r,i,o,a,s,u,l,c){if(e==n)return l;var h,p;if(0===i){if((p=St(a,s,t[e],t[e+1]))<l){for(h=0;h<r;++h)u[h]=t[e+h];return u.length=r,p}return l}for(var f=c||[NaN,NaN],d=e+r;d<n;)if(Yn(t,d-r,d,r,a,s,f),(p=St(a,s,f[0],f[1]))<l){for(l=p,h=0;h<r;++h)u[h]=f[h];u.length=r,d+=r}else d+=r*Math.max((Math.sqrt(p)-Math.sqrt(l))/i|0,1);if(o&&(Yn(t,n-r,e,r,a,s,f),(p=St(a,s,f[0],f[1]))<l)){for(l=p,h=0;h<r;++h)u[h]=f[h];u.length=r}return l}function tr(t,e,n,r,i,o,a,s,u,l,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=$n(t,e,d,r,i,o,a,s,u,l,h),e=d}return l}function er(t,e,n,r){for(var i=0,o=n.length;i<o;++i)for(var a=n[i],s=0;s<r;++s)t[e++]=a[s];return e}function nr(t,e,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=er(t,e,n[s],r);o[a++]=l,e=l}return o.length=a,o}function rr(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=e;s<n;s+=r)o[a++]=t.slice(s,s+r);return o.length=a,o}function ir(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=rr(t,e,l,r,o[a]),e=l}return o.length=a,o}function or(t,e,n,r,i){for(var o=void 0!==i?i:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];o[a++]=ir(t,e,l,r,o[a]),e=l[l.length-1]}return o.length=a,o}function ar(t,e,n,r,i,o,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)o[a++]=t[e],o[a++]=t[e+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;for(var l=[e,n-r],c=0;l.length>0;){for(var h=l.pop(),p=l.pop(),f=0,d=t[p],g=t[p+1],v=t[h],m=t[h+1],y=p+r;y<h;y+=r){var _=wt(t[y],t[y+1],d,g,v,m);_>f&&(c=y,f=_)}f>i&&(u[(c-e)/r]=1,p+r<c&&l.push(p,c),c+r<h&&l.push(c,h))}for(y=0;y<s;++y)u[y]&&(o[a++]=t[e+y*r],o[a++]=t[e+y*r+1]);return a}function sr(t,e){return e*Math.round(t/e)}function ur(t,e,n,r,i,o,a){if(e==n)return a;var s,u,l=sr(t[e],i),c=sr(t[e+1],i);e+=r,o[a++]=l,o[a++]=c;do{if(s=sr(t[e],i),u=sr(t[e+1],i),(e+=r)==n)return o[a++]=s,o[a++]=u,a}while(s==l&&u==c);for(;e<n;){var h=sr(t[e],i),p=sr(t[e+1],i);if(e+=r,h!=s||p!=u){var f=s-l,d=u-c,g=h-l,v=p-c;f*v==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&v<d||d==v||d>0&&v>d)?(s=h,u=p):(o[a++]=s,o[a++]=u,l=s,c=u,s=h,u=p)}}return o[a++]=s,o[a++]=u,a}function lr(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=ur(t,e,c,r,i,o,a),s.push(a),e=c}return a}var cr=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return Object(c.d)(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<S(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$n(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return Xn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return rr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=ar(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Dn.XY)},e.prototype.getType=function(){return Dt.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=er(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Zn),hr=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return Object(c.d)(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){var i=this.flatCoordinates,o=St(t,e,i[0],i[1]);if(o<r){for(var a=this.stride,s=0;s<a;++s)n[s]=i[s];return n.length=a,o}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return P(this.flatCoordinates,t)},e.prototype.getType=function(){return Dt.POINT},e.prototype.intersectsExtent=function(t){return E(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)t[e++]=n[i];return e}(this.flatCoordinates,0,t),this.changed()},e}(Zn);function pr(t,e,n,r,i){return!function(t,e){var n;return(n=e(N(t)))?n:(n=e(z(t)))?n:(n=e(W(t)))?n:(n=e(q(t)))||!1}(i,function(i){return!fr(t,e,n,r,i[0],i[1])})}function fr(t,e,n,r,i,o){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=o?c>o&&(l-s)*(o-u)-(i-s)*(c-u)>0&&a++:c<=o&&(l-s)*(o-u)-(i-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function dr(t,e,n,r,i,o){if(0===n.length)return!1;if(!fr(t,e,n[0],r,i,o))return!1;for(var a=1,s=n.length;a<s;++a)if(fr(t,n[a-1],n[a],r,i,o))return!1;return!0}function gr(t,e,n,r,i,o,a){for(var s,u,l,c,h,p,f,d=i[o+1],g=[],v=0,m=n.length;v<m;++v){var y=n[v];for(c=t[y-r],p=t[y-r+1],s=e;s<y;s+=r)h=t[s],f=t[s+1],(d<=p&&f<=d||p<=d&&d<=f)&&g.push(l=(d-p)/(f-p)*(h-c)+c),c=h,p=f}var _=NaN,b=-1/0;for(g.sort(rt),c=g[0],s=1,u=g.length;s<u;++s){h=g[s];var w=Math.abs(h-c);w>b&&dr(t,e,n,r,l=(c+h)/2,d)&&(_=l,b=w),c=h}return isNaN(_)&&(_=i[o]),a?(a.push(_,d,b),a):[_,d,b]}function vr(t,e,n,r,i){for(var o,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],o=i(a,s))return o;a[0]=s[0],a[1]=s[1]}return!1}function mr(t,e,n,r,i){var o=F([1/0,1/0,-1/0,-1/0],t,e,n,r);return!!X(i,o)&&(!!x(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]||vr(t,e,n,r,function(t,e){return function(t,e,n){var r=!1,i=O(t,e),o=O(t,n);if(i===y.INTERSECTING||o===y.INTERSECTING)r=!0;else{var a=t[0],s=t[1],u=t[2],l=t[3],c=n[0],h=n[1],p=(h-e[1])/(c-e[0]),f=void 0,d=void 0;o&y.ABOVE&&!(i&y.ABOVE)&&(r=(f=c-(h-l)/p)>=a&&f<=u),r||!(o&y.RIGHT)||i&y.RIGHT||(r=(d=h-(c-u)*p)>=s&&d<=l),r||!(o&y.BELOW)||i&y.BELOW||(r=(f=c-(h-s)/p)>=a&&f<=u),r||!(o&y.LEFT)||i&y.LEFT||(r=(d=h-(c-a)*p)>=s&&d<=l)}return r}(i,t,e)}))}function yr(t,e,n,r,i){if(!function(t,e,n,r,i){return!!(mr(t,e,n,r,i)||fr(t,e,n,r,i[0],i[1])||fr(t,e,n,r,i[0],i[3])||fr(t,e,n,r,i[2],i[1])||fr(t,e,n,r,i[2],i[3]))}(t,e,n[0],r,i))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(pr(t,n[o-1],n[o],r,i)&&!mr(t,n[o-1],n[o],r,i))return!1;return!0}function _r(t,e,n,r){for(;e<n-r;){for(var i=0;i<r;++i){var o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function br(t,e,n,r){for(var i=0,o=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];i+=(s-o)*(u+a),o=s,a=u}return i>0}function wr(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=br(t,e,u,r);if(0===a){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}function Sr(t,e,n,r,i){for(var o=void 0!==i&&i,a=0,s=n.length;a<s;++a){var u=n[a],l=br(t,e,u,r);(0===a?o&&l||!o&&!l:o&&!l||!o&&l)&&_r(t,e,u,r),e=u}return e}function Cr(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o)e=Sr(t,e,n[o],r,i);return e}var xr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.ends_=[],i.flatInteriorPointRevision_=-1,i.flatInteriorPoint_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,void 0!==n&&r?(i.setFlatCoordinates(n,e),i.ends_=r):i.setCoordinates(e,n),i}return Object(c.d)(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?at(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<S(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tr(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return dr(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Kn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Sr(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,ir(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=B(this.getExtent());this.flatInteriorPoint_=gr(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new hr(this.getFlatInteriorPoint(),Dn.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new cr(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o],u=new cr(e.slice(i,s),t);r.push(u),i=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;wr(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Sr(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=lr(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,Dn.XY,r)},e.prototype.getType=function(){return Dt.POLYGON},e.prototype.intersectsExtent=function(t){return yr(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=nr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Zn),Er=xr;function Or(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=[e,n,e,i,r,i,r,n,e,n];return new xr(o,Dn.XY,[o.length])}var Ir=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Object(c.d)(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Er([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(nt),Tr=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.coordinate=n,i.mapBrowserEvent=r,i}return Object(c.d)(e,t),e}(ht);function Mr(){var t,e=this.getMap(),n=e.getView(),r=e.getSize(),i=this.getGeometry().getExtent();if(this.out_){var o=n.calculateExtentInternal(r),a=(t=[e.getPixelFromCoordinateInternal(N(i)),e.getPixelFromCoordinateInternal(W(i))],function(t,e){for(var n=0,r=e.length;n<r;++n)j(t,e[n]);return t}(M(void 0),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}(o,1/n.getResolutionForExtentInternal(a,r)),i=o}var s=n.getConstrainedResolution(n.getResolutionForExtentInternal(i,r)),u=n.getConstrainedCenter(B(i),s);n.animateInternal({resolution:s,center:u,duration:this.duration_,easing:$})}var Pr=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,{condition:r.condition?r.condition:On,className:r.className||"ol-dragzoom",minArea:r.minArea,onBoxEnd:Mr})||this).duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return Object(c.d)(e,t),e}(function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.box_=new Ir(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,n.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:ct,n.startPixel_=null,n.condition_=r.condition?r.condition:xn,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return Object(c.d)(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1];return r*r+i*i>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Tr("boxdrag",t.coordinate,t))},e.prototype.handleUpEvent=function(t){return this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new Tr("boxend",t.coordinate,t))),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Tr("boxstart",t.coordinate,t)),!0)},e}(kn)),kr={LEFT:37,UP:38,RIGHT:39,DOWN:40};function Ar(t){var e=!1;if(t.type==mt.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==kr.DOWN||n==kr.LEFT||n==kr.RIGHT||n==kr.UP)){var r=t.map.getView(),i=r.getResolution()*this.pixelDelta_,o=0,a=0;n==kr.DOWN?a=-i:n==kr.LEFT?o=-i:n==kr.RIGHT?o=i:a=i;var s=[o,a];cn(s,r.getRotation()),function(t,e,n){var r=t.getCenterInternal();r&&t.animateInternal({duration:void 0!==n?n:250,easing:et,center:t.getConstrainedCenter([r[0]+e[0],r[1]+e[1]])})}(r,s,this.duration_),t.preventDefault(),e=!0}}return!e}var Rr=function(t){function e(e){var n=t.call(this,{handleEvent:Ar})||this,r=e||{};return n.defaultCondition_=function(t){return En(t)&&In(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return Object(c.d)(e,t),e}(on);function jr(t){var e=!1;if(t.type==mt.KEYDOWN||t.type==mt.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var r=t.map,i=n=="+".charCodeAt(0)?this.delta_:-this.delta_;rn(r.getView(),i,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Fr=function(t){function e(e){var n=t.call(this,{handleEvent:jr})||this,r=e||{};return n.condition_=r.condition?r.condition:In,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return Object(c.d)(e,t),e}(on),Lr=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this,r)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.condition_=r.condition?r.condition:Cn,n.lastAnchor_=null,n.startTime_=void 0,n.mode_=void 0,n.trackpadEventGap_=400,n.deltaPerZoom_=300,n}return Object(c.d)(e,t),e.prototype.conditionInternal_=function(t){var e=!0;return t.map.getTargetElement().hasAttribute("tabindex")&&(e=Sn(t)),e&&this.condition_(t)},e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.conditionInternal_(t))return!0;if(t.type!==mt.WHEEL)return!0;t.preventDefault();var e,n=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==mt.WHEEL&&(e=r.deltaY,dn&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=mn),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)),0===e)return!1;this.lastDelta_=e;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(e)<4?"trackpad":"wheel");var o=n.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution())return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=e;var a=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-_t(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;e.getConstrainResolution()&&(n=n?n>0?1:-1:0),rn(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(on),Dr=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=lt),(n=t.call(this,i)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return Object(c.d)(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],i=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=i-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=i;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==jn){var u=a.getViewport().getBoundingClientRect(),l=Pn(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(l),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(kn),Nr=function(t){function e(e){var n=this,r=e||{},i=r;return i.stopDown||(i.stopDown=lt),(n=t.call(this,i)||this).anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Object(c.d)(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],i=n.clientX-r.clientX,o=n.clientY-r.clientY,a=Math.sqrt(i*i+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView();1!=e&&(this.lastScaleDelta_=e);var l=s.getViewport().getBoundingClientRect(),c=Pn(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),u.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2&&(t.map.getView().endInteraction(this.duration_,this.lastScaleDelta_>1?1:-1),1))},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(kn);function zr(t){var e=t||{},n=new tn,r=new en(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Ln),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new sn({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Rn({condition:e.onFocusOnly?Sn:void 0,kinetic:r})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Dr),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Nr({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Rr),n.push(new Fr({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Lr({condition:e.onFocusOnly?Sn:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Pr({duration:e.zoomDuration})),n}var Br=function(t){function e(e){var n=t.call(this)||this;return n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addEventListener(Re(n.geometryName_),n.handleGeometryChanged_),e&&("function"==typeof e.getSimplifiedGeometry?n.setGeometry(e):n.setProperties(e)),n}return Object(c.d)(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Ft(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Rt(t,mt.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){var e,n;this.style_=t,this.styleFunction_=t?"function"==typeof(e=t)?e:(Array.isArray(e)?n=e:(v("function"==typeof e.getZIndex,41),n=[e]),function(){return n}):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeEventListener(Re(this.geometryName_),this.handleGeometryChanged_),this.geometryName_=t,this.addEventListener(Re(this.geometryName_),this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(je),Gr={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},Vr=!1;function Ur(t,e){return function(t,e,n,r){return function(n,i,o){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,i,o):t,!0),e.getType()==Gr.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.withCredentials=Vr,a.onload=(function(t){if(!a.status||a.status>=200&&a.status<300){var i=e.getType(),s=void 0;i==Gr.JSON||i==Gr.TEXT?s=a.responseText:i==Gr.XML?(s=a.responseXML)||(s=(new DOMParser).parseFromString(a.responseText,"application/xml")):i==Gr.ARRAY_BUFFER&&(s=a.response),s?(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}).call(this,e.readFeatures(s,{extent:n,featureProjection:o}),e.readProjection(s)):r.call(this)}else r.call(this)}).bind(this),a.onerror=(function(){r.call(this)}).bind(this),a.send()}}(t,e,0,ct)}function Hr(t,e){return[[-1/0,-1/0,1/0,1/0]]}var qr=n("tV43"),Wr=n.n(qr),Zr=function(){function t(t){this.rbush_=new Wr.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[f(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=t[r],a=e[r],s={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};n[r]=s,this.items_[f(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=f(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[f(e)];A([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){return this.rbush_.search({minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,i=t.length;r<i;r++)if(n=e(t[r]))return n;return n},t.prototype.isEmpty=function(){return gt(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return T(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),Xr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return Object(c.d)(e,t),e}(ht),Kr=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{attributions:r.attributions,projection:void 0,state:xe.READY,wrapX:void 0===r.wrapX||r.wrapX})||this).loader_=ct,n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(v(n.format_,7),n.loader_=Ur(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:Hr;var i,o,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new Zr:null,n.loadedExtentsRtree_=new Zr,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?o=r.features:r.features&&(o=(i=r.features).getArray()),a||void 0!==i||(i=new tn(o)),void 0!==o&&n.addFeaturesInternal(o),void 0!==i&&n.bindFeaturesCollection_(i),n}return Object(c.d)(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=f(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Xr("addfeature",t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Rt(e,mt.CHANGE,this.handleFeatureChange_,this),Rt(e,Me.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(v(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var a=f(u=t[i]);this.addToIndex_(a,u)&&n.push(u)}i=0;for(var s=n.length;i<s;i++){var u;a=f(u=n[i]),this.setupChangeEvents_(a,u);var l=u.getGeometry();if(l){var c=l.getExtent();e.push(c),r.push(u)}else this.nullGeometryFeatures_[a]=u}this.featuresRtree_&&this.featuresRtree_.load(e,r),i=0;for(var h=n.length;i<h;i++)this.dispatchEvent(new Xr("addfeature",n[i]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener("addfeature",function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener("removefeature",function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Qe.ADD,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}).bind(this)),t.addEventListener(Qe.REMOVE,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}).bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_)this.featureChangeKeys_[e].forEach(Ft);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var r=new Xr("clear");this.dispatchEvent(r),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){return this.forEachFeatureInExtent([t[0],t[1],t[0],t[1]],function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),gt(this.nullGeometryFeatures_)||at(t,dt(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray():[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],i=null,o=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||ut;return this.featuresRtree_.forEachInExtent(s,function(t){if(u(t)){var e=t.getGeometry(),l=a;if((a=e.closestPointXY(n,r,o,a))<l){i=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}}),i},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=f(e),r=e.getGeometry();if(r){var i=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(i,e)):this.featuresRtree_&&this.featuresRtree_.update(i,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var a=o.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Xr("changefeature",e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:f(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&gt(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var r=this.loadedExtentsRtree_,i=this.strategy_(t,e);this.loading=!1;for(var o=function(t,o){var s=i[t];r.forEachInExtent(s,function(t){return x(t.extent,s)})||(a.loader_.call(a,s,e,n),r.insert(s,{extent:s.slice()}),a.loading=a.loader_!==ct)},a=this,s=0,u=i.length;s<u;++s)o(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(A(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=f(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=f(t);this.featureChangeKeys_[e].forEach(Ft),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Xr("removefeature",t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){v(this.format_,7),this.setLoader(Ur(t,this.format_))},e}(Le),Yr=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return n.resolution=void 0,n.distance=void 0!==e.distance?e.distance:20,n.features=[],n.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return v(e.getType()==Dt.POINT,10),e},n.boundRefresh_=n.refresh.bind(n),n.setSource(e.source||null),n}return Object(c.d)(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.clear(),this.resolution=e,this.cluster(),this.addFeatures(this.features))},e.prototype.setDistance=function(t){this.distance=t,this.refresh()},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(mt.CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(mt.CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=[1/0,1/0,-1/0,-1/0],e=this.distance*this.resolution,n=this.source.getFeatures(),r={},i=0,o=n.length;i<o;i++){var a=n[i];if(!(f(a)in r)){var s=this.geometryFunction(a);if(s){P(s.getCoordinates(),t),b(t,e,t);var u=this.source.getFeaturesInExtent(t);u=u.filter(function(t){var e=f(t);return!(e in r||(r[e]=!0,0))}),this.features.push(this.createCluster(u))}}}},e.prototype.createCluster=function(t){for(var e=[0,0],n=t.length-1;n>=0;--n){var r=this.geometryFunction(t[n]);r?un(e,r.getCoordinates()):t.splice(n,1)}hn(e,1/t.length);var i=new Br(new hr(e));return i.set("features",t),i},e}(Kr),Jr=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}();function Qr(t,e,n){var r,i=n?ae(n.featureProjection):null,o=n?ae(n.dataProjection):null;if(r=i&&o&&!ce(i,o)?(e?t.clone():t).transform(e?i:o,e?o:i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);r===t&&(r=t.clone()),r.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t})}return r}function $r(t){return"string"==typeof t?JSON.parse(t)||null:null!==t?t:null}var ti=function(t){function e(){return t.call(this)||this}return Object(c.d)(e,t),e.prototype.getType=function(){return Gr.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject($r(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject($r(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return h()},e.prototype.readFeaturesFromObject=function(t,e){return h()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject($r(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return h()},e.prototype.readProjection=function(t){return this.readProjectionFromObject($r(t))},e.prototype.readProjectionFromObject=function(t){return h()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return h()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return h()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return h()},e}(function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?ae(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===Vt.TILE_PIXELS&&(r=ae(r)).setWorldExtent(e.extent),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return pt({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return h()},t.prototype.readFeature=function(t,e){return h()},t.prototype.readFeatures=function(t,e){return h()},t.prototype.readGeometry=function(t,e){return h()},t.prototype.readProjection=function(t){return h()},t.prototype.writeFeature=function(t,e){return h()},t.prototype.writeFeatures=function(t,e){return h()},t.prototype.writeGeometry=function(t,e){return h()},t}());function ei(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}var ni=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return Object(c.d)(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(Ft),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Rt(this.geometries_[t],mt.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<S(this.getExtent(),t,e))return r;for(var i=this.geometries_,o=0,a=i.length;o<a;++o)r=i[o].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){M(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)R(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return ei(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,i=!1,o=0,a=r.length;o<a;++o){var s=r[o],u=s.getSimplifiedGeometry(t);n.push(u),u!==s&&(i=!0)}if(i){var l=new e(null);return l.setGeometriesArray(n),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return Dt.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=B(this.getExtent()));for(var i=this.geometries_,o=0,a=i.length;o<a;++o)i[o].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(ei(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,i=n.length;r<i;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(qn);function ri(t,e,n,r,i,o){var a=NaN,s=NaN,u=(n-e)/r;if(1===u)a=t[e],s=t[e+1];else if(2==u)a=(1-i)*t[e]+i*t[e+r],s=(1-i)*t[e+1]+i*t[e+r+1];else if(0!==u){for(var l=t[e],c=t[e+1],h=0,p=[0],f=e+r;f<n;f+=r){var d=t[f],g=t[f+1];h+=Math.sqrt((d-l)*(d-l)+(g-c)*(g-c)),p.push(h),l=d,c=g}var v=i*h,m=function(t,e,n){for(var r,i,o=rt,a=0,s=t.length,u=!1;a<s;)(i=+o(t[r=a+(s-a>>1)],e))<0?a=r+1:(s=r,u=!i);return u?a:~a}(p,v);if(m<0){var y=(v-p[-m-2])/(p[-m-1]-p[-m-2]),_=e+(-m-2)*r;a=Et(t[_],t[_+r],y),s=Et(t[_+1],t[_+r+1],y)}else a=t[e+m*r],s=t[e+m*r+1]}return o?(o[0]=a,o[1]=s,o):[a,s]}function ii(t,e,n,r,i,o){if(n==e)return null;var a;if(i<t[e+r-1])return o?((a=t.slice(e,e+r))[r-1]=i,a):null;if(t[n-1]<i)return o?((a=t.slice(n-r,n))[r-1]=i,a):null;if(i==t[e+r-1])return t.slice(e,e+r);for(var s=e/r,u=n/r;s<u;){var l=s+u>>1;i<t[(l+1)*r-1]?u=l:s=l+1}var c=t[s*r-1];if(i==c)return t.slice((s-1)*r,(s-1)*r+r);var h=(i-c)/(t[(s+1)*r-1]-c);a=[];for(var p=0;p<r-1;++p)a.push(Et(t[(s-1)*r+p],t[s*r+p],h));return a.push(i),a}function oi(t,e,n,r){for(var i=t[e],o=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],l=t[s+1];a+=Math.sqrt((u-i)*(u-i)+(l-o)*(l-o)),i=u,o=l}return a}var ai=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return Object(c.d)(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?at(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<S(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Jn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$n(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return vr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){return this.layout!=Dn.XYM&&this.layout!=Dn.XYZM?null:ii(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return rr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return ri(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return oi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=ar(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Dn.XY)},e.prototype.getType=function(){return Dt.LINE_STRING},e.prototype.intersectsExtent=function(t){return mr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=er(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Zn),si=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(e[0]))i.setCoordinates(e,n);else if(void 0!==n&&r)i.setFlatCoordinates(n,e),i.ends_=r;else{for(var o=i.getLayout(),a=e,s=[],u=[],l=0,c=a.length;l<c;++l){var h=a[l];0===l&&(o=h.getLayout()),at(s,h.getFlatCoordinates()),u.push(s.length)}i.setFlatCoordinates(o,s),i.ends_=u}return i}return Object(c.d)(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?at(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,r){return r<S(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Qn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),tr(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){return this.layout!=Dn.XYM&&this.layout!=Dn.XYZM||0===this.flatCoordinates.length?null:function(t,e,r,i,o,a,s){if(void 0!==n&&n)return ii(t,e,r[r.length-1],i,o,a);var u;if(o<t[i-1])return a?((u=t.slice(0,i))[i-1]=o,u):null;if(t[t.length-1]<o)return a?((u=t.slice(t.length-i))[i-1]=o,u):null;for(var l=0,c=r.length;l<c;++l){var h=r[l];if(e!=h){if(o<t[e+i-1])return null;if(o<=t[h-1])return ii(t,e,h,i,o,!1);e=h}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,void 0!==e&&e)},e.prototype.getCoordinates=function(){return ir(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new ai(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],i=0,o=0,a=e.length;o<a;++o){var s=e[o],u=new ai(t.slice(i,s),n);r.push(u),i=s}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,i=this.stride,o=0,a=r.length;o<a;++o){var s=r[o];at(t,ri(e,n,s,i,.5)),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=ar(t,e,c,r,i,o,a),s.push(a),e=c}return a}(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,Dn.XY,r)},e.prototype.getType=function(){return Dt.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){if(mr(t,e,n[o],r,i))return!0;e=n[o]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=nr(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Zn),ui=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return Object(c.d)(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?at(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){if(r<S(this.getExtent(),t,e))return r;for(var i=this.flatCoordinates,o=this.stride,a=0,s=i.length;a<s;a+=o){var u=St(t,e,i[a],i[a+1]);if(u<r){r=u;for(var l=0;l<o;++l)n[l]=i[a+l];n.length=o}}return r},e.prototype.getCoordinates=function(){return rr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){return t<0||(this.flatCoordinates?this.flatCoordinates.length/this.stride:0)<=t?null:new hr(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],i=0,o=t.length;i<o;i+=n){var a=new hr(t.slice(i,i+n),e);r.push(a)}return r},e.prototype.getType=function(){return Dt.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,i=e.length;r<i;r+=n)if(E(t,e[r],e[r+1]))return!0;return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=er(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Zn),li=function(t){function e(e,n,r){var i=t.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var o=i.getLayout(),a=e,s=[],u=[],l=0,c=a.length;l<c;++l){var h=a[l];0===l&&(o=h.getLayout());for(var p=s.length,f=h.getEnds(),d=0,g=f.length;d<g;++d)f[d]+=p;at(s,h.getFlatCoordinates()),u.push(f)}n=o,e=s,r=u}return void 0!==n&&r?(i.setFlatCoordinates(n,e),i.endss_=r):i.setCoordinates(e,n),i}return Object(c.d)(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;at(this.flatCoordinates,t.getFlatCoordinates());for(var r=0,i=(e=t.getEnds().slice()).length;r<i;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,r){return r<S(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];i=Qn(t,e,s,r,i),e=s[s.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,r,i,o,a,s,u,l,c){for(var h=[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=tr(t,e,d,r,i,!0,a,s,u,l,h),e=d[d.length-1]}return l}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,n,r))},e.prototype.containsXY=function(t,e){return function(t,e,n,r,i,o){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var u=n[a];if(dr(t,e,u,r,i,o))return!0;e=u[u.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,r){for(var i=0,o=0,a=n.length;o<a;++o){var s=n[o];i+=Kn(t,e,s,r),e=s[s.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Cr(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,or(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,r){for(var i=[],o=[1/0,1/0,-1/0,-1/0],a=0,s=n.length;a<s;++a){var u=n[a];o=k(t,e,u[0],r),i.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return i}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,n,r,i){for(var o=[],a=0,s=n.length;a<s;++a){var u=n[a];o=gr(t,e,u,r,i,2*a,o),e=u[u.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new ui(this.getFlatInteriorPoints().slice(),Dn.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(!wr(t,e,s,r,void 0))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Cr(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=function(t,e,n,r,i,o,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u],h=[];a=lr(t,e,c,r,i,o,a,h),s.push(h),e=c[c.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,Dn.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),i=r[r.length-1];if(0!==e)for(var o=0,a=r.length;o<a;++o)r[o]-=e;return new Er(this.flatCoordinates.slice(e,i),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],i=0,o=0,a=n.length;o<a;++o){var s=n[o].slice(),u=s[s.length-1];if(0!==i)for(var l=0,c=s.length;l<c;++l)s[l]-=i;var h=new Er(e.slice(i,u),t,s);r.push(h),i=u}return r},e.prototype.getType=function(){return Dt.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o];if(yr(t,e,s,r,i))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,r,i){for(var o=i||[],a=0,s=0,u=n.length;s<u;++s){var l=nr(t,e,n[s],r,o[a]);o[a++]=l,e=l[l.length-1]}return o.length=a,o}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(Zn);function ci(t,e){if(!t)return null;var n;switch(t.type){case Dt.POINT:n=function(t){return new hr(t.coordinates)}(t);break;case Dt.LINE_STRING:n=function(t){return new ai(t.coordinates)}(t);break;case Dt.POLYGON:n=function(t){return new Er(t.coordinates)}(t);break;case Dt.MULTI_POINT:n=function(t){return new ui(t.coordinates)}(t);break;case Dt.MULTI_LINE_STRING:n=function(t){return new si(t.coordinates)}(t);break;case Dt.MULTI_POLYGON:n=function(t){return new li(t.coordinates)}(t);break;case Dt.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return ci(t,void 0)});return new ni(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Qr(n,!1,e)}function hi(t,e){var n,r=(t=Qr(t,!0,e)).getType();switch(r){case Dt.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case Dt.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case Dt.POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case Dt.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case Dt.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case Dt.MULTI_POLYGON:n=function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case Dt.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=pt({},e);return delete n.featureProjection,hi(t,n)})}}(t,e);break;case Dt.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}var pi=function(t){function e(e){var n=this,r=e||{};return(n=t.call(this)||this).dataProjection=ae(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=ae(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n}return Object(c.d)(e,t),e.prototype.readFeatureFromObject=function(t,e){var n,r=ci((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),i=new Br;return this.geometryName_?i.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&i.setGeometryName(n.geometry_name),i.setGeometry(r),"id"in n&&i.setId(n.id),n.properties&&i.setProperties(n.properties,!0),i},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var r=t.features,i=0,o=r.length;i<o;++i)n.push(this.readFeatureFromObject(r[i],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return ci(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=ae(n.properties.name):"EPSG"===n.type?e=ae("EPSG:"+n.properties.code):v(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();void 0!==r&&(n.id=r);var i=t.getGeometry();i&&(n.geometry=hi(i,e));var o=t.getProperties();return delete o[t.getGeometryName()],gt(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,i=t.length;r<i;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return hi(t,this.adaptOptions(e))},e}(ti),fi={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},di=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,gi=/^([a-z]*)$|^hsla?\(.*\)$/i,vi=function(){var t={},e=0;return function(n){var r;if(t.hasOwnProperty(n))r=t[n];else{if(e>=1024){var i=0;for(var o in t)0==(3&i++)&&(delete t[o],--e)}r=function(t){var e,n,r,i,o;if(gi.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),di.exec(t)){var a,s=t.length-1;a=s<=4?1:2;var u=4===s||8===s;e=parseInt(t.substr(1+0*a,a),16),n=parseInt(t.substr(1+1*a,a),16),r=parseInt(t.substr(1+2*a,a),16),i=u?parseInt(t.substr(1+3*a,a),16):255,1==a&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(i=(i<<4)+i)),o=[e,n,r,i/255]}else 0==t.indexOf("rgba(")?yi(o=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((o=t.slice(4,-1).split(",").map(Number)).push(1),yi(o)):v(!1,14);return o}(n),t[n]=r,++e}return r}}();function mi(t){return Array.isArray(t)?t:vi(t)}function yi(t){return t[0]=_t(t[0]+.5|0,0,255),t[1]=_t(t[1]+.5|0,0,255),t[2]=_t(t[2]+.5|0,0,255),t[3]=_t(t[3],0,1),t}function _i(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];return r!=(0|r)&&(r=r+.5|0),"rgba("+e+","+n+","+r+","+(void 0===t[3]?1:t[3])+")"}var bi={FRACTION:"fraction",PIXELS:"pixels"};function wi(t,e,n){var r=n&&n.length?n.shift():yn?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(r.width=t),e&&(r.height=e),r.getContext("2d")}function Si(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10))}function Ci(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+(parseInt(n.marginTop,10)+parseInt(n.marginBottom,10))}function xi(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ei(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Oi(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function Ii(t,e,n){return e+":"+t+":"+(n?function(t){return"string"==typeof t?t:_i(t)}(n):"null")}var Ti=new(function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_)0!=(3&t++)||this.cache_[e].hasListener()||(delete this.cache_[e],--this.cacheSize_)}},t.prototype.get=function(t,e,n){var r=Ii(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var i=Ii(t,e,n);this.cache_[i]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}());function Mi(t,e,n){var r=t;if(r.src&&_n){var i=r.decode(),o=!0;return i.then(function(){o&&e()}).catch(function(t){o&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){o=!1}}var a=[jt(r,mt.LOAD,e),jt(r,mt.ERROR,n)];return function(){a.forEach(Ft)}}var Pi=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==i&&(s.image_.crossOrigin=i),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=o,s.size_=r,s.src_=n,s}return Object(c.d)(e,t),e.prototype.isTainted_=function(t){if(void 0===this.tainted_&&this.imageState_===fi.LOADED){t||(t=wi(1,1)).drawImage(this.image_,0,0);try{t.getImageData(0,0,1,1),this.tainted_=!1}catch(e){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(mt.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=fi.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=fi.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],r=wi(e,n);r.fillRect(0,0,e,n),this.hitDetectionImage_=r.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==fi.IDLE){this.imageState_=fi.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Mi(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");if(t.drawImage(this.image_,0,0),this.isTainted_(t)){var e=this.color_;return t.globalCompositeOperation="multiply",t.fillStyle="rgb("+e[0]+","+e[1]+","+e[2]+")",t.fillRect(0,0,this.image_.width,this.image_.height),t.globalCompositeOperation="destination-in",void t.drawImage(this.image_,0,0)}for(var n=t.getImageData(0,0,this.image_.width,this.image_.height),r=n.data,i=this.color_[0]/255,o=this.color_[1]/255,a=this.color_[2]/255,s=0,u=r.length;s<u;s+=4)r[s]*=i,r[s+1]*=o,r[s+2]*=a;t.putImageData(n,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(vt),ki={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ai=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.displacement_=t.displacement}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return h()},t.prototype.getImage=function(t){return h()},t.prototype.getHitDetectionImage=function(t){return h()},t.prototype.getImageState=function(){return h()},t.prototype.getImageSize=function(){return h()},t.prototype.getHitDetectionImageSize=function(){return h()},t.prototype.getOrigin=function(){return h()},t.prototype.getSize=function(){return h()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t){h()},t.prototype.load=function(){h()},t.prototype.unlistenImageChange=function(t){h()},t}(),Ri=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{opacity:void 0!==r.opacity?r.opacity:1,rotation:void 0!==r.rotation?r.rotation:0,scale:void 0!==r.scale?r.scale:1,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView})||this).anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:ki.TOP_LEFT,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:bi.FRACTION,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:bi.FRACTION,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var i=void 0!==r.img?r.img:null,o=void 0!==r.imgSize?r.imgSize:null,a=r.src;v(!(void 0!==a&&i),4),v(!i||i&&o,5),void 0!==a&&0!==a.length||!i||(a=i.src||f(i)),v(void 0!==a&&a.length>0,6);var s=void 0!==r.src?fi.IDLE:fi.LOADED;return n.color_=void 0!==r.color?mi(r.color):null,n.iconImage_=function(t,e,n,r,i,o){var a=Ti.get(e,r,o);return a||(a=new Pi(t,e,n,r,i,o),Ti.set(e,r,o,a)),a}(i,a,o,n.crossOrigin_,s,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:ki.TOP_LEFT,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return Object(c.d)(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==bi.FRACTION||this.anchorYUnits_==bi.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==bi.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==bi.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=ki.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=ki.TOP_RIGHT&&this.anchorOrigin_!=ki.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=ki.BOTTOM_LEFT&&this.anchorOrigin_!=ki.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_,e=this.getDisplacement();if(this.offsetOrigin_!=ki.TOP_LEFT){var n=this.getSize(),r=this.iconImage_.getSize();if(!n||!r)return null;t=t.slice(),this.offsetOrigin_!=ki.TOP_RIGHT&&this.offsetOrigin_!=ki.BOTTOM_RIGHT||(t[0]=r[0]-n[0]-t[0]),this.offsetOrigin_!=ki.BOTTOM_LEFT&&this.offsetOrigin_!=ki.BOTTOM_RIGHT||(t[1]=r[1]-n[1]-t[1])}return t[0]+=e[0],t[1]+=e[1],this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(mt.CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(mt.CHANGE,t)},e}(Ai),ji=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.map=n,i.frameState=void 0!==r?r:null,i}return Object(c.d)(e,t),e}(ht),Fi=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,o)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==i&&i,a}return Object(c.d)(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(ji),Li=(n("pg82"),function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i,o)||this;return a.pointerEvent=r,a}return Object(c.d)(e,t),e}(Fi)),Di={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Ni=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=n?n*mn:mn,r.down_=null;var i=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=i,r.pointerdownListenerKey_=Rt(i,Di.POINTERDOWN,r.handlePointerDown_,r),r.relayedListenerKey_=Rt(i,Di.POINTERMOVE,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(mt.TOUCHMOVE,r.boundHandleTouchMove_,!!bn&&{passive:!1}),r}return Object(c.d)(e,t),e.prototype.emulateClick_=function(t){var e=new Li(nn.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Li(nn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout((function(){this.clickTimeoutId_=void 0;var e=new Li(nn.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}).bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==nn.POINTERUP||e.type==nn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==nn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Li(nn.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Ft),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new Li(nn.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&this.dragListenerKeys_.push(Rt(document,nn.POINTERMOVE,this.handlePointerMove_,this),Rt(document,nn.POINTERUP,this.handlePointerUp_,this),Rt(this.element_,nn.POINTERCANCEL,this.handlePointerUp_,this))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Li(nn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Li(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){this.originalPointerMoveEvent_&&!this.originalPointerMoveEvent_.defaultPrevented||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Ft(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(mt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ft(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ft),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(vt),zi={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Bi=function(t){function e(e,n){var r=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return Object(c.d)(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);return n&&e[0].addEventListener(mt.CHANGE,this.boundHandleTileChange_),n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===J.LOADED||n===J.ERROR||n===J.EMPTY){e.removeEventListener(mt.CHANGE,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,r,i=0;this.tilesLoading_<t&&i<e&&this.getCount()>0;)r=(n=this.dequeue()[0]).getKey(),n.getState()!==J.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,n.load())},e}(function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ft(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){v(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,r=e.length,i=e[t],o=n[t],a=t;t<r>>1;){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=i,n[t]=o,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,r=this.priorities_,i=n[e],o=r[e];e>t;){var a=this.getParentIndex_(e);if(!(r[a]>o))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=i,r[e]=o},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,i=this.elements_,o=this.priorities_,a=0,s=i.length;for(e=0;e<s;++e)(n=r(t=i[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[a]=n,i[a++]=t);i.length=a,o.length=a,this.heapify_()},t}());function Gi(t,e,n){return function(r,i,o,a){if(r){var s=e?0:o[0]*i,u=e?0:o[1]*i,l=t[0]+s/2,c=t[2]-s/2,h=t[1]+u/2,p=t[3]-u/2;l>c&&(c=l=(c+l)/2),h>p&&(p=h=(p+h)/2);var f=_t(r[0],l,c),d=_t(r[1],h,p),g=30*i;return a&&n&&(f+=-g*Math.log(1+Math.max(0,l-r[0])/g)+g*Math.log(1+Math.max(0,r[0]-c)/g),d+=-g*Math.log(1+Math.max(0,h-r[1])/g)+g*Math.log(1+Math.max(0,r[1]-p)/g)),[f,d]}}}function Vi(t){return t}function Ui(t,e,n,r){var i=Z(e)/n[0],o=U(e)/n[1];return r?Math.min(t,Math.max(i,o)):Math.min(t,Math.min(i,o))}function Hi(t,e,n){var r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),_t(r,n/2,2*e)}function qi(t,e,n,r,i){return function(o,a,s,u){if(void 0!==o){var l=r?Ui(t,r,s,i):t;return(void 0===n||n)&&u?Hi(o,l,e):_t(o,e,l)}}}function Wi(t,e){setTimeout(function(){t(e)},0)}function Zi(t){return!(t.sourceCenter&&t.targetCenter&&!ln(t.sourceCenter,t.targetCenter))&&t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation}var Xi=function(t){function e(e){var n=t.call(this)||this,r=pt({},e);return n.hints_=[0,0],n.animations_=[],n.projection_=le(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.cancelAnchor_=void 0,r.center&&(r.center=we(r.center,n.projection_)),r.extent&&(r.extent=Ce(r.extent,n.projection_)),n.applyOptions_(r),n}return Object(c.d)(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,r,i=void 0!==t.minZoom?t.minZoom:0,o=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,u=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,l=void 0!==t.showFullExtent&&t.showFullExtent,c=le(t.projection,"EPSG:3857"),h=c.getExtent(),p=t.constrainOnlyCenter,f=t.extent;if(s||f||!c.isGlobal()||(p=!1,f=h),void 0!==t.resolutions){var d=t.resolutions;n=d[i],r=void 0!==d[o]?d[o]:d[d.length-1],e=t.constrainResolution?function(t,e,n,r){return function(i,o,a,s){if(void 0!==i){var u=t[0],l=t[t.length-1],c=n?Ui(u,n,a,r):u;if(s)return void 0===e||e?Hi(i,c,l):_t(i,l,c);var h=Math.min(c,i),p=Math.floor(it(t,h,o));return t[p]>c&&p<t.length-1?t[p+1]:t[p]}}}(d,u,!p&&f,l):qi(n,r,u,!p&&f,l)}else{var g=(h?Math.max(Z(h),U(h)):360*Gt[Vt.DEGREES]/c.getMetersPerUnit())/Ne/Math.pow(2,0),v=g/Math.pow(2,28);void 0!==(n=t.maxResolution)?i=0:n=g/Math.pow(a,i),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,o):g/Math.pow(a,o):v),o=i+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,o-i),e=t.constrainResolution?function(t,e,n,r,i,o){return function(a,s,u,l){if(void 0!==a){var c=i?Ui(e,i,u,o):e,h=void 0!==n?n:0;if(l)return void 0===r||r?Hi(a,c,h):_t(a,h,c);var p=Math.ceil(Math.log(e/c)/Math.log(t)-1e-9),f=-s*(.5-1e-9)+.5,d=Math.min(c,a),g=Math.floor(Math.log(e/d)/Math.log(t)+f),v=Math.max(p,g);return _t(e/Math.pow(t,v),h,c)}}}(a,n,r,u,!p&&f,l):qi(n,r,u,!p&&f,l)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:i,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent)return Gi(t.extent,t.constrainOnlyCenter,void 0===t.smoothExtentConstraint||t.smoothExtentConstraint);var e=le(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&e.isGlobal()){var n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Gi(n,!1,!1)}return Vi}(t),r=e.constraint,i=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=Ct(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?Fn:"number"==typeof e?(n=2*Math.PI/e,function(t,e){return e?t:void 0!==t?t=Math.floor(t/n+.5)*n:void 0}):Fn}return jn;var n,r}(t);this.constraints_={center:n,resolution:r,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=pt({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),pt({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&((r=pt({},r)).center=we(r.center,this.getProjection())),r.anchor&&((r=pt({},r)).anchor=we(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&Wi(e,!0))}for(var i=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,u=[],l=0;l<n;++l){var c=arguments[l],h={start:i,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||tt,callback:e};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var p=xt(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}Zi(h)?h.complete=!0:i+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(0,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[0]>0},e.prototype.getInteracting=function(){return this.hints_[1]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(0,-this.hints_[0]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&Wi(r[0].callback,!1),!t)for(var i=0,o=r.length;i<o;++i){var a=r[i];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],i=!0,o=0,a=r.length;o<a;++o){var s=r[o];if(!s.complete){var u=s.duration>0?(t-s.start)/s.duration:1;u>=1?(s.complete=!0,u=1):i=!1;var l=s.easing(u);if(s.sourceCenter){var c=s.sourceCenter[0],h=s.sourceCenter[1];this.targetCenter_=[c+l*(s.targetCenter[0]-c),h+l*(s.targetCenter[1]-h)]}if(s.sourceResolution&&s.targetResolution){var p=1===l?s.targetResolution:s.sourceResolution+l*(s.targetResolution-s.sourceResolution);if(s.anchor){var f=this.getViewportSize_(this.getRotation()),d=this.constraints_.resolution(p,0,f,!0);this.targetCenter_=this.calculateCenterZoom(d,s.anchor)}this.targetResolution_=p,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var g=1===l?xt(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+l*(s.targetRotation-s.sourceRotation);if(s.anchor){var v=this.constraints_.rotation(g,!0);this.targetCenter_=this.calculateCenterRotate(v,s.anchor)}this.targetRotation_=g}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(i){this.animations_[n]=null,this.setHint(0,-1);var m=r[0].callback;m&&Wi(m,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenterInternal();return void 0!==r&&(cn(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),un(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),i=this.getResolution();return void 0!==r&&void 0!==i&&(n=[e[0]-t*(e[0]-r[0])/i,e[1]-t*(e[1]-r[1])/i]),n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?be(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get("center")},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){return Se(this.calculateExtentInternal(t),this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSize_(),n=this.getCenterInternal();v(n,1);var r=this.getResolution();v(void 0!==r,2);var i=this.getRotation();return v(void 0!==i,3),V(n,r,i,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get("resolution")},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(Ce(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSize_(),r=Z(t)/n[0],i=U(t)/n[1];return Math.max(r,i)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=Math.log(n/this.minResolution_)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get("rotation")},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=Math.log(n/this.minResolution_)/e;return function(t){return Math.log(n/t)/e/r}},e.prototype.getState=function(){var t=this.getCenterInternal(),e=this.getProjection(),n=this.getResolution(),r=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var i=it(this.resolutions_,t,1);r=i,e=this.resolutions_[i],n=i==this.resolutions_.length-1?2:e/this.resolutions_[i+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=_t(Math.floor(t),0,this.resolutions_.length-2);return this.resolutions_[e]/Math.pow(this.resolutions_[e]/this.resolutions_[e+1],_t(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,r=pt({size:this.getViewportSize_()},e||{});if(v(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t))v(!K(t),25),n=Or(i=Ce(t,this.getProjection()));else if(t.getType()===Dt.CIRCLE){var i;(n=Or(i=Ce(t.getExtent(),this.getProjection()))).rotate(this.getRotation(),B(i))}else{var o=_e();n=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(n,r)},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSize_());var i,o=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;i=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;for(var s=t.getFlatCoordinates(),u=this.getRotation(),l=Math.cos(-u),c=Math.sin(-u),h=1/0,p=1/0,f=-1/0,d=-1/0,g=t.getStride(),v=0,m=s.length;v<m;v+=g){var y=s[v]*l-s[v+1]*c,_=s[v]*c+s[v+1]*l;h=Math.min(h,y),p=Math.min(p,_),f=Math.max(f,y),d=Math.max(d,_)}var b=this.getResolutionForExtentInternal([h,p,f,d],[r[0]-o[1]-o[3],r[1]-o[0]-o[2]]);b=isNaN(b)?i:Math.max(b,i),b=this.getConstrainedResolution(b,a?0:1);var w=(h+f)/2,S=(p+d)/2,C=[(w+=(o[1]-o[3])/2*b)*l-(S+=(o[0]-o[2])/2*b)*(c=-c),S*l+w*c],x=n.callback?n.callback:ct;void 0!==n.duration?this.animateInternal({resolution:b,center:this.getConstrainedCenter(C,b),duration:n.duration,easing:n.easing},x):(this.targetResolution_=b,this.targetCenter_=C,this.applyTargetState_(!1,!0),Wi(x,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(we(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){var r=this.getRotation(),i=Math.cos(-r),o=Math.sin(-r),a=t[0]*i-t[1]*o,s=t[1]*i+t[0]*o,u=this.getResolution();this.setCenterInternal([(a+=(e[0]/2-n[0])*u)*i-(s+=(n[1]-e[1]/2)*u)*(o=-o),s*i+a*o])},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=be(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&we(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),i=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(i,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=we(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(we(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),i=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,i,n),a=this.constraints_.center(this.targetCenter_,o,i,n);this.get("rotation")!==r&&this.set("rotation",r),this.get("resolution")!==o&&this.set("resolution",o),this.get("center")&&ln(this.get("center"),a)||this.set("center",a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,i=e||0,o=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,i,a),u=this.constraints_.center(this.targetCenter_,s,a);if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=o,this.targetCenter_=u,void this.applyTargetState_();var l=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===o&&this.getCenterInternal()&&ln(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:u,resolution:s,duration:r,easing:$,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(1,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&we(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(1,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(je),Ki={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},Yi=function(t){function e(e){var n=t.call(this)||this,r=pt({},e);return r[Ki.OPACITY]=void 0!==e.opacity?e.opacity:1,v("number"==typeof r[Ki.OPACITY],64),r[Ki.VISIBLE]=void 0===e.visible||e.visible,r[Ki.Z_INDEX]=e.zIndex,r[Ki.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[Ki.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,r[Ki.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,r[Ki.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return Object(c.d)(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=_t(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n?n:!1===e.managed?1/0:0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return h()},e.prototype.getLayerStatesArray=function(t){return h()},e.prototype.getExtent=function(){return this.get(Ki.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(Ki.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(Ki.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(Ki.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(Ki.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(Ki.OPACITY)},e.prototype.getSourceState=function(){return h()},e.prototype.getVisible=function(){return this.get(Ki.VISIBLE)},e.prototype.getZIndex=function(){return this.get(Ki.Z_INDEX)},e.prototype.setExtent=function(t){this.set(Ki.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(Ki.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(Ki.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(Ki.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(Ki.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){v("number"==typeof t,64),this.set(Ki.OPACITY,t)},e.prototype.setVisible=function(t){this.set(Ki.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(Ki.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(je),Ji={LAYERS:"layers"},Qi=function(t){function e(e){var n=this,r=e||{},i=pt({},r);delete i.layers;var o=r.layers;return(n=t.call(this,i)||this).layersListenerKeys_=[],n.listenerKeys_={},n.addEventListener(Re(Ji.LAYERS),n.handleLayersChanged_),o?Array.isArray(o)?o=new tn(o.slice(),{unique:!0}):v("function"==typeof o.getArray,43):o=new tn(void 0,{unique:!0}),n.setLayers(o),n}return Object(c.d)(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Ft),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Rt(t,Qe.ADD,this.handleLayersAdd_,this),Rt(t,Qe.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Ft);ft(this.listenerKeys_);for(var n=t.getArray(),r=0,i=n.length;r<i;r++){var o=n[r];this.listenerKeys_[f(o)]=[Rt(o,Me.PROPERTYCHANGE,this.handleLayerChange_,this),Rt(o,mt.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[f(e)]=[Rt(e,Me.PROPERTYCHANGE,this.handleLayerChange_,this),Rt(e,mt.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=f(t.element);this.listenerKeys_[e].forEach(Ft),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(Ji.LAYERS)},e.prototype.setLayers=function(t){this.set(Ji.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var r=this.getLayerState(),i=n,o=e.length;i<o;i++){var a=e[i];a.opacity*=r.opacity,a.visible=a.visible&&r.visible,a.maxResolution=Math.min(a.maxResolution,r.maxResolution),a.minResolution=Math.max(a.minResolution,r.minResolution),a.minZoom=Math.max(a.minZoom,r.minZoom),a.maxZoom=Math.min(a.maxZoom,r.maxZoom),void 0!==r.extent&&(a.extent=void 0!==a.extent?H(a.extent,r.extent):r.extent)}return e},e.prototype.getSourceState=function(){return xe.READY},e}(Yi),$i=function(t){function e(e){var n=t.call(this)||this,r=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,i,o={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Qi({layers:t.layers});return o[zi.LAYERGROUP]=a,o[zi.TARGET]=t.target,o[zi.VIEW]=void 0!==t.view?t.view:new Xi,void 0!==t.controls&&(Array.isArray(t.controls)?n=new tn(t.controls.slice()):(v("function"==typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new tn(t.interactions.slice()):(v("function"==typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?i=new tn(t.overlays.slice()):(v("function"==typeof t.overlays.getArray,49),i=t.overlays):i=new tn,{controls:n,interactions:r,keyboardEventTarget:e,overlays:i,values:o}}(e);n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:mn,n.animationDelay_=(function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}).bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new Ni(n,e.moveTolerance);var i=n.handleMapBrowserEvent.bind(n);for(var o in nn)n.mapBrowserEventHandler_.addEventListener(nn[o],i);n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null;var a=n.handleBrowserEvent.bind(n);return n.viewport_.addEventListener(mt.CONTEXTMENU,a,!1),n.viewport_.addEventListener(mt.WHEEL,a,!!bn&&{passive:!1}),n.controls=r.controls||new tn,n.interactions=r.interactions||new tn,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.postRenderFunctions_=[],n.tileQueue_=new Bi(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addEventListener(Re(zi.LAYERGROUP),n.handleLayerGroupChanged_),n.addEventListener(Re(zi.VIEW),n.handleViewChanged_),n.addEventListener(Re(zi.SIZE),n.handleSizeChanged_),n.addEventListener(Re(zi.TARGET),n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach((function(t){t.setMap(this)}).bind(n)),n.controls.addEventListener(Qe.ADD,(function(t){t.element.setMap(this)}).bind(n)),n.controls.addEventListener(Qe.REMOVE,(function(t){t.element.setMap(null)}).bind(n)),n.interactions.forEach((function(t){t.setMap(this)}).bind(n)),n.interactions.addEventListener(Qe.ADD,(function(t){t.element.setMap(this)}).bind(n)),n.interactions.addEventListener(Qe.REMOVE,(function(t){t.element.setMap(null)}).bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(Qe.ADD,(function(t){this.addOverlayInternal_(t.element)}).bind(n)),n.overlays_.addEventListener(Qe.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}).bind(n)),n}return Object(c.d)(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),this.viewport_.removeEventListener(mt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(mt.WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(mt.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t);return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,!1!==n.checkWrapped,e,null,void 0!==n.layerFilter?n.layerFilter:ut,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(t){n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{};return this.renderer_.forEachLayerAtPixel(t,this.frameState_,void 0!==r.hitTolerance?r.hitTolerance*this.frameState_.pixelRatio:0,e,r.layerFilter||ut)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,void 0!==(e=void 0!==e?e:{}).hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0,!1!==e.checkWrapped,void 0!==e.layerFilter?e.layerFilter:ut,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(zi.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return be(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Bn(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(zi.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer.getSource();if(r&&r.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=we(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Bn(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(zi.SIZE)},e.prototype.getView=function(){return this.get(zi.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,r){return function(t,e,n,r,i){if(!(t&&n in t.wantedTiles))return 1/0;if(!t.wantedTiles[n][e.getKey()])return 1/0;var o=t.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=new Fi(e||t.type,this,t);this.handleMapBrowserEvent(n)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent.target;if(t.dragging||!this.overlayContainerStopEvent_.contains(e)&&(document.body.contains(e)||this.viewport_.getRootNode&&this.viewport_.getRootNode().contains(e))){t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var r=n.length-1;r>=0;r--){var i=n[r];if(i.getActive()&&!i.handleEvent(t))break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var i=t.viewHints;if(i[0]||i[1]){var o=!_n&&Date.now()-t.time>8;n=o?0:8,r=o?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener("rendercomplete")||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent("rendercomplete",t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Ft(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var r=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Rt(r,mt.KEYDOWN,this.handleBrowserEvent,this),Rt(r,mt.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(mt.RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),Ei(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(mt.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Ft(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ft(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Rt(t,Me.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Rt(t,mt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ft),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Rt(t,Me.PROPERTYCHANGE,this.render,this),Rt(t,mt.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this.getSize(),n=this.getView(),r=this.frameState_,i=null;if(void 0!==e&&function(t){return t[0]>0&&t[1]>0}(e)&&n&&n.isDef()){var o=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=n.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:V(a.center,a.resolution,a.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{}}}this.frameState_=i,this.renderer_.renderFrame(i),i&&(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),r&&(!this.previousExtent_||!K(this.previousExtent_)&&!A(i.extent,this.previousExtent_))&&(this.dispatchEvent(new ji("movestart",this,r)),this.previousExtent_=M(this.previousExtent_)),this.previousExtent_&&!i.viewHints[0]&&!i.viewHints[1]&&!A(i.extent,this.previousExtent_)&&(this.dispatchEvent(new ji("moveend",this,i)),w(i.extent,this.previousExtent_))),this.dispatchEvent(new ji("postrender",this,i)),this.postRenderTimeoutHandle_=setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(zi.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(zi.SIZE,t)},e.prototype.setTarget=function(t){this.set(zi.TARGET,t)},e.prototype.setView=function(t){this.set(zi.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0);this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(je),to=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render_=e.render?e.render:ct,e.target&&n.setTarget(e.target),n}return Object(c.d)(e,t),e.prototype.disposeInternal=function(){Ei(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Ei(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Ft(this.listenerKeys[e]);this.listenerKeys.length=0,this.map_=t,this.map_&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==ct&&this.listenerKeys.push(Rt(t,"postrender",this.render,this)),t.render())},e.prototype.render=function(t){this.render_.call(this,t)},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(je),eo="ol-hidden",no="ol-selectable",ro="ol-unselectable",io="ol-control",oo="ol-collapsed",ao=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),so=["style","variant","weight","size","lineHeight","family"],uo=function(t){var e=t.match(ao);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=so.length;r<i;++r){var o=e[r+1];void 0!==o&&(n[so[r]]=o)}return n.families=n.family.split(/,\s?/),n};function lo(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var co=function(t){function e(e){var n=this,r=pt({},e);return delete r.source,(n=t.call(this,r)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addEventListener(Re(Ki.SOURCE),n.handleSourcePropertyChange_),n.setSource(e.source?e.source:null),n}return Object(c.d)(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(Ki.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():xe.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Ft(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Rt(t,mt.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_.getFeatures(t)},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Ft(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Ft(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Rt(t,"precompose",function(t){var e=t.frameState.layerStatesArray,n=this.getLayerState(!1);v(!e.some(function(t){return t.layer===n.layer}),67),e.push(n)},this),this.mapRenderKey_=Rt(this,mt.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(Ki.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(Yi);function ho(t){this.updateElement_(t.frameState)}var po=function(t){function e(e){var n=this,r=e||{};(n=t.call(this,{element:document.createElement("div"),render:r.render||ho,target:r.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var i=void 0!==r.className?r.className:"ol-attribution",o=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.collapseLabel?r.collapseLabel:"\xbb";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==r.label?r.label:"i";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=o,l.appendChild(u),l.addEventListener(mt.CLICK,n.handleClick_.bind(n),!1);var c=n.element;return c.className=i+" "+ro+" "+io+(n.collapsed_&&n.collapsible_?" "+oo:"")+(n.collapsible_?"":" ol-uncollapsible"),c.appendChild(n.ulElement_),c.appendChild(l),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return Object(c.d)(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=t.layerStatesArray,i=0,o=r.length;i<o;++i){var a=r[i];if(lo(a,t.viewState)){var s=a.layer.getSource();if(s){var u=s.getAttributions();if(u){var l=u(t);if(l)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(l))for(var c=0,h=l.length;c<h;++c)l[c]in e||(n.push(l[c]),e[l[c]]=!0);else l in e||(n.push(l),e[l]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!st(e,this.renderedAttributions_)){Oi(this.ulElement_);for(var r=0,i=e.length;r<i;++r){var o=document.createElement("li");o.innerHTML=e[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(oo),this.collapsed_?xi(this.collapseLabel_,this.label_):xi(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(to);function fo(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var i=this.element.classList.contains(eo);i||0!==n?i&&0!==n&&this.element.classList.remove(eo):this.element.classList.add(eo)}this.label_.style.transform=r}this.rotation_=n}}var go=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render||fo,target:r.target})||this;var i=void 0!==r.className?r.className:"ol-rotate",o=void 0!==r.label?r.label:"\u21e7";n.label_=null,"string"==typeof o?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=o):(n.label_=o,n.label_.classList.add("ol-compass"));var a=r.tipLabel?r.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),s.addEventListener(mt.CLICK,n.handleClick_.bind(n),!1);var u=n.element;return u.className=i+" "+ro+" "+io,u.appendChild(s),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(eo),n}return Object(c.d)(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();if(t){var e=t.getRotation();void 0!==e&&(this.duration_>0&&e%(2*Math.PI)!=0?t.animate({rotation:0,duration:this.duration_,easing:$}):t.setRotation(0))}},e}(to),vo=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var i=void 0!==r.className?r.className:"ol-zoom",o=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInLabel?r.zoomInLabel:"+",s=void 0!==r.zoomOutLabel?r.zoomOutLabel:"\u2212",u=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",l=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i+"-in",c.setAttribute("type","button"),c.title=u,c.appendChild("string"==typeof a?document.createTextNode(a):a),c.addEventListener(mt.CLICK,n.handleClick_.bind(n,o),!1);var h=document.createElement("button");h.className=i+"-out",h.setAttribute("type","button"),h.title=l,h.appendChild("string"==typeof s?document.createTextNode(s):s),h.addEventListener(mt.CLICK,n.handleClick_.bind(n,-o),!1);var p=n.element;return p.className=i+" "+ro+" "+io,p.appendChild(c),p.appendChild(h),n.duration_=void 0!==r.duration?r.duration:250,n}return Object(c.d)(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var r=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:r,duration:this.duration_,easing:$})):e.setZoom(r)}}},e}(to),mo=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.inversePixelTransform=n,o.frameState=r,o.context=i,o}return Object(c.d)(e,t),e}(ht);function yo(t){return Array.isArray(t)?_i(t):t}var _o=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),bo=[],wo=[0,0,0,0],So=new je;(new vt).setSize=function(){console.warn("labelCache is deprecated.")};var Co,xo=null,Eo={},Oo=function(){var t,e,n=100,r="32px ",i=["monospace","serif"],o=i.length,a="wmytzilWMYTZIL@#/&?$%10\uf013";function s(t,n,s){for(var u=!0,l=0;l<o;++l){var c=i[l];if(e=Mo(t+" "+n+" "+r+c,a),s!=c){var h=Mo(t+" "+n+" "+r+s+","+c,a);u=u&&h!=e}}return!!u}function u(){for(var e=!0,r=So.getKeys(),i=0,o=r.length;i<o;++i){var a=r[i];So.get(a)<n&&(s.apply(this,a.split("\n"))?(ft(Eo),xo=null,Co=void 0,So.set(a,n)):(So.set(a,So.get(a)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var r=uo(e);if(r)for(var i=r.families,o=0,a=i.length;o<a;++o){var l=i[o],c=r.style+"\n"+r.weight+"\n"+l;void 0===So.get(c)&&(So.set(c,n,!0),s(r.style,r.weight,l)||(So.set(c,0,!0),void 0===t&&(t=setInterval(u,32))))}}}(),Io=function(){var t,e=Eo;return function(n){var r=e[n];if(null==r)if(yn){var i=uo(n),o=To(n,"\u017dg"),a=isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight);Eo[n]=a*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else t||((t=document.createElement("div")).innerHTML="M",t.style.margin="0 !important",t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),e[n]=r=t.offsetHeight,document.body.removeChild(t);return r}}();function To(t,e){return xo||(xo=wi(1,1)),t!=Co&&(xo.font=t,Co=xo.font),xo.measureText(e)}function Mo(t,e){return To(t,e).width}function Po(t,e,n){if(e in n)return n[e];var r=Mo(t,e);return n[e]=r,r}function ko(t,e,n,r){0!==e&&(t.translate(n,r),t.rotate(e),t.translate(-n,-r))}function Ao(t,e,n,r,i,o,a,s,u,l,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,l),t.scale(c,c),function(t,e){for(var n=r.contextInstructions,i=0,o=n.length;i<o;i+=2)Array.isArray(n[i+1])?e[n[i]].apply(e,n[i+1]):e[n[i]]=n[i+1]}(0,t)):t.drawImage(r,i,o,a,s,u,l,a*c,s*c),t.restore()}var Ro=null,jo=function(t){function e(e,n,r,i,o,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=i,u.viewRotation_=o,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=0,u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=0,u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=[1,0,0,1,0,0],u}return Object(c.d)(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var i=Nn(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,s=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,c=i.length;l<c;l+=2){var h=i[l]-this.imageAnchorX_,p=i[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;Gn(a,f,d,this.imageScale_,this.imageScale_,u,-f,-d),o.setTransform.apply(o,a)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var i=Nn(t,e,n,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=i[e]+this.textOffsetX_,u=i[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var l=Gn(this.tmpLocalTransform_,s,u,this.textScale_,this.textScale_,a,-s,-u);o.setTransform.apply(o,l)}this.textStrokeState_&&o.strokeText(this.text_,s,u),this.textFillState_&&o.fillText(this.text_,s,u)}0===a&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,r,i){var o=this.context_,a=Nn(t,e,n,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);var s=a.length;i&&(s-=2);for(var u=2;u<s;u+=2)o.lineTo(a[u],a[u+1]);return i&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e},e.prototype.drawCircle=function(t){if(X(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var r=t.getFlatCoordinates();if(r){var i=t.getStride();return Nn(r,0,r.length,i,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],i=Math.sqrt(n*n+r*r),o=this.context_;o.beginPath(),o.arc(e[0],e[1],i,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){switch(t.getType()){case Dt.POINT:this.drawPoint(t);break;case Dt.LINE_STRING:this.drawLineString(t);break;case Dt.POLYGON:this.drawPolygon(t);break;case Dt.MULTI_POINT:this.drawMultiPoint(t);break;case Dt.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Dt.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Dt.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Dt.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&X(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),X(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(X(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),i=0,o=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,u=o.length;s<u;++s)i=this.moveToLineTo_(r,i,o[s],a,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),X(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),X(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,i=t.getEndss(),o=t.getStride();e.beginPath();for(var a=0,s=i.length;a<s;++a)r=this.drawRings_(n,r,i[a],o);this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(st(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:yo(n||"#000")}}else this.fillState_=null;if(e){var r=e.getColor(),i=e.getLineCap(),o=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),u=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==i?i:"round",lineDash:o||bo,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==u?u:1),miterLimit:void 0!==l?l:10,strokeStyle:yo(r||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),r=t.getOrigin(),i=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=i[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=i[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:yo(n||"#000")}}else this.textFillState_=null;var r=t.getStroke();if(r){var i=r.getColor(),o=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),u=r.getLineJoin(),l=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:a||bo,lineDashOffset:s||0,lineJoin:void 0!==u?u:"round",lineWidth:void 0!==l?l:1,miterLimit:void 0!==c?c:10,strokeStyle:yo(i||"#000")}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),v=t.getScale(),m=t.getText(),y=t.getTextAlign(),_=t.getTextBaseline();this.textState_={font:void 0!==h?h:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==_?_:"middle"},this.text_=void 0!==m?m:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(_o),Fo={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},Lo=.5,Do={Point:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=fi.LOADED)return;var o=t.getBuilder(n.getZIndex(),Fo.IMAGE);o.setImageStyle(i,t.addDeclutter(!1)),o.drawPoint(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),Fo.TEXT);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},LineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),Fo.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawLineString(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),Fo.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},Polygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getBuilder(n.getZIndex(),Fo.POLYGON);a.setFillStrokeStyle(i,o),a.drawPolygon(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),Fo.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},MultiPoint:function(t,e,n,r){var i=n.getImage();if(i){if(i.getImageState()!=fi.LOADED)return;var o=t.getBuilder(n.getZIndex(),Fo.IMAGE);o.setImageStyle(i,t.addDeclutter(!1)),o.drawMultiPoint(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),Fo.TEXT);s.setTextStyle(a,t.addDeclutter(!!i)),s.drawText(e,r)}},MultiLineString:function(t,e,n,r){var i=n.getStroke();if(i){var o=t.getBuilder(n.getZIndex(),Fo.LINE_STRING);o.setFillStrokeStyle(null,i),o.drawMultiLineString(e,r)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),Fo.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,r)}},MultiPolygon:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(o||i){var a=t.getBuilder(n.getZIndex(),Fo.POLYGON);a.setFillStrokeStyle(i,o),a.drawMultiPolygon(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),Fo.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}},GeometryCollection:function(t,e,n,r){var i,o,a=e.getGeometriesArray();for(i=0,o=a.length;i<o;++i)(0,Do[a[i].getType()])(t,a[i],n,r)},Circle:function(t,e,n,r){var i=n.getFill(),o=n.getStroke();if(i||o){var a=t.getBuilder(n.getZIndex(),Fo.CIRCLE);a.setFillStrokeStyle(i,o),a.drawCircle(e,r)}var s=n.getText();if(s){var u=t.getBuilder(n.getZIndex(),Fo.TEXT);u.setTextStyle(s,t.addDeclutter(!1)),u.drawText(e,r)}}};function No(t,e){return parseInt(f(t),10)-parseInt(f(e),10)}function zo(t,e){return Lo*t/e}function Bo(t,e,n,r,i,o){var a=!1,s=n.getImage();if(s){var u=s.getImageState();u==fi.LOADED||u==fi.ERROR?s.unlistenImageChange(i):(u==fi.IDLE&&s.load(),u=s.getImageState(),s.listenImageChange(i),a=!0)}return function(t,e,n,r,i){var o=n.getGeometryFunction()(e);if(o){var a=o.simplifyTransformed(r,i);n.getRenderer()?function t(e,n,r,i){if(n.getType()!=Dt.GEOMETRY_COLLECTION)e.getBuilder(r.getZIndex(),Fo.DEFAULT).drawCustom(n,i,r.getRenderer());else for(var o=n.getGeometries(),a=0,s=o.length;a<s;++a)t(e,o[a],r,i)}(t,a,n,e):(0,Do[a.getType()])(t,a,n,e)}}(t,e,n,r,o),a}function Go(t,e){Ti.expire()}var Vo=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=Rt(So,Me.PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className=ro+" ol-layers";var i=e.getViewport();return i.insertBefore(n.element_,i.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Object(c.d)(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new mo(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){Ft(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent("precompose",e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),r=e.viewState;this.children_.length=0;for(var i=null,o=0,a=n.length;o<a;++o){var s=n[o];if(e.layerIndex=o,lo(s,r)&&(s.sourceState==xe.READY||s.sourceState==xe.UNDEFINED)){var u=s.layer.render(e,i);u&&u!==i&&(this.children_.push(u),i=u)}}t.prototype.renderFrame.call(this,e),function(t,e){for(var n=t.childNodes,r=0;;++r){var i=n[r],o=e[r];if(!i&&!o)break;i!==o&&(i?o?t.insertBefore(o,i):(t.removeChild(i),--r):t.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent("postcompose",e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){for(var o=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var u=a[s],l=u.layer;if(l.hasRenderer()&&lo(u,o)&&i(l)){var c=l.getRenderer().getDataAtPixel(t,e,n);if(c){var h=r(l,c);if(h)return h}}}},e}(function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return Object(c.d)(e,t),e.prototype.dispatchRenderEvent=function(t,e){h()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Gn(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Vn(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o,a,s){var u,l=e.viewState;function c(t,e,n){return i.call(o,e,t?n:null)}var h=l.projection,p=pn(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){var d=Z(h.getExtent());f.push([-d,0],[d,0])}var g,v=e.layerStatesArray,m=v.length;this.declutterTree_&&(g=this.declutterTree_.all().map(function(t){return t.value}));for(var y=[],_=0;_<f.length;_++)for(var b=m-1;b>=0;--b){var w=v[b],S=w.layer;if(S.hasRenderer()&&lo(w,l)&&a.call(s,S)){var C=S.getRenderer(),x=S.getSource();if(C&&x){var E=x.getWrapX()?p:t,O=c.bind(null,w.managed);y[0]=E[0]+f[_][0],y[1]=E[1]+f[_][1],u=C.forEachFeatureAtCoordinate(y,e,n,O,g)}if(u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,i){return h()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,ut,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,r=n.length-1;r>=0;--r)for(var i=n[r],o=i.items,a=0,s=o.length;a<s;a+=3)e=o[a].renderDeclutter(o[a+1],o[a+2],i.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){Ti.canExpireCache()&&t.postRenderFunctions.push(Go)},e}(nt)),Uo=function(t){function e(e){return(e=pt({},e)).controls||(e.controls=function(t){var e={},n=new tn;return(void 0===e.zoom||e.zoom)&&n.push(new vo(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new go(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new po(e.attributionOptions)),n}()),e.interactions||(e.interactions=zr()),t.call(this,e)||this}return Object(c.d)(e,t),e.prototype.createRenderer=function(){return new Vo(this)},e}($i),Ho={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},qo={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Wo=function(t){function e(e){var n=t.call(this)||this;n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+no,n.element.style.position="absolute";var r=e.autoPan;return r&&"object"!=typeof r&&(r={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=r||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addEventListener(Re(qo.ELEMENT),n.handleElementChanged),n.addEventListener(Re(qo.MAP),n.handleMapChanged),n.addEventListener(Re(qo.OFFSET),n.handleOffsetChanged),n.addEventListener(Re(qo.POSITION),n.handlePositionChanged),n.addEventListener(Re(qo.POSITIONING),n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:Ho.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return Object(c.d)(e,t),e.prototype.getElement=function(){return this.get(qo.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(qo.MAP)},e.prototype.getOffset=function(){return this.get(qo.OFFSET)},e.prototype.getPosition=function(){return this.get(qo.POSITION)},e.prototype.getPositioning=function(){return this.get(qo.POSITIONING)},e.prototype.handleElementChanged=function(){Oi(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Ei(this.element),Ft(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Rt(t,"postrender",this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(qo.ELEMENT,t)},e.prototype.setMap=function(t){this.set(qo.MAP,t)},e.prototype.setOffset=function(t){this.set(qo.OFFSET,t)},e.prototype.setPosition=function(t){this.set(qo.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get(qo.POSITION)){var n=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),i=this.getRect(r,[Si(r),Ci(r)]),o=void 0===t.margin?20:t.margin;if(!x(n,i)){var a=i[0]-n[0],s=n[2]-i[2],u=i[1]-n[1],l=n[3]-i[3],c=[0,0];if(a<0?c[0]=a-o:s<0&&(c[0]=Math.abs(s)+o),u<0?c[1]=u-o:l<0&&(c[1]=Math.abs(l)+o),0!==c[0]||0!==c[1]){var h=e.getView().getCenterInternal(),p=e.getPixelFromCoordinateInternal(h),f=[p[0]+c[0],p[1]+c[1]],d=t.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(f),duration:d.duration,easing:d.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;return[r,i,r+e[0],i+e[1]]},e.prototype.setPositioning=function(t){this.set(qo.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),i=this.getPositioning();this.setVisible(!0);var o=Math.round(t[0]+r[0])+"px",a=Math.round(t[1]+r[1])+"px",s="0%",u="0%";i==Ho.BOTTOM_RIGHT||i==Ho.CENTER_RIGHT||i==Ho.TOP_RIGHT?s="-100%":i!=Ho.BOTTOM_CENTER&&i!=Ho.CENTER_CENTER&&i!=Ho.TOP_CENTER||(s="-50%"),i==Ho.BOTTOM_LEFT||i==Ho.BOTTOM_CENTER||i==Ho.BOTTOM_RIGHT?u="-100%":i!=Ho.CENTER_LEFT&&i!=Ho.CENTER_CENTER&&i!=Ho.CENTER_RIGHT||(u="-50%");var l="translate("+s+", "+u+") translate("+o+", "+a+")";this.rendered.transform_!=l&&(this.rendered.transform_=l,n.transform=l,n.msTransform=l)},e.prototype.getOptions=function(){return this.options},e}(je),Zo=1,Xo=2,Ko=484813681109536e-20,Yo=Math.PI/2,Jo=.16666666666666666,Qo=.04722222222222222,$o=.022156084656084655,ta=1e-10,ea=.017453292519943295,na=57.29577951308232,ra=Math.PI/4,ia=2*Math.PI,oa=3.14159265359,aa={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},sa={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},ua=/[\s_\-\/\(\)]/g;function la(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(ua,""),o=-1;++o<r.length;)if((n=r[o]).toLowerCase().replace(ua,"")===i)return t[n]}var ca=function(t){var e,n,r,i={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),a={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*ea},lat_1:function(t){i.lat1=t*ea},lat_2:function(t){i.lat2=t*ea},lat_ts:function(t){i.lat_ts=t*ea},lon_0:function(t){i.long0=t*ea},lon_1:function(t){i.long1=t*ea},lon_2:function(t){i.long2=t*ea},alpha:function(t){i.alpha=parseFloat(t)*ea},lonc:function(t){i.longc=t*ea},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=la(sa,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*ea},pm:function(t){var e=la(aa,t);i.from_greenwich=(e||parseFloat(t))*ea},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in o)n=o[e],e in a?"function"==typeof(r=a[e])?r(n):i[r]=n:i[e]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},ha=1,pa=/\s/,fa=/[A-Za-z]/,da=/[A-Za-z84]/,ga=/[,\]]/,va=/[\d\.E\-\+]/;function ma(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=ha}function ya(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=n.reduce(function(t,e){return _a(e,t),t},e?{}:t);e&&(t[e]=r)}function _a(t,e){if(Array.isArray(t)){var n,r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void _a(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r)switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&_a(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&_a(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void ya(e,r,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return _a(t,e[r]);return ya(e,r,t)}else e[r]=t;else e[r]=!0}else e[t]=!0}ma.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;pa.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case ha:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},ma.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(ga.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},ma.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=ha)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=ha,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},ma.prototype.number=function(t){if(!va.test(t)){if(ga.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},ma.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},ma.prototype.keyword=function(t){if(da.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=ha)}if(!ga.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},ma.prototype.neutral=function(t){if(fa.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(va.test(t))return this.word=t,void(this.state=3);if(!ga.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},ma.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var ba=.017453292519943295;function wa(t){return t*ba}var Sa=function(t){var e=new ma(t).output(),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return _a(e,i),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):t.projName="object"==typeof t.PROJECTION?Object.keys(t.PROJECTION)[0]:t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(t.datumCode=e.DATUM?e.DATUM.name.toLowerCase():e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",wa],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",wa],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",wa],["lat0","latitude_of_origin",wa],["lat0","standard_parallel_1",wa],["lat1","standard_parallel_1",wa],["lat2","standard_parallel_2",wa],["azimuth","Azimuth"],["alpha","azimuth",wa],["srsCode","name"]].forEach(function(e){return o=(r=e)[1],void(!((i=r[0])in(n=t))&&o in n&&(n[i]=n[o],3===r.length&&(n[i]=r[2](n[i]))));var n,r,i,o}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=wa(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(i),i};function Ca(t){var e=this;if(2===arguments.length){var n=arguments[1];Ca[t]="string"==typeof n?"+"===n.charAt(0)?ca(arguments[1]):Sa(arguments[1]):n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?Ca.apply(e,t):Ca(t)});if("string"==typeof t){if(t in Ca)return Ca[t]}else"EPSG"in t?Ca["EPSG:"+t.EPSG]=t:"ESRI"in t?Ca["ESRI:"+t.ESRI]=t:"IAU2000"in t?Ca["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(Ca);var xa=Ca,Ea=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],Oa=["3857","900913","3785","102113"],Ia=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in xa}(t))return xa[t];if(function(t){return Ea.some(function(e){return t.indexOf(e)>-1})}(t)){var e=Sa(t);if(function(t){var n=la(e,"authority");if(n){var r=la(n,"epsg");return r&&Oa.indexOf(r)>-1}}())return xa["EPSG:3857"];var n=function(t){var n=la(e,"extension");if(n)return la(n,"proj4")}();return n?ca(n):e}return function(t){return"+"===t[0]}(t)?ca(t):void 0},Ta=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t},Ma=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)},Pa=function(t){return t<0?-1:1},ka=function(t){return Math.abs(t)<=oa?t:t-Pa(t)*ia},Aa=function(t,e,n){var r=t*n;return r=Math.pow((1-r)/(1+r),.5*t),Math.tan(.5*(Yo-e))/r},Ra=function(t,e){for(var n,r,i=.5*t,o=Yo-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),o+=r=Yo-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,Math.abs(r)<=1e-10)return o;return-9999};function ja(t){return t}var Fa=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):Ma(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(t){var e,n,r=t.x,i=t.y;if(i*na>90&&i*na<-90&&r*na>180&&r*na<-180)return null;if(Math.abs(Math.abs(i)-Yo)<=ta)return null;if(this.sphere)e=this.x0+this.a*this.k0*ka(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(ra+.5*i));else{var o=Math.sin(i),a=Aa(this.e,i,o);e=this.x0+this.a*this.k0*ka(r-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=Yo-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(-9999===(n=Ra(this.e,o)))return null}return e=ka(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:ja,inverse:ja,names:["longlat","identity"]}],La={},Da=[];function Na(t,e){var n=Da.length;return t.names?(Da[n]=t,t.names.forEach(function(t){La[t.toLowerCase()]=n}),this):(console.log(e),!0)}var za={start:function(){Fa.forEach(Na)},add:Na,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==La[e]&&Da[La[e]]?Da[La[e]]:void 0}},Ba={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Ga=Ba.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ba.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Va={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},Ua=function(t,e,n,r,i,o){var a={};return a.datum_type=void 0===t||"none"===t?5:4,e&&(a.datum_params=e.map(parseFloat),0===a.datum_params[0]&&0===a.datum_params[1]&&0===a.datum_params[2]||(a.datum_type=Zo),a.datum_params.length>3&&(0===a.datum_params[3]&&0===a.datum_params[4]&&0===a.datum_params[5]&&0===a.datum_params[6]||(a.datum_type=Xo,a.datum_params[3]*=Ko,a.datum_params[4]*=Ko,a.datum_params[5]*=Ko,a.datum_params[6]=a.datum_params[6]/1e6+1))),a.a=n,a.b=r,a.es=i,a.ep2=o,a};function Ha(t,e){if(!(this instanceof Ha))return new Ha(t);e=e||function(t){if(t)throw t};var n=Ia(t);if("object"==typeof n){var r=Ha.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=la(Va,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o,a,s,u,l,c,h=function(t,e,r,i,o){if(!t){var a=la(Ba,n.ellps);a||(a=Ga),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(0===r||Math.abs(t-e)<ta)&&(o=!0,e=t),{a:t,b:e,rf:r,sphere:o}}(n.a,n.b,n.rf,0,n.sphere),p=(l=((s=(o=h.a)*o)-(u=(a=h.b)*a))/s,c=0,n.R_A?(s=(o*=1-l*(Jo+l*(Qo+l*$o)))*o,l=0):c=Math.sqrt(l),{es:l,e:c,ep2:(s-u)/u}),f=n.datum||Ua(n.datumCode,n.datum_params,h.a,h.b,p.es,p.ep2);Ta(this,n),Ta(this,r),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=p.es,this.e=p.e,this.ep2=p.ep2,this.datum=f,this.init(),e(null,this)}else e(t)}else e(t)}(Ha.projections=za).start();var qa=Ha;function Wa(t){return t===Zo||t===Xo}var Za=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===Zo?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Xo||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:5===t.datum_type||5===e.datum_type?n:t.es!==e.es||t.a!==e.a||Wa(t.datum_type)||Wa(e.datum_type)?(n=function(t,e,r){var i,o,a,s=n.x,u=n.y,l=n.z?n.z:0;if(u<-Yo&&u>-1.001*Yo)u=-Yo;else if(u>Yo&&u<1.001*Yo)u=Yo;else{if(u<-Yo)return{x:-1/0,y:-1/0,z:n.z};if(u>Yo)return{x:1/0,y:1/0,z:n.z}}return s>Math.PI&&(s-=2*Math.PI),o=Math.sin(u),a=Math.cos(u),{x:((i=r/Math.sqrt(1-e*(o*o)))+l)*a*Math.cos(s),y:(i+l)*a*Math.sin(s),z:(i*(1-e)+l)*o}}(0,t.es,t.a),Wa(t.datum_type)&&(n=function(t,e,r){if(e===Zo)return{x:n.x+r[0],y:n.y+r[1],z:n.z+r[2]};if(e===Xo){var i=r[3],o=r[4],a=r[5],s=r[6];return{x:s*(n.x-a*n.y+o*n.z)+r[0],y:s*(a*n.x+n.y-i*n.z)+r[1],z:s*(-o*n.x+i*n.y+n.z)+r[2]}}}(0,t.datum_type,t.datum_params)),Wa(e.datum_type)&&(n=function(t,e,r){if(e===Zo)return{x:n.x-r[0],y:n.y-r[1],z:n.z-r[2]};if(e===Xo){var i=r[3],o=r[4],a=r[5],s=r[6],u=(n.x-r[0])/s,l=(n.y-r[1])/s,c=(n.z-r[2])/s;return{x:u+a*l-o*c,y:-a*u+l+i*c,z:o*u-i*l+c}}}(0,e.datum_type,e.datum_params)),function(t,e,n,r){var i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,_=t.x,b=t.y,w=t.z?t.z:0;if(i=Math.sqrt(_*_+b*b),o=Math.sqrt(_*_+b*b+w*w),i/n<1e-12){if(m=0,o/n<1e-12)return y=-r,{x:t.x,y:t.y,z:t.z}}else m=Math.atan2(b,_);a=w/o,h=(s=i/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*s*s)),p=a*u,v=0;do{v++,l=e*(c=n/Math.sqrt(1-e*p*p))/(c+(y=i*h+w*p-c*(1-e*p*p))),g=(d=a*(u=1/Math.sqrt(1-l*(2-l)*s*s)))*h-(f=s*(1-l)*u)*p,h=f,p=d}while(g*g>1e-24&&v<30);return{x:m,y:Math.atan(d/Math.abs(f)),z:y}}(n,e.es,e.a,e.b)):n},Xa=function(t,e,n){var r,i,o,a=n.x,s=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=a,i="x"):1===o?(r=s,i="y"):(r=u,i="z"),t.axis[o]){case"e":l[i]=r;break;case"w":l[i]=-r;break;case"n":l[i]=r;break;case"s":l[i]=-r;break;case"u":void 0!==n[i]&&(l.z=r);break;case"d":void 0!==n[i]&&(l.z=-r);break;default:return null}return l},Ka=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},Ya=function(t){Ja(t.x),Ja(t.y)};function Ja(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Qa(t,e,n){var r;return Array.isArray(n)&&(n=Ka(n)),Ya(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===Zo||t.datum.datum_type===Xo)&&"WGS84"!==e.datumCode||(e.datum.datum_type===Zo||e.datum.datum_type===Xo)&&"WGS84"!==t.datumCode}(t,e)&&(n=Qa(t,r=new qa("WGS84"),n),t=r),"enu"!==t.axis&&(n=Xa(t,!1,n)),"longlat"===t.projName?n={x:n.x*ea,y:n.y*ea}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=Za(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*na,y:n.y*na}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?Xa(e,!0,n):n}var $a=qa("WGS84");function ts(t,e,n){var r,i,o;return Array.isArray(n)?(r=Qa(t,e,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):(i=Qa(t,e,n),2===(o=Object.keys(n)).length?i:(o.forEach(function(t){"x"!==t&&"y"!==t&&(i[t]=n[t])}),i))}function es(t){return t instanceof qa?t:t.oProj?t.oProj:qa(t)}var ns=function(t,e,n){t=es(t);var r,i=!1;return void 0===e?(e=t,t=$a,i=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=$a,i=!0),e=es(e),n?ts(t,e,n):(r={forward:function(n){return ts(t,e,n)},inverse:function(n){return ts(e,t,n)}},i&&(r.oProj=e),r)},rs=6,is="AJSAJS",os="AFAFAF",as=65,ss=73,us=79,ls=86,cs=90,hs={forward:ps,inverse:function(t){var e=vs(ys(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:fs};function ps(t,e){return e=e||5,function(t,e){var n,r,i,o,a,s,u,l,c,h,p,f="00000"+t.easting,d="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(c=t.easting,h=t.northing,p=ms(t.zoneNumber),n=Math.floor(c/1e5),r=Math.floor(h/1e5)%20,o=is.charCodeAt(i=p-1),a=os.charCodeAt(i),l=!1,(s=o+n-1)>cs&&(s=s-cs+as-1,l=!0),(s===ss||o<ss&&s>ss||(s>ss||o<ss)&&l)&&s++,(s===us||o<us&&s>us||(s>us||o<us)&&l)&&++s===ss&&s++,s>cs&&(s=s-cs+as-1),(u=a+r)>ls?(u=u-ls+as-1,l=!0):l=!1,(u===ss||a<ss&&u>ss||(u>ss||a<ss)&&l)&&u++,(u===us||a<us&&u>us||(u>us||a<us)&&l)&&++u===ss&&u++,u>ls&&(u=u-ls+as-1),String.fromCharCode(s)+String.fromCharCode(u))+f.substr(f.length-5,e)+d.substr(d.length-5,e)}(function(t){var e,n,r,i,o,a,s=t.lat,u=t.lon,l=6378137,c=ds(s),h=ds(u);a=Math.floor((u+180)/6)+1,180===u&&(a=60),s>=56&&s<64&&u>=3&&u<12&&(a=32),s>=72&&s<84&&(u>=0&&u<9?a=31:u>=9&&u<21?a=33:u>=21&&u<33?a=35:u>=33&&u<42&&(a=37)),o=ds(6*(a-1)-180+3),e=l/Math.sqrt(1-.00669438*Math.sin(c)*Math.sin(c)),n=Math.tan(c)*Math.tan(c),r=.006739496752268451*Math.cos(c)*Math.cos(c);var p,f,d=.9996*e*((i=Math.cos(c)*(h-o))+(1-n+r)*i*i*i/6+(5-18*n+n*n+72*r-.39089081163157013)*i*i*i*i*i/120)+5e5,g=.9996*(l*(.9983242984503243*c-.002514607064228144*Math.sin(2*c)+2639046602129982e-21*Math.sin(4*c)-3.418046101696858e-9*Math.sin(6*c))+e*Math.tan(c)*(i*i/2+(5-n+9*r+4*r*r)*i*i*i*i/24+(61-58*n+n*n+600*r-2.2240339282485886)*i*i*i*i*i*i/720));return s<0&&(g+=1e7),{northing:Math.round(g),easting:Math.round(d),zoneNumber:a,zoneLetter:(p=s,f="Z",84>=p&&p>=72?f="X":72>p&&p>=64?f="W":64>p&&p>=56?f="V":56>p&&p>=48?f="U":48>p&&p>=40?f="T":40>p&&p>=32?f="S":32>p&&p>=24?f="R":24>p&&p>=16?f="Q":16>p&&p>=8?f="P":8>p&&p>=0?f="N":0>p&&p>=-8?f="M":-8>p&&p>=-16?f="L":-16>p&&p>=-24?f="K":-24>p&&p>=-32?f="J":-32>p&&p>=-40?f="H":-40>p&&p>=-48?f="G":-48>p&&p>=-56?f="F":-56>p&&p>=-64?f="E":-64>p&&p>=-72?f="D":-72>p&&p>=-80&&(f="C"),f)}}({lat:t[1],lon:t[0]}),e)}function fs(t){var e=vs(ys(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function ds(t){return t*(Math.PI/180)}function gs(t){return t/Math.PI*180}function vs(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,a,s,u,l,c,h,p,f=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,v=e;r<"N"&&(v-=1e7),c=6*(i-1)-180+3,p=(h=v/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=f/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),a=Math.tan(p)*Math.tan(p),s=.006739496752268451*Math.cos(p)*Math.cos(p),u=.99330562*f/Math.pow(1-.00669438*Math.sin(p)*Math.sin(p),1.5),l=g/(.9996*o);var m=p-o*Math.tan(p)/u*(l*l/2-(5+3*a+10*s-4*s*s-.06065547077041606)*l*l*l*l/24+(61+90*a+298*s+45*a*a-1.6983531815716497-3*s*s)*l*l*l*l*l*l/720);m=gs(m);var y,_=(l-(1+2*a+s)*l*l*l/6+(5-2*s+28*a-3*s*s+.05391597401814761+24*a*a)*l*l*l*l*l/120)/Math.cos(p);if(_=c+gs(_),t.accuracy){var b=vs({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:b.lat,right:b.lon,bottom:m,left:_}}else y={lat:m,lon:_};return y}function ms(t){var e=t%rs;return 0===e&&(e=rs),e}function ys(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var a=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(o++);if(s<="A"||"B"===s||"Y"===s||s>="Z"||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(o,o+=2);for(var u=ms(a),l=function(t,e){for(var n=is.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(++n===ss&&n++,n===us&&n++,n>cs){if(i)throw"Bad character: "+t;n=as,i=!0}r+=1e5}return r}(r.charAt(0),u),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=os.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(++n===ss&&n++,n===us&&n++,n>ls){if(i)throw"Bad character: "+t;n=as,i=!0}r+=1e5}return r}(r.charAt(1),u);c<_s(s);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,f,d,g=h/2,v=0,m=0;return g>0&&(p=1e5/Math.pow(10,g),f=t.substring(o,o+g),v=parseFloat(f)*p,d=t.substring(o+g),m=parseFloat(d)*p),{easting:v+l,northing:m+c,zoneLetter:s,zoneNumber:a,accuracy:p}}function _s(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function bs(t,e,n){if(!(this instanceof bs))return new bs(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}bs.fromMGRS=function(t){return new bs(fs(t))},bs.prototype.toMGRS=function(t){return ps([this.x,this.y],t)};var ws=bs,Ss=n("OceT"),Cs=.01068115234375,xs=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Cs))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Cs)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),e[3]=(n*=t)*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Es=function(t,e,n,r){return r[0]*t-(n*=e)*(r[1]+(e*=e)*(r[2]+e*(r[3]+e*r[4])))},Os=function(t,e,n){for(var r=1/(1-e),i=t,o=20;o;--o){var a=Math.sin(i),s=1-e*a*a;if(i-=s=(Es(i,a,Math.cos(i),n)-t)*(s*Math.sqrt(s))*r,Math.abs(s)<ta)return i}return i},Is={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=xs(this.es),this.ml0=Es(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.y,o=ka(t.x-this.long0),a=Math.sin(i),s=Math.cos(i);if(this.es){var u=s*o,l=Math.pow(u,2),c=this.ep2*Math.pow(s,2),h=Math.pow(c,2),p=Math.abs(s)>ta?Math.tan(i):0,f=Math.pow(p,2),d=Math.pow(f,2);e=1-this.es*Math.pow(a,2),u/=Math.sqrt(e);var g=Es(i,a,s,this.en);n=this.a*(this.k0*u*(1+l/6*(1-f+c+l/20*(5-18*f+d+14*c-58*f*c+l/42*(61+179*d-d*f-479*f)))))+this.x0,r=this.a*(this.k0*(g-this.ml0+a*o*u/2*(1+l/12*(5-f+9*c+4*h+l/30*(61+d-58*f+270*c-330*f*c+l/56*(1385+543*d-d*f-3111*f))))))+this.y0}else{var v=s*Math.sin(o);if(Math.abs(Math.abs(v)-1)<ta)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,r=s*Math.cos(o)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(r))>=1){if(v-1>ta)return 93;r=0}else r=Math.acos(r);i<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,o=1/this.a*(t.x-this.x0),a=1/this.a*(t.y-this.y0);if(this.es)if(n=Os(e=this.ml0+a/this.k0,this.es,this.en),Math.abs(n)<Yo){var s=Math.sin(n),u=Math.cos(n),l=Math.abs(u)>ta?Math.tan(n):0,c=this.ep2*Math.pow(u,2),h=Math.pow(c,2),p=Math.pow(l,2),f=Math.pow(p,2);e=1-this.es*Math.pow(s,2);var d=o*Math.sqrt(e)/this.k0,g=Math.pow(d,2);r=n-(e*=l)*g/(1-this.es)*.5*(1-g/12*(5+3*p-9*c*p+c-4*h-g/30*(61+90*p-252*c*p+45*f+46*c-g/56*(1385+3633*p+4095*f+1574*f*p)))),i=ka(this.long0+d*(1-g/6*(1+2*p+c-g/20*(5+28*p+24*f+8*c*p+6*c-g/42*(61+662*p+1320*f+720*f*p))))/u)}else r=Yo*Pa(a),i=0;else{var v=Math.exp(o/this.k0),m=.5*(v-1/v),y=Math.cos(this.lat0+a/this.k0);e=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(m,2))),r=Math.asin(e),a<0&&(r=-r),i=0===m&&0===y?0:ka(Math.atan2(m,y)+this.long0)}return t.x=i,t.y=r,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Ts=function(t){var e=Math.exp(t);return(e-1/e)/2},Ms=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},Ps=function(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return e+n*Math.sin(2*e)},ks=function(t,e,n){for(var r,i,o=Math.sin(e),a=Math.cos(e),s=Ts(n),u=function(t){var e=Math.exp(n);return(e+1/e)/2}(),l=2*a*u,c=-2*o*s,h=t.length-1,p=t[h],f=0,d=0,g=0;--h>=0;)r=d,i=f,p=l*(d=p)-r-c*(f=g)+t[h],g=c*d-i+l*f;return[(l=o*u)*p-(c=a*s)*g,l*g+c*p]},As={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),this.cgb[1]=(n*=e)*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),this.cgb[2]=(n*=e)*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),this.cgb[3]=(n*=e)*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),this.cgb[4]=(n*=e)*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),this.cgb[5]=(n*=e)*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),this.utg[2]=(n*=e)*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),this.utg[3]=(n*=e)*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),this.utg[4]=(n*=e)*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),this.utg[5]=-.03233083094085698*(n*=e),this.gtu[5]=.6650675310896665*n;var r=Ps(this.cbg,this.lat0);this.Zb=-this.Qn*(r+function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,o=t[i],a=0;--i>=0;)n=r*o-a+t[i],a=o,o=n;return Math.sin(e)*n}(this.gtu,2*r))},forward:function(t){var e=ka(t.x-this.long0),n=t.y;n=Ps(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),a=Math.cos(e);n=Math.atan2(r,a*i),e=Math.atan2(o*i,Ms(r,i*a)),e=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Ms(1,e)+1))),t<0?-e:e}(Math.tan(e));var s,u,l=ks(this.gtu,2*n,2*e);return n+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(s=1/0,u=1/0),t.x=s,t.y=u,t},inverse:function(t){var e,n,r=1/this.a*(t.x-this.x0),i=1/this.a*(t.y-this.y0);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=ks(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Ts(r));var a=Math.sin(i),s=Math.cos(i),u=Math.sin(r),l=Math.cos(r);i=Math.atan2(a*l,Ms(u,l*s)),r=Math.atan2(u,l*s),e=ka(r+this.long0),n=Ps(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Rs={init:function(){var t=function(t,e){if(void 0===t){if((t=Math.floor(30*(ka(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*ea,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,As.init.apply(this),this.forward=As.forward,this.inverse=As.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},js=function(t,e){return Math.pow((1-t)/(1+t),e)},Fs={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ra)/(Math.pow(Math.tan(.5*this.lat0+ra),this.C)*js(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ra),this.C)*js(this.e*Math.sin(n),this.ratexp))-Yo,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+ra)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(r*js(this.e*Math.sin(t.y),-.5*this.e))-Yo,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]},Ls={init:function(){Fs.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=ka(t.x-this.long0),Fs.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),t.x=(i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r))*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var a=2*Math.atan2(o,this.R2);e=Math.sin(a),n=Math.cos(a),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,Fs.inverse.apply(this,[t]),t.x=ka(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Ds={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ta&&(this.k0=.5*(1+Pa(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=ta&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=ta&&(this.k0=.5*this.cons*Ma(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Aa(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Ma(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Yo,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,o,a,s=t.x,u=t.y,l=Math.sin(u),c=Math.cos(u),h=ka(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=ta&&Math.abs(u+this.lat0)<=ta?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*c*Math.cos(h)),t.x=this.a*e*c*Math.sin(h)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*c*Math.cos(h))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,l,this.e))-Yo,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=ta?(o=Aa(this.e,u*this.con,this.con*l),t.x=this.x0+(a=2*this.a*this.k0*o/this.cons)*Math.sin(s-this.long0),t.y=this.y0-this.con*a*Math.cos(s-this.long0),t):(Math.abs(this.sinlat0)<ta?(e=2*this.a*this.k0/(1+i*Math.cos(h)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(h))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(h))+this.y0),t.x=e*i*Math.sin(h)+this.x0,t))},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y-=this.y0;var o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(o/(2*this.a*this.k0));return e=this.long0,n=this.lat0,o<=ta?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/o),e=Math.abs(this.coslat0)<ta?ka(this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y)):ka(this.long0+Math.atan2(t.x*Math.sin(a),o*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=ta){if(o<=ta)return n=this.lat0,t.x=e=this.long0,t.y=n,t;t.x*=this.con,t.y*=this.con,n=this.con*Ra(this.e,o*this.cons/(2*this.a*this.k0)),e=this.con*ka(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=ta?i=this.X0:(i=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/o),e=ka(this.long0+Math.atan2(t.x*Math.sin(r),o*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*Ra(this.e,Math.tan(.5*(Yo+i)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(Yo+t))*Math.pow((1-e)/(1+e),.5*n)}},Ns={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),o=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*u},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=2*(Math.atan(Math.exp(-this.alpha*(e+n)+this.K))-Math.PI/4),i=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(i)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(i))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(i));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t},inverse:function(t){for(var e=(t.x-this.x0)/this.R,n=2*(Math.atan(Math.exp((t.y-this.y0)/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(n)+Math.sin(this.b0)*Math.cos(n)*Math.cos(e)),i=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(n))),o=this.lambda0+i/this.alpha,a=0,s=r,u=-1e3,l=0;Math.abs(s-u)>1e-7;){if(++l>20)return;a=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(s))/2)),u=s,s=2*Math.atan(Math.exp(a))-Math.PI/2}return t.x=o,t.y=s,t},names:["somerc"]},zs={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,o=Aa(this.e,this.lat0,t),a=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(a*a<1&&(a=1),isNaN(this.longc)){var s=Aa(this.e,this.lat1,Math.sin(this.lat1)),u=Aa(this.e,this.lat2,Math.sin(this.lat2));this.el=this.lat0>=0?(a+Math.sqrt(a*a-1))*Math.pow(o,this.bl):(a-Math.sqrt(a*a-1))*Math.pow(o,this.bl);var l=Math.pow(s,this.bl),c=Math.pow(u,this.bl);i=.5*((r=this.el/l)-1/r);var h=(this.el*this.el-c*l)/(this.el*this.el+c*l),p=(c-l)/(c+l),f=ka(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*f)/p)/this.bl,this.long0=ka(this.long0);var d=ka(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/i),this.alpha=Math.asin(a*Math.sin(this.gamma0))}else r=this.lat0>=0?a+Math.sqrt(a*a-1):a-Math.sqrt(a*a-1),this.el=r*Math.pow(o,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/a),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:this.lat0>=0?this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))},forward:function(t){var e,n,r,i=t.y,o=ka(t.x-this.long0);if(Math.abs(Math.abs(i)-Yo)<=ta)r=i>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(ra+r*this.gamma0*.5)),e=-1*r*Yo*this.al/this.bl;else{var a=Aa(this.e,i,Math.sin(i)),s=this.el/Math.pow(a,this.bl),u=.5*(s-1/s),l=.5*(s+1/s),c=Math.sin(this.bl*o),h=(u*Math.sin(this.gamma0)-c*Math.cos(this.gamma0))/l;n=Math.abs(Math.abs(h)-1)<=ta?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-h)/(1+h))/this.bl,e=Math.abs(Math.cos(this.bl*o))<=ta?this.al*this.bl*o:this.al*Math.atan2(u*Math.cos(this.gamma0)+c*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*e/this.al),s=(a*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<ta?(t.x=this.long0,t.y=Yo):Math.abs(s+1)<ta?(t.x=this.long0,t.y=-1*Yo):(t.y=Ra(this.e,u),t.x=ka(this.long0-Math.atan2(i*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},Bs={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<ta)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=Ma(this.e,e,n),i=Aa(this.e,this.lat1,e),o=Math.sin(this.lat2),a=Math.cos(this.lat2),s=Ma(this.e,o,a),u=Aa(this.e,this.lat2,o),l=Aa(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>ta?Math.log(r/s)/Math.log(i/u):e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=ta&&(n=Pa(n)*(Yo-2*ta));var r,i,o=Math.abs(Math.abs(n)-Yo);if(o>ta)r=Aa(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((o=n*this.ns)<=0)return null;i=0}var a=this.ns*ka(e-this.long0);return t.x=this.k0*(i*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,t},inverse:function(t){var e,n,r,i,o,a=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+s*s),n=1):(e=-Math.sqrt(a*a+s*s),n=-1);var u=0;if(0!==e&&(u=Math.atan2(n*a,n*s)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=Ra(this.e,r)))return null}else i=-Yo;return o=ka(u/this.ns+this.long0),t.x=o,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Gs={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,o,a,s,u=t.y,l=ka(t.x-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-l*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),a=this.n*o,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(a)/1,t.x=s*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,o,a,s,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,s=0;var l=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,l+=1}while(0===s&&l<15);return l>=15?null:t},names:["Krovak","krovak"]},Vs=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},Us=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Hs=function(t){return.375*t*(1+.25*t*(1+.46875*t))},qs=function(t){return.05859375*t*t*(1+.75*t)},Ws=function(t){return t*t*t*(35/3072)},Zs=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)},Xs=function(t){return Math.abs(t)<Yo?t:t-Pa(t)*Math.PI},Ks=function(t,e,n,r,i){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN},Ys={init:function(){this.sphere||(this.e0=Us(this.es),this.e1=Hs(this.es),this.e2=qs(this.es),this.e3=Ws(this.es),this.ml0=this.a*Vs(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=ka(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),a=Math.cos(i),s=Zs(this.a,this.e,o),u=Math.tan(i)*Math.tan(i),l=r*Math.cos(i),c=l*l,h=this.es*a*a/(1-this.es);e=s*l*(1-c*u*(1/6-(8-u+8*h)*c/120)),n=this.a*Vs(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*o/a*c*(.5+(5-u+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=Ks(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-Yo)<=ta)return t.x=this.long0,t.y=Yo,i<0&&(t.y*=-1),t;var s=Zs(this.a,this.e,Math.sin(a)),u=s*s*s/this.a/this.a*(1-this.es),l=Math.pow(Math.tan(a),2),c=r*this.a/s,h=c*c;e=a-s*Math.tan(a)/u*c*c*(.5-(1+3*l)*c*c/24),n=c*(1-h*(l/3+(1+3*l)*l*h/15))/Math.cos(a)}return t.x=ka(n+this.long0),t.y=Xs(e),t},names:["Cassini","Cassini_Soldner","cass"]},Js=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},Qs={init:function(){var t,e=Math.abs(this.lat0);if(this.mode=Math.abs(e-Yo)<ta?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<ta?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=Js(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=.3333333333333333*t,n[0]+=.17222222222222222*(e=t*t),n[1]=.06388888888888888*e,n[0]+=.10257936507936508*(e*=t),n[1]+=.0664021164021164*e,n[2]=.016415012942191543*e,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Js(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,o,a,s,u,l,c,h=t.x,p=t.y;if(h=ka(h-this.long0),this.sphere){if(o=Math.sin(p),c=Math.cos(p),r=Math.cos(h),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*o+this.cosph0*c*r)<=ta)return null;e=(n=Math.sqrt(2/n))*c*Math.sin(h),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.phi0)<ta)return null;n=ra-.5*p,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(h),n*=r}}else{switch(s=0,u=0,l=0,r=Math.cos(h),i=Math.sin(h),o=Math.sin(p),a=Js(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=a/this.qp,u=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:l=1+this.sinb1*s+this.cosb1*u*r;break;case this.EQUIT:l=1+u*r;break;case this.N_POLE:l=Yo+p,a=this.qp-a;break;case this.S_POLE:l=p-Yo,a=this.qp+a}if(Math.abs(l)<ta)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),n=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*s-this.sinb1*u*r):(l=Math.sqrt(2/(1+u*r)))*s*this.ymf,e=this.xmf*l*u*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(l=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?l:-l)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,a,s,u,l,c,h=t.x/this.a,p=t.y/this.a;if(this.sphere){var f,d=0,g=0;if((n=.5*(f=Math.sqrt(h*h+p*p)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(n),d=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=ta?0:Math.asin(p*g/f),h*=g,p=d*f;break;case this.OBLIQ:n=Math.abs(f)<=ta?this.phi0:Math.asin(d*this.sinph0+p*g*this.cosph0/f),h*=g*this.cosph0,p=(d-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:p=-p,n=Yo-n;break;case this.S_POLE:n-=Yo}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,p):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,p*=this.dd,(a=Math.sqrt(h*h+p*p))<ta)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*a/this.rq),r=Math.cos(i),h*=i=Math.sin(i),this.mode===this.OBLIQ?(o=this.qp*(s=r*this.sinb1+p*i*this.cosb1/a),p=a*this.cosb1*r-p*this.sinb1*i):(o=this.qp*(s=p*i/a),p=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),!(o=h*h+p*p))return t.x=0,t.y=this.phi0,t;s=1-o/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(h,p),c=(u=Math.asin(s))+u,n=u+(l=this.apa)[0]*Math.sin(c)+l[1]*Math.sin(c+c)+l[2]*Math.sin(c+c+c)}return t.x=ka(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},$s=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)},tu={init:function(){Math.abs(this.lat1+this.lat2)<ta||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Ma(this.e3,this.sin_po,this.cos_po),this.qs1=Js(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Ma(this.e3,this.sin_po,this.cos_po),this.qs2=Js(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Js(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>ta?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Js(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*ka(e-this.long0),a=i*Math.sin(o)+this.x0,s=this.rh-i*Math.cos(o)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,o=this.sphere?Math.asin((this.c-n*n)/(2*this.ns0)):this.phi1z(this.e3,(this.c-n*n)/this.ns0),i=ka(r/this.ns0+this.long0),t.x=i,t.y=o,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,o,a=$s(.5*e);if(t<ta)return a;for(var s=t*t,u=1;u<=25;u++)if(a+=o=.5*(i=1-(r=t*(n=Math.sin(a)))*r)*i/Math.cos(a)*(e/(1-s)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(o)<=1e-7)return a;return null}},eu={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,o,a,s,u=t.y;return r=ka(t.x-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),(o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=ta?(a=this.x0+1*this.a*n*Math.sin(r)/o,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/o):(a=this.x0+this.infinity_dist*n*Math.sin(r),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),a=$s(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=ka(this.long0+o)):(a=this.phic0,o=0),t.x=o,t.y=a,t},names:["gnom"]},nu={init:function(){this.sphere||(this.k0=Ma(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.y,i=ka(t.x-this.long0);if(this.sphere)e=this.x0+this.a*i*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=Js(this.e,Math.sin(r));e=this.x0+this.a*this.k0*i,n=this.y0+this.a*o*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=ka(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Yo:Yo;for(var r,i,o,a,s=Math.asin(.5*e),u=0;u<30;u++)if(i=Math.sin(s),o=Math.cos(s),a=t*i,s+=r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-i/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),Math.abs(r)<=1e-10)return s;return NaN}(this.e,2*t.y*this.k0/this.a),e=ka(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},ru={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.y,n=ka(t.x-this.long0),r=Xs(e-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.y;return t.x=ka(this.long0+(t.x-this.x0)/(this.a*this.rc)),t.y=Xs(this.lat0+(e-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},iu={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Us(this.es),this.e1=Hs(this.es),this.e2=qs(this.es),this.e3=Ws(this.es),this.ml0=this.a*Vs(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.y,o=ka(t.x-this.long0);if(r=o*Math.sin(i),this.sphere)Math.abs(i)<=ta?(e=this.a*o,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(i),n=this.a*(Xs(i-this.lat0)+(1-Math.cos(r))/Math.tan(i)));else if(Math.abs(i)<=ta)e=this.a*o,n=-1*this.ml0;else{var a=Zs(this.a,this.e,Math.sin(i))/Math.tan(i);e=a*Math.sin(r),n=this.a*Vs(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+a*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,o,a,s,u,l;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=ta)e=ka(r/this.a+this.long0),n=0;else{var c;for(s=r*r/this.a/this.a+(a=this.lat0+i/this.a)*a,u=a,o=20;o;--o)if(u+=l=-1*(a*(u*(c=Math.tan(u))+1)-u-.5*(u*u+s)*c)/((u-a)/c-1),Math.abs(l)<=ta){n=u;break}e=ka(this.long0+Math.asin(r*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=ta)n=0,e=ka(this.long0+r/this.a);else{var h,p,f,d,g;for(s=r*r/this.a/this.a+(a=(this.ml0+i)/this.a)*a,u=a,o=20;o;--o)if(g=this.e*Math.sin(u),h=Math.sqrt(1-g*g)*Math.tan(u),p=this.a*Vs(this.e0,this.e1,this.e2,this.e3,u),f=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),u-=l=(a*(h*(d=p/this.a)+1)-d-.5*h*(d*d+s))/(this.es*Math.sin(2*u)*(d*d+s-2*a*d)/(4*h)+(a-d)*(h*f-2/Math.sin(2*u))-f),Math.abs(l)<=ta){n=u;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=ka(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},ou={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=(t.y-this.lat0)/Ko*1e-5,r=t.x-this.long0,i=1,o=0;for(e=1;e<=10;e++)o+=this.A[e]*(i*=n);var a,s=o,u=r,l=1,c=0,h=0,p=0;for(e=1;e<=6;e++)a=c*s+l*u,h=h+this.B_re[e]*(l=l*s-c*u)-this.B_im[e]*(c=a),p=p+this.B_im[e]*l+this.B_re[e]*c;return t.x=p*this.a+this.x0,t.y=h*this.a+this.y0,t},inverse:function(t){var e,n,r=(t.y-this.y0)/this.a,i=(t.x-this.x0)/this.a,o=1,a=0,s=0,u=0;for(e=1;e<=6;e++)n=a*r+o*i,s=s+this.C_re[e]*(o=o*r-a*i)-this.C_im[e]*(a=n),u=u+this.C_im[e]*o+this.C_re[e]*a;for(var l=0;l<this.iterations;l++){var c,h=s,p=u,f=r,d=i;for(e=2;e<=6;e++)c=p*s+h*u,f+=(e-1)*(this.B_re[e]*(h=h*s-p*u)-this.B_im[e]*(p=c)),d+=(e-1)*(this.B_im[e]*h+this.B_re[e]*p);h=1,p=0;var g=this.B_re[1],v=this.B_im[1];for(e=2;e<=6;e++)c=p*s+h*u,g+=e*(this.B_re[e]*(h=h*s-p*u)-this.B_im[e]*(p=c)),v+=e*(this.B_im[e]*h+this.B_re[e]*p);var m=g*g+v*v;s=(f*g+d*v)/m,u=(d*g-f*v)/m}var y=s,_=u,b=1,w=0;for(e=1;e<=9;e++)w+=this.D[e]*(b*=y);var S=this.lat0+w*Ko*1e5;return t.x=this.long0+_,t.y=S,t},names:["New_Zealand_Map_Grid","nzmg"]},au={init:function(){},forward:function(t){var e=t.y,n=ka(t.x-this.long0),r=this.x0+this.a*n,i=this.y0+this.a*Math.log(Math.tan(Math.PI/4+e/2.5))*1.25;return t.x=r,t.y=i,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=ka(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},su={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=xs(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=ka(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),a=20;a;--a){var s=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<ta)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var u=Math.sin(i),l=Math.cos(i);n=this.a*Es(i,u,l,this.en),e=this.a*r*l/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=$s((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=$s(Math.sin(e)/this.n)),r=ka(r+this.long0),e=Xs(e)):(e=Os(t.y/this.a,this.es,this.en),(i=Math.abs(e))<Yo?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=ka(n)):i-ta<Yo&&(r=this.long0)),t.x=r,t.y=e,t},names:["Sinusoidal","sinu"]},uu={init:function(){},forward:function(t){for(var e=t.y,n=ka(t.x-this.long0),r=e,i=Math.PI*Math.sin(e);;){var o=-(r+Math.sin(r)-i)/(1+Math.cos(r));if(r+=o,Math.abs(o)<ta)break}r/=2,Math.PI/2-Math.abs(e)<ta&&(n=0);var a=.900316316158*this.a*n*Math.cos(r)+this.x0,s=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=s,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=ka(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]},lu={init:function(){Math.abs(this.lat1+this.lat2)<ta||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Us(this.es),this.e1=Hs(this.es),this.e2=qs(this.es),this.e3=Ws(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Ma(this.e,this.sinphi,this.cosphi),this.ml1=Vs(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<ta?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Ma(this.e,this.sinphi,this.cosphi),this.ml2=Vs(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Vs(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=Vs(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*ka(n-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(i=ka(this.long0+o/this.ns),r=Xs(this.g-n/this.a),t.x=i,t.y=r,t):(r=Ks(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=ka(this.long0+o/this.ns),t.x=i,t.y=r,t)},names:["Equidistant_Conic","eqdc"]},cu={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.y,i=ka(t.x-this.long0);Math.abs(r)<=ta&&(e=this.x0+this.R*i,n=this.y0);var o=$s(2*Math.abs(r/Math.PI));(Math.abs(i)<=ta||Math.abs(Math.abs(r)-Yo)<=ta)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var a=.5*Math.abs(Math.PI/i-i/Math.PI),s=a*a,u=Math.sin(o),l=Math.cos(o),c=l/(u+l-1),h=c*(2/u-1),p=h*h,f=Math.PI*this.R*(a*(c-p)+Math.sqrt(s*(c-p)*(c-p)-(p+s)*(c*c-p)))/(p+s);i<0&&(f=-f),e=this.x0+f;var d=s+c;return f=Math.PI*this.R*(h*d-a*Math.sqrt((p+s)*(s+1)-d*d))/(p+s),n=r>=0?this.y0+f:this.y0-f,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(r=t.x/h)*r+(i=t.y/h)*i,h=3*(i*i/(u=-2*(a=-Math.abs(i)*(1+o))+1+2*i*i+o*o)+(2*(s=a-2*i*i+r*r)*s*s/u/u/u-9*a*s/u/u)/27)/(l=(a-s*s/3/u)/u)/(c=2*Math.sqrt(-l/3)),Math.abs(h)>1&&(h=h>=0?1:-1),p=Math.acos(h)/3,n=t.y>=0?(-c*Math.cos(p+Math.PI/3)-s/3/u)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-s/3/u)*Math.PI,e=Math.abs(r)<ta?this.long0:ka(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},hu={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,_,b,w,S,C=t.x,x=t.y,E=Math.sin(t.y),O=Math.cos(t.y),I=ka(C-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=ta?(t.x=this.x0+this.a*(Yo-x)*Math.sin(I),t.y=this.y0-this.a*(Yo-x)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=ta?(t.x=this.x0+this.a*(Yo+x)*Math.sin(I),t.y=this.y0+this.a*(Yo+x)*Math.cos(I),t):(y=this.sin_p12*E+this.cos_p12*O*Math.cos(I),m=(v=Math.acos(y))/Math.sin(v),t.x=this.x0+this.a*m*O*Math.sin(I),t.y=this.y0+this.a*m*(this.cos_p12*E-this.sin_p12*O*Math.cos(I)),t):(e=Us(this.es),n=Hs(this.es),r=qs(this.es),i=Ws(this.es),Math.abs(this.sin_p12-1)<=ta?(o=this.a*Vs(e,n,r,i,Yo),a=this.a*Vs(e,n,r,i,x),t.x=this.x0+(o-a)*Math.sin(I),t.y=this.y0-(o-a)*Math.cos(I),t):Math.abs(this.sin_p12+1)<=ta?(o=this.a*Vs(e,n,r,i,Yo),a=this.a*Vs(e,n,r,i,x),t.x=this.x0+(o+a)*Math.sin(I),t.y=this.y0+(o+a)*Math.cos(I),t):(s=E/O,u=Zs(this.a,this.e,this.sin_p12),l=Zs(this.a,this.e,E),c=Math.atan((1-this.es)*s+this.es*u*this.sin_p12/(l*O)),_=0===(h=Math.atan2(Math.sin(I),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(I)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(h)-Math.PI)<=ta?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(I)*Math.cos(c)/Math.sin(h)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(h)/Math.sqrt(1-this.es),t.x=this.x0+(v=u*_*(1-(b=_*_)*(g=f*f)*(1-g)/6+(w=b*_)/8*(d=p*f)*(1-2*g)+(S=w*_)/120*(g*(4-7*g)-3*p*p*(1-7*g))-S*_/48*d))*Math.sin(h),t.y=this.y0+v*Math.cos(h),t))},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,_,b,w,S;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*Yo*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=ta?a=this.lat0:(a=$s(i*this.sin_p12+t.y*r*this.cos_p12/e),s=Math.abs(this.lat0)-Yo,o=Math.abs(s)<=ta?ka(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)):ka(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=a,t}return u=Us(this.es),l=Hs(this.es),c=qs(this.es),h=Ws(this.es),Math.abs(this.sin_p12-1)<=ta?(p=this.a*Vs(u,l,c,h,Yo),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Ks((p-e)/this.a,u,l,c,h),o=ka(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=ta?(p=this.a*Vs(u,l,c,h,Yo),e=Math.sqrt(t.x*t.x+t.y*t.y),a=Ks((e-p)/this.a,u,l,c,h),o=ka(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),f=Zs(this.a,this.e,this.sin_p12),v=Math.cos(g),_=3*this.es*(1-(y=-(m=this.e*this.cos_p12*v)*m/(1-this.es)))*this.sin_p12*this.cos_p12*v/(1-this.es),S=1-y*(w=(b=e/f)-y*(1+y)*Math.pow(b,3)/6-_*(1+3*y)*Math.pow(b,4)/24)*w/2-b*w*w*w/6,d=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*v),o=ka(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(d))),a=Math.atan((1-this.es*S*this.sin_p12/Math.sin(d))*Math.tan(d)/(1-this.es)),t.x=o,t.y=a,t)},names:["Azimuthal_Equidistant","aeqd"]},pu={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,o,a,s,u=t.y;return r=ka(t.x-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),((o=this.sin_p14*e+this.cos_p14*n*i)>0||Math.abs(o)<=ta)&&(a=1*this.a*n*Math.sin(r),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=s,t},inverse:function(t){var e,n,r,i,o,a,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=$s(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=ta?(s=this.lat0,t.x=a,t.y=s,t):(s=$s(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-Yo,Math.abs(o)<=ta?(a=ka(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=s,t):(a=ka(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=s,t))},names:["ortho"]},fu={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function du(t,e,n,r){var i;return t<ta?(r.value=fu.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=ra?r.value=fu.AREA_0:i>ra&&i<=Yo+ra?(r.value=fu.AREA_1,i-=Yo):i>Yo+ra||i<=-(Yo+ra)?(r.value=fu.AREA_2,i=i>=0?i-oa:i+oa):(r.value=fu.AREA_3,i+=Yo)),i}function gu(t,e){var n=t+e;return n<-oa?n+=ia:n>+oa&&(n-=ia),n}var vu,mu={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=Yo-ra/2?5:this.lat0<=-(Yo-ra/2)?6:Math.abs(this.long0)<=ra?1:Math.abs(this.long0)<=Yo+ra?this.long0>0?2:4:3,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,o,a,s={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,5===this.face)i=Yo-e,n>=ra&&n<=Yo+ra?(u.value=fu.AREA_0,r=n-Yo):n>Yo+ra||n<=-(Yo+ra)?(u.value=fu.AREA_1,r=n>0?n-oa:n+oa):n>-(Yo+ra)&&n<=-ra?(u.value=fu.AREA_2,r=n+Yo):(u.value=fu.AREA_3,r=n);else if(6===this.face)i=Yo+e,n>=ra&&n<=Yo+ra?(u.value=fu.AREA_0,r=-n+Yo):n<ra&&n>=-ra?(u.value=fu.AREA_1,r=-n):n<-ra&&n>=-(Yo+ra)?(u.value=fu.AREA_2,r=-n-Yo):(u.value=fu.AREA_3,r=n>0?-n+oa:-n-oa);else{var l,c,h,p,f,d;2===this.face?n=gu(n,+Yo):3===this.face?n=gu(n,+oa):4===this.face&&(n=gu(n,-Yo)),p=Math.sin(e),f=Math.cos(e),d=Math.sin(n),l=f*Math.cos(n),c=f*d,h=p,1===this.face?r=du(i=Math.acos(l),h,c,u):2===this.face?r=du(i=Math.acos(c),h,-l,u):3===this.face?r=du(i=Math.acos(-l),h,-c,u):4===this.face?r=du(i=Math.acos(-c),h,l,u):(i=r=0,u.value=fu.AREA_0)}return a=Math.atan(12/oa*(r+Math.acos(Math.sin(r)*Math.cos(ra))-Yo)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),u.value===fu.AREA_1?a+=Yo:u.value===fu.AREA_2?a+=oa:u.value===fu.AREA_3&&(a+=1.5*oa),s.x=o*Math.cos(a),s.y=o*Math.sin(a),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,n,r,i,o,a,s,u,l,c,h,p,f={lam:0,phi:0},d={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?d.value=fu.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(d.value=fu.AREA_1,e-=Yo):t.x<0&&-t.x>=Math.abs(t.y)?(d.value=fu.AREA_2,e=e<0?e+oa:e-oa):(d.value=fu.AREA_3,e+=Yo),l=oa/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),a=Math.atan(o),(s=1-(r=Math.cos(e))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(a)))))<-1?s=-1:s>1&&(s=1),5===this.face)u=Math.acos(s),f.phi=Yo-u,f.lam=d.value===fu.AREA_0?a+Yo:d.value===fu.AREA_1?a<0?a+oa:a-oa:d.value===fu.AREA_2?a-Yo:a;else if(6===this.face)u=Math.acos(s),f.phi=u-Yo,f.lam=d.value===fu.AREA_0?-a+Yo:d.value===fu.AREA_1?-a:d.value===fu.AREA_2?-a-Yo:a<0?-a-oa:-a+oa;else{var g,v,m;l=(g=s)*g,v=(l+=(m=l>=1?0:Math.sqrt(1-l)*Math.sin(a))*m)>=1?0:Math.sqrt(1-l),d.value===fu.AREA_1?(l=v,v=-m,m=l):d.value===fu.AREA_2?(v=-v,m=-m):d.value===fu.AREA_3&&(l=v,v=m,m=-l),2===this.face?(l=g,g=-v,v=l):3===this.face?(g=-g,v=-v):4===this.face&&(l=g,g=v,v=-l),f.phi=Math.acos(-m)-Yo,f.lam=Math.atan2(v,g),2===this.face?f.lam=gu(f.lam,-Yo):3===this.face?f.lam=gu(f.lam,-oa):4===this.face&&(f.lam=gu(f.lam,+Yo))}return 0!==this.es&&(c=f.phi<0?1:0,h=Math.tan(f.phi),p=this.b/Math.sqrt(h*h+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),c&&(f.phi=-f.phi)),f.lam+=this.long0,t.x=f.lam,t.y=f.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},yu=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],_u=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],bu=na/5,wu=1/bu,Su=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Cu={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=ka(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*bu);r<0?r=0:r>=18&&(r=17);var i={x:Su(yu[r],n=na*(n-wu*r))*e,y:Su(_u[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*.8487+this.x0,i.y=i.y*this.a*1.3523+this.y0,i},inverse:function(t){var e={x:(t.x-this.x0)/(.8487*this.a),y:Math.abs(t.y-this.y0)/(1.3523*this.a)};if(e.y>=1)e.x/=yu[18][0],e.y=t.y<0?-Yo:Yo;else{var n=Math.floor(18*e.y);for(n<0?n=0:n>=18&&(n=17);;)if(_u[n][0]>e.y)--n;else{if(!(_u[n+1][0]<=e.y))break;++n}var r=_u[n],i=5*(e.y-r[0])/(_u[n+1][0]-r[0]);i=function(t,e,n,r){for(var o=i;r;--r){var a=t(o);if(o-=a,Math.abs(a)<n)break}return o}(function(t){return(Su(r,t)-e.y)/function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])}(r,t)},0,ta,100),e.x/=Su(yu[n],i),e.y=(5*n+i)*ea,t.y<0&&(e.y=-e.y)}return e.x=ka(e.x+this.long0),e},names:["Robinson","robin"]};ns.defaultDatum="WGS84",ns.Proj=qa,ns.WGS84=new ns.Proj("WGS84"),ns.Point=ws,ns.toPoint=Ka,ns.defs=xa,ns.transform=Qa,ns.mgrs=hs,ns.version=Ss.a,(vu=ns).Proj.projections.add(Is),vu.Proj.projections.add(As),vu.Proj.projections.add(Rs),vu.Proj.projections.add(Ls),vu.Proj.projections.add(Ds),vu.Proj.projections.add(Ns),vu.Proj.projections.add(zs),vu.Proj.projections.add(Bs),vu.Proj.projections.add(Gs),vu.Proj.projections.add(Ys),vu.Proj.projections.add(Qs),vu.Proj.projections.add(tu),vu.Proj.projections.add(eu),vu.Proj.projections.add(nu),vu.Proj.projections.add(ru),vu.Proj.projections.add(iu),vu.Proj.projections.add(ou),vu.Proj.projections.add(au),vu.Proj.projections.add(su),vu.Proj.projections.add(uu),vu.Proj.projections.add(lu),vu.Proj.projections.add(cu),vu.Proj.projections.add(hu),vu.Proj.projections.add(pu),vu.Proj.projections.add(mu),vu.Proj.projections.add(Cu);var xu=ns,Eu="units",Ou={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},Iu=[1,2,5];function Tu(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var Mu=function(t){function e(e){var n=this,r=e||{},i=void 0!==r.className?r.className:r.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:r.render||Tu,target:r.target})||this).innerElement_=document.createElement("div"),n.innerElement_.className=i+"-inner",n.element.className=i+" "+ro,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==r.minWidth?r.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addEventListener(Re(Eu),n.handleUnitsChanged_),n.setUnits(r.units||Ou.METRIC),n.scaleBar_=r.bar||!1,n.scaleBarSteps_=r.steps||4,n.scaleBarText_=r.text||!1,n}return Object(c.d)(e,t),e.prototype.getUnits=function(){return this.get(Eu)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(Eu,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,r=this.getUnits(),i=se(n,t.resolution,e,r==Ou.DEGREES?Vt.DEGREES:Vt.METERS),o=this.minWidth_*i,a="";if(r==Ou.DEGREES){var s=Gt[Vt.DEGREES];(o*=s)<s/60?(a="\u2033",i*=3600):o<s?(a="\u2032",i*=60):a="\xb0"}else r==Ou.IMPERIAL?o<.9144?(a="in",i/=.0254):o<1609.344?(a="ft",i/=.3048):(a="mi",i/=1609.344):r==Ou.NAUTICAL?(i/=1852,a="nm"):r==Ou.METRIC?o<.001?(a="\u03bcm",i*=1e6):o<1?(a="mm",i*=1e3):o<1e3?a="m":(a="km",i/=1e3):r==Ou.US?o<.9144?(a="in",i*=39.37):o<1609.344?(a="ft",i/=.30480061):(a="mi",i/=1609.3472):v(!1,33);for(var u,l,c,h,p=3*Math.floor(Math.log(this.minWidth_*i)/Math.log(10));;){c=Math.floor(p/3);var f=Math.pow(10,c);if(u=Iu[(p%3+3)%3]*f,l=Math.round(u/i),isNaN(l))return this.element.style.display="none",void(this.renderedVisible_=!1);if(l>=this.minWidth_)break;++p}h=this.scaleBar_?this.createScaleBar(l,u,a):u.toFixed(c<0?-c:0)+" "+a,this.renderedHTML_!=h&&(this.innerElement_.innerHTML=h,this.renderedHTML_=h),this.renderedWidth_!=l&&(this.innerElement_.style.width=l+"px",this.renderedWidth_=l),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var r="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],o=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&i.push(this.createMarker("absolute",s)),i.push('<div><div class="ol-scale-singlebar" style="width: '+o+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&i.push(this.createStepText(s+1,t,!0,e,n)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+r+"</div>":"")+i.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,r,i){var o=0===t?0:Math.round(r/this.scaleBarSteps_*t*100)/100;return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+o+(0===t?"":" "+i)+"</div>"},e.prototype.getScaleForResolution=function(){var t=this.getMap().getView().getResolution(),e=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*e*39.37*(25.4/.28)},e}(to),Pu=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),ku=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,displacement:void 0!==n.displacement?n.displacement:[0,0]})||this}return Object(c.d)(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(function(t){function e(e){var n=this;return(n=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return Object(c.d)(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return fi.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.render=function(){var t,e="round",n="round",r=0,i=null,o=0,a=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=yo(t),void 0===(a=this.stroke_.getWidth())&&(a=1),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n="round"),void 0===(e=this.stroke_.getLineCap())&&(e="round"),void 0===(r=this.stroke_.getMiterLimit())&&(r=10));var s=2*(this.radius_+a)+1,u={strokeStyle:t,strokeWidth:a,size:s,lineCap:e,lineDash:i,lineDashOffset:o,lineJoin:n,miterLimit:r},l=wi(s,s);this.canvas_=l.canvas;var c=s=this.canvas_.width,h=this.getDisplacement();this.draw_(u,l,0,0),this.createHitDetectionCanvas_(u),this.anchor_=[s/2-h[0],s/2+h[1]],this.size_=[s,s],this.imageSize_=[c,c]},e.prototype.draw_=function(t,e,n,r){var i,o,a;e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(s*=2),i=0;i<=s;i++)o=2*i*Math.PI/s-Math.PI/2+this.angle_,e.lineTo(t.size/2+(a=i%2==0?this.radius_:u)*Math.cos(o),t.size/2+a*Math.sin(o))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l="#000"),e.fillStyle=yo(l),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.hitDetectionCanvas_=this.canvas_,this.fill_){var e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=mi(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=wi(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r,0,0)}}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var i=this.points_;if(i===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(i*=2);var a=void 0,s=void 0,u=void 0;for(a=0;a<=i;a++)u=2*a*Math.PI/i-Math.PI/2+this.angle_,e.lineTo(t.size/2+(s=a%2==0?this.radius_:o)*Math.cos(u),t.size/2+s*Math.sin(u))}e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(Ai)),Au=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Fu,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Fu,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}(),Ru=null;function ju(t,e){if(!Ru){var n=new Jr({color:"rgba(255,255,255,0.4)"}),r=new Pu({color:"#3399CC",width:1.25});Ru=[new Au({image:new ku({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return Ru}function Fu(t){return t.getGeometry()}var Lu=Au,Du={POINT:"point",LINE:"line"},Nu="#333",zu=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new Jr({color:Nu}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:Du.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}(),Bu=.5,Gu=function(t){function e(e,n,r,i,o,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=i,s.src_=r,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.tileLoadFunction_=o,s}return Object(c.d)(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){var t;this.state=J.ERROR,this.unlistenImage_(),this.image_=((t=wi(1,1)).fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;this.state=t.naturalWidth&&t.naturalHeight?J.LOADED:J.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==J.ERROR&&(this.state=J.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==J.IDLE&&(this.state=J.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Mi(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(yt);function Vu(t,e,n,r){var i=fe(n,e,t),o=se(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(o*=a);var s=t.getMetersPerUnit();void 0!==s&&(o/=s);var u=t.getExtent();if(!u||C(u,i)){var l=se(t,o,i)/o;isFinite(l)&&l>0&&(o/=l)}return o}function Uu(t,e,n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);return[Math.round(n+i/a),Math.round(r+o/a)]}var Hu=10,qu=function(){function t(t,e,n,r,i,o){this.sourceProj_=t,this.targetProj_=e;var a={},s=pe(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=i*i,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Z(r)==Z(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Z(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Z(this.targetProj_.getExtent()):null;var u=q(n),l=W(n),c=z(n),h=N(n),p=this.transformInv_(u),f=this.transformInv_(l),d=this.transformInv_(c),g=this.transformInv_(h),v=Hu+(o?Math.max(0,Math.ceil(Math.log2(D(n)/(o*o*256*256)))):0);if(this.addQuad_(u,l,c,h,p,f,d,g,v),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(t,e,n){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach((function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-m>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-m>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-m>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}).bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,r,i,o){this.triangles_.push({source:[r,i,o],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,i,o,a,s,u){var l=_([i,o,a,s]),c=this.sourceWorldWidth_?Z(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&c>.5&&c<1,f=!1;if(u>0&&(this.targetProj_.isGlobal()&&this.targetWorldWidth_&&(f=Z(_([t,e,n,r]))/this.targetWorldWidth_>.25||f),!p&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)),f||!this.maxSourceExtent_||X(l,this.maxSourceExtent_)){if(!(f||isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(u>0))return;f=!0}if(u>0){if(!f){var d,g=this.transformInv_([(t[0]+n[0])/2,(t[1]+n[1])/2]);d=p?(xt(i[0],h)+xt(a[0],h))/2-xt(g[0],h):(i[0]+a[0])/2-g[0];var v=(i[1]+a[1])/2-g[1];f=d*d+v*v>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var m=[(e[0]+n[0])/2,(e[1]+n[1])/2],y=this.transformInv_(m),b=[(r[0]+t[0])/2,(r[1]+t[1])/2],w=this.transformInv_(b);this.addQuad_(t,e,m,b,i,o,y,w,u-1),this.addQuad_(b,m,n,r,w,y,a,s,u-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(S),x=[(n[0]+r[0])/2,(n[1]+r[1])/2],E=this.transformInv_(x);this.addQuad_(t,S,x,r,i,C,E,s,u-1),this.addQuad_(S,e,n,x,C,o,a,E,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,r,i,a,s),this.addTriangle_(t,e,n,i,o,a)}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,r){var i=e.source;j(t,i[0]),j(t,i[1]),j(t,i[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),Wu=function(t){function e(e,n,r,i,o,a,s,u,l,c,h){var p=t.call(this,o,J.IDLE)||this;p.renderEdges_=void 0!==h&&h,p.pixelRatio_=s,p.gutter_=u,p.canvas_=null,p.sourceTileGrid_=n,p.targetTileGrid_=i,p.wrappedTileCoord_=a||o,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0;var f=i.getTileCoordExtent(p.wrappedTileCoord_),d=p.targetTileGrid_.getExtent(),g=p.sourceTileGrid_.getExtent(),v=d?H(f,d):f;if(0===D(v))return p.state=J.EMPTY,p;var m=e.getExtent();m&&(g=g?H(g,m):m);var y=i.getResolution(p.wrappedTileCoord_[0]),_=Vu(e,r,B(v),y);if(!isFinite(_)||_<=0)return p.state=J.EMPTY,p;if(p.triangulation_=new qu(e,r,v,g,_*(void 0!==c?c:Bu),y),0===p.triangulation_.getTriangles().length)return p.state=J.EMPTY,p;p.sourceZ_=n.getZForResolution(_);var b=p.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(b[1]=_t(b[1],g[1],g[3]),b[3]=_t(b[3],g[1],g[3])):b=H(b,g)),D(b)){for(var w=n.getTileRangeForExtentAndZ(b,p.sourceZ_),S=w.minX;S<=w.maxX;S++)for(var C=w.minY;C<=w.maxY;C++){var x=l(p.sourceZ_,S,C,s);x&&p.sourceTiles_.push(x)}0===p.sourceTiles_.length&&(p.state=J.EMPTY)}else p.state=J.EMPTY;return p}return Object(c.d)(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach((function(e,n,r){e&&e.getState()==J.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}).bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=J.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],i="number"==typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,r,i,o,a,s,u,l,c){var h=wi(Math.round(n*t),Math.round(n*e));if(0===u.length)return h.canvas;h.scale(n,n);var p=[1/0,1/0,-1/0,-1/0];u.forEach(function(t,e,n){R(p,t.extent)});var f=Z(p),d=U(p),g=wi(Math.round(n*f/r),Math.round(n*d/r)),v=n/r;u.forEach(function(t,e,n){var r=t.extent[0]-p[0],i=-(t.extent[3]-p[3]),o=Z(t.extent),a=U(t.extent);g.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,r*v,i*v,o*v,a*v)});var m=q(a);return s.getTriangles().forEach(function(t,e,i){var a=t.source,s=t.target,u=a[0][0],l=a[0][1],c=a[1][0],f=a[1][1],d=a[2][0],v=a[2][1],y=(s[0][0]-m[0])/o,_=-(s[0][1]-m[1])/o,b=(s[1][0]-m[0])/o,w=-(s[1][1]-m[1])/o,S=(s[2][0]-m[0])/o,C=-(s[2][1]-m[1])/o,x=u,E=l;u=0,l=0;var O=function(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,i=Math.abs(t[n][n]),o=n+1;o<e;o++){var a=Math.abs(t[o][n]);a>i&&(i=a,r=o)}if(0===i)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}([[c-=x,f-=E,0,0,b-y],[d-=x,v-=E,0,0,S-y],[0,0,c,f,w-_],[0,0,d,v,C-_]]);if(O){h.save(),h.beginPath();var I=(y+b+S)/3,T=(_+w+C)/3,M=Uu(I,T,y,_),P=Uu(I,T,b,w),k=Uu(I,T,S,C);h.moveTo(P[0],P[1]),h.lineTo(M[0],M[1]),h.lineTo(k[0],k[1]),h.clip(),h.transform(O[0],O[2],O[1],O[3],y,_),h.translate(p[0]-x,p[3]-E),h.scale(r/n,-r/n),h.drawImage(g.canvas,0,0),h.restore()}}),c&&(h.save(),h.strokeStyle="black",h.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var r=t.target,i=(r[0][0]-m[0])/o,a=-(r[0][1]-m[1])/o,s=(r[1][0]-m[0])/o,u=-(r[1][1]-m[1])/o,l=(r[2][0]-m[0])/o,c=-(r[2][1]-m[1])/o;h.beginPath(),h.moveTo(s,u),h.lineTo(i,a),h.lineTo(l,c),h.closePath(),h.stroke()}),h.restore()),h.canvas}(r,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=J.LOADED}this.changed()},e.prototype.load=function(){if(this.state==J.IDLE){this.state=J.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(e,n,r){var i=e.getState();if(i==J.IDLE||i==J.LOADING){t++;var o=Rt(e,mt.CHANGE,function(n){var r=e.getState();r!=J.LOADED&&r!=J.ERROR&&r!=J.EMPTY||(Ft(o),0==--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}).bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==J.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Ft),this.sourcesListenerKeys_=null},e}(yt);function Zu(t,e){t.getImage().src=e}var Xu=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Zu,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Gu,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return Object(c.d)(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var r in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!ce(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!ce(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!ce(e,t)){var n=f(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=He(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||ce(e,t))return this.tileCache;var n=f(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Ee(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,r,i,o){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,i),u=s?this.tileUrlFunction(s,r,i):void 0,l=new this.tileClass(a,void 0!==u?J.IDLE:J.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=o,l.addEventListener(mt.CHANGE,this.handleTileChange.bind(this)),l},e.prototype.getTile=function(t,e,n,r,i){var o=this.getProjection();if(o&&i&&!ce(o,i)){var a=this.getTileCacheForProjection(i),s=[t,e,n],u=void 0,l=Tt(s);a.containsKey(l)&&(u=a.get(l));var c=this.getKey();if(u&&u.key==c)return u;var h=this.getTileGridForProjection(o),p=this.getTileGridForProjection(i),f=this.getTileCoordForTileUrlFunction(s,i),d=new Wu(o,h,i,p,s,f,this.getTilePixelRatio(r),this.getGutter(),(function(t,e,n,r){return this.getTileInternal(t,e,n,r,o)}).bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=c,u?(d.interimTile=u,d.refreshInterimChain(),a.replace(l,d)):a.set(l,d),d}return this.getTileInternal(t,e,n,r,o||i)},e.prototype.getTileInternal=function(t,e,n,r,i){var o=null,a=It(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((o=this.tileCache.get(a)).key!=s){var u=o;(o=this.createTile_(t,e,n,r,i,s)).interimTile=u.getState()==J.IDLE?u.interimTile:u,o.refreshInterimChain(),this.tileCache.replace(a,o)}}else o=this.createTile_(t,e,n,r,i,s),this.tileCache.set(a,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=ae(t);if(n){var r=f(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}},e}(function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):At,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return Object(c.d)(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=f(n),i=n.getState();i==J.LOADING?(this.tileLoadingKeys_[r]=!0,e="tileloadstart"):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=i==J.ERROR?"tileloaderror":i==J.LOADED?"tileloadend":void 0),null!=e&&this.dispatchEvent(new Ke(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),i=n[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(kt(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var r=It(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(Ye)),Ku=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:ae("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:xe.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition})||this;if(n.tileJSON_=null,n.tileSize_=e.tileSize,e.url)if(e.jsonp)Lt(e.url,n.handleTileJSONResponse.bind(n),n.handleTileJSONError.bind(n));else{var r=new XMLHttpRequest;r.addEventListener("load",n.onXHRLoad_.bind(n)),r.addEventListener("error",n.onXHRError_.bind(n)),r.open("GET",e.url),r.send()}else e.tileJSON?n.handleTileJSONResponse(e.tileJSON):v(!1,51);return n}return Object(c.d)(e,t),e.prototype.onXHRLoad_=function(t){var e=t.target;if(!e.status||e.status>=200&&e.status<300){var n=void 0;try{n=JSON.parse(e.responseText)}catch(r){return void this.handleTileJSONError()}this.handleTileJSONResponse(n)}else this.handleTileJSONError()},e.prototype.onXHRError_=function(t){this.handleTileJSONError()},e.prototype.getTileJSON=function(){return this.tileJSON_},e.prototype.handleTileJSONResponse=function(t){var e,n=ae("EPSG:4326"),r=this.getProjection();if(void 0!==t.bounds){var i=he(n,r);e=Y(t.bounds,i)}var o=t.minzoom||0,a=t.maxzoom||22,s=qe({extent:Ze(r),maxZoom:a,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=s,this.tileUrlFunction=kt(t.tiles,s),void 0!==t.attribution&&!this.getAttributions()){var u=void 0!==e?e:n.getExtent();this.setAttributions(function(e){return X(u,e.extent)?[t.attribution]:null})}this.tileJSON_=t,this.setState(xe.READY)},e.prototype.handleTileJSONError=function(){this.setState(xe.ERROR)},e}(Xu),Yu="1.3.0";function Ju(t,e){var n=[];Object.keys(e).forEach(function(t){null!=e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var r=n.join("&");return(t=-1===(t=t.replace(/[?&]$/,"")).indexOf("?")?t+"?":t+"&")+r}function Qu(t,e,n){var r=this.getTileGrid();if(r||(r=this.getTileGridForProjection(n)),!(r.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var i=r.getResolution(t[0]),o=r.getTileCoordExtent(t,this.tmpExtent_),a=Te(r.getTileSize(t[0]),this.tmpSize),s=this.gutter_;0!==s&&(a=Oe(a,s,this.tmpSize),o=b(o,i*s,o)),1!=e&&(a=Ie(a,e,this.tmpSize));var u={SERVICE:"WMS",VERSION:Yu,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return pt(u,this.params_),this.getRequestUrl_(t,a,o,e,n,u)}}var $u=function(t){function e(e){var n=this,r=e||{},i=r.params||{};return(n=t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,opaque:!(!("TRANSPARENT"in i)||i.TRANSPARENT),projection:r.projection,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileClass:r.tileClass,tileGrid:r.tileGrid,tileLoadFunction:r.tileLoadFunction,tileUrlFunction:Qu,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition})||this).gutter_=void 0!==r.gutter?r.gutter:0,n.params_=i,n.v13_=!0,n.serverType_=r.serverType,n.hidpi_=void 0===r.hidpi||r.hidpi,n.tmpExtent_=[1/0,1/0,-1/0,-1/0],n.updateV13_(),n.setKey(n.getKeyForParams_()),n}return Object(c.d)(e,t),e.prototype.getFeatureInfoUrl=function(t,e,n,r){var i=ae(n),o=this.getProjection(),a=this.getTileGrid();a||(a=this.getTileGridForProjection(i));var s=a.getZForResolution(e,this.zDirection),u=a.getTileCoordForCoordAndZ(t,s);if(!(a.getResolutions().length<=u[0])){var l=a.getResolution(u[0]),c=a.getTileCoordExtent(u,this.tmpExtent_),h=Te(a.getTileSize(u[0]),this.tmpSize),p=this.gutter_;0!==p&&(h=Oe(h,p,this.tmpSize),c=b(c,l*p,c)),o&&o!==i&&(l=Vu(o,i,t,l),c=de(c,i,o),t=fe(t,i,o));var f={SERVICE:"WMS",VERSION:Yu,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};pt(f,this.params_,r);var d=Math.floor((t[0]-c[0])/l),g=Math.floor((c[3]-t[1])/l);return f[this.v13_?"I":"X"]=d,f[this.v13_?"J":"Y"]=g,this.getRequestUrl_(u,h,c,1,o||i,f)}},e.prototype.getLegendUrl=function(t,e){if(void 0!==this.urls[0]){var n={SERVICE:"WMS",VERSION:Yu,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e.LAYER){var r=this.params_.LAYERS;if(Array.isArray(r)&&1!==r.length)return;n.LAYER=r}if(void 0!==t){var i=this.getProjection()?this.getProjection().getMetersPerUnit():1;n.SCALE=t*i*39.37*(25.4/.28)}return pt(n,e),Ju(this.urls[0],n)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,r,i,o){var a=this.urls;if(a){if(o.WIDTH=e[0],o.HEIGHT=e[1],o[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=r)switch(this.serverType_){case"geoserver":var s=90*r+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+s:o.FORMAT_OPTIONS="dpi:"+s;break;case"mapserver":o.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":o.DPI=90*r;break;default:v(!1,52)}var u=i.getAxisOrientation(),l=n;if(this.v13_&&"ne"==u.substr(0,2)){var c=void 0;c=n[0],l[0]=n[1],l[1]=c,c=n[2],l[2]=n[3],l[3]=c}return o.BBOX=l.join(","),Ju(1==a.length?a[0]:a[xt(Mt(t),a.length)],o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.updateParams=function(t){pt(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){this.v13_=function(t,e){for(var n=(""+t).split("."),r="1.3".split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),a=parseInt(r[i]||"0",10);if(o>a)return 1;if(a>o)return-1}return 0}(this.params_.VERSION||Yu)>=0},e}(Xu),tl=function(t){function e(e){var n=this,r=e||{},i=pt({},r);return delete i.preload,delete i.useInterimTilesOnError,(n=t.call(this,i)||this).setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return Object(c.d)(e,t),e.prototype.getPreload=function(){return this.get("preload")},e.prototype.setPreload=function(t){this.set("preload",t)},e.prototype.getUseInterimTilesOnError=function(){return this.get("useInterimTilesOnError")},e.prototype.setUseInterimTilesOnError=function(t){this.set("useInterimTilesOnError",t)},e}(co),el=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.tempTransform_=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return Object(c.d)(e,t),e.prototype.useContainer=function(t,e,n){var r,i,o=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===o&&(a=t.firstElementChild)instanceof HTMLCanvasElement&&(i=a.getContext("2d")),i&&i.canvas.style.transform===e?(this.container=t,this.context=i,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(r=document.createElement("div")).className=o;var a,s=r.style;s.position="absolute",s.width="100%",s.height="100%",i=wi(),r.appendChild(a=i.canvas),(s=a.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=i}},e.prototype.clip=function(t,e,n){var r=e.pixelRatio,i=e.size[0]*r/2,o=e.size[1]*r/2,a=e.viewState.rotation,s=q(n),u=W(n),l=z(n),c=N(n);Bn(e.coordinateToPixelTransform,s),Bn(e.coordinateToPixelTransform,u),Bn(e.coordinateToPixelTransform,l),Bn(e.coordinateToPixelTransform,c),t.save(),ko(t,-a,i,o),t.beginPath(),t.moveTo(s[0]*r,s[1]*r),t.lineTo(u[0]*r,u[1]*r),t.lineTo(l[0]*r,l[1]*r),t.lineTo(c[0]*r,c[1]*r),t.clip(),ko(t,a,i,o)},e.prototype.clipUnrotated=function(t,e,n){var r=q(n),i=W(n),o=z(n),a=N(n);Bn(e.coordinateToPixelTransform,r),Bn(e.coordinateToPixelTransform,i),Bn(e.coordinateToPixelTransform,o),Bn(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;Bn(s,r),Bn(s,i),Bn(s,o),Bn(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var i=new mo(t,this.inversePixelTransform,n,e);r.dispatchEvent(i)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_("prerender",t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_("postrender",t,e)},e.prototype.getRenderTransform=function(t,e,n,r,i,o,a){var s=r/e;return Gn(this.tempTransform_,i/2,o/2,s,-s,-n,-t[0]+a,-t[1])},e.prototype.getDataAtPixel=function(t,e,n){var r,i=Bn(this.inversePixelTransform,t.slice()),o=this.context;try{r=o.getImageData(Math.round(i[0]),Math.round(i[1]),1,1).data}catch(a){return"SecurityError"===a.name?new Uint8Array:r}return 0===r[3]?null:r},e}(function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n}return Object(c.d)(e,t),e.prototype.getFeatures=function(t){return h()},e.prototype.prepareFrame=function(t){return h()},e.prototype.renderFrame=function(t,e){return h()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return(function(r,i){var o=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,i,o)}).bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){},e.prototype.getDataAtPixel=function(t,e,n){return h()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===fi.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=fi.LOADED&&e!=fi.ERROR&&t.addEventListener(mt.CHANGE,this.boundHandleImageChange_),e==fi.IDLE&&(t.load(),e=t.getState()),e==fi.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==xe.READY&&t.changed()},e}(Pe)),nl=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedProjection=null,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new Ge(0,0,0,0),n}return Object(c.d)(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==J.LOADED||n==J.EMPTY||n==J.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var i=r.pixelRatio,o=r.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,i,o);return s.getState()==J.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(J.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,i=r.projection,o=r.resolution,a=r.center,s=r.rotation,u=t.pixelRatio,l=this.getLayer(),c=l.getSource(),h=c.getRevision(),p=c.getTileGridForProjection(i),d=p.getZForResolution(o,c.zDirection),g=p.getResolution(d),v=t.extent,m=n.extent&&Ce(n.extent,i);m&&(v=H(v,Ce(n.extent,i)));var y=c.getTilePixelRatio(u),_=Math.round(t.size[0]*y),b=Math.round(t.size[1]*y);if(s){var w=Math.round(Math.sqrt(_*_+b*b));_=w,b=w}var S=g*_/2/y,C=g*b/2/y,x=[a[0]-S,a[1]-C,a[0]+S,a[1]+C],E=p.getTileRangeForExtentAndZ(v,d),O={};O[d]={};var I=this.createLoadedTileFinder(c,i,O),T=this.tmpExtent,M=this.tmpTileRange_;this.newTiles_=!1;for(var P=E.minX;P<=E.maxX;++P)for(var k=E.minY;k<=E.maxY;++k){var R=this.getTile(d,P,k,t);if(this.isDrawableTile(R)){var j=f(this);if(R.getState()==J.LOADED){O[d][R.tileCoord.toString()]=R;var F=R.inTransition(j);this.newTiles_||!F&&-1!==this.renderedTiles.indexOf(R)||(this.newTiles_=!0)}if(1===R.getAlpha(j,t.time))continue}var L=p.getTileCoordChildTileRange(R.tileCoord,M,T),D=!1;L&&(D=I(d+1,L)),D||p.forEachTileCoordParentTileRange(R.tileCoord,I,M,T)}var N=g/o;Gn(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,s,-_/2,-b/2);var z,B=(z=this.pixelTransform,yn?Un(z):(Ro||(Ro=wi(1,1).canvas),Ro.style.transform=Un(z),Ro.style.transform));this.useContainer(e,B,n.opacity);var G=this.context,V=G.canvas;Vn(this.inversePixelTransform,this.pixelTransform),Gn(this.tempTransform_,_/2,b/2,N,N,0,-_/2,-b/2),V.width!=_||V.height!=b?(V.width=_,V.height=b):this.containerReused||G.clearRect(0,0,_,b),m&&this.clipUnrotated(G,t,m),this.preRender(G,t),this.renderedTiles.length=0;var U,W,Z,X=Object.keys(O).map(Number);X.sort(rt),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(U=[],W=[]):X=X.reverse();for(var K=X.length-1;K>=0;--K){var Y=X[K],Q=c.getTilePixelSize(Y,u,i),$=p.getResolution(Y)/g,tt=Q[0]*$*N,et=Q[1]*$*N,nt=p.getTileCoordForCoordAndZ(q(x),Y),it=p.getTileCoordExtent(nt),ot=Bn(this.tempTransform_,[y*(it[0]-x[0])/g,y*(x[3]-it[3])/g]),at=y*c.getGutterForProjection(i),st=O[Y];for(var ut in st){var lt=(R=st[ut]).tileCoord,ct=ot[0]-(nt[1]-lt[1])*tt,ht=Math.round(ct+tt),pt=ot[1]-(nt[2]-lt[2])*et,ft=Math.round(pt+et),dt=ht-(P=Math.round(ct)),gt=ft-(k=Math.round(pt)),vt=d===Y;if(!(F=vt&&1!==R.getAlpha(f(this),t.time)))if(U){G.save(),Z=[P,k,P+dt,k,P+dt,k+gt,P,k+gt];for(var mt=0,yt=U.length;mt<yt;++mt)if(d!==Y&&Y<W[mt]){var _t=U[mt];G.beginPath(),G.moveTo(Z[0],Z[1]),G.lineTo(Z[2],Z[3]),G.lineTo(Z[4],Z[5]),G.lineTo(Z[6],Z[7]),G.moveTo(_t[6],_t[7]),G.lineTo(_t[4],_t[5]),G.lineTo(_t[2],_t[3]),G.lineTo(_t[0],_t[1]),G.clip()}U.push(Z),W.push(Y)}else G.clearRect(P,k,dt,gt);this.drawTileImage(R,t,P,k,dt,gt,at,vt,n.opacity),U&&!F&&G.restore(),this.renderedTiles.push(R),this.updateUsedTiles(t.usedTiles,c,R)}}return this.renderedRevision=h,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!A(this.renderedExtent_,x),this.renderedExtent_=x,this.renderedPixelRatio=u,this.renderedProjection=i,this.manageTilePyramid(t,c,p,u,i,v,d,l.getPreload()),this.scheduleExpireCache(t,c),this.postRender(G,t),n.extent&&G.restore(),B!==V.style.transform&&(V.style.transform=B),this.container},e.prototype.drawTileImage=function(t,e,n,r,i,o,a,s,u){var l=this.getTileImage(t);if(l){var c=f(this),h=s?t.getAlpha(c,e.time):1,p=u*h,d=p!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,r,i,o),d&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=(function(t,e,n){var r=f(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}).bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=f(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,i,o,a,s,u){var l=f(e);l in t.wantedTiles||(t.wantedTiles[l]={});var c,h,p,d,g,v,m=t.wantedTiles[l],y=t.tileQueue;for(v=n.getMinZoom();v<=a;++v)for(h=n.getTileRangeForExtentAndZ(o,v,h),p=n.getResolution(v),d=h.minX;d<=h.maxX;++d)for(g=h.minY;g<=h.maxY;++g)a-v<=s?((c=e.getTile(v,d,g,r,i)).getState()==J.IDLE&&(m[c.getKey()]=!0,y.isKeyQueued(c.getKey())||y.enqueue([c,l,n.getTileCoordCenter(c.tileCoord),p])),void 0!==u&&u(c)):e.useTile(v,d,g,i)},e}(el),rl=function(t){function e(e){return t.call(this,e)||this}return Object(c.d)(e,t),e.prototype.createRenderer=function(){return new nl(this)},e}(tl),il=function(t){function e(e){var n=this,r=e||{},i=pt({},r);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,(n=t.call(this,i)||this).declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return Object(c.d)(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get("renderOrder")},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set("renderOrder",t)},e.prototype.setStyle=function(t){var e,n,r;this.style_=void 0!==t?t:ju,this.styleFunction_=null===t?void 0:("function"==typeof(e=this.style_)?n=e:(Array.isArray(e)?r=e:(v("function"==typeof e.getZIndex,41),r=[e]),n=function(){return r}),n),this.changed()},e}(co),ol={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},al=[ol.FILL],sl=[ol.STROKE],ul=[ol.BEGIN_PATH],ll=[ol.CLOSE_PATH],cl=ol,hl=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.tolerance=e,o.maxExtent=n,o.pixelRatio=i,o.maxLineWidth=0,o.resolution=r,o.beginGeometryInstruction1_=null,o.beginGeometryInstruction2_=null,o.bufferedMaxExtent_=null,o.instructions=[],o.coordinates=[],o.tmpCoordinate_=[],o.hitDetectionInstructions=[],o.state={},o}return Object(c.d)(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,r,i,o){var a=this.coordinates.length,s=this.getBufferedMaxExtent();o&&(e+=r);var u,l,c,h=t[e],p=t[e+1],f=this.tmpCoordinate_,d=!0;for(u=e+r;u<n;u+=r)f[0]=t[u],f[1]=t[u+1],(c=O(s,f))!==l?(d&&(this.coordinates[a++]=h,this.coordinates[a++]=p),this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):c===y.INTERSECTING?(this.coordinates[a++]=f[0],this.coordinates[a++]=f[1],d=!1):d=!0,h=f[0],p=f[1],l=c;return(i&&d||u===e+r)&&(this.coordinates[a++]=h,this.coordinates[a++]=p),a},e.prototype.drawCustomCoordinates_=function(t,e,n,r,i){for(var o=0,a=n.length;o<a;++o){var s=n[o],u=this.appendFlatCoordinates(t,e,s,r,!1,!1);i.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,i,o,a,s,u=t.getType(),l=t.getStride(),c=this.coordinates.length;if(u==Dt.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var p=0,f=h.length;p<f;++p){var d=[];s=this.drawCustomCoordinates_(r,s,h[p],l,d),a.push(d)}this.instructions.push([cl.CUSTOM,c,a,t,n,or])}else u==Dt.POLYGON||u==Dt.MULTI_LINE_STRING?(o=[],r=u==Dt.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),l,o),this.instructions.push([cl.CUSTOM,c,o,t,n,ir])):u==Dt.LINE_STRING||u==Dt.MULTI_POINT?(r=t.getFlatCoordinates(),i=this.appendFlatCoordinates(r,0,r.length,l,!1,!1),this.instructions.push([cl.CUSTOM,c,i,t,n,rr])):u==Dt.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),this.instructions.push([cl.CUSTOM,c,i=this.coordinates.length,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){var n=t.getExtent();this.beginGeometryInstruction1_=[cl.BEGIN_GEOMETRY,e,0,n],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[cl.BEGIN_GEOMETRY,e,0,n],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,i=e.length,o=-1;for(t=0;t<i;++t)(r=(n=e[t])[0])==cl.END_GEOMETRY?o=t:r==cl.BEGIN_GEOMETRY&&(n[2]=t,ot(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=yo(r||"#000")}else n.fillStyle=void 0;if(e){var i=e.getColor();n.strokeStyle=yo(i||"#000");var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var a=e.getLineDash();n.lineDash=a?a.slice():bo;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:"round";var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[cl.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[cl.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,i=t.lineDash,o=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||i!=t.currentLineDash&&!st(t.currentLineDash,i)||t.currentLineDashOffset!=o||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=i,t.currentLineDashOffset=o,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[cl.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){return this.bufferedMaxExtent_||(this.bufferedMaxExtent_=w(this.maxExtent),this.maxLineWidth>0&&b(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_)),this.bufferedMaxExtent_},e}(_o),pl=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.declutterGroups_=null,o.hitDetectionImage_=null,o.image_=null,o.anchorX_=void 0,o.anchorY_=void 0,o.height_=void 0,o.opacity_=void 0,o.originX_=void 0,o.originY_=void 0,o.rotateWithView_=void 0,o.rotation_=void 0,o.scale_=void 0,o.width_=void 0,o}return Object(c.d)(e,t),e.prototype.drawCoordinates_=function(t,e,n,r){return this.appendFlatCoordinates(t,e,n,r,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([cl.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([cl.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),i=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,r);this.instructions.push([cl.DRAW_IMAGE,i,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([cl.DRAW_IMAGE,i,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),i=t.getHitDetectionImage(1),o=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=i,this.image_=o,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=r[0]},e}(hl),fl=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Object(c.d)(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var i=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,r,!1,!1),a=[cl.MOVE_TO_LINE_TO,i,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],ul);var r=t.getFlatCoordinates(),i=t.getStride();this.drawFlatCoordinates_(r,0,r.length,i),this.hitDetectionInstructions.push(sl),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state;if(void 0!==n.strokeStyle&&void 0!==n.lineWidth){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],ul);for(var r=t.getEnds(),i=t.getFlatCoordinates(),o=t.getStride(),a=0,s=0,u=r.length;s<u;++s)a=this.drawFlatCoordinates_(i,a,r[s],o);this.hitDetectionInstructions.push(sl),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(sl),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(sl),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(ul)},e}(hl),dl=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Object(c.d)(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var i=this.state,o=void 0!==i.fillStyle,a=void 0!==i.strokeStyle,s=n.length;this.instructions.push(ul),this.hitDetectionInstructions.push(ul);for(var u=0;u<s;++u){var l=n[u],c=this.coordinates.length,h=this.appendFlatCoordinates(t,e,l,r,!0,!a),p=[cl.MOVE_TO_LINE_TO,c,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(ll),this.hitDetectionInstructions.push(ll)),e=l}return o&&(this.instructions.push(al),this.hitDetectionInstructions.push(al)),a&&(this.instructions.push(sl),this.hitDetectionInstructions.push(sl)),e},e.prototype.drawCircle=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([cl.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length;this.appendFlatCoordinates(r,0,r.length,i,!1,!1);var a=[cl.CIRCLE,o];this.instructions.push(ul,a),this.hitDetectionInstructions.push(ul,a),void 0!==n.fillStyle&&(this.instructions.push(al),this.hitDetectionInstructions.push(al)),void 0!==n.strokeStyle&&(this.instructions.push(sl),this.hitDetectionInstructions.push(sl)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([cl.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),i=t.getOrientedFlatCoordinates(),o=t.getStride();this.drawFlatCoordinatess_(i,0,r,o),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state;if(void 0!==n.fillStyle||void 0!==n.strokeStyle){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([cl.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([cl.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),i=t.getOrientedFlatCoordinates(),o=t.getStride(),a=0,s=0,u=r.length;s<u;++s)a=this.drawFlatCoordinatess_(i,a,r[s],o);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,i=n.length;r<i;++r)n[r]=sr(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(hl);function gl(t,e,n,r,i){var o,a,s,u,l,c,h,p,f,d=n,g=n,v=0,m=0,y=n;for(o=n;o<r;o+=i){var _=e[o],b=e[o+1];void 0!==u&&(p=_-u,f=b-l,s=Math.sqrt(p*p+f*f),void 0!==c&&(m+=a,Math.acos((c*p+h*f)/(a*s))>t&&(m>v&&(v=m,d=y,g=o),m=0,y=o-i)),a=s,c=p,h=f),u=_,l=b}return(m+=s)>v?[y,o]:[d,g]}var vl={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},ml={Circle:dl,Default:hl,Image:pl,LineString:fl,Polygon:dl,Text:function(t){function e(e,n,r,i){var o=t.call(this,e,n,r,i)||this;return o.labels_=null,o.text_="",o.textOffsetX_=0,o.textOffsetY_=0,o.textRotateWithView_=void 0,o.textRotation_=0,o.textFillState_=null,o.fillStates={},o.textStrokeState_=null,o.strokeStates={},o.textState_={},o.textStates={},o.textKey_="",o.fillKey_="",o.strokeKey_="",o}return Object(c.d)(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textState_;if(""!==this.text_&&n&&(this.textFillState_||this.textStrokeState_)){var r,i,o=this.coordinates.length,a=t.getType(),s=null,u=2,l=2;if(n.placement===Du.LINE){if(!X(this.getBufferedMaxExtent(),t.getExtent()))return;var c=void 0;if(s=t.getFlatCoordinates(),l=t.getStride(),a==Dt.LINE_STRING)c=[s.length];else if(a==Dt.MULTI_LINE_STRING)c=t.getEnds();else if(a==Dt.POLYGON)c=t.getEnds().slice(0,1);else if(a==Dt.MULTI_POLYGON){var h=t.getEndss();for(c=[],r=0,i=h.length;r<i;++r)c.push(h[r][0])}this.beginGeometry(t,e);for(var p=n.textAlign,f=0,d=void 0,g=0,v=c.length;g<v;++g){if(null==p){var m=gl(n.maxAngle,s,f,c[g],l);f=m[0],d=m[1]}else d=c[g];for(r=f;r<d;r+=l)this.coordinates.push(s[r],s[r+1]);u=this.coordinates.length,f=c[g];var y=this.declutterGroups_?0===g?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(o,u,y),o=u}this.endGeometry(e)}else{var _=null;switch(n.overflow||(_=[]),a){case Dt.POINT:case Dt.MULTI_POINT:u=(s=t.getFlatCoordinates()).length;break;case Dt.LINE_STRING:s=t.getFlatMidpoint();break;case Dt.CIRCLE:s=t.getCenter();break;case Dt.MULTI_LINE_STRING:u=(s=t.getFlatMidpoints()).length;break;case Dt.POLYGON:s=t.getFlatInteriorPoint(),n.overflow||_.push(s[2]/this.resolution),l=3;break;case Dt.MULTI_POLYGON:var b=t.getFlatInteriorPoints();for(s=[],r=0,i=b.length;r<i;r+=3)n.overflow||_.push(b[r+2]/this.resolution),s.push(b[r],b[r+1]);if(0==(u=s.length))return}u=this.appendFlatCoordinates(s,0,u,l,!1,!1),this.saveTextStates_(),(n.backgroundFill||n.backgroundStroke)&&(this.setFillStrokeStyle(n.backgroundFill,n.backgroundStroke),n.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),n.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var w=this.pixelRatio;this.instructions.push([cl.DRAW_IMAGE,o,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,n.padding==wo?wo:n.padding.map(function(t){return t*w}),!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),this.hitDetectionInstructions.push([cl.DRAW_IMAGE,o,u,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,n.padding,!!n.backgroundFill,!!n.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,_]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var i=this.textKey_;i in this.textStates||(this.textStates[i]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var o=this.fillKey_;n&&(o in this.fillStates||(this.fillStates[o]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var r=this.textStrokeState_,i=this.textState_,o=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,l=vl[i.textBaseline],c=this.textOffsetY_*u,h=this.text_,p=r?r.lineWidth*i.scale/2:0;this.instructions.push([cl.DRAW_CHARS,t,e,l,n,i.overflow,s,i.maxAngle,u,c,o,p*u,h,a,1]),this.hitDetectionInstructions.push([cl.DRAW_CHARS,t,e,l,n,i.overflow,s,i.maxAngle,1,c,o,p,h,a,1/u])},e.prototype.setTextStyle=function(t,e){var n,r,i;if(t){this.declutterGroups_=e;var o=t.getFill();o?((r=this.textFillState_)||(this.textFillState_=r={}),r.fillStyle=yo(o.getColor()||"#000")):this.textFillState_=r=null;var a=t.getStroke();if(a){(i=this.textStrokeState_)||(this.textStrokeState_=i={});var s=a.getLineDash(),u=a.getLineDashOffset(),l=a.getWidth(),c=a.getMiterLimit();i.lineCap=a.getLineCap()||"round",i.lineDash=s?s.slice():bo,i.lineDashOffset=void 0===u?0:u,i.lineJoin=a.getLineJoin()||"round",i.lineWidth=void 0===l?1:l,i.miterLimit=void 0===c?10:c,i.strokeStyle=yo(a.getColor()||"#000")}else this.textStrokeState_=i=null;n=this.textState_;var h=t.getFont()||"10px sans-serif";Oo(h);var p=t.getScale();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||wo,n.scale=void 0===p?1:p;var d=t.getOffsetX(),g=t.getOffsetY(),v=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==v&&v,this.textRotation_=void 0===m?0:m,this.strokeKey_=i?("string"==typeof i.strokeStyle?i.strokeStyle:f(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+f(r.fillStyle):""}else this.text_=""},e}(hl)},yl=function(){function t(t,e,n,r,i){this.declutter_=i,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(this.declutterGroups_=e=[[1/0,1/0,-1/0,-1/0]],e[0].push(1))),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var i=n[r].finish();t[e][r]=i}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(this.buildersByZIndex_[n]=r={});var i=r[e];return void 0===i&&(i=new(0,ml[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=i),i},t}();function _l(t,e,n,r,i,o,a,s,u,l,c){for(var h,p,f=[],d=t[e]>t[n-r],g=i.length,v=t[e],m=t[e+1],y=t[e+=r],_=t[e+1],b=0,w=Math.sqrt(Math.pow(y-v,2)+Math.pow(_-m,2)),S=!1,C=0;C<g;++C){for(var x=i[h=d?g-C-1:C],E=s*u(l,x,c),O=o+E/2;e<n-r&&b+w<O;)v=y,m=_,y=t[e+=r],_=t[e+1],b+=w,w=Math.sqrt(Math.pow(y-v,2)+Math.pow(_-m,2));var I=O-b,T=Math.atan2(_-m,y-v);if(d&&(T+=T>0?-Math.PI:Math.PI),void 0!==p){var M=T-p;if(S=S||0!==M,M+=M>Math.PI?-2*Math.PI:M<-Math.PI?2*Math.PI:0,Math.abs(M)>a)return null}p=T;var P=I/w,k=Et(v,y,P),A=Et(m,_,P);f[h]=[k,A,E/2,T,x],o+=E}return S?f:[[f[0][0],f[0][1],f[0][2],f[0][3],i]]}var bl=I(),wl=zn(),Sl=[],Cl=[],xl=[],El=[],Ol=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.declutterItems=[],this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=[1,0,0,1,0,0],this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var i=t+e+n+r;if(this.labels_[i])return this.labels_[i];var o=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],u=s.scale*this.pixelRatio,l=vl[s.textAlign||"center"],c=r&&o.lineWidth?o.lineWidth:0,h=t.split("\n"),p=h.length,f=[],d=function(t,e,n){for(var r=e.length,i=0,o=0;o<r;++o){var a=Mo(t,e[o]);i=Math.max(i,a),n.push(a)}return i}(s.font,h,f),g=Io(s.font),v=g*p,m=d+c,y=[],_={width:Math.ceil((m+2)*u),height:Math.ceil((v+c)*u),contextInstructions:y};1!=u&&y.push("scale",[u,u]),y.push("font",s.font),r&&(y.push("strokeStyle",o.strokeStyle),y.push("lineWidth",c),y.push("lineCap",o.lineCap),y.push("lineJoin",o.lineJoin),y.push("miterLimit",o.miterLimit),(yn?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(y.push("setLineDash",[o.lineDash]),y.push("lineDashOffset",o.lineDashOffset))),n&&y.push("fillStyle",a.fillStyle),y.push("textBaseline","middle"),y.push("textAlign","center");var b,w=.5-l,S=l*m+w*c;if(r)for(b=0;b<p;++b)y.push("strokeText",[h[b],S+w*f[b],.5*(c+g)+b*g]);if(n)for(b=0;b<p;++b)y.push("fillText",[h[b],S+w*f[b],.5*(c+g)+b*g]);return this.labels_[i]=_,_},t.prototype.replayTextBackground_=function(t,e,n,r,i,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.replayImageOrLabel_=function(t,e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,v,m){var y=v||m,_=d+l>r.width?r.width-l:d,b=s+c>r.height?r.height-c:s,w=g[3]+_*p+g[1],S=g[0]+b*p+g[2],C=(e-=i*=p)-g[3],x=(n-=o*=p)-g[0];(y||0!==h)&&(Sl[0]=C,El[0]=C,Sl[1]=x,Cl[1]=x,Cl[0]=C+w,xl[0]=Cl[0],xl[1]=x+S,El[1]=xl[1]);var E=null;if(0!==h){var O=e+i,I=n+o;E=Gn(wl,O,I,1,1,h,-O,-I),Bn(wl,Sl),Bn(wl,Cl),Bn(wl,xl),Bn(wl,El),T(Math.min(Sl[0],Cl[0],xl[0],El[0]),Math.min(Sl[1],Cl[1],xl[1],El[1]),Math.max(Sl[0],Cl[0],xl[0],El[0]),Math.max(Sl[1],Cl[1],xl[1],El[1]),bl)}else T(C,x,C+w,x+S,bl);var M=t.canvas,P=m?m[2]*p/2:0,k=bl[0]-P<=M.width&&bl[2]+P>=0&&bl[1]-P<=M.height&&bl[3]+P>=0;if(f&&(e=Math.round(e),n=Math.round(n)),a){if(!k&&1==a[4])return;R(a,bl);var A=k?[t,E?E.slice(0):null,u,r,l,c,_,b,e,n,p]:null;A&&(y&&A.push(v,m,Sl.slice(0),Cl.slice(0),xl.slice(0),El.slice(0)),a.push(A))}else k&&(y&&this.replayTextBackground_(t,Sl,Cl,xl,El,v,m),Ao(t,E,u,r,l,c,_,b,e,n,p))},t.prototype.fill_=function(t){if(this.alignFill_){var e=Bn(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.renderDeclutter=function(t,e,n,r){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var o={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(r||(r=new Wr.a(9)),!r.collides(o)){r.insert(o);for(var a=5,s=t.length;a<s;++a){var u=t[a],l=u[0],c=l.globalAlpha;c!==n&&(l.globalAlpha=n),u.length>11&&this.replayTextBackground_(u[0],u[13],u[14],u[15],u[16],u[11],u[12]),Ao.apply(void 0,u),c!==n&&(l.globalAlpha=c)}}t.length=5,M(t)}}return r},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var i=this.textStates[e],o=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,u=vl[i.textAlign||"center"],l=vl[i.textBaseline||"middle"],c=a&&a.lineWidth?a.lineWidth:0;return{label:o,anchorX:u*(o.width/s-2*i.scale)+2*(.5-u)*c,anchorY:l*o.height/s+2*(.5-l)*c}},t.prototype.execute_=function(t,e,n,r,i,o){var a,s,u;this.declutterItems.length=0,this.pixelCoordinates_&&st(e,this.renderedTransform_)?a=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),a=Nn(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),(s=this.renderedTransform_)[0]=(u=e)[0],s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4],s[5]=u[5]);for(var l,c,h,p,f,d,g,v,m,y,_,b,w,S,C,x,E,O=0,I=n.length,T=0,M=0,P=0,k=null,A=null,R=this.coordinateCache_,j=this.viewRotation_,F=Math.round(1e12*Math.atan2(-e[1],e[0]))/1e12,L={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:j},D=this.instructions!=n||this.overlaps?0:200;O<I;){var N=n[O];switch(N[0]){case cl.BEGIN_GEOMETRY:(C=N[1]).getGeometry()?void 0===o||X(o,N[3])?++O:O=N[2]+1:O=N[2];break;case cl.BEGIN_PATH:M>D&&(this.fill_(t),M=0),P>D&&(t.stroke(),P=0),M||P||(t.beginPath(),p=NaN,f=NaN),++O;break;case cl.CIRCLE:var z=a[T=N[1]],B=a[T+1],G=a[T+2]-z,V=a[T+3]-B,U=Math.sqrt(G*G+V*V);t.moveTo(z+U,B),t.arc(z,B,U,0,2*Math.PI,!0),++O;break;case cl.CLOSE_PATH:t.closePath(),++O;break;case cl.CUSTOM:T=N[1],l=N[2];var H=N[4],q=6==N.length?N[5]:void 0;L.geometry=N[3],L.feature=C,O in R||(R[O]=[]);var W=R[O];q?q(a,T,l,2,W):(W[0]=a[T],W[1]=a[T+1],W.length=2),H(W,L),++O;break;case cl.DRAW_IMAGE:T=N[1],l=N[2],c=N[4],h=N[5],m=i?null:N[6];var Z=N[7],K=N[8],Y=N[9],J=N[10],Q=N[11],$=N[12],tt=N[13],et=N[14];if(!(y=N[3])&&N.length>=19){var nt=this.drawLabelWithPointPlacement_(_=N[18],b=N[19],w=N[20],S=N[21]);N[3]=y=nt.label,N[4]=c=(nt.anchorX-N[22])*this.pixelRatio,N[5]=h=(nt.anchorY-N[23])*this.pixelRatio,N[7]=Z=y.height,N[14]=et=y.width}var rt=void 0;N.length>24&&(rt=N[24]);var it=void 0,ot=void 0,at=void 0;N.length>16?(it=N[15],ot=N[16],at=N[17]):(it=wo,ot=!1,at=!1),Q&&F?$+=j:Q||F||($-=j);for(var ut=0,lt=0;T<l;T+=2)if(!(rt&&rt[ut++]<et/this.pixelRatio)){if(m){var ct=Math.floor(lt);m.length<ct+1&&((v=[1/0,1/0,-1/0,-1/0]).push(m[0][4]),m.push(v)),v=m[ct]}this.replayImageOrLabel_(t,a[T],a[T+1],y,c,h,v,Z,K,Y,J,$,tt,r,et,it,ot?k:null,at?A:null),v&&(lt===Math.floor(lt)&&this.declutterItems.push(this,v,C),lt+=1/v[4])}++O;break;case cl.DRAW_CHARS:var ht=N[1],pt=N[2],ft=N[3];v=i?null:N[4];var dt=N[5];S=N[6];var gt=N[7],vt=N[9];w=N[10];var mt=N[11];_=N[12];var yt=N[14],_t=this.textStates[b=N[13]],bt=_t.font,wt=_t.scale*N[8],St=void 0;bt in this.widths_?St=this.widths_[bt]:this.widths_[bt]=St={};var Ct=oi(a,ht,pt,2),xt=wt*Po(bt,_,St);if(dt||xt<=Ct){var Et=_l(a,ht,pt,2,_,(Ct-xt)*vl[this.textStates[b].textAlign],gt,wt,Po,bt,St);if(Et){var Ot=void 0,It=void 0,Tt=void 0,Mt=void 0;if(w)for(Ot=0,It=Et.length;Ot<It;++Ot)Tt=this.createLabel((Mt=Et[Ot])[4],b,"",w),this.replayImageOrLabel_(t,Mt[0],Mt[1],Tt,c=Mt[2]+mt,h=ft*Tt.height+2*(.5-ft)*mt-vt,v,Tt.height,1,0,0,Mt[3],yt,!1,Tt.width,wo,null,null);if(S)for(Ot=0,It=Et.length;Ot<It;++Ot)Tt=this.createLabel((Mt=Et[Ot])[4],b,S,""),this.replayImageOrLabel_(t,Mt[0],Mt[1],Tt,c=Mt[2],h=ft*Tt.height-vt,v,Tt.height,1,0,0,Mt[3],yt,!1,Tt.width,wo,null,null)}}this.declutterItems.push(this,v,C),++O;break;case cl.END_GEOMETRY:if(void 0!==i){var Pt=i(C=N[1]);if(Pt)return Pt}++O;break;case cl.FILL:D?M++:this.fill_(t),++O;break;case cl.MOVE_TO_LINE_TO:for(l=N[2],g=(E=a[(T=N[1])+1])+.5|0,(d=(x=a[T])+.5|0)===p&&g===f||(t.moveTo(x,E),p=d,f=g),T+=2;T<l;T+=2)d=(x=a[T])+.5|0,g=(E=a[T+1])+.5|0,T!=l-2&&d===p&&g===f||(t.lineTo(x,E),p=d,f=g);++O;break;case cl.SET_FILL_STYLE:k=N,this.alignFill_=N[2],M&&(this.fill_(t),M=0,P&&(t.stroke(),P=0)),t.fillStyle=N[1],++O;break;case cl.SET_STROKE_STYLE:A=N,P&&(t.stroke(),P=0),this.setStrokeStyle_(t,N),++O;break;case cl.STROKE:D?P++:t.stroke(),++O;break;default:++O}}M&&this.fill_(t),P&&t.stroke()},t.prototype.execute=function(t,e,n,r){this.viewRotation_=n,this.execute_(t,e,this.instructions,r,void 0,void 0)},t.prototype.executeHitDetection=function(t,e,n,r,i){return this.viewRotation_=n,this.execute_(t,e,this.hitDetectionInstructions,!0,r,i)},t}(),Il=[Fo.POLYGON,Fo.CIRCLE,Fo.LINE_STRING,Fo.IMAGE,Fo.TEXT,Fo.DEFAULT],Tl=function(){function t(t,e,n,r,i,o){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=[1,0,0,1,0,0],this.createExecutors_(i)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var r=t[e];for(var i in r)n[i]=new Ol(this.resolution_,this.pixelRatio_,this.overlaps_,r[i])}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,i=t.length;r<i;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i,o){var a=2*(r=Math.round(r))+1,s=Gn(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=wi(a,a));var u,l=this.hitDetectionContext_;l.canvas.width!==a||l.canvas.height!==a?(l.canvas.width=a,l.canvas.height=a):l.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(j(u=[1/0,1/0,-1/0,-1/0],t),b(u,e*(this.renderBuffer_+r),u));var c,h=function(t){if(void 0!==Ml[t])return Ml[t];for(var e=2*t+1,n=new Array(e),r=0;r<e;r++)n[r]=new Array(e);for(var i=t,o=0,a=0;i>=o;)Pl(n,t+i,t+o),Pl(n,t+o,t+i),Pl(n,t-o,t+i),Pl(n,t-i,t+o),Pl(n,t-i,t-o),Pl(n,t-o,t-i),Pl(n,t+o,t-i),Pl(n,t+i,t-o),2*((a+=1+2*++o)-i)+1>0&&(a+=1-2*(i-=1));return Ml[t]=n,n}(r);function p(t){for(var e=l.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var r=0;r<a;r++)if(h[n][r]&&e[4*(r*a+n)+3]>0){var s=void 0;return(!o||c!=Fo.IMAGE&&c!=Fo.TEXT||-1!==o.indexOf(t))&&(s=i(t)),s||void l.clearRect(0,0,a,a)}}var f,d,g,v,m,y=Object.keys(this.executorsByZIndex_).map(Number);for(y.sort(rt),f=y.length-1;f>=0;--f){var _=y[f].toString();for(g=this.executorsByZIndex_[_],d=Il.length-1;d>=0;--d)if(void 0!==(v=g[c=Il[d]])&&(m=v.executeHitDetection(l,s,n,p,u)))return m}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],i=e[2],o=e[3],a=[n,r,n,o,i,o,i,r];return Nn(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return gt(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,i,o){var a=Object.keys(this.executorsByZIndex_).map(Number);a.sort(rt),this.maxExtent_&&(t.save(),this.clip(t,e));var s,u,l,c,h,p,f=i||Il;for(s=0,u=a.length;s<u;++s){var d=a[s].toString();for(h=this.executorsByZIndex_[d],l=0,c=f.length;l<c;++l){var g=f[l];if(void 0!==(p=h[g]))if(!o||g!=Fo.IMAGE&&g!=Fo.TEXT)p.execute(t,e,n,r);else{var v=o[d];v?v.push(p,e.slice(0)):o[d]=[p,e.slice(0)]}}}this.maxExtent_&&t.restore()},t}(),Ml={0:[[!0]]};function Pl(t,e,n){var r,i=Math.floor(t.length/2);if(e>=i)for(r=i;r<e;r++)t[r][n]=!0;else if(e<i)for(r=e+1;r<i;r++)t[r][n]=!0}var kl=Tl,Al=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return Object(c.d)(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];!function(t,e,r){var i,o;o=1/n,(i=t)[0]=1/n,i[1]=0,i[2]=0,i[3]=o,i[4]=0,i[5]=0}(this.pixelTransform),Vn(this.inversePixelTransform,this.pixelTransform);var i=Un(this.pixelTransform);this.useContainer(e,i,r.opacity);var o=this.context,a=o.canvas,s=this.replayGroup_;if(!s||s.isEmpty())return!this.containerReused&&a.width>0&&(a.width=0),this.container;var u=Math.round(t.size[0]*n),l=Math.round(t.size[1]*n);a.width!=u||a.height!=l?(a.width=u,a.height=l,a.style.transform!==i&&(a.style.transform=i)):this.containerReused||o.clearRect(0,0,u,l),this.preRender(o,t);var c=t.extent,h=t.viewState,p=h.center,f=h.resolution,d=h.projection,g=h.rotation,v=d.getExtent(),m=this.getLayer().getSource(),y=!1;if(r.extent){var _=Ce(r.extent,d);(y=!x(_,t.extent)&&X(_,t.extent))&&this.clip(o,t,_)}var b=t.viewHints,w=!(b[0]||b[1]),S=this.getRenderTransform(p,f,g,n,u,l,0),C=this.getLayer().getDeclutter()?{}:null;if(s.execute(o,S,g,w,void 0,C),m.getWrapX()&&d.canWrapX()&&!x(v,c)){for(var E=c[0],O=Z(v),I=0;E<v[0];){var T=this.getRenderTransform(p,f,g,n,u,l,O*--I);s.execute(o,T,g,w,void 0,C),E+=O}for(I=0,E=c[2];E>v[2];){var M=this.getRenderTransform(p,f,g,n,u,l,O*++I);s.execute(o,M,g,w,void 0,C),E-=O}}if(C){var P=t.viewHints;!function(t,e,n,r,i,o){for(var a=Object.keys(t).map(Number).sort(rt),s=0,u=a.length;s<u;++s)for(var l=t[a[s].toString()],c=void 0,h=0,p=l.length;h<p;){var f=l[h++];f!==c&&(c=f,o.push({items:f.declutterItems,opacity:1}));var d=l[h++];f.execute(e,d,n,i)}}(C,o,g,0,!(P[0]||P[1]),t.declutterItems)}y&&o.restore(),this.postRender(o,t);var k=r.opacity,A=this.container;return k!==parseFloat(A.style.opacity)&&(A.style.opacity=1===k?"":k),this.container},e.prototype.getFeatures=function(t){return new Promise((function(e,n){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var r=[this.context.canvas.width,this.context.canvas.height];Bn(this.pixelTransform,r);var i=this.renderedCenter_,o=this.renderedResolution_,a=this.renderedRotation_,s=this.renderedProjection_,u=this.renderedExtent_,l=this.getLayer(),c=[],h=r[0]/2,p=r[1]/2;c.push(this.getRenderTransform(i,o,a,.5,h,p,0).slice());var f=l.getSource(),d=s.getExtent();if(f.getWrapX()&&s.canWrapX()&&!x(d,u)){for(var g=u[0],v=Z(d),m=0;g<d[0];)c.push(this.getRenderTransform(i,o,a,.5,h,p,v*--m).slice()),g+=v;for(m=0,g=u[2];g>d[2];)c.push(this.getRenderTransform(i,o,a,.5,h,p,v*++m).slice()),g-=v}this.hitDetectionImageData_=function(t,e,n,r,i,o,a){var s=wi(t[0]/2,t[1]/2);s.imageSmoothingEnabled=!1;for(var u=s.canvas,l=new jo(s,.5,i,null,a),c=n.length,h=Math.floor(16777215/c),p={},f=1;f<=c;++f){var d=n[f-1],g=d.getStyleFunction()||r;if(r){var v=g(d,o);if(v){Array.isArray(v)||(v=[v]);for(var m="#"+("000000"+(f*h).toString(16)).slice(-6),y=0,_=v.length;y<_;++y){var b=v[y],w=b.clone(),S=w.getFill();S&&S.setColor(m);var C=w.getStroke();C&&C.setColor(m),w.setText(void 0);var x=b.getImage();if(x){var E=x.getImageSize();if(!E)continue;var O=document.createElement("canvas");O.width=E[0],O.height=E[1];var I=O.getContext("2d",{alpha:!1});I.fillStyle=m;var T=I.canvas;I.fillRect(0,0,T.width,T.height),wi(E?E[0]:T.width,E?E[1]:T.height).drawImage(T,0,0),w.setImage(new Ri({img:T,imgSize:E,anchor:x.getAnchor(),anchorXUnits:bi.PIXELS,anchorYUnits:bi.PIXELS,offset:x.getOrigin(),size:x.getSize(),opacity:x.getOpacity(),scale:x.getScale(),rotation:x.getRotation(),rotateWithView:x.getRotateWithView()}))}var M=Number(w.getZIndex());(R=p[M])||(p[M]=R={},R[Dt.POLYGON]=[],R[Dt.CIRCLE]=[],R[Dt.LINE_STRING]=[],R[Dt.POINT]=[]);var P=w.getGeometryFunction()(d);P&&X(i,P.getExtent())&&R[P.getType().replace("Multi","")].push(P,w)}}}}for(var k=Object.keys(p).map(Number).sort(rt),A=(f=0,k.length);f<A;++f){var R=p[k[f]];for(var j in R){var F=R[j];for(y=0,_=F.length;y<_;y+=2){l.setStyle(F[y+1]);for(var L=0,D=e.length;L<D;++L)l.setTransform(e[L]),l.drawGeometry(F[y])}}}return document.body.appendChild(s.canvas),s.getImageData(0,0,u.width,u.height)}(r,c,this.renderedFeatures_,l.getStyleFunction(),u,o,a)}e(function(t,e,n){var r=[];if(n){var i=4*(Math.round(t[0]/2)+Math.round(t[1]/2)*n.width),o=n.data[i+2]+256*(n.data[i+1]+256*n.data[i]),a=Math.floor(16777215/e.length);o&&o%a==0&&r.push(e[o/a-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}).bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,i){if(this.replayGroup_){var o=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,a,n,function(t){var e=f(t);if(!(e in u))return u[e]=!0,r(t,s)},s.getDeclutter()?i:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[0],i=t.viewHints[1],o=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!o&&r||!a&&i)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,u=t.viewState,l=u.projection,c=u.resolution,h=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=No);var g=u.center.slice(),v=b(s,f*c),m=[v.slice()],y=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!x(y,t.extent)){var _=Z(y),w=Math.max(Z(v)/2,_);v[0]=y[0]-w,v[2]=y[2]+w,pn(g,l);var S=function(t,e){var n=e.getExtent(),r=B(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var i=Z(n),o=Math.floor((r[0]-n[0])/i)*i;t[0]-=o,t[2]-=o}return t}(m[0],l);S[0]<y[0]&&S[2]<y[2]?m.push([S[0]+_,S[1],S[2]+_,S[3]]):S[0]>y[0]&&S[2]>y[2]&&m.push([S[0]-_,S[1],S[2]-_,S[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&x(this.renderedExtent_,v))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var C,E=new yl(zo(c,h),v,c,h,e.getDeclutter()),O=_e();if(O){for(var I=0,T=m.length;I<T;++I)n.loadFeatures(Se(m[I],l),c,O);C=he(O,l)}else for(I=0,T=m.length;I<T;++I)n.loadFeatures(m[I],c,l);var M=function(t,e){var n=zo(t,e);return n*n}(c,h),P=(function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,c)),n){var i=this.renderFeature(t,M,n,E,C);this.dirty_=this.dirty_||i}}).bind(this),k=Se(v,l),A=n.getFeaturesInExtent(k);for(d&&A.sort(d),I=0,T=A.length;I<T;++I)P(A[I]);this.renderedFeatures_=A;var R=E.finish(),j=new kl(v,c,h,n.getOverlaps(),R,e.getRenderBuffer());return this.renderedResolution_=c,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=v,this.renderedRotation_=u.rotation,this.renderedCenter_=g,this.renderedProjection_=l,this.replayGroup_=j,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,i){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var a=0,s=n.length;a<s;++a)o=Bo(r,t,n[a],e,this.boundHandleStyleImageChange_,i)||o;else o=Bo(r,t,n,e,this.boundHandleStyleImageChange_,i);return o},e}(el),Rl=function(t){function e(e){return t.call(this,e)||this}return Object(c.d)(e,t),e.prototype.createRenderer=function(){return new Al(this)},e}(il),jl=function(t){function e(e){var n=e||{},r=void 0!==n.projection?n.projection:"EPSG:3857",i=void 0!==n.tileGrid?n.tileGrid:qe({extent:Ze(r),maxResolution:n.maxResolution,maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return Object(c.d)(e,t),e}(Xu),Fl=n("flj8"),Ll=n("f5ys"),Dl=n("r4Kj"),Nl=n("BtSu"),zl=n("MLd6"),Bl=n("tB1I"),Gl=n("Mzne"),Vl=n("WPWp"),Ul=n("F87C"),Hl=n.n(Ul),ql=n("pyHo"),Wl=n.n(ql),Zl=n("l207"),Xl=n("A7o+");n.d(e,"a",function(){return Kl});var Kl=function(){function t(t,e,n,o,s,u,l,c,h){var p=this;this._accountService=t,this._configService=e,this._deviceService=n,this._languageService=o,this._modelService=s,this._routerService=u,this._themeService=l,this._toastController=c,this._translateService=h,this._isReady=!1,this.onReady=new i.a(1),this.onReady.next(this._isReady),this.onDrag=new r.m,this.onZoom=new r.m,this.onClick=new r.m,this.onHover=new r.m,this.onMoveEnd=new r.m,this.onPopupChange=new r.m,this.onRotateReset=new r.m,this._isInteractive=!0,this._gridLayers={};var f=document.createElement("ion-icon"),d=document.createElement("div");f.setAttribute("name","compass"),f.style.transform="rotate(-45deg)",d.appendChild(f),this._rotateIconDiv=d,this.onHover.pipe(Object(a.a)(30)).subscribe(function(t){var e=p._fromLonLat([t.longitude,t.latitude]);if(p._modelService.isRouting()){var n,r=10;p._customTrackLayer.getSource().forEachFeature(function(e){if("Point"===e.getGeometry().getType()){var i=e.getGeometry().getCoordinates(),o=new Ll.a(p._toLonLat(i)[0],p._toLonLat(i)[1]),a=p.getFixedDistance(o,t);a<r&&(r=a,n=e)}}),p._map.getTargetElement().style.cursor=n?"not-allowed":"crosshair"}else p.getUTFGridInfo(e).then(function(n){var r,i,o,a,s=10,u=10,l=function(n){var l=n.get("features"),c=l&&l.length>0&&l[0].get("id")?l[0].get("id")+"":n.getId()+"";if(!(p._features[c]&&p._features[c].properties&&p._features[c].properties.noInteraction)||l)if("Point"===n.getGeometry().getType()){var h=n.getGeometry().getCoordinates(),f=new Ll.a(p._toLonLat(h)[0],p._toLonLat(h)[1]);(d=p.getFixedDistance(f,t))<s&&(s=d,i=n)}else if(!i&&"LineString"===n.getGeometry().getType()||"MultiLineString"===n.getGeometry().getType()){var d;h=void 0,h=n.getGeometry().getClosestPoint(e),f=new Ll.a(p._toLonLat(h)[0],p._toLonLat(h)[1]),(d=p.getFixedDistance(f,t))<u&&(u=d,o=n)}else if(!i&&!o&&"Polygon"===n.getGeometry().getType()||"MultiPolygon"===n.getGeometry().getType()){var g=void 0,v=void 0;(n.getGeometry().getType(),v=n.getGeometry()).containsXY(e[0],e[1])&&((g=v.getArea())<r||!r)&&(r=g,a=n)}};p._configService.useClusteringInMap()&&(p._spiderSource.forEachFeatureInExtent(p._view.calculateExtent(p._map.getSize()),l),p._clusterPointSource.forEachFeatureInExtent(p._view.calculateExtent(p._map.getSize()),l)),p._dataSource.forEachFeatureInExtent(p._view.calculateExtent(p._map.getSize()),l),p._configService.useClusteringInMap()&&i&&i.get("features")&&i.get("features").length>1?i.get("features").length>1?p.hoverFeature(Zl.F):p.hoverFeature(i.get("features")[0].get("id")):i?p.hoverFeature(i.get("id")):o?p.hoverFeature(o.get("id")):n?p._triggerUtfGridHover(n):a?p.hoverFeature(a.get("id")):p._hoveredFeatureId&&p.clearHoveredFeature()})},function(t){console.warn(t)}),this._accountService.onAccountStateChange.subscribe(function(){p._accountService.testModeEnabled()?p.updateTestLayer():p.removeTestLayer()},function(t){console.warn(t)})}return t.prototype._toLonLat=function(t){return fe(t,"EPSG:3857","EPSG:4326")},t.prototype._fromLonLat=function(t){return fe(t,"EPSG:4326","EPSG:3857")},t.prototype._extentToLonLat=function(t){return de(t,"EPSG:3857","EPSG:4326")},t.prototype._extentFromLonLat=function(t){return de(t,"EPSG:4326","EPSG:3857")},t.prototype.getUTMCoords=function(t){var e=xu("+proj=utm +zone=32 +ellps=GRS80 +units=m +no_defs ",[t.longitude,t.latitude]);return e[0]=Math.round(e[0]),e[1]=Math.round(e[1]),e},t.prototype._initializeBaseSource=function(t){var e=this,n=t.tilesUrl;return"/"!==n[n.length-1]&&(n+="/"),"maptile"===t.type?new jl({maxZoom:21,minZoom:1,tileLoadFunction:function(r,i){var o=[0,0,0],a=i.split("/");o[0]=parseInt(a[a.length-3]),o[1]=parseInt(a[a.length-2]),o[2]=parseInt(a[a.length-1].split(".")[0]),e._modelService.getTile(o,n).then(function(e){if(t.grayscale>=0||t.opacity>=0){var n=document.createElement("canvas"),i=n.getContext("2d"),o=new Image,a=t.grayscale?t.grayscale>1?Math.max(0,Math.min(1,t.grayscale/100)):Math.max(0,Math.min(1,t.grayscale)):0,s=t.opacity?t.opacity>1?Math.max(0,Math.min(1,t.opacity/100)):Math.max(0,Math.min(1,t.opacity)):1;o.onload=function(){n.width=256,n.height=256,i.drawImage(o,0,0);for(var t=i.getImageData(0,0,256,256),e=0;e+3<t.data.length;e+=4){if(0!==a){var u=t.data[e],l=t.data[e+1],c=t.data[e+2],h=Math.round(.3*u+.59*l+.11*c);t.data[e]=h+(u-h)*a,t.data[e+1]=h+(l-h)*a,t.data[e+2]=h+(c-h)*a}1!==s&&(t.data[e+3]=256*s)}i.putImageData(t,0,0),r.getImage().src=n.toDataURL()},o.crossOrigin="Anonymous",o.src=e}else r.getImage().src=e}).catch(function(t){console.error(t),r.getImage().src=i})},tileUrlFunction:function(t){return n+t[0]+"/"+t[1]+"/"+t[2]+".png"},projection:"EPSG:3857"}):new $u({params:t.params?t.params:{},url:n,projection:"EPSG:3857"})},t.prototype._initializeBaseLayers=function(){var t=this._configService.getBaseLayers(),e=!1;for(var n in this._baseLayers={},t){var r=new rl({source:this._initializeBaseSource(t[n]),visible:!(!t[n].default||e),zIndex:1});this._map.addLayer(r),this._baseLayers[t[n].id]=r,t[n].default&&!e&&(e=!0)}!e&&this._map.getLayers().getArray().length>0&&this._map.getLayers().getArray()[0].setVisible(!0)},t.prototype._initializeOverlayLayer=function(t){var e,n,r=this;switch(t.type){case"utfgrid":"/"!==(e=t.tilesUrl)[e.length-1]&&(e+="/"),n=new rl({source:new Ku({tileJSON:{tiles:[e+"{z}/{x}/{y}.png"],grids:[e+"{z}/{x}/{y}.grid.json"],minzoom:t.minZoom?t.minZoom:this._configService.getMapMinZoom(),maxzoom:t.maxZoom?t.maxZoom:this._configService.getMapMaxZoom()},tileLoadFunction:function(n,i){var o=[0,0,0],a=i.split("/");o[0]=parseInt(a[a.length-3]),o[1]=parseInt(a[a.length-2]),o[2]=parseInt(a[a.length-1].split(".")[0]),r._modelService.getTile(o,e,t.id).then(function(t){n.getImage().src=t}).catch(function(){n.getImage().src=i})}}),visible:!0,zIndex:20}),this._map.addLayer(n),this._gridLayers[t.id]=n;break;case"maptile":"/"!==(e=t.tilesUrl)[e.length-1]&&(e+="/"),n=new rl({source:new jl({tileLoadFunction:function(n,i){var o=[0,0,0],a=i.split("/");o[0]=parseInt(a[a.length-3]),o[1]=parseInt(a[a.length-2]),o[2]=parseInt(a[a.length-1].split(".")[0]),r._modelService.getTile(o,e,t.id).then(function(t){n.getImage().src=t}).catch(function(t){console.error(t),n.getImage().src=i})},tileUrlFunction:function(t){return e+t[0]+"/"+t[1]+"/"+t[2]+".png"},projection:"EPSG:3857",minZoom:t.minZoom?t.minZoom:this._configService.getMapMinZoom(),maxZoom:t.maxZoom?t.maxZoom:this._configService.getMapMaxZoom()}),visible:!0,zIndex:10}),this._map.addLayer(n)}},t.prototype._initializeOverlayLayers=function(){for(var t in this._gridLayers)this._map.removeLayer(this._gridLayers[t]);this._gridLayers={};var e=this._configService.getOverlayLayers();if(e)for(var n in e)this._initializeOverlayLayer(e[n])},t.prototype.initialize=function(){var t=this;this._configService.hasMap()&&(this._view=new Xi({center:this._fromLonLat(this._configService.getMapCenter()),zoom:this._configService.getMapDefZoom(),maxZoom:this._configService.getMapMaxZoom(),minZoom:this._configService.getMapMinZoom(),projection:"EPSG:3857",extent:this._extentFromLonLat(this._configService.getMapExtent()),constrainOnlyCenter:!0}),this._map=new Uo({target:"map",view:this._view,controls:this._getMapControls(),interactions:this._getMapInteractions(),moveTolerance:3}),this._initializeBaseLayers(),this._initializeOverlayLayers(),this._map.on("pointerdrag",function(e){t.onDrag.emit(e.coordinate),t._map.getTargetElement().style.cursor="grabbing"}),this._map.on("moveend",function(){t.onMoveEnd.emit(),t._map.getTargetElement().style.cursor="grab",t._previousZoom!==t._view.getZoom()&&(t._previousZoom=t._view.getZoom(),t.onZoom.emit(t._previousZoom),t._spiderifiedFeature&&Math.abs(t._previousZoom-t._view.getMaxZoom())>.5&&t._clearSpiderify(),t._configService.useClusteringInMap()&&(t._configService.getHighZoomClustering()<t._previousZoom?t._clusterPointSource.setDistance(t._configService.getHighZoomClusteringRadius()):t._clusterPointSource.setDistance(t._configService.getClusteringRadius())))}),this._map.on("pointermove",function(e){t._configService.enableMapClick()&&t.onHover.emit(new Ll.a(t._toLonLat(e.coordinate)[0],t._toLonLat(e.coordinate)[1]))}),this._routerService.onUrlChange.pipe(Object(s.a)(100)).subscribe(function(){t.clearTemporaryPois()},function(t){console.warn(t)}),this._dataSource=new Kr({format:new pi}),this._dataLayer=new Rl({source:this._dataSource,style:function(e){return t._style(e)},updateWhileAnimating:!1,updateWhileInteracting:!1,zIndex:50}),this._map.addLayer(this._dataLayer),this._configService.useClusteringInMap()&&(this._pointSource=new Kr({format:new pi}),this._clusterPointSource=new Yr({distance:this._configService.getClusteringRadius(),source:this._pointSource,geometryFunction:function(t){return"Point"===t.getGeometry().getType()?t.getGeometry():null}}),this._pointLayer=new Rl({source:this._clusterPointSource,style:function(e){return 1===e.get("features").length?t._style(e.get("features")[0]):t._clusterStyle(e)},updateWhileAnimating:!1,updateWhileInteracting:!1,zIndex:60}),this._spiderSource=new Kr({format:new pi}),this._spiderLayer=new Rl({source:this._spiderSource,style:function(e){return t._style(e)},updateWhileAnimating:!1,updateWhileInteracting:!1,zIndex:80}),this._selectedPointSource=new Kr({format:new pi}),this._selectedPointLayer=new Rl({source:this._selectedPointSource,style:function(e){return t._style(e)},updateWhileAnimating:!1,updateWhileInteracting:!1,zIndex:90}),this._map.addLayer(this._pointLayer),this._map.addLayer(this._spiderLayer),this._map.addLayer(this._selectedPointLayer)),this._modelService.onReady.pipe(Object(u.a)(function(t){return t}),Object(l.a)(1)).subscribe(function(){t._modelService.getFeatures().pipe(Object(s.a)(250)).subscribe(function(e){t._updateFeatures(e),0===Object.keys(e).length&&(t._customTrackLayer&&t._customTrackLayer.getSource()&&t._customTrackLayer.getSource().clear(),t._dataSource&&t._dataSource.clear(),t._configService.useClusteringInMap()&&(t._pointSource.clear(),t._clearSpiderify()),t._fixedDataSource&&t._fixedDataSource.clear(),t._temporaryDataSource&&t._temporaryDataSource.clear()),t.centerFeatureLayer(void 0,void 0,void 0,t._configService.getMapMaxFitZoom())},function(t){console.warn(t)})},function(t){console.warn(t)}),this._map.on("click",function(e){if(t._previousClickTimeout)return clearInterval(t._previousClickTimeout),void(t._previousClickTimeout=void 0);t._previousClickTimeout=setTimeout(function(){if(t._isInteractive)if(t._isRouting){var n=t._toLonLat(e.coordinate);t._addRoutingPoint(new Ll.a(n[0],n[1]))}else t._checkFeatureClick(e);t._previousClickTimeout=void 0},250)}),this._accountService.testModeEnabled()?this.updateTestLayer():this.removeTestLayer(),this.onReady.pipe(Object(u.a)(function(t){return t}),Object(l.a)(1)).subscribe(function(){if(Object.keys(t._features).length)t.centerFeatureLayer(void 0,0,!t._deviceService.isLgScreen);else{var e=t._configService.getMapCenter();t.centerOnCoords(new Ll.a(e[0],e[1]),t._configService.getMapDefZoom())}},function(t){console.warn(t)}),this._deviceService.onResize.subscribe(function(){t.adjust()},function(t){console.warn(t)}))},t.prototype.switchBaseLayer=function(t){var e=!1;for(var n in this._baseLayers)this._baseLayers[n].setVisible(t+""==n+""),t+""==n+""&&(e=!0);return!e&&this._map.getLayers().getArray().length>0&&this._map.getLayers().getArray()[0].setVisible(!0),t+""},t.prototype.getActiveBaseLayerId=function(){for(var t in this._baseLayers)if(this._baseLayers[t].getVisible())return t+"";return Object.keys(this._baseLayers)[0]+""},t.prototype.getUTFGridInfo=function(t){var e=this;return new Promise(function(n,r){var i=[],o=e._configService.getOverlayLayers();for(var a in o)if(e._gridLayers[o[a].id]){var s=e._gridLayers[o[a].id].getSource().getTileGrid().getTileCoordForCoordAndResolution(t,e._view.getResolution());i.push(e._modelService.getGridJson([s[0],s[1],s[2]],o[a].tilesUrl,o[a].id))}0!==i.length?Promise.all(i).then(function(r){for(var i in o)if(r[i]){var a=e._gridLayers[o[i].id].getSource().getTileGrid().getTileCoordForCoordAndResolution(t,e._view.getResolution()),s=new Je(a,J.LOADED,o[i].tilesUrl+a[0]+"/"+a[1]+"/"+-a[2]+".grid.json",e._gridLayers[o[i].id].getSource().getTileGrid().getTileCoordExtent(a),!0,!1);s.keys_=r[i].keys,s.data_=r[i].data,s.grid_=r[i].grid,n(s.getData(t));break}},function(){n(void 0)}):n(void 0)})},t.prototype._getMapInteractions=function(){var t=this._configService.enableMapZoom(),e=this._configService.enableMapPan();return zr({mouseWheelZoom:!(window.location.hostname!==Zl.E&&!this._deviceService.isFullscreen||!t),doubleClickZoom:t,shiftDragZoom:t,dragPan:e,altShiftDragRotate:e,pinchRotate:e,pinchZoom:t}).getArray()},t.prototype._setMapInteractions=function(t){var e=this;if(this._map){var n=this._map.getInteractions().getArray();for(var r in n.slice().forEach(function(t){e._map.removeInteraction(t)}),t)this._map.addInteraction(t[r])}},t.prototype._getMapControls=function(){var t=this,e=[];return this._configService.enableMapZoom()&&e.push(new vo),this._configService.enableMapPan()&&e.push(new go({label:this._rotateIconDiv,autoHide:!0,resetNorth:function(){t.onRotateReset.emit(),t.rotate(0,500)}})),e.push(new Mu({units:"metric",minWidth:50})),e},t.prototype._setMapControls=function(t){var e=this;if(this._map){var n=this._map.getControls().getArray();for(var r in n.slice().forEach(function(t){e._map.removeControl(t)}),t)this._map.addControl(t[r])}},t.prototype.reload=function(){this._initializeOverlayLayers(),this._setMapControls(this._getMapControls()),this._setMapInteractions(this._getMapInteractions())},t.prototype.getDistanceBetweenPoints=function(t,e){var n=t.latitude*Math.PI/180,r=e.latitude*Math.PI/180,i=t.longitude*Math.PI/180,o=r-n,a=e.longitude*Math.PI/180-i,s=Math.sin(o/2)*Math.sin(o/2)+Math.cos(n)*Math.cos(r)*Math.sin(a/2)*Math.sin(a/2);return 2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))*6371e3},t.prototype.getFixedDistance=function(t,e){return zt([t.longitude,t.latitude],[e.longitude,e.latitude])/this._view.getResolution()},t.prototype._triggerMapClick=function(){this._deviceService.isLgScreen?(void 0!==this._selectedFeatureId&&this.deselectFeature(),this.onClick.emit()):void 0!==this._selectedFeatureId?this.deselectFeature():(this.onClick.emit(),this.showPopup())},t.prototype._triggerUtfGridClick=function(t,e){if(this._features)for(var n in this._gridLayers)if(this._features[n+"-"+t.id]){this.selectFeature(n+"-"+t.id,!this._features[n+"-"+t.id].properties.noInteraction&&e);break}},t.prototype._triggerUtfGridHover=function(t){if(this._features)for(var e in this._gridLayers)if(this._features[e+"-"+t.id]){this.hoverFeature(e+"-"+t.id);break}},t.prototype._checkFeatureClick=function(t){var e=this;if(this._configService.enableMapClick()){var n=this._map.getEventCoordinate(t.originalEvent);this.getUTFGridInfo(n).then(function(n){var r,i,o,a,s=15,u=15,l=new Ll.a(e._toLonLat(t.coordinate)[0],e._toLonLat(t.coordinate)[1]),c=function(n){var c=n.get("features"),h=c&&c.length>0&&c[0].get("id")?c[0].get("id")+"":n.getId()+"";if(!(e._features[h]&&e._features[h].properties&&e._features[h].properties.noInteraction)||c)if("Point"===n.getGeometry().getType()){var p=n.getGeometry().getCoordinates(),f=new Ll.a(e._toLonLat(p)[0],e._toLonLat(p)[1]);(d=e.getFixedDistance(f,l))<s&&(s=d,i=n)}else if(!i&&"LineString"===n.getGeometry().getType()||"MultiLineString"===n.getGeometry().getType()){var d;p=void 0,n.getGeometry().getType(),p=n.getGeometry().getClosestPoint(t.coordinate),f=new Ll.a(e._toLonLat(p)[0],e._toLonLat(p)[1]),(d=e.getFixedDistance(f,l))<u&&(u=d,o=n)}else if(!i&&!o&&"Polygon"===n.getGeometry().getType()||"MultiPolygon"===n.getGeometry().getType()){var g=void 0,v=void 0;(n.getGeometry().getType(),v=n.getGeometry()).containsXY(t.coordinate[0],t.coordinate[1])&&((g=v.getArea())<r||!r)&&(r=g,a=n)}};if(e._configService.useClusteringInMap()){if(e._selectedPointSource.forEachFeatureInExtent(e._view.calculateExtent(e._map.getSize()),c),i)return;e._selectedPointSource.clear(),e._spiderSource.forEachFeatureInExtent(e._view.calculateExtent(e._map.getSize()),c),i||e._clusterPointSource.forEachFeatureInExtent(e._view.calculateExtent(e._map.getSize()),c)}i||e._dataSource.forEachFeatureInExtent(e._view.calculateExtent(e._map.getSize()),c),!e._configService.useClusteringInMap()||i&&e._spiderSource.getFeatureById(i.getId()+"")||!e._spiderifiedFeature||e._clearSpiderify(),e._configService.useClusteringInMap()&&i&&i.get("features")?i.get("features").length>1?e._clusterClick(i):e.selectFeature(i.get("features")[0].get("id"),!0):i?e.selectFeature(i.get("id"),!0):o?e.selectFeature(o.get("id"),!0):n?e._triggerUtfGridClick(n,!0):a?e.selectFeature(a.get("id"),!0):e._triggerMapClick()})}},t.prototype._updateFeatures=function(t){this._features=t,this._selectedFeatureId&&void 0===t[this._selectedFeatureId]&&this.deselectFeature(),this._drawAllFeatures(),this._isReady=!0,this.onReady.next(this._isReady),this._modelService.firstStageId&&this.selectFeature(this._modelService.firstStageId,!0),this._setMapControls(this._getMapControls()),this._setMapInteractions(this._getMapInteractions())},t.prototype._drawAllFeatures=function(){var t=this,e=[],n=[],r=[];for(var i in this._fixedDataSource&&this._fixedDataSource.clear(),this._dataSource&&this._dataSource.clear(),this._configService.useClusteringInMap()&&this._pointSource&&this._pointSource.clear(),this._features)this._features[i].properties.hide||this._features[i].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[i].geometry.type)?!this._features[i].properties.hide&&this._features[i].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[i].geometry.type)&&(this._fixedDataSource&&this._fixedDataLayer||(this._fixedDataSource=new Kr({format:new pi}),this._fixedDataLayer=new Rl({source:this._fixedDataSource,style:function(e){return t._style(e)},updateWhileAnimating:!1,updateWhileInteracting:!1,zIndex:40}),this._map.addLayer(this._fixedDataLayer)),e.push(this._getFeature(i))):this._configService.useClusteringInMap()&&"Point"===this._features[i].geometry.type?r.push(this._getFeature(i)):n.push(this._getFeature(i));this._configService.useClusteringInMap()&&this._pointSource&&r.length>0&&this._pointSource.addFeatures(r),this._dataSource&&n.length>0&&this._dataSource.addFeatures(n),this._fixedDataSource&&e.length>0&&this._fixedDataSource.addFeatures(e),void 0!==this._activeFeatures&&this.filterFeatures(this._activeFeatures)},t.prototype.drawTemporaryPoi=function(t,e){var n=this;if(t){this._temporaryDataSource||(this._temporaryDataSource=new Kr({format:new pi})),this._temporaryDataLayer||(this._temporaryDataLayer=new Rl({source:this._temporaryDataSource,style:function(){return[new Lu({image:new Ri({src:"assets/images/pin.png",scale:.2,color:n._themeService.getPrimaryColor()}),zIndex:500})]},updateWhileAnimating:!1,updateWhileInteracting:!1,zIndex:200}),this._map.addLayer(this._temporaryDataLayer)),this._temporaryDataSource.getFeatureById(e="wm_temporary_poi_"+e)&&this._temporaryDataSource.removeFeature(this._temporaryDataSource.getFeatureById(e));var r=void 0,i=[];try{i=new pi({featureProjection:"EPSG:3857"}).readFeatures({type:"Feature",geometry:{type:"Point",coordinates:[t.longitude,t.latitude]},properties:{id:e}})}catch(o){return void console.warn(o)}if(0===i.length)return;(r=i[0]).setId(e),this._temporaryDataSource.addFeature(r),this._map.render()}},t.prototype.clearTemporaryPois=function(){this._temporaryDataSource&&this._temporaryDataSource.clear()},t.prototype.isInitialized=function(){return this._isReady},t.prototype.adjust=function(){var t=this;this.isInitialized()&&(this._view.getAnimating()?this._map.once("moveend",function(){setTimeout(function(){t._map.updateSize()},0)}):setTimeout(function(){t._map.updateSize()},0))},t.prototype.moveContainer=function(t){this._map.setTarget(t),this.adjust()},t.prototype.isFeatureInExtent=function(t){var e=this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0;return!e||x(this._view.calculateExtent(this._map.getSize()),e.getGeometry().getExtent())},t.prototype.centerOnCoords=function(t,e){t&&t.latitude&&t.longitude&&"number"==typeof t.latitude&&"number"==typeof t.longitude&&!Number.isNaN(t.latitude)&&!Number.isNaN(t.longitude)&&this._view.animate({center:this._fromLonLat([t.longitude,t.latitude]),duration:500,zoom:"number"==typeof e?Math.min(this._view.getMaxZoom(),Math.max(this._view.getMinZoom(),e)):this._view.getZoom()})},t.prototype.centerOnFeature=function(t,e,n,r,i){if(e&&this._view.cancelAnimations(),this._dataSource.getFeatureById(t)||this._configService.useClusteringInMap()&&(this._pointSource.getFeatureById(t)||this._selectedPointSource.getFeatureById(t))){var o=this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t).getGeometry().getExtent():this._configService.useClusteringInMap()&&this._selectedPointSource.getFeatureById(t)?this._selectedPointSource.getFeatureById(t).getGeometry().getExtent():this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)?this._pointSource.getFeatureById(t).getGeometry().getExtent():void 0,a=n?Zl.G:this._deviceService.isLgScreen?Zl.H:Zl.I;try{this._view.fit(o,{maxZoom:i?this._view.getZoom():this._configService.getMapMaxFitZoom(),padding:a,duration:r?500:0})}catch(s){console.warn(s)}}},t.prototype.centerFeatureLayer=function(t,e,n,r){var i=this;void 0===e&&(e=500),this._view.cancelAnimations(),r=r?Math.min(r,this._configService.getMapMaxFitZoom()):this._configService.getMapMaxFitZoom();try{var o=n?Zl.G:this._deviceService.isLgScreen?Zl.H:Zl.I;if(this._dataSource.getFeatures().length>0||this._configService.useClusteringInMap()&&this._pointSource.getFeatures().length>0){var a,s=[];if(this._dataSource.getFeatures().length>0&&s.push(this._dataSource.getExtent().slice(0,2),this._dataSource.getExtent().slice(2,4)),this._configService.useClusteringInMap()&&this._pointSource.getFeatures().length>0&&s.push(this._pointSource.getExtent().slice(0,2),this._pointSource.getExtent().slice(2,4)),a=_(s),"number"==typeof t&&t>=this._configService.getMapMinZoom()&&t<=this._configService.getMapMaxZoom()){var u=new Xi({center:this._view.getCenter(),zoom:this._configService.getMapDefZoom(),maxZoom:this._configService.getMapMaxZoom(),minZoom:t,projection:"EPSG:3857",extent:this._extentFromLonLat(this._configService.getMapExtent()),constrainOnlyCenter:!0});u.fit(a,{padding:o,maxZoom:r||void 0}),this._view.animate({center:u.getCenter(),zoom:u.getZoom(),duration:e})}else setTimeout(function(){i._view.fit(a,{duration:e,padding:o,maxZoom:r||void 0})},0)}}catch(l){console.warn(l)}},t.prototype.isInsideExtent=function(t){return!this._map||C(this._extentFromLonLat(this._configService.getMapExtent()),this._fromLonLat([t.longitude,t.latitude]))},t.prototype.rotate=function(t,e){void 0===t||"number"!=typeof t||Number.isNaN(t)||0!==t&&Math.abs(t-180*this._view.getRotation()/Math.PI)<=10||t===180*this._view.getRotation()/Math.PI||this._view.animate({rotation:t*Math.PI/180,duration:e||0})},t.prototype.getCenter=function(){var t=this._toLonLat(this._view.getCenter());return new Ll.a(t[0],t[1])},t.prototype.getZoom=function(){return this._view.getZoom()},t.prototype._clusterStyle=function(t){if(void 0===t.get("features")||t.get("features").length<=1||"Point"!==t.getGeometry().getType())return this._style(t);if(!t)return[new Lu];var e,n,r,i,o=this._themeService.getPrimaryColor(),a=this._configService.getPoiIconRadius()-.3,s=t.get("features").length;if(this._isRouting&&(o=this._themeService.darken(o,.6)),e=[new Lu({image:new Ri({src:"assets/images/cluster_pin.png",scale:.2*a,color:o}),text:new zu({text:s+"",scale:a,fill:new Jr({color:"#fff"}),font:"10px "+this._themeService.getHeaderFontFamily()}),zIndex:150})],!this._spiderifiedFeature||(n=t,r=this._spiderifiedFeature.getGeometry().getCoordinates(),i=n.getGeometry().getCoordinates(),r[0]!==i[0]||r[1]!==i[1]))for(var u=0,l=t.get("features");u<l.length;u++)this._removeTextOverlay(l[u].getId()+"");return e},t.prototype._style=function(t){return void 0===t.getProperties().minZoom||this._view.getZoom()>=t.getProperties().minZoom||this._selectedFeatureId+""==t.getId()+""?"Point"===t.getGeometry().getType()?this._getPoiStyle(""+t.getId()):"LineString"===t.getGeometry().getType()||"MultiLineString"===t.getGeometry().getType()?this._getLineStyle(""+t.getId()):"Polygon"===t.getGeometry().getType()||"MultiPolygon"===t.getGeometry().getType()?this._getPolygonStyle(""+t.getId()):[]:[]},t.prototype._getPolygonStyle=function(t){var e=[],n=!1;if(!(this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):this._fixedDataSource.getFeatureById(t)?this._fixedDataSource.getFeatureById(t):void 0))return[new Lu];var r=this._modelService.getFeatureColor(t),i=this._modelService.getFeatureFillColor(t),o=this._modelService.getFeatureFillOpacity(t),a=this._modelService.getFeatureStrokeWidth(t),s=this._modelService.getFeatureStrokeOpacity(t),u=this._modelService.getFeatureLineDash(t),l=this._modelService.getFeatureZIndex(t);return""+this._selectedFeatureId!=""+t&&""+this._hoveredFeatureId!=""+t||(n=!0,o=Math.min(1,o+.1),a=Math.min(5,a+2),s=Math.min(1,s+.1),r=this._themeService.getSelectColor()),i="rgba("+this._themeService.getRgb(i)+","+o+")",r="rgba("+this._themeService.getRgb(r)+","+s+")",this._isRouting&&(r="rgba("+this._themeService.getRgb(this._themeService.darken(r,.6))+",0.5)",i="rgba("+this._themeService.getRgb(this._themeService.darken(i,.6))+",0.2)"),e.push(new Lu({fill:new Jr({color:i}),stroke:new Pu({color:r,width:a,lineDash:u}),zIndex:n?350:110+l})),e},t.prototype._getLineStyle=function(t){var e=[],n=!1;if(!(this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0))return[new Lu];var r=this._modelService.getFeatureColor(t),i=this._modelService.getFeatureStrokeWidth(t),o=this._modelService.getFeatureStrokeOpacity(t),a=this._modelService.getFeatureLineDash(t),s=this._modelService.getFeatureZIndex(t);return""+this._selectedFeatureId!=""+t&&""+this._hoveredFeatureId!=""+t||(n=!0,i=Math.min(5,i+2),o=Math.min(1,o+.1),r=this._themeService.getSelectColor()),r="rgba("+this._themeService.getRgb(r)+","+o+")",this._isRouting&&(r="rgba("+this._themeService.getRgb(this._themeService.darken(r,.6))+",0.5)"),(void 0===this._features[t].properties.showArrows&&this._configService.addArrowsOverTracks()||!0===this._features[t].properties.showArrows)&&this._view.getZoom()>12&&(e=this._getArrowStyle(this._dataSource.getFeatureById(t),this._view.getResolution(),r,n?410:131+s)),e.push(new Lu({stroke:new Pu({color:r,width:i,lineDash:a}),zIndex:n?350:130+s})),e},t.prototype._getPoiStyle=function(t){var e,n=""+this._selectedFeatureId==""+t,r=this._modelService.getFeatureColor(t),i=this._configService.getPoiIconRadius(),o=this._configService.getPoiSelectedRadius();if(!(this._configService.useClusteringInMap()&&this._selectedPointSource.getFeatureById(t)?this._selectedPointSource.getFeatureById(t):this._configService.useClusteringInMap()&&this._spiderSource.getFeatureById(t)?this._spiderSource.getFeatureById(t):this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)?this._pointSource.getFeatureById(t):this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0))return[new Lu];if(n)this._removeTextOverlay(t),e=[new Lu({image:new Ri({src:"assets/images/pin.png",scale:.2*o,color:"#fff"}),zIndex:450})],this._modelService.getFeatureIcon(t)&&e[0].setText(new zu({text:this._themeService.getIconUnicode(this._modelService.getFeatureIcon(t)),scale:1,fill:new Jr({color:r}),font:10*o+"px webmapp"}));else{var a=this._configService.getPoiMaxRadius(),s=this._configService.getPoiMinRadius(),u=this._configService.getIconPoiZoom(),l=this._configService.getPoiMinZoom(),c=this._view.getZoom(),h=this._modelService.showPoiLabel(t),p=this._configService.getPoiLabelMinZoom(),f=this._modelService.getFeatureZIndex(t),d=c>=u?i:c<l?s:(a-s)/(u-l)*(c-l)+s;h&&c>=p&&(d=a/2),this._isRouting?r=this._themeService.darken(r,.6):this._startPoiId+""==t+""?r=this._themeService.getSuccessColor():this._endPoiId+""==t+""&&(r=this._themeService.getDangerColor()),e=[new Lu({image:new Ri({src:"assets/images/pin.png",scale:.2*d,color:r}),zIndex:150+f})],h&&c>=p?this._addTextOverlay(t):c>=u&&this._modelService.getFeatureIcon(t)?(e[0].setText(new zu({text:this._themeService.getIconUnicode(this._modelService.getFeatureIcon(t)),scale:1,fill:new Jr({color:"#fff"}),font:10*d+"px webmapp"})),this._removeTextOverlay(t)):this._removeTextOverlay(t)}return e},t.prototype._addTextOverlay=function(t){if(!this._map.getOverlayById(Zl.L+t)){var e=this._configService.useClusteringInMap()&&this._spiderSource.getFeatureById(t)?this._spiderSource.getFeatureById(t):this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)?this._pointSource.getFeatureById(t):this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0;if("Point"===e.getGeometry().getType()&&""!==this._modelService.getFeatureIcon(t)){var n=document.createElement("div"),r=document.createElement("span"),i=document.createElement("span");n.className="wm_text_overlay",r.innerHTML=this._modelService.getFeatureName(t),r.className="wm_text_text",i.className="wm_text_arrow",n.appendChild(i),n.appendChild(r),this._map.addOverlay(new Wo({id:Zl.L+t,element:n,stopEvent:!1,autoPan:!1,position:e.getGeometry().getCoordinates(),positioning:Ho.CENTER_LEFT}))}}},t.prototype._removeTextOverlay=function(t){this._map.getOverlayById(Zl.L+t)&&this._map.removeOverlay(this._map.getOverlayById(Zl.L+t))},t.prototype._splitLineString=function(t,e,n){var r=function(t,e,n,r){var i=r/n;return[e[0]+(t[0]-e[0])*i,e[1]+(t[1]-e[1])*i]},i=function(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=Math.atan2(i,r);return n||(o=i<0&&r<0?-1*o:i<0&&0==r?2*Math.PI-o:-1*o),o},o=[],a=t.getCoordinates();if(0!==a.length){for(var s,u,l,c,h=0,p=a[h],f=a[h+1],d=n.vertices||i(p,f,n.alwaysUp),g=Math.ceil(t.getLength()/e),v=t.getLength()/g,m=n.midPoints&&!n.vertices,y=m?v/2:v,_=0;_<=g;_++){var b=(l=(s=p)[0]-(u=f)[0],c=s[1]-u[1],Math.sqrt(l*l+c*c));if((y+=b)<v){if(++h<a.length-1){p=a[h],f=a[h+1],d=n.vertices||i(p,f,n.alwaysUp),!n.vertices||n.extent&&!C(n.extent,p)||o.push(p),_--;continue}if(!m){var w=f;n.extent&&!C(n.extent,w)||(n.vertices||w.push(d),o.push(w))}break}p=w=r(p,f,b,y-v),n.extent&&!C(n.extent,w)||(n.vertices||w.push(d),o.push(w)),y=0}return o}},t.prototype._getArrowStyle=function(t,e,n,r){var i,o,a,s=.2-(17-this._view.getZoom())/75,u=[],l=this._map.getSize(),c=t.getGeometry();try{a=c.getLength()/(85*e)}catch(h){return console.warn("WARNING: wrong geometry in feature "+t.getId()),u}return a<2?u:(a>1e6&&(a=Math.sqrt(a/100),i=this._view.calculateExtent([l[0]*a,l[1]*a]),o=this._splitLineString(c,85*e*a,{extent:i,vertices:!1}),c=new ai(o)),i=this._view.calculateExtent([l[0]+170,l[1]+170]),(o=this._splitLineString(c,85*e,{alwaysUp:!1,midPoints:!0,extent:i})).forEach(function(t){u.push(new Lu({geometry:new hr([t[0],t[1]]),image:new Ri({src:"assets/images/line-icon-arrow.png",scale:s,rotation:t[2],color:n,rotateWithView:!0}),zIndex:r+1}))}),u)},t.prototype._clusterClick=function(t){var e,n,r,i=t.get("features");if(i)if(this._view.getZoom()===this._configService.getMapMaxZoom())this._spiderifiedFeature&&(e=t,n=this._spiderifiedFeature.getGeometry().getCoordinates(),r=e.getGeometry().getCoordinates(),n[0]===r[0]&&n[1]===r[1])?this._clearSpiderify():this._spiderifyCluster(t);else{var o,a=[];for(var s in i)a.push(i[s].getGeometry().getCoordinates());o=_(a),this._view.fit(o,{padding:this._deviceService.isLgScreen?Zl.H:Zl.I,duration:500})}},t.prototype._spiderifyCluster=function(t){var e=t.get("features");if(e){var n=Math.max(30*e.length/(2*Math.PI),30),r=t.getGeometry().getCoordinates(),i=n*this._view.getResolution();for(var o in this._clearSpiderify(),this._spiderifiedFeature=t,e){var a=e[o].clone(),s=e[o].getId()+"",u=Math.sin(2*Math.PI*parseInt(o)/e.length),l=Math.cos(2*Math.PI*parseInt(o)/e.length);a.setGeometry(new hr([r[0]+u*i,r[1]+l*i])),a.setId(s),this._spiderSource.addFeature(a)}this._spiderSource.changed(),this._spiderLayer.changed(),this._map.render()}},t.prototype._clearSpiderify=function(){this._spiderifiedFeature&&(this._spiderifiedFeature=void 0,this._spiderSource.clear(),this._spiderSource.changed())},t.prototype.selectFeature=function(t,e){if(this._selectedFeatureId!==(t=""+t)){if(void 0!==this._selectedFeatureId&&this.deselectFeature(),this._features&&this._features[t]&&(this._dataSource.getFeatureById(t)||this._configService.useClusteringInMap()&&(this._pointSource.getFeatureById(t)||this._spiderSource.getFeatureById(t)||this._selectedPointSource.getFeatureById(t))||this._addFeature(t,this._dataSource),this._features[t].properties.hide&&(this._utfgridSelectedFeature=this._dataSource.getFeatureById(t))),this._dataSource.getFeatureById(t)||this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)){this._selectedFeatureId=t;var n=this._configService.useClusteringInMap()&&this._spiderSource.getFeatureById(t)?this._spiderSource.getFeatureById(t):this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)?this._pointSource.getFeatureById(t):this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0;this._features[t]&&"Point"===this._features[t].geometry.type&&this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)&&!this._spiderSource.getFeatureById(t)&&(n=this._pointSource.getFeatureById(t),this._selectedPointSource.clear(),this._selectedPointSource.addFeature(n))}this._dataSource&&this._dataSource.changed(),this._pointSource&&this._pointSource.changed(),this._spiderSource&&this._spiderSource.changed(),this._clusterPointSource&&this._clusterPointSource.changed(),this._map.render(),this._selectedFeatureId&&e&&this.showPopup(t)}else e?this.showPopup(t):this.showPopup()},t.prototype.deselectFeature=function(){if(this._selectedFeatureId){if(this._utfgridSelectedFeature){try{this._dataSource.removeFeature(this._utfgridSelectedFeature)}catch(e){console.warn(e)}this._utfgridSelectedFeature=void 0}else if(this._dataSource.getFeatureById(this._selectedFeatureId)||this._configService.useClusteringInMap()&&(this._pointSource.getFeatureById(this._selectedFeatureId)||this._selectedPointSource.getFeatureById(this._selectedFeatureId))){var t=this._configService.useClusteringInMap()&&this._selectedPointSource.getFeatureById(this._selectedFeatureId)?this._selectedPointSource.getFeatureById(this._selectedFeatureId):this._configService.useClusteringInMap()&&this._spiderSource.getFeatureById(this._selectedFeatureId)?this._spiderSource.getFeatureById(this._selectedFeatureId):this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(this._selectedFeatureId)?this._pointSource.getFeatureById(this._selectedFeatureId):this._dataSource.getFeatureById(this._selectedFeatureId)?this._dataSource.getFeatureById(this._selectedFeatureId):void 0;"Point"===t.getGeometry().getType()&&this._configService.useClusteringInMap()&&this._selectedPointSource.getFeatureById(this._selectedFeatureId)&&(t=this._selectedPointSource.getFeatureById(this._selectedFeatureId),this._selectedPointSource.clear()),t.changed()}this._selectedFeatureId=void 0}this._map.render(),this.showPopup()},t.prototype.hoverFeature=function(t){if(this._hoveredFeatureId!==(t=""+t)){if(void 0!==this._hoveredFeatureId&&this.clearHoveredFeature(),this._features&&this._features[t]&&this._features[t].properties.hide&&(this._addFeature(t,this._dataSource),this._utfgridHoveredFeature=this._dataSource.getFeatureById(t)),this._dataSource.getFeatureById(t)||this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)){var e=this._configService.useClusteringInMap()&&this._spiderSource.getFeatureById(t)?this._spiderSource.getFeatureById(t):this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(t)?this._pointSource.getFeatureById(t):this._dataSource.getFeatureById(t)?this._dataSource.getFeatureById(t):void 0;this._hoveredFeatureId=t,e.changed()}else t===Zl.F&&(this._hoveredFeatureId=t);this._map.render(),this._map.getTargetElement().style.cursor="pointer"}},t.prototype.clearHoveredFeature=function(){if(this._hoveredFeatureId){var t=void 0;this._utfgridHoveredFeature?(this._utfgridHoveredFeature.getId()+""!=this._selectedFeatureId+""&&this._dataSource.getFeatureById(this._utfgridHoveredFeature.getId()+"")&&this._dataSource.removeFeature(this._utfgridHoveredFeature),this._utfgridHoveredFeature=void 0):(this._dataSource.getFeatureById(this._hoveredFeatureId)||this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(this._hoveredFeatureId))&&(t=this._configService.useClusteringInMap()&&this._spiderSource.getFeatureById(this._hoveredFeatureId)?this._spiderSource.getFeatureById(this._hoveredFeatureId):this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(this._hoveredFeatureId)?this._pointSource.getFeatureById(this._hoveredFeatureId):this._dataSource.getFeatureById(this._hoveredFeatureId)?this._dataSource.getFeatureById(this._hoveredFeatureId):void 0),this._hoveredFeatureId=void 0,t&&t.changed()}this._map.render(),this._map.getTargetElement().style.cursor="grab"},t.prototype.showPopup=function(t){var e=this;!this._deviceService.isLgScreen||t&&this._features[t].properties.noDetails||t&&this._configService.openWebLinkFromPopup()?this.onPopupChange.emit(t):!t||this._features[t].properties.noDetails||this._features[t].properties.noInteraction?this.onPopupChange.emit():this._routerService.onUrlChange.pipe(Object(l.a)(1)).subscribe(function(n){e._routerService.navigate(["/main/details/"+t],{replaceUrl:-1!==n.urlAfterRedirects.indexOf("details")}).then(function(){},function(t){console.warn(t)})},function(t){console.warn(t)})},t.prototype._getFeature=function(t){var e;try{e=new pi({featureProjection:"EPSG:3857"}).readFeatures(this._features[t])[0]}catch(n){return void console.warn(n)}return e.setId(t+""),e},t.prototype._addFeature=function(t,e){e.getFeatureById(t)&&e.removeFeature(e.getFeatureById(t));var n=this._getFeature(t);n&&(e.addFeature(n),this._map.render())},t.prototype.filterFeatures=function(t,e){for(var n in this.clearTemporaryPois(),e||(this._startPoiId="",this._endPoiId=""),t)t[n]=""+t[n];var r=[],i=[];for(var o in this._features)(-1===t.indexOf(o+"")||this._features[o].properties.hide||this._features[o].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[o].geometry.type))&&(-1!==t.indexOf(o+"")||!this._features[o].properties.preventFilter||this._features[o].properties.invert&&-1!==["Polygon","MultiPolygon"].indexOf(this._features[o].geometry.type))||(this._pointSource&&this._pointSource.getFeatureById(o)?i.push(this._pointSource.getFeatureById(o)):this._dataSource.getFeatureById(o)?r.push(this._dataSource.getFeatureById(o)):this._pointSource&&"Point"===this._features[o].geometry.type&&this._configService.useClusteringInMap()?i.push(this._getFeature(o)):r.push(this._getFeature(o)));for(var n in this._pointSource&&this._pointSource.clear(),this._dataSource&&this._dataSource.clear(),this._features)-1===t.indexOf(n+"")&&this._removeTextOverlay(n+"");this._configService.useClusteringInMap()&&this._pointSource&&i.length>0&&this._pointSource.addFeatures(i),this._dataSource&&r.length>0&&this._dataSource.addFeatures(r),this._pointSource&&this._pointSource.changed(),this._clusterPointSource&&this._clusterPointSource.changed(),this._dataSource.changed(),this._map.render(),this._activeFeatures=t,void 0!==this._selectedFeatureId&&-1===this._activeFeatures.indexOf(this._selectedFeatureId)&&this.showPopup()},t.prototype.filterRelatedFeatures=function(t){var e=this._features[t],n=[];if(e){if(e.properties.related&&e.properties.related.poi&&e.properties.related.poi.related)for(var r=0,i=e.properties.related.poi.related;r<i.length;r++)n.push(i[r].toString());n.push(e.properties.id),this.filterFeatures(n)}},t.prototype.filterFromAndToFeatures=function(t){var e=this._features[t],n=[];e&&(e.properties&&e.properties.from_poi&&(n.push(e.properties.from_poi+""),this._startPoiId=e.properties.from_poi+""),e.properties&&e.properties.to_poi&&(n.push(e.properties.to_poi+""),this._endPoiId=e.properties.to_poi+""),n.push(e.properties.id+""),this.filterFeatures(n,!0))},t.prototype.resetFilters=function(){this._activeFeatures=void 0,this._drawAllFeatures()},t.prototype.enableInteraction=function(){this._isReady&&(this._configService.enableMapClick()||this._configService.enableMapPan()||this._configService.enableMapZoom())&&(this._map.getInteractions().forEach(function(t){t.setActive(!0)}),this._isInteractive=!0)},t.prototype.disableInteraction=function(){this._isReady&&(this._map.getInteractions().forEach(function(t){t.setActive(!1)}),this._isInteractive=!1)},t.prototype.getClosestPoint=function(t,e){var n;if(void 0!==e){if(this._configService.useClusteringInMap()&&this._pointSource.getFeatureById(e))n=this._toLonLat(this._pointSource.getFeatureById(e).getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])));else if(this._dataSource.getFeatureById(e))n=this._toLonLat(this._dataSource.getFeatureById(e).getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])));else if(this._features&&this._features[e]){var r=new pi({featureProjection:"EPSG:3857"}).readFeatures(this._features[e])[0];n=this._toLonLat(r.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])))}}else{var i=this._dataSource.getClosestFeatureToCoordinate(this._fromLonLat([t.longitude,t.latitude])),o=this._configService.useClusteringInMap()?this._pointSource.getClosestFeatureToCoordinate(this._fromLonLat([t.longitude,t.latitude])):void 0;if(i&&o){var a=this._toLonLat(i.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude]))),s=this._toLonLat(o.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude]))),u=this.getDistanceBetweenPoints(t,new Ll.a(a[0],a[1])),l=this.getDistanceBetweenPoints(t,new Ll.a(s[0],s[1]));n=this._toLonLat(u<l?i.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])):o.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])))}else n=this._toLonLat(i?i.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])):o.getGeometry().getClosestPoint(this._fromLonLat([t.longitude,t.latitude])))}return n&&n[0]&&n[1]||(n=[void 0,void 0]),new Ll.a(n[0],n[1])},t.prototype._initializeCustomTrackLayer=function(){var t=this;this._customTrackLayer||(this._customTrackLayer=new Rl({source:new Kr({format:new pi}),style:function(e){var n=[];if("Point"===e.getGeometry().getType())n=[new Lu({image:new Ri({src:"assets/images/pin.png",scale:.24,color:r="#0c0"}),zIndex:500})];else if("LineString"===e.getGeometry().getType()||"MultiLineString"===e.getGeometry().getType()){var r="rgba("+t._themeService.getRgb("#c00")+",0.5)";t._configService.addArrowsOverTracks()&&t._view.getZoom()>12&&(n=t._getArrowStyle(e,t._view.getResolution(),r,410)),n.push(new Lu({stroke:new Pu({color:r,width:5}),zIndex:499}))}return n},updateWhileAnimating:!1,updateWhileInteracting:!1,zIndex:100}),this._map.addLayer(this._customTrackLayer))},t.prototype.resumeCustomTrack=function(t){this._initializeCustomTrackLayer(),this._customTrack=t;var e=new pi({featureProjection:"EPSG:3857"}).readFeatures(this._customTrack)[0];e.setId(Zl.B),this._customTrackLayer.getSource().clear(),this._customTrackLayer.getSource().addFeature(e),this._customTrackLayer.getSource().getFeatureById(Zl.B).changed(),this._customTrackLayer.changed(),this._map.render()},t.prototype.updateCustomTrack=function(t){this._initializeCustomTrackLayer(),this._customTrack||(this._customTrack={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{id:Zl.B,name:this._translateService.instant("navigation.trackName"),locale:this._languageService.getCurrentLang(),taxonomy:{},image:"",color:this._themeService.getPrimaryColor()}});var e=this._customTrack.geometry.coordinates;e.push([t.longitude,t.latitude,t.altitude]),this._customTrack.geometry.coordinates=e;var n=new pi({featureProjection:"EPSG:3857"}).readFeatures(this._customTrack)[0];n.setId(Zl.B),this._customTrackLayer.getSource().clear(),this._customTrackLayer.getSource().addFeature(n),this._customTrackLayer.getSource().getFeatureById(Zl.B).changed(),this._customTrackLayer.changed(),this._map.render()},t.prototype.getCustomTrack=function(){return this._customTrack},t.prototype.resetCustomTrack=function(){this._map.removeLayer(this._customTrackLayer),this._customTrack=void 0,this._customTrackLayer=void 0},t.prototype.startRouting=function(){this._initializeCustomTrackLayer(),this.deselectFeature(),this.clearHoveredFeature(),this._customTrack={type:"Feature",geometry:{type:"LineString",coordinates:[]},properties:{id:Zl.B,name:this._translateService.instant("routing.trackName"),locale:this._languageService.getCurrentLang(),taxonomy:{},image:"",color:this._themeService.getPrimaryColor()}},this._modelService.setRoutingFeature(this._customTrack),this._isRouting=!0,this._graphHopperRoutingObj?this._graphHopperRoutingObj.clearPoints():this._graphHopperRoutingObj=new Hl.a({vehicle:"foot",key:Zl.m,elevation:!0,instructions:!1}),this._dataSource.changed(),this._configService.useClusteringInMap()&&this._pointSource.changed(),this._routerService.navigate(["/main/details/"+Zl.B])},t.prototype.stopRouting=function(){var t=this;return new Promise(function(e,n){var r=JSON.parse(JSON.stringify(t._customTrack));t.resetCustomTrack(),t._modelService.removeRoutingFeature(),t._isRouting=!1,t._modelService.getCustomTrackId().then(function(t){r.properties.id=Zl.A+t,r.properties.name="",e(r)})})},t.prototype._addRoutingPoint=function(t){var e,n=this,r=10,i=function(){var t=new pi({featureProjection:"EPSG:3857"}).readFeatures(n._customTrack)[0];t.setId(Zl.B),n._customTrackLayer.getSource().getFeatureById(Zl.B)&&n._customTrackLayer.getSource().removeFeature(n._customTrackLayer.getSource().getFeatureById(Zl.B)),n._customTrackLayer.getSource().addFeature(t),n._customTrackLayer.getSource().getFeatureById(Zl.B).changed(),n._customTrackLayer.changed(),n._map.render(),n._modelService.setRoutingFeature(n._customTrack)},o=function(){n._customTrackLayer.getSource().forEachFeature(function(t){"Point"===t.getGeometry().getType()&&n._customTrackLayer.getSource().removeFeature(t)});for(var t=0,e=0,r=n._graphHopperRoutingObj.points;e<r.length;e++){var i=r[e],o=new Br(new hr(n._fromLonLat([i.lng,i.lat])));o.setId(t+""),n._customTrackLayer.getSource().addFeature(o),o.changed(),t++}n._customTrackLayer.changed(),n._map.render()};if(this._graphHopperRoutingObj||(this._graphHopperRoutingObj=new Hl.a),this._customTrackLayer.getSource().forEachFeature(function(i){if("Point"===i.getGeometry().getType()){var o=i.getGeometry().getCoordinates(),a=new Ll.a(n._toLonLat(o)[0],n._toLonLat(o)[1]),s=n.getFixedDistance(a,t);s<r&&(r=s,e=i)}}),e){var a=0,s=this._toLonLat(e.getGeometry().getCoordinates());for(var u in s)s[u]=Math.round(1e6*s[u]);for(var u in this._graphHopperRoutingObj.points)if(Math.round(1e6*this._graphHopperRoutingObj.points[u].lng)===s[0]&&Math.round(1e6*this._graphHopperRoutingObj.points[u].lat)===s[1]){a=parseInt(u);break}this._graphHopperRoutingObj.points.splice(a,1)}else this._graphHopperRoutingObj.addPoint(new Wl.a(t.latitude,t.longitude));o(),this._graphHopperRoutingObj.points.length>1?this._graphHopperRoutingObj.doRequest().then(function(t){n._customTrack.geometry=t.paths[0].points,n._customTrack.properties.ascent=t.paths[0].ascend?Math.round(t.paths[0].ascend):n._customTrack.properties.ascent,n._customTrack.properties.descent=t.paths[0].descend?Math.round(t.paths[0].descend):n._customTrack.properties.descent,n._customTrack.properties.distance=t.paths[0].distance?t.paths[0].distance:n._customTrack.properties.distance;var e=t.paths[0].distance&&t.paths[0].ascend?(t.paths[0].distance+10*t.paths[0].ascend)/3e3:t.paths[0].time?t.paths[0].time/36e5:void 0;void 0!==e&&(n._customTrack.properties["duration:forward"]=Math.floor(e)+":"+("0"+Math.round(e%1*60)).slice(-2)+" h"),i()},function(t){if(console.warn(t),-1!==t.message.indexOf("Specify at least 2 points"))n._customTrack.geometry.coordinates=[],n._customTrack.properties.ascent=void 0,n._customTrack.properties.descent=void 0,n._customTrack.properties.distance=void 0,n._customTrack.properties["duration:forward"]=void 0,i();else if(-1!==t.message.indexOf("Cannot find point")){var e=0,r=t.message.split(" ");r.length>3&&""!==r[3]&&!Number.isNaN(parseInt(r[3]))&&parseInt(r[3])>=0&&(e=parseInt(r[3]),n._graphHopperRoutingObj.points.splice(e,1),o()),n._toastController.dismiss().then(function(){}).catch(function(){}).finally(function(){n._toastController.create({message:n._translateService.instant("alert.routingPointNotValid"),duration:3e3}).then(function(t){t.present()})})}else-1!==t.message.indexOf("Too many points for Routing API")?(n._graphHopperRoutingObj.points.pop(),o(),n._toastController.dismiss().then(function(){}).catch(function(){}).finally(function(){n._toastController.create({message:n._translateService.instant("alert.tooManyRoutingPoint"),duration:3e3}).then(function(t){t.present()})})):n._toastController.dismiss().then(function(){}).catch(function(){}).finally(function(){n._toastController.create({message:n._translateService.instant("alert.genericError"),duration:3e3}).then(function(t){t.present()})})}):(this._customTrack.geometry.coordinates=[],this._customTrack.properties.ascent=void 0,this._customTrack.properties.descent=void 0,this._customTrack.properties.distance=void 0,this._customTrack.properties["duration:forward"]=void 0,i())},t.prototype.updateTestLayer=function(){this.removeTestLayer(),this._testSource=new Kr({format:new pi}),this._testLayer=new Rl({source:this._testSource,style:function(t){var e=[];return e.push(new Lu({fill:new Jr({color:"rgba(0,0,0,0.3)"}),stroke:new Pu({color:"#000",width:2}),zIndex:15})),e},updateWhileAnimating:!0,updateWhileInteracting:!0,zIndex:15}),this._map&&this._map.addLayer(this._testLayer);try{var t=this._configService.getMapExtent();this._testSource.addFeature(new pi({featureProjection:"EPSG:3857"}).readFeatures({type:"Feature",geometry:{type:"Polygon",coordinates:[[[180,90],[180,-90],[-180,-90],[-180,90],[180,90]],[[t[0],t[1]],[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]]},properties:{}})[0])}catch(e){return void console.warn(e)}},t.prototype.removeTestLayer=function(){if(this._testLayer)try{this._map.removeLayer(this._testLayer)}catch(t){}this._testSource&&this._testSource.clear(),this._testLayer=void 0,this._testSource=void 0},t.ngInjectableDef=r.T({factory:function(){return new t(r.X(Fl.a),r.X(Dl.a),r.X(Nl.a),r.X(zl.a),r.X(Bl.a),r.X(Gl.a),r.X(Vl.a),r.X(o.Nb),r.X(Xl.j))},token:t,providedIn:"root"}),t}()},"24Ii":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;"undefined"!=typeof window?i=window:"undefined"==typeof self?(console.warn("Using browser-only version of superagent in non-browser environment"),i=void 0):i=self;var o=n("jPK6"),a=n("kMlx"),s=n("8zgK"),u=n("/yFf"),l=n("nZbv");function c(){}t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1===arguments.length?new e.Request("GET",t):new e.Request(t,n)};var h=e=t.exports;e.Request=y,h.getXHR=function(){if(i.XMLHttpRequest&&(!i.location||"file:"!==i.location.protocol||!i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw new Error("Browser-only version of superagent could not find XHR")};var p="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function f(t){if(!s(t))return t;var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&d(e,n,t[n]);return e.join("&")}function d(t,e,n){if(void 0!==n)if(null!==n)if(Array.isArray(n))n.forEach(function(n){d(t,e,n)});else if(s(n))for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&d(t,"".concat(e,"[").concat(r,"]"),n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else t.push(encodeURIComponent(e))}function g(t){for(var e,n,r={},i=t.split("&"),o=0,a=i.length;o<a;++o)-1===(n=(e=i[o]).indexOf("="))?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function v(t){return/[\/+]json($|[^-\w])/.test(t)}function m(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!==this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.headers=function(t){for(var e,n,r,i,o=t.split(/\r?\n/),a={},s=0,u=o.length;s<u;++s)-1!==(e=(n=o[s]).indexOf(":"))&&(r=n.slice(0,e).toLowerCase(),i=p(n.slice(e+1)),a[r]=i);return a}(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body=null===this.text&&t._responseType?this.xhr.response:"HEAD"===this.req.method?null:this._parseBody(this.text?this.text:this.xhr.response)}function y(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,r=null;try{r=new m(n)}catch(i){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=i,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",r);try{n._isResponseOK(r)||(t=new Error(r.statusText||"Unsuccessful HTTP response"))}catch(i){t=i}t?(t.original=e,t.response=r,t.status=r.status,n.callback(t,r)):n.callback(null,r)})}function _(t,e,n){var r=h("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}h.serializeObject=f,h.parseString=g,h.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":f,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":g,"application/json":JSON.parse},u(m.prototype),m.prototype._parseBody=function(t){var e=h.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&v(this.type)&&(e=h.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)},m.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot ".concat(e," ").concat(n," (").concat(this.status,")"),i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},h.Response=m,o(y.prototype),a(y.prototype),y.prototype.type=function(t){return this.set("Content-Type",h.types[t]||t),this},y.prototype.accept=function(t){return this.set("Accept",h.types[t]||t),this},y.prototype.auth=function(t,e,n){return 1===arguments.length&&(e=""),"object"===r(e)&&null!==e&&(n=e,e=""),n||(n={type:"function"==typeof btoa?"basic":"auto"}),this._auth(t,e,n,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},y.prototype.query=function(t){return"string"!=typeof t&&(t=f(t)),t&&this._query.push(t),this},y.prototype.attach=function(t,e,n){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},y.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},y.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.buffer=y.prototype.ca,y.prototype.ca=y.prototype.agent,y.prototype.pipe=y.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},y.prototype._isHost=function(t){return t&&"object"===r(t)&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},y.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||c,this._finalizeQueryString(),this._end()},y.prototype._setUploadTimeout=function(){var t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},y.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var t=this;this.xhr=h.getXHR();var e=this.xhr,n=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(n>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4===n){var r;try{r=e.status}catch(i){r=0}if(!r){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var r=function(e,n){n.total>0&&(n.percent=n.loaded/n.total*100,100===n.percent&&clearTimeout(t._uploadTimeoutTimer)),n.direction=e,t.emit("progress",n)};if(this.hasListeners("progress"))try{e.addEventListener("progress",r.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",r.bind(null,"upload"))}catch(s){}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(s){return this.callback(s)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!==this.method&&"HEAD"!==this.method&&"string"!=typeof n&&!this._isHost(n)){var i=this._header["content-type"],o=this._serializer||h.serialize[i?i.split(";")[0]:""];!o&&v(i)&&(o=h.serialize["application/json"]),o&&(n=o(n))}for(var a in this.header)null!==this.header[a]&&Object.prototype.hasOwnProperty.call(this.header,a)&&e.setRequestHeader(a,this.header[a]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0===n?null:n)},h.agent=function(){return new l},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){l.prototype[t.toLowerCase()]=function(e,n){var r=new h.Request(t,e);return this._setDefaults(r),n&&r.end(n),r}}),l.prototype.del=l.prototype.delete,h.get=function(t,e,n){var r=h("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},h.head=function(t,e,n){var r=h("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},h.options=function(t,e,n){var r=h("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.del=_,h.delete=_,h.patch=function(t,e,n){var r=h("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.post=function(t,e,n){var r=h("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},h.put=function(t,e,n){var r=h("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},"26FU":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("K9Ia"),o=n("8g8A"),a=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.d(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2GHH":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n("ZZ/e");var r=n("K9Ia"),i=n("ny24"),o=function(){function t(t){this._modalController=t,this._destroyer=new r.a,this.galleryOptions={slidesPerView:1},this.isExpanded=!1,this.isStart=!0,this.isEnd=!1}return t.prototype.ngOnInit=function(){var t=this;this.slider.ionSlideTransitionEnd.pipe(Object(i.a)(this._destroyer)).subscribe(function(e){t.slider.getActiveIndex().then(function(e){t.isStart=0===e,t.isEnd=e===t.gallery.length-1,t.isExpanded=!1})},function(t){console.warn(t)}),1===this.gallery.length&&(this.isEnd=!0)},t.prototype.next=function(){this.slider.slideNext()},t.prototype.previous=function(){this.slider.slidePrev()},t.prototype.dismiss=function(){this._modalController.dismiss()},t.prototype.expandCaption=function(){this.isExpanded=!this.isExpanded},t.prototype.ngOnDestroy=function(){this._destroyer.next()},t}()},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"4eZL":function(t,e,n){"use strict";n.d(e,"f",function(){return c});var r=n("2GHH");n.d(e,"d",function(){return r.a});var i=n("so3c");n.d(e,"e",function(){return i.a});var o=n("Akjq");n.d(e,"c",function(){return o.a});var a=n("Qere");n.d(e,"g",function(){return a.a});var s=n("x1nR");n.d(e,"a",function(){return s.a});var u=n("hVPU");n.d(e,"h",function(){return u.a});var l=n("Y5xG");n.d(e,"b",function(){return l.a});var c=function(){return function(){}}()},"4pTB":function(t,e){},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.d(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(s.add(a?a.call(s,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=c(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=c(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function c(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"81W9":function(t){t.exports={APP:{name:"Parco Nazionale Foreste Casentinesi",id:"it.net7.parcoforestecasentinesi",iosId:"it.netseven.forestecasentinesi",customerName:"Parco Nazionale"},HOME:[{view:"compact-horizontal",taxonomy:"theme",types:["track"],title:"Cosa fare",subtitle:"Scopri la natura e la storia dell\u2019Area protetta a piedi o in bici",terms:["25","23","19","18","41"],translations:{en:{title:"What to do",subtitle:"Discover the nature and history of the Protected area by walking or with the bike"}}},{view:"compact-horizontal",taxonomy:"webmapp_category",types:["poi"],title:"Cosa vedere",subtitle:"I luoghi da visitare, i punti informazione e le strutture didattiche del Parco Nazionale",terms:["21","8"],translations:{en:{title:"What to see",subtitle:"The places to see, the info points and the didactic structures of the National Park"}}},{view:"compact-horizontal",taxonomy:"webmapp_category",types:["poi"],title:"Ospitalit\xe0",subtitle:"Non solo rifugi, ma anche agriturismi, locande e vecchi poderi dall\u2019ospitalit\xe0 rurale",terms:["5","43","44","47","48"],translations:{en:{title:"Ospitality",subtitle:"Not only shelters, but also farmhouses, inns and old farmhouses with rural hospitality"}}}],LANGUAGES:{default:"it",available:["en"]},MAP:{maxZoom:16,minZoom:5,defZoom:10.5,center:[11.8175,43.8912],bbox:[11.5,43.6,12.1,44.1],layers:[{label:"Mappa",type:"maptile",tilesUrl:"https://api.webmapp.it/tiles/",default:!1,maxNativeZoom:17}],overlays:[{id:"park_bounds",label:"Confini del Parco",type:"geojson",geojsonUrl:"confini.geojson",noDetails:!0,noInteraction:!0,color:"#588248",preventFilter:!0},{id:"reserve",label:"Riserve naturali",type:"geojson",geojsonUrl:"linee_riserva_integrale_polygon.geojson",noDetails:!0,noInteraction:!0,color:"#416d30",strokeWidth:2,fillOpacity:.6,preventFilter:!0}]},THEME:{primary:"#588248",tertiary:"#00ffff",dark:"#484848",fontFamilyHeader:"Montserrat",fontFamilyContent:"Montserrat"},OPTIONS:{baseUrl:"https://k.webmapp.it/pnfc/",startUrl:"/main/map",hideGlobalMap:!1,beBaseUrl:"http://trekking.parcoforesetecasentinesi.it/",disableLogin:!0,addArrowsOverTracks:!1,poiMinRadius:.1,poiMaxRadius:1,poiIconZoom:13.5,showHelp:!1,startFiltersDisabled:!0},GEOLOCATION:{record:{enable:!0,export:!0}},OFFLINE:{enable:!0},SHARE:{deeplinksHost:"maps.parcoforestecasentinesi.it",feature:!0,mapCenter:!0,location:!0},ROUTING:{enable:!0}}},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"8zgK":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!==t&&"object"===r(t)}},"9B/o":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("a3Cf"),o=n("6blF"),a=function(){function t(t,e,n){try{n&&"string"!=typeof n&&(n=Object.keys(n).map(function(t){return t+"="+n[t]}).join(",")),this._objectInstance=cordova.InAppBrowser.open(t,e,n)}catch(r){"undefined"!=typeof window&&window.open(t,e),console.warn("Native: InAppBrowser is not installed or you are running on a browser. Falling back to window.open.")}}return t.prototype.show=function(){return Object(i.cordovaInstance)(this,"show",{sync:!0},arguments)},t.prototype.close=function(){return Object(i.cordovaInstance)(this,"close",{sync:!0},arguments)},t.prototype.hide=function(){return Object(i.cordovaInstance)(this,"hide",{sync:!0},arguments)},t.prototype.executeScript=function(t){return Object(i.cordovaInstance)(this,"executeScript",{},arguments)},t.prototype.insertCSS=function(t){return Object(i.cordovaInstance)(this,"insertCSS",{},arguments)},t.prototype.on=function(t){var e=this;return function(){if(!0===Object(i.instanceAvailability)(e))return new o.a(function(n){return e._objectInstance.addEventListener(t,n.next.bind(n)),function(){return e._objectInstance.removeEventListener(t,n.next.bind(n))}})}()},t}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.create=function(t,e,n){return new a(t,e,n)},e.pluginName="InAppBrowser",e.plugin="cordova-plugin-inappbrowser",e.pluginRef="cordova.InAppBrowser",e.repo="https://github.com/apache/cordova-plugin-inappbrowser",e.platforms=["AmazonFire OS","Android","Browser","iOS","macOS","Windows"],e}(i.IonicNativePlugin)},"A7o+":function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("F/XL"),a=n("p0ib"),s=n("6blF"),u=n("dEwP"),l=n("t9fZ"),c=n("S1nX"),h=n("67Y/"),p=n("Qgas");function f(t,e,n){return 0===n?[e]:(t.push(e),t)}var d=n("15JJ");n.d(e,"g",function(){return k}),n.d(e,"f",function(){return g}),n.d(e,"m",function(){return I}),n.d(e,"l",function(){return T}),n.d(e,"j",function(){return M}),n.d(e,"b",function(){return m}),n.d(e,"a",function(){return y}),n.d(e,"h",function(){return x}),n.d(e,"d",function(){return E}),n.d(e,"c",function(){return _}),n.d(e,"e",function(){return b}),n.d(e,"i",function(){return P}),n.d(e,"k",function(){return O});var g=function(){return function(){}}(),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTranslation=function(t){return Object(o.a)({})},e}(g),m=function(){return function(){}}(),y=function(){function t(){}return t.prototype.handle=function(t){return t.key},t}(),_=function(){return function(){}}(),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.compile=function(t,e){return t},e.prototype.compileTranslations=function(t,e){return t},e}(_);function w(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,r,i,o=typeof t;if(o==typeof e&&"object"==o){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(r in i=Object.create(null),t){if(!w(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&void 0!==e[r])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(r=0;r<n;r++)if(!w(t[r],e[r]))return!1;return!0}}return!1}function S(t){return null!=t}function C(t){return t&&"object"==typeof t&&!Array.isArray(t)}var x=function(){return function(){}}(),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,e}return Object(r.d)(e,t),e.prototype.interpolate=function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t},e.prototype.getValue=function(t,e){var n=e.split(".");e="";do{e+=n.shift(),!S(t)||!S(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t},e.prototype.interpolateFunction=function(t,e){return t(e)},e.prototype.interpolateString=function(t,e){var n=this;return e?t.replace(this.templateMatcher,function(t,r){var i=n.getValue(e,r);return S(i)?i:t}):t},e}(x),O=function(){return function(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.m,this.onLangChange=new i.m,this.onDefaultLangChange=new i.m}}(),I=new i.p("USE_STORE"),T=new i.p("USE_DEFAULT_LANG"),M=function(){function t(t,e,n,r,o,a,s){void 0===a&&(a=!0),void 0===s&&(s=!1),this.store=t,this.currentLoader=e,this.compiler=n,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=s,this.pending=!1,this._onTranslationChange=new i.m,this._onLangChange=new i.m,this._onDefaultLangChange=new i.m,this._langs=[],this._translations={},this._translationRequests={}}return Object.defineProperty(t.prototype,"onTranslationChange",{get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onLangChange",{get:function(){return this.isolate?this._onLangChange:this.store.onLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDefaultLangChange",{get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultLang",{get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLang",{get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"langs",{get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"translations",{get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t},enumerable:!0,configurable:!0}),t.prototype.setDefaultLang=function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(this.defaultLang||(this.defaultLang=t),n.pipe(Object(l.a)(1)).subscribe(function(n){e.changeDefaultLang(t)})):this.changeDefaultLang(t)}},t.prototype.getDefaultLang=function(){return this.defaultLang},t.prototype.use=function(t){var e=this;if(t===this.currentLang)return Object(o.a)(this.translations[t]);var n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.pipe(Object(l.a)(1)).subscribe(function(n){e.changeLang(t)}),n):(this.changeLang(t),Object(o.a)(this.translations[t]))},t.prototype.retrieveTranslations=function(t){var e;return void 0===this.translations[t]&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e},t.prototype.getTranslation=function(t){var e=this;this.pending=!0;var n=this.currentLoader.getTranslation(t).pipe(Object(c.a)());return this.loadingTranslations=n.pipe(Object(l.a)(1),Object(h.a)(function(n){return e.compiler.compileTranslations(n,t)}),Object(c.a)()),this.loadingTranslations.subscribe(function(n){e.translations[t]=n,e.updateLangs(),e.pending=!1},function(t){e.pending=!1}),n},t.prototype.setTranslation=function(t,e,n){void 0===n&&(n=!1),e=this.compiler.compileTranslations(e,t),this.translations[t]=n&&this.translations[t]?function t(e,n){var r=Object.assign({},e);return C(e)&&C(n)&&Object.keys(n).forEach(function(i){var o,a;C(n[i])?i in e?r[i]=t(e[i],n[i]):Object.assign(r,((o={})[i]=n[i],o)):Object.assign(r,((a={})[i]=n[i],a))}),r}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})},t.prototype.getLangs=function(){return this.langs},t.prototype.addLangs=function(t){var e=this;t.forEach(function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)})},t.prototype.updateLangs=function(){this.addLangs(Object.keys(this.translations))},t.prototype.getParsedResult=function(t,e,n){var i,s,u,l,c;if(e instanceof Array){var d={},g=!1;try{for(var v=Object(r.j)(e),m=v.next();!m.done;m=v.next())d[w=m.value]=this.getParsedResult(t,w,n),"function"==typeof d[w].subscribe&&(g=!0)}catch(x){i={error:x}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(i)throw i.error}}if(g){var y=void 0;try{for(var _=Object(r.j)(e),b=_.next();!b.done;b=_.next()){var w,S="function"==typeof d[w=b.value].subscribe?d[w]:Object(o.a)(d[w]);y=void 0===y?S:Object(a.a)(y,S)}}catch(E){u={error:E}}finally{try{b&&!b.done&&(l=_.return)&&l.call(_)}finally{if(u)throw u.error}}return y.pipe(Object(p.a)(f,[]),Object(h.a)(function(t){var n={};return t.forEach(function(t,r){n[e[r]]=t}),n}))}return d}if(t&&(c=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===c&&this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(c=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===c){var C={key:e,translateService:this};void 0!==n&&(C.interpolateParams=n),c=this.missingTranslationHandler.handle(C)}return void 0!==c?c:e},t.prototype.get=function(t,e){var n=this;if(!S(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return s.a.create(function(r){var i=function(t){r.next(t),r.complete()},o=function(t){r.error(t)};n.loadingTranslations.subscribe(function(r){"function"==typeof(r=n.getParsedResult(r,t,e)).subscribe?r.subscribe(i,o):i(r)},o)});var r=this.getParsedResult(this.translations[this.currentLang],t,e);return"function"==typeof r.subscribe?r:Object(o.a)(r)},t.prototype.stream=function(t,e){var n=this;if(!S(t)||!t.length)throw new Error('Parameter "key" required');return Object(u.a)(this.get(t,e),this.onLangChange.pipe(Object(d.a)(function(r){var i=n.getParsedResult(r.translations,t,e);return"function"==typeof i.subscribe?i:Object(o.a)(i)})))},t.prototype.instant=function(t,e){if(!S(t)||!t.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],t,e);if(void 0!==n.subscribe){if(t instanceof Array){var r={};return t.forEach(function(e,n){r[t[n]]=t[n]}),r}return t}return n},t.prototype.set=function(t,e,n){void 0===n&&(n=this.currentLang),this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})},t.prototype.changeLang=function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang||this.changeDefaultLang(t)},t.prototype.changeDefaultLang=function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})},t.prototype.reloadLang=function(t){return this.resetLang(t),this.getTranslation(t)},t.prototype.resetLang=function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0},t.prototype.getBrowserLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return-1!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage).indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t}},t.prototype.getBrowserCultureLang=function(){if("undefined"!=typeof window&&void 0!==window.navigator)return(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage},t}(),P=function(){function t(t,e){this.translate=t,this._ref=e,this.value=""}return t.prototype.updateValue=function(t,e,n){var r=this,i=function(e){r.value=void 0!==e?e:t,r.lastKey=t,r._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,t,e);"function"==typeof o.subscribe?o.subscribe(i):i(o)}this.translate.get(t,e).subscribe(i)},t.prototype.transform=function(t){for(var e,n=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!t||0===t.length)return t;if(w(t,this.lastKey)&&w(r,this.lastParams))return this.value;if(S(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){var o=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{e=JSON.parse(o)}catch(a){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+r[0])}}else"object"!=typeof r[0]||Array.isArray(r[0])||(e=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(r){n.lastKey&&r.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(t,e,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(r){n.lastKey&&(n.lastKey=null,n.updateValue(t,e,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){n.lastKey&&(n.lastKey=null,n.updateValue(t,e))})),this.value},t.prototype._dispose=function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)},t.prototype.ngOnDestroy=function(){this._dispose()},t}(),k=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:g,useClass:v},e.compiler||{provide:_,useClass:b},e.parser||{provide:x,useClass:E},e.missingTranslationHandler||{provide:m,useClass:y},O,{provide:I,useValue:e.isolate},{provide:T,useValue:e.useDefaultLang},M]}},t.forChild=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.loader||{provide:g,useClass:v},e.compiler||{provide:_,useClass:b},e.parser||{provide:x,useClass:E},e.missingTranslationHandler||{provide:m,useClass:y},{provide:I,useValue:e.isolate},{provide:T,useValue:e.useDefaultLang},M]}},t}()},Akjq:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n("ZZ/e");var r=n("VnD/"),i=n("t9fZ"),o=n("ny24"),a=(n("l3hs"),n("K9Ia")),s=(n("tB1I"),n("l207")),u=function(){function t(t,e,n){this._modalController=t,this._modelService=e,this._searchService=n,this.objectKeys=Object.keys,this._destroyer=new a.a}return t.prototype.ionViewDidEnter=function(){this.areFiltersActive=!1,this.selectedTab="tracksTab",this.initializeFilters(),this.applyLoading=!1},t.prototype.initializeFilters=function(){var t=this;this.isLoading=!0,this._searchService.onReady.pipe(Object(r.a)(function(t){return t}),Object(i.a)(1)).subscribe(function(){t._searchService.onFiltersChange.pipe(Object(o.a)(t._destroyer)).subscribe(function(e){t.isLoading=!1,t.filters=e.filters,setTimeout(function(){t.areFiltersActive=e.active,t._calculateActiveFiltersCounts()},0)},function(t){console.warn(t)})},function(t){console.warn(t)})},t.prototype._calculateActiveFiltersCounts=function(){if(this.activePoisFilters=0,this.activeTracksFilters=0,this.areFiltersActive){for(var t in this.filters.poi)for(var e in this.filters.poi[t])this.filters.poi[t][e].active&&this.activePoisFilters++;for(var t in this.filters.track)for(var e in this.filters.track[t])this.filters.track[t][e].active&&this.activeTracksFilters++}},t.prototype.toggleFilters=function(){this._searchService.toggleFilters()},t.prototype.switchTab=function(t){switch(t){case"poisTab":case"tracksTab":this.selectedTab=t;break;default:this.selectedTab="tracksTab"}},t.prototype.toggleFilter=function(t){this._searchService.toggleFilter(t)},t.prototype.resetFilters=function(){this._searchService.resetFilters()},t.prototype.areAllDeactivated=function(t){var e="webmapp_category"===t?s.z:s.D;for(var n in this.filters[e][t])if(this.filters[e][t][n].active)return!1;return!0},t.prototype.toggleTaxonomy=function(t){if(this.areFiltersActive){var e,n="webmapp_category"===t?s.z:s.D;for(var r in e=this.areAllDeactivated(t),this.filters[n][t])this.filters[n][t][r].active=e;this._calculateActiveFiltersCounts()}},t.prototype.getTaxonomyName=function(t){return this._modelService.getTaxonomyName(t)},t.prototype.dismiss=function(){this._modalController.dismiss()},t.prototype.ionViewDidLeave=function(){this._destroyer.next(!0)},t}()},Almg:function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t.WEBMAPP_CATEGORY="webmapp_category",t.ACTIVITY="activity",t.THEME="theme",t.WHEN="when",t.WHERE="where",t.WHO="who"}(r||(r={}))},AxiF:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("FFOo"),o=n("b7mW"),a=n("G5J1");function s(t){return function(e){return 0===t?Object(a.b)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.total))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.d(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(i.a)},Axip:function(t,e,n){"use strict";var r=n("CcnG"),i=new r.p("WindowToken","undefined"!=typeof window&&window.document?{providedIn:"root",factory:function(){return window}}:void 0),o=n("K9Ia"),a=n("Ip0R");n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u});var s=function(){function t(t,e){this.document=t,this.window=e,this.copySubject=new o.a,this.copyResponse$=this.copySubject.asObservable()}return Object.defineProperty(t.prototype,"isSupported",{get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window},enumerable:!0,configurable:!0}),t.prototype.isTargetValid=function(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")},t.prototype.copyFromInputElement=function(t){try{this.selectTarget(t);var e=this.copyText();return this.clearSelection(t,this.window),e&&this.isCopySuccessInIE11()}catch(n){return!1}},t.prototype.isCopySuccessInIE11=function(){var t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))},t.prototype.copyFromContent=function(t,e){if(void 0===e&&(e=this.window.document.body),this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(n){throw new Error("Container should be a Dom element")}}return this.tempTextArea.value=t,this.copyFromInputElement(this.tempTextArea)},t.prototype.destroy=function(t){void 0===t&&(t=this.window.document.body),this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)},t.prototype.selectTarget=function(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length},t.prototype.copyText=function(){return this.document.execCommand("copy")},t.prototype.clearSelection=function(t,e){t&&t.focus(),e.getSelection().removeAllRanges()},t.prototype.createTempTextArea=function(t,e){var n,r="rtl"===t.documentElement.getAttribute("dir");return(n=t.createElement("textarea")).style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[r?"right":"left"]="-9999px",n.style.top=(e.pageYOffset||t.documentElement.scrollTop)+"px",n.setAttribute("readonly",""),n},t.prototype.pushCopyReponse=function(t){this.copySubject.next(t)},t.ngInjectableDef=Object(r.T)({factory:function(){return new t(Object(r.X)(a.c),Object(r.X)(i,8))},token:t,providedIn:"root"}),t}(),u=function(){return function(){}}()},BtSu:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("S5bw"),i=n("26FU"),o=n("CcnG"),a=n("ZYjt"),s=function(){function t(t){var e=this;this._document=t,this._onResize=new r.a(1),this._currentSize={width:window.innerWidth,height:window.innerHeight},this._onResize.next(this._currentSize),this.onResize=this._onResize,this._isBrowser=!0,this._isLgScreen=+window.innerWidth>=768,this._isLocalServer=-1!==window.location.href.indexOf("localhost"),window.addEventListener("resize",function(){e._updateSize()});try{this._host=this._document.getElementsByTagName("wm-map-container")[0],this._host?(this._isEmbedded=!0,setInterval(function(){e._updateSize()},1e3)):this._host=this._document.documentElement}catch(n){this._host=this._document.documentElement}this._onFullscreenChange=new i.a(!1),this._host.addEventListener("fullscreenchange",function(t){!!e._isFullscreen!=!!document.fullscreen&&(e._isFullscreen=document.fullscreen,e._onFullscreenChange.next(e._isFullscreen))})}return Object.defineProperty(t.prototype,"isBrowser",{get:function(){return!!this._isBrowser},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLocalServer",{get:function(){return!!this._isLocalServer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLgScreen",{get:function(){return!!this._isLgScreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmbedded",{get:function(){return!!this._isEmbedded},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"host",{get:function(){return this._host},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFullscreen",{get:function(){return!!this._isFullscreen},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFullscreenChange",{get:function(){return this._onFullscreenChange.asObservable()},enumerable:!0,configurable:!0}),t.prototype._updateSize=function(){var t=this._host.clientWidth,e=this._host.clientHeight,n=+window.innerWidth,r=+window.innerHeight;this._currentSize&&n===this._currentSize.width&&r===this._currentSize.height&&(!this._isEmbedded||this._currentHostSize&&t===this._currentHostSize.width&&e===this._currentHostSize.height)||(this._currentSize={width:n,height:r},this._isEmbedded&&(this._currentHostSize={width:t,height:e}),this._isLgScreen=this._currentSize.width>=768,this._onResize.next(this._currentSize))},t.prototype.reproduceNotificationAudio=function(){new Audio("assets/audios/alertNotificationSound.mp3").play()},t.prototype.toggleFullscreen=function(t){"boolean"!=typeof t?document.fullscreen?document.exitFullscreen():this._host.requestFullscreen?this._host.requestFullscreen():this._host.mozRequestFullScreen?this._host.mozRequestFullScreen():this._host.webkitRequestFullscreen?this._host.webkitRequestFullscreen():this._host.msRequestFullscreen&&this._host.msRequestFullscreen():t?this._host.requestFullscreen?this._host.requestFullscreen():this._host.mozRequestFullScreen?this._host.mozRequestFullScreen():this._host.webkitRequestFullscreen?this._host.webkitRequestFullscreen():this._host.msRequestFullscreen&&this._host.msRequestFullscreen():document.fullscreen&&document.exitFullscreen()},t.ngInjectableDef=o.T({factory:function(){return new t(o.X(a.b))},token:t,providedIn:"root"}),t}()},CS9Q:function(t,e,n){"use strict";var r=n("mrSG"),i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}();n.d(e,"a",function(){return o});var o=function(t){function e(n,r){void 0===r&&(r=i.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.d(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i)},CcnG:function(t,e,n){"use strict";n.d(e,"jb",function(){return Or}),n.d(e,"kb",function(){return Ir}),n.d(e,"ib",function(){return an}),n.d(e,"g",function(){return Hn}),n.d(e,"S",function(){return Bn}),n.d(e,"y",function(){return zn}),n.d(e,"U",function(){return Vt}),n.d(e,"Y",function(){return Gt}),n.d(e,"c",function(){return on}),n.d(e,"C",function(){return un}),n.d(e,"B",function(){return ln}),n.d(e,"b",function(){return cn}),n.d(e,"d",function(){return nn}),n.d(e,"e",function(){return rn}),n.d(e,"W",function(){return sr}),n.d(e,"N",function(){return Rn}),n.d(e,"ab",function(){return Fn}),n.d(e,"u",function(){return Er}),n.d(e,"f",function(){return Tr}),n.d(e,"m",function(){return he}),n.d(e,"l",function(){return je}),n.d(e,"H",function(){return Lt}),n.d(e,"I",function(){return Ft}),n.d(e,"a",function(){return w}),n.d(e,"n",function(){return Ie}),n.d(e,"r",function(){return Oe}),n.d(e,"Q",function(){return F}),n.d(e,"O",function(){return Dt}),n.d(e,"T",function(){return f}),n.d(e,"V",function(){return A}),n.d(e,"q",function(){return rt}),n.d(e,"X",function(){return U}),n.d(e,"D",function(){return Qe}),n.d(e,"p",function(){return g}),n.d(e,"o",function(){return L}),n.d(e,"A",function(){return D}),n.d(e,"J",function(){return z}),n.d(e,"z",function(){return On}),n.d(e,"E",function(){return Rt}),n.d(e,"F",function(){return kt}),n.d(e,"G",function(){return At}),n.d(e,"i",function(){return _n}),n.d(e,"j",function(){return Ct}),n.d(e,"k",function(){return Tt}),n.d(e,"v",function(){return It}),n.d(e,"x",function(){return Ot}),n.d(e,"w",function(){return me}),n.d(e,"K",function(){return Kn}),n.d(e,"L",function(){return Zn}),n.d(e,"M",function(){return pe}),n.d(e,"P",function(){return Jn}),n.d(e,"h",function(){return $n}),n.d(e,"s",function(){return _r}),n.d(e,"t",function(){return br}),n.d(e,"R",function(){return Z}),n.d(e,"Z",function(){return xr}),n.d(e,"sb",function(){return K}),n.d(e,"db",function(){return hn}),n.d(e,"bb",function(){return mt}),n.d(e,"cb",function(){return xt}),n.d(e,"eb",function(){return le}),n.d(e,"fb",function(){return ve}),n.d(e,"gb",function(){return Wt}),n.d(e,"qb",function(){return x}),n.d(e,"vb",function(){return M}),n.d(e,"Fb",function(){return P}),n.d(e,"tb",function(){return en}),n.d(e,"ub",function(){return tn}),n.d(e,"hb",function(){return wi}),n.d(e,"lb",function(){return Gi}),n.d(e,"mb",function(){return Za}),n.d(e,"nb",function(){return Wr}),n.d(e,"ob",function(){return ho}),n.d(e,"pb",function(){return Si}),n.d(e,"rb",function(){return _i}),n.d(e,"wb",function(){return Ai}),n.d(e,"xb",function(){return ki}),n.d(e,"yb",function(){return jo}),n.d(e,"zb",function(){return Qi}),n.d(e,"Bb",function(){return po}),n.d(e,"Db",function(){return fo}),n.d(e,"Ab",function(){return Lo}),n.d(e,"Cb",function(){return Do}),n.d(e,"Eb",function(){return Mo}),n.d(e,"Gb",function(){return zo}),n.d(e,"Hb",function(){return Ur}),n.d(e,"Ib",function(){return Vo});var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),s=n("p0ib"),u=n("S1nX");function l(t){for(var e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var h=l({ngInjectableDef:l}),p=l({ngBaseDef:l});function f(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function d(t){return t&&t.hasOwnProperty(h)?t[h]:null}var g=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?f({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),v="__parameters__",m="__prop__metadata__";function y(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.i)(e));for(var o in i)this[o]=i[o]}}}function _(t,e,n){var i=y(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.i)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(v)?t[v]:Object.defineProperty(t,v,{value:[]})[v];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function b(t,e,n,i){var o=y(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return o.apply(this,e),this;var s=new((t=a).bind.apply(t,Object(r.i)([void 0],e)));return function(t,n){var o=t.constructor,a=o.hasOwnProperty(m)?o[m]:Object.defineProperty(o,m,{value:{}})[m];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),i&&i.apply(void 0,Object(r.i)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var w=new g("AnalyzeForEntryComponents"),S="undefined"!=typeof window&&window,C="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,x="undefined"!=typeof global&&global||S||C,E=Promise.resolve(0),O=null;function I(){if(!O){var t=x.Symbol;if(t&&t.iterator)O=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(O=r)}}return O}function T(t){"undefined"==typeof Zone?E.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function M(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function P(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(P).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var k=l({__forward_ref__:l});function A(t){return t.__forward_ref__=A,t.toString=function(){return P(this())},t}function R(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(k)&&e.__forward_ref__===A?e():t}var j,F=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),L=_("Inject",function(t){return{token:t}}),D=_("Optional"),N=_("Self"),z=_("SkipSelf"),B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),G=void 0;function V(t){var e=G;return G=t,e}function U(t,e){return void 0===e&&(e=B.Default),(j||function(t,e){if(void 0===e&&(e=B.Default),void 0===G)throw new Error("inject() must be called from an injection context");return null===G?function(t,e,n){var r=d(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&B.Optional)return null;throw new Error("Injector: NOT_FOUND ["+P(t)+"]")}(t,0,e):G.get(t,e&B.Optional?null:void 0,e)})(t,e)}var H=/([A-Z])/g;function q(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function W(t,e){var n=K(t),r=K(e);return n&&r?function(t,e,n){for(var r=t[I()](),i=e[I()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,W):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||M(t,e)}var Z=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),X=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function K(t){return!!Y(t)&&(Array.isArray(t)||!(t instanceof Map)&&I()in t)}function Y(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function J(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var Q="__source",$=new Object,tt=$,et=new g("INJECTOR"),nt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=$),e===$)throw new Error("NullInjectorError: No provider for "+P(t)+"!");return e},t}(),rt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new ft(t,e):new ft(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=$,t.NULL=new nt,t.ngInjectableDef=f({providedIn:"any",factory:function(){return U(et)}}),t.__NG_ELEMENT_ID__=function(){return it()},t}(),it=J,ot=function(t){return t},at=[],st=ot,ut=function(){return Array.prototype.slice.call(arguments)},lt=l({provide:String,useValue:l}),ct=rt.NULL,ht=/\n/gm,pt="\u0275",ft=function(){function t(t,e,n){void 0===e&&(e=ct),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(rt,{token:rt,fn:ot,deps:at,value:this,useNew:!1}),r.set(et,{token:et,fn:ot,deps:at,value:this,useNew:!1}),function t(e,n){if(n)if((n=R(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw vt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw vt("Unexpected provider",n);var i=R(n.provide),o=function(t){var e=function(t){var e=at,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=R(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof D||s==D?i|=1:s instanceof z||s==z?i&=-3:s instanceof N||s==N?i&=-5:u=s instanceof L?s.token:R(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=R(t.useExisting),options:6}]}else if(!(n||lt in t))throw vt("'deps' required",t);return e}(t),n=ot,r=at,i=!1,o=R(t.provide);if(lt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=R(t.useClass);else{if("function"!=typeof o)throw vt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==ut)throw dt(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:ut,value:at});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==ut)throw dt(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=B.Default);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,l;if(!n||s&B.SkipSelf)s&B.Self||(l=o.get(e,a,B.Default));else{if((l=n.value)==st)throw Error(pt+"Circular dependency");if(l===at){n.value=st;var c=n.useNew,h=n.fn,p=n.deps,f=at;if(p.length){f=[];for(var d=0;d<p.length;d++){var g=p[d],v=g.options,m=2&v?i.get(g.token):void 0;f.push(t(g.token,m,i,m||4&v?o:ct,1&v?null:rt.THROW_IF_NOT_FOUND,B.Default))}}n.value=l=c?new((u=h).bind.apply(u,Object(r.i)([void 0],f))):h.apply(void 0,f)}}return l}(e,n,i,o,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==st&&(n.value=at),u}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[Q]&&o.unshift(t[Q]),a.message=gt("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(P(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function dt(t){return vt("Cannot mix multi providers and regular providers",t)}function gt(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==pt?t.substr(2):t;var r=P(e);if(e instanceof Array)r=e.map(P).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):P(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(ht,"\n  ")}function vt(t,e){return new Error(gt(t,e))}var mt=new g("The presence of this token marks an injector as being the root injector."),yt=function(){return function(){}}(),_t=function(){return function(){}}();function bt(t){var e=Error("No component factory found for "+P(t)+". Did you add it to @NgModule.entryComponents?");return e[wt]=t,e}var wt="ngComponent",St=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw bt(t)},t}(),Ct=function(){function t(){}return t.NULL=new St,t}(),xt=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw bt(t);return new Et(e,this._ngModule)},t}(),Et=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.d)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(_t),Ot=function(){return function(){}}(),It=function(){return function(){}}(),Tt=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return Mt(t)},t}(),Mt=J,Pt=function(){return function(){}}(),kt=function(){return function(){}}(),At=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Rt=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return jt()},t}(),jt=J,Ft=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Lt=function(){return function(){}}(),Dt=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Nt=new Dt("7.2.15"),zt=!0,Bt=!1;function Gt(){return Bt=!0,zt}function Vt(){if(Bt)throw new Error("Cannot enable prod mode after platform setup.");zt=!1}var Ut=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),Ht=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,qt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wt(t){return(t=String(t)).match(Ht)||t.match(qt)?t:(Gt()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Zt(t){var e,n,i={};try{for(var o=Object(r.j)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Xt(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.j)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var l in u)u.hasOwnProperty(l)&&(o[l]=!0)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Kt,Yt=Zt("area,br,col,hr,img,wbr"),Jt=Zt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qt=Zt("rp,rt"),$t=Xt(Qt,Jt),te=Xt(Yt,Xt(Jt,Zt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xt(Qt,Zt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$t),ee=Zt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ne=Zt("srcset"),re=Xt(ee,ne,Zt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ie=Zt("script,style,template"),oe=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,n=t.nodeName.toLowerCase();if(!te.hasOwnProperty(n))return this.sanitizedSomething=!0,!ie.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(re.hasOwnProperty(s)){var u=o.value;ee[s]&&(u=Wt(u)),ne[s]&&(e=u,u=(e=String(e)).split(",").map(function(t){return Wt(t.trim())}).join(", ")),this.buf.push(" ",a,'="',ue(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();te.hasOwnProperty(e)&&!Yt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(ue(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,se=/([^\#-~ |!])/g;function ue(t){return t.replace(/&/g,"&amp;").replace(ae,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(se,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function le(t,e){var n=null;try{Kt=Kt||new Ut(t);var r=e?String(e):"";n=Kt.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Kt.getInertBodyElement(r)}while(r!==o);var a=new oe,s=a.sanitizeChildren(ce(n)||n);return Gt()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=ce(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function ce(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var he=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.d)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(u),u},e}(o.a),pe=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return fe(t,Tt)},t}(),fe=J,de=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ge=/^url\(([^)]+)\)$/;function ve(t){if(!(t=String(t).trim()))return"";var e=t.match(ge);return e&&Wt(e[1])===e[1]||t.match(de)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Gt()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var me=function(){return function(){}}(),ye=Function;function _e(t){return"function"==typeof t}var be=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,we=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Se=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Ce=function(){function t(t){this._reflect=t||x.Reflect}return t.prototype.isReflectionEnabled=function(){return!0},t.prototype.factory=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new(t.bind.apply(t,Object(r.i)([void 0],e)))}},t.prototype._zipTypesAndAnnotations=function(t,e){var n;n=void 0===t?new Array(e.length):new Array(t.length);for(var r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n},t.prototype._ownParameters=function(t,e){var n=t.toString();if(be.exec(n)||we.exec(n)&&!Se.exec(n))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;var r=t.ctorParameters;if(r&&r!==e.ctorParameters){var i="function"==typeof r?r():r,o=i.map(function(t){return t&&t.type}),a=i.map(function(t){return t&&xe(t.decorators)});return this._zipTypesAndAnnotations(o,a)}var s=t.hasOwnProperty(v)&&t[v],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return u||s?this._zipTypesAndAnnotations(u,s):new Array(t.length).fill(void 0)},t.prototype.parameters=function(t){if(!_e(t))return[];var e=Ee(t),n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]},t.prototype._ownAnnotations=function(t,e){if(t.annotations&&t.annotations!==e.annotations){var n=t.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return t.decorators&&t.decorators!==e.decorators?xe(t.decorators):t.hasOwnProperty("__annotations__")?t.__annotations__:null},t.prototype.annotations=function(t){if(!_e(t))return[];var e=Ee(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)},t.prototype._ownPropMetadata=function(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){var n=t.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(t.propDecorators&&t.propDecorators!==e.propDecorators){var r=t.propDecorators,i={};return Object.keys(r).forEach(function(t){i[t]=xe(r[t])}),i}return t.hasOwnProperty(m)?t[m]:null},t.prototype.propMetadata=function(t){if(!_e(t))return{};var e=Ee(t),n={};if(e!==Object){var i=this.propMetadata(e);Object.keys(i).forEach(function(t){n[t]=i[t]})}var o=this._ownPropMetadata(t,e);return o&&Object.keys(o).forEach(function(t){var e=[];n.hasOwnProperty(t)&&e.push.apply(e,Object(r.i)(n[t])),e.push.apply(e,Object(r.i)(o[t])),n[t]=e}),n},t.prototype.hasLifecycleHook=function(t,e){return t instanceof ye&&e in t.prototype},t.prototype.guards=function(t){return{}},t.prototype.getter=function(t){return new Function("o","return o."+t+";")},t.prototype.setter=function(t){return new Function("o","v","return o."+t+" = v;")},t.prototype.method=function(t){return new Function("o","args","if (!o."+t+") throw new Error('\""+t+"\" is undefined');\n        return o."+t+".apply(o, args);")},t.prototype.importUri=function(t){return"object"==typeof t&&t.filePath?t.filePath:"./"+P(t)},t.prototype.resourceUri=function(t){return"./"+P(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return r},t.prototype.resolveEnum=function(t,e){return t[e]},t}();function xe(t){return t?t.map(function(t){var e=t.type.annotationCls,n=t.args?t.args:[];return new(e.bind.apply(e,Object(r.i)([void 0],n)))}):[]}function Ee(t){var e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}var Oe=b("Input",function(t){return{bindingPropertyName:t}},void 0,function(t){return function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t.constructor;i.hasOwnProperty(p)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(c(r.inputs,n.inputs),c(r.outputs,n.outputs),c(r.declaredInputs,n.declaredInputs))}(t),(function(t){return t.inputs||{}}(i.ngBaseDef))[e]=n[0]}}()),Ie=b("HostBinding",function(t){return{hostPropertyName:t}}),Te="ngDebugContext",Me="ngOriginalError",Pe="ngErrorLogger";function ke(t){return t[Te]}function Ae(t){return t[Me]}function Re(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.i)(e))}var je=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[Pe]||Re}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?ke(t)?ke(t):this._findContext(Ae(t)):null},t.prototype._findOriginalError=function(t){for(var e=Ae(t);e&&Ae(e);)e=Ae(e);return e},t}();function Fe(t){return t.length>1?" ("+function(t){for(var e=[],n=0;n<t.length;++n){if(e.indexOf(t[n])>-1)return e.push(t[n]),e;e.push(t[n])}return e}(t.slice().reverse()).map(function(t){return P(t.token)}).join(" -> ")+")":""}function Le(t,e,n,r){var i=[e],o=n(i),a=r?function(t,e){var n=o+" caused by: "+(e instanceof Error?e.message:e),r=Error(n);return r[Me]=e,r}(0,r):Error(o);return a.addKey=De,a.keys=i,a.injectors=[t],a.constructResolvingMessage=n,a[Me]=r,a}function De(t,e){this.injectors.push(t),this.keys.push(e),this.message=this.constructResolvingMessage(this.keys)}function Ne(t,e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];n.push(o&&0!=o.length?o.map(P).join(" "):"?")}return Error("Cannot resolve all parameters for '"+P(t)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+P(t)+"' is decorated with Injectable.")}var ze=function(){function t(t,e){if(this.token=t,this.id=e,!t)throw new Error("Token must be defined!");this.displayName=P(this.token)}return t.get=function(t){return Be.get(R(t))},Object.defineProperty(t,"numberOfKeys",{get:function(){return Be.numberOfKeys},enumerable:!0,configurable:!0}),t}(),Be=new(function(){function t(){this._allKeys=new Map}return t.prototype.get=function(t){if(t instanceof ze)return t;if(this._allKeys.has(t))return this._allKeys.get(t);var e=new ze(t,ze.numberOfKeys);return this._allKeys.set(t,e),e},Object.defineProperty(t.prototype,"numberOfKeys",{get:function(){return this._allKeys.size},enumerable:!0,configurable:!0}),t}()),Ge=new(function(){function t(t){this.reflectionCapabilities=t}return t.prototype.updateCapabilities=function(t){this.reflectionCapabilities=t},t.prototype.factory=function(t){return this.reflectionCapabilities.factory(t)},t.prototype.parameters=function(t){return this.reflectionCapabilities.parameters(t)},t.prototype.annotations=function(t){return this.reflectionCapabilities.annotations(t)},t.prototype.propMetadata=function(t){return this.reflectionCapabilities.propMetadata(t)},t.prototype.hasLifecycleHook=function(t,e){return this.reflectionCapabilities.hasLifecycleHook(t,e)},t.prototype.getter=function(t){return this.reflectionCapabilities.getter(t)},t.prototype.setter=function(t){return this.reflectionCapabilities.setter(t)},t.prototype.method=function(t){return this.reflectionCapabilities.method(t)},t.prototype.importUri=function(t){return this.reflectionCapabilities.importUri(t)},t.prototype.resourceUri=function(t){return this.reflectionCapabilities.resourceUri(t)},t.prototype.resolveIdentifier=function(t,e,n,r){return this.reflectionCapabilities.resolveIdentifier(t,e,n,r)},t.prototype.resolveEnum=function(t,e){return this.reflectionCapabilities.resolveEnum(t,e)},t}())(new Ce),Ve=function(){function t(t,e,n){this.key=t,this.optional=e,this.visibility=n}return t.fromKey=function(e){return new t(e,!1,null)},t}(),Ue=[],He=function(){return function(t,e,n){this.key=t,this.resolvedFactories=e,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}(),qe=function(){return function(t,e){this.factory=t,this.dependencies=e}}();function We(t){var e,n;if(t.useClass){var r=R(t.useClass);e=Ge.factory(r),n=Xe(r)}else t.useExisting?(e=function(t){return t},n=[Ve.fromKey(ze.get(t.useExisting))]):t.useFactory?(e=t.useFactory,n=function(t,e){if(e){var n=e.map(function(t){return[t]});return e.map(function(e){return Ke(t,e,n)})}return Xe(t)}(t.useFactory,t.deps)):(e=function(){return t.useValue},n=Ue);return new qe(e,n)}function Ze(t){return new He(ze.get(t.provide),[We(t)],t.multi||!1)}function Xe(t){var e=Ge.parameters(t);if(!e)return[];if(e.some(function(t){return null==t}))throw Ne(t,e);return e.map(function(n){return Ke(t,n,e)})}function Ke(t,e,n){var r=null,i=!1;if(!Array.isArray(e))return Ye(e instanceof L?e.token:e,i,null);for(var o=null,a=0;a<e.length;++a){var s=e[a];s instanceof ye?r=s:s instanceof L?r=s.token:s instanceof D?i=!0:s instanceof N||s instanceof z?o=s:s instanceof g&&(r=s)}if(null!=(r=R(r)))return Ye(r,i,o);throw Ne(t,n)}function Ye(t,e,n){return new Ve(ze.get(t),e,n)}var Je=new Object,Qe=function(){function t(){}return t.resolve=function(t){return function(t){var e=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e.get(r.key.id);if(i){if(r.multiProvider!==i.multiProvider)throw Error("Cannot mix multi providers and regular providers, got: "+i+" "+r);if(r.multiProvider)for(var o=0;o<r.resolvedFactories.length;o++)i.resolvedFactories.push(r.resolvedFactories[o]);else e.set(r.key.id,r)}else{var a;a=r.multiProvider?new He(r.key,r.resolvedFactories.slice(),r.multiProvider):r,e.set(r.key.id,a)}}return e}(function t(e,n){return e.forEach(function(e){if(e instanceof ye)n.push({provide:e,useClass:e});else if(e&&"object"==typeof e&&void 0!==e.provide)n.push(e);else{if(!(e instanceof Array))throw Error("Invalid provider - only instances of Provider and Type are allowed, got: "+e);t(e,n)}}),n}(t,[]).map(Ze),new Map);return Array.from(e.values())}(t)},t.resolveAndCreate=function(e,n){var r=t.resolve(e);return t.fromResolvedProviders(r,n)},t.fromResolvedProviders=function(t,e){return new $e(t,e)},t}(),$e=function(){function t(t,e){this._constructionCounter=0,this._providers=t,this.parent=e||null;var n=t.length;this.keyIds=new Array(n),this.objs=new Array(n);for(var r=0;r<n;r++)this.keyIds[r]=t[r].key.id,this.objs[r]=Je}return t.prototype.get=function(t,e){return void 0===e&&(e=tt),this._getByKey(ze.get(t),null,e)},t.prototype.resolveAndCreateChild=function(t){var e=Qe.resolve(t);return this.createChildFromResolved(e)},t.prototype.createChildFromResolved=function(e){var n=new t(e);return n.parent=this,n},t.prototype.resolveAndInstantiate=function(t){return this.instantiateResolved(Qe.resolve([t])[0])},t.prototype.instantiateResolved=function(t){return this._instantiateProvider(t)},t.prototype.getProviderAtIndex=function(t){if(t<0||t>=this._providers.length)throw function(t){return Error("Index "+t+" is out-of-bounds.")}(t);return this._providers[t]},t.prototype._new=function(t){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw Le(this,t.key,function(t){return"Cannot instantiate cyclic dependency!"+Fe(t)});return this._instantiateProvider(t)},t.prototype._getMaxNumberOfObjects=function(){return this.objs.length},t.prototype._instantiateProvider=function(t){if(t.multiProvider){for(var e=new Array(t.resolvedFactories.length),n=0;n<t.resolvedFactories.length;++n)e[n]=this._instantiate(t,t.resolvedFactories[n]);return e}return this._instantiate(t,t.resolvedFactories[0])},t.prototype._instantiate=function(t,e){var n,i,o,a=this,s=e.factory;try{n=e.dependencies.map(function(t){return a._getByReflectiveDependency(t)})}catch(u){throw u.addKey&&u.addKey(this,t.key),u}try{i=s.apply(void 0,Object(r.i)(n))}catch(u){throw Le(this,t.key,function(t){var e=P(t[0].token);return o.message+": Error during instantiation of "+e+"!"+Fe(t)+"."},o=u)}return i},t.prototype._getByReflectiveDependency=function(t){return this._getByKey(t.key,t.visibility,t.optional?null:tt)},t.prototype._getByKey=function(e,n,r){return e===t.INJECTOR_KEY?this:n instanceof N?this._getByKeySelf(e,r):this._getByKeyDefault(e,r,n)},t.prototype._getObjByKeyId=function(t){for(var e=0;e<this.keyIds.length;e++)if(this.keyIds[e]===t)return this.objs[e]===Je&&(this.objs[e]=this._new(this._providers[e])),this.objs[e];return Je},t.prototype._throwOrNull=function(t,e){if(e!==tt)return e;throw function(t,e){return Le(t,e,function(t){return"No provider for "+P(t[0].token)+"!"+Fe(t)})}(this,t)},t.prototype._getByKeySelf=function(t,e){var n=this._getObjByKeyId(t.id);return n!==Je?n:this._throwOrNull(t,e)},t.prototype._getByKeyDefault=function(e,n,r){var i;for(i=r instanceof z?this.parent:this;i instanceof t;){var o=i,a=o._getObjByKeyId(e.id);if(a!==Je)return a;i=o.parent}return null!==i?i.get(e.token,n):this._throwOrNull(e,n)},Object.defineProperty(t.prototype,"displayName",{get:function(){return"ReflectiveInjector(providers: ["+function(t,e){for(var n=new Array(t._providers.length),r=0;r<t._providers.length;++r)n[r]=' "'+t.getProviderAtIndex(r).key.displayName+'" ';return n}(this).join(", ")+"])"},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.displayName},t.INJECTOR_KEY=ze.get(rt),t}();function tn(t){return!!t&&"function"==typeof t.then}function en(t){return!!t&&"function"==typeof t.subscribe}var nn=new g("Application Initializer"),rn=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();tn(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),on=new g("AppId");function an(){return""+sn()+sn()+sn()}function sn(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var un=new g("Platform Initializer"),ln=new g("Platform ID"),cn=new g("appBootstrapListener"),hn=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function pn(){throw new Error("Runtime compiler is not loaded")}var fn,dn,gn=pn,vn=pn,mn=pn,yn=pn,_n=function(){function t(){this.compileModuleSync=gn,this.compileModuleAsync=vn,this.compileModuleAndAllComponentsSync=mn,this.compileModuleAndAllComponentsAsync=yn}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),bn=function(){return function(){}}();function wn(){var t=x.wtf;return!(!t||!(fn=t.trace)||(dn=fn.events,0))}var Sn=wn();function Cn(t,e){return null}var xn=Sn?function(t,e){return void 0===e&&(e=null),dn.createScope(t,e)}:function(t,e){return Cn},En=Sn?function(t,e){return fn.leaveScope(t,e),e}:function(t,e){return e},On=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new he(!1),this.onMicrotaskEmpty=new he(!1),this.onStable=new he(!1),this.onError=new he(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return Pn(e),t.invokeTask(r,i,o,a)}finally{kn(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return Pn(e),t.invoke(r,i,o,a,s)}finally{kn(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Mn(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Tn,In,In);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function In(){}var Tn={};function Mn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Pn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kn(t){t._nesting--,Mn(t)}var An=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new he,this.onMicrotaskEmpty=new he,this.onStable=new he,this.onError=new he}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Rn=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){On.assertNotInAngularZone(),T(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())T(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),jn=function(){function t(){this._applications=new Map,Dn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Dn.findTestabilityInTree(this,t,e)},Object(r.c)([Object(r.f)("design:paramtypes",[])],t)}();function Fn(t){Dn=t}var Ln,Dn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Nn=new g("AllowMultipleToken"),zn=function(){return function(t,e){this.name=t,this.token=e}}();function Bn(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new g(r);return function(e){void 0===e&&(e=[]);var o=Gn();if(!o||o.injector.get(Nn,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Ln&&!Ln.destroyed&&!Ln.injector.get(Nn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ln=t.get(Vn);var e=t.get(un,null);e&&e.forEach(function(t){return t()})}(rt.create({providers:a,name:r}))}return function(t){var e=Gn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Gn(){return Ln&&!Ln.destroyed?Ln:null}var Vn=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new An:("zone.js"===n?void 0:n)||new On({enableLongStackTrace:Gt()}),o=[{provide:On,useValue:i}];return i.run(function(){var e=rt.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(je,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return qn(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(rn)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return tn(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=Un({},e);return function(t,e,n){return t.get(bn).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(Hn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+P(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function Un(t,e){return Array.isArray(e)?e.reduce(Un,t):Object(r.a)({},t,e)}var Hn=function(){function t(t,e,n,r,i,o){var l=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Gt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run(function(){l.tick()})}});var c=new a.a(function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular(function(){t.next(l._stable),t.complete()})}),h=new a.a(function(t){var e;l._zone.runOutsideAngular(function(){e=l._zone.onStable.subscribe(function(){On.assertNotInAngularZone(),T(function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))})})});var n=l._zone.onUnstable.subscribe(function(){On.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,h.pipe(Object(u.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof _t?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Et?null:this._injector.get(Ot),o=n.create(rt.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(Rn,null);return a&&o.injector.get(jn).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Gt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,En(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;qn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cn,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),qn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=xn("ApplicationRef#tick()"),t}();function qn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Wn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new he,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[I()]=function(){return this._results[I()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Zn=function(){return function(){}}(),Xn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Kn=function(){function t(t,e){this._compiler=t,this._config=e||Xn}return t.prototype.load=function(t){return this._compiler instanceof _n?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.h)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return Yn(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.h)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Yn(t,i,o)})},t}();function Yn(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var Jn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Qn(t,Tt)},t}(),Qn=J,$n=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return tr()},t}(),tr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},er=function(){return function(t,e){this.name=t,this.callback=e}}(),nr=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof rr&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),rr=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.d)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.i)([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return ir(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return or(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(nr);function ir(t,e,n){t.childNodes.forEach(function(t){t instanceof rr&&(e(t)&&n.push(t),ir(t,e,n))})}function or(t,e,n){t instanceof rr&&t.childNodes.forEach(function(t){e(t)&&n.push(t),t instanceof rr&&or(t,e,n)})}var ar=new Map,sr=function(t){return ar.get(t)||null};function ur(t){ar.set(t.nativeNode,t)}var lr=function(){function t(){}return t.prototype.supports=function(t){return K(t)},t.prototype.create=function(t){return new hr(t)},t}(),cr=function(t,e){return e},hr=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||cr}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<gr(n,r,i)?e:n,a=gr(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,l=s-r;if(u!=l){for(var c=0;c<u;c++){var h=c<i.length?i[c]:i[c]=0,p=h+c;l<=p&&p<u&&(i[c]=h+1)}i[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!K(t))throw new Error("Error trying to diff '"+P(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&M(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),M(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[I()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&M(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),M(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(M(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(M(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new pr(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new dr),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dr),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),pr=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),fr=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&M(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),dr=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new fr,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function gr(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var vr=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Y(t)},t.prototype.create=function(){return new mr},t}(),mr=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Y(t)))throw new Error("Error trying to diff '"+P(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new yr(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){M(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),yr=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),_r=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new z,new D]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=f({providedIn:"root",factory:function(){return new t([new lr])}}),t}(),br=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new z,new D]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=f({providedIn:"root",factory:function(){return new t([new vr])}}),t}(),wr=[new vr],Sr=new _r([new lr]),Cr=new br(wr),xr=Bn(null,"core",[{provide:ln,useValue:"unknown"},{provide:Vn,deps:[rt]},{provide:jn,deps:[]},{provide:hn,deps:[]}]),Er=new g("LocaleId");function Or(){return Sr}function Ir(){return Cr}var Tr=function(){return function(t){}}();function Mr(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function Pr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function kr(t,e){return t.nodes[e]}function Ar(t,e){return t.nodes[e]}function Rr(t,e){return t.nodes[e]}function jr(t,e){return t.nodes[e]}function Fr(t,e){return t.nodes[e]}var Lr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Dr(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Nr(n,e),n}(i,t)}function Nr(t,e){t[Te]=e,t[Pe]=e.logError.bind(e)}function zr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Br=function(){},Gr=new Map;function Vr(t){var e=Gr.get(t);return e||(e=P(t)+"_"+Gr.size,Gr.set(t,e)),e}function Ur(t,e,n,r){if(Z.isWrapped(r)){r=Z.unwrap(r);var i=t.def.nodes[e].bindingIndex+n,o=Z.unwrap(t.oldValues[i]);t.oldValues[i]=new Z(o)}return r}var Hr="$$undefined",qr="$$empty";function Wr(t){return{id:Hr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Zr=0;function Xr(t,e,n,r){return!(!(2&t.state)&&M(t.oldValues[e.bindingIndex+n],r))}function Kr(t,e,n,r){return!!Xr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Yr(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!W(i,r)){var o=e.bindings[n].name;throw Dr(Lr.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function Jr(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Qr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function $r(t,e,n,r){try{return Jr(33554432&t.def.nodes[e].flags?Ar(t,e).componentView:t),Lr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function ti(t){return t.parent?Ar(t.parent,t.parentNodeDef.nodeIndex):null}function ei(t){return t.parent?t.parentNodeDef.parent:null}function ni(t,e){switch(201347067&e.flags){case 1:return Ar(t,e.nodeIndex).renderElement;case 2:return kr(t,e.nodeIndex).renderText}}function ri(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function ii(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function oi(t){return 1<<t%32}function ai(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.h)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=oi(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function si(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.h)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,Q,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:Vr(i)}})}function ui(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===F.Native?Ar(t,n.renderParent.nodeIndex).renderElement:void 0:e}var li=new WeakMap;function ci(t){var e=li.get(t);return e||((e=t(function(){return Br})).factory=t,li.set(t,e)),e}function hi(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(ni(t,t.def.lastRenderRootNode))),pi(t,e,0,t.def.nodes.length-1,n,r,i)}function pi(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&di(t,u,e,i,o,a),s+=u.childCount}}function fi(t,e,n,r,i,o){for(var a=t;a&&!ri(a);)a=a.parent;for(var s=a.parent,u=ei(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&di(s,h,n,r,i,o),c+=h.childCount}if(!s.parent){var p=t.root.projectableNodes[e];if(p)for(c=0;c<p.length;c++)gi(t,p[c],n,r,i,o)}}function di(t,e,n,r,i,o){if(8&e.flags)fi(t,e.ngContent.index,n,r,i,o);else{var a=ni(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&gi(t,a,n,r,i,o),32&e.bindingFlags&&gi(Ar(t,e.nodeIndex).componentView,a,n,r,i,o)):gi(t,a,n,r,i,o),16777216&e.flags)for(var s=Ar(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)hi(s[u],n,r,i,o);1&e.flags&&!e.element.name&&pi(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function gi(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var vi=/^:([^:]+):(.+)$/;function mi(t){if(":"===t[0]){var e=t.match(vi);return[e[1],e[2]]}return["",t]}function yi(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function _i(t,e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,_){switch(t){case 1:return e+bi(n)+r;case 2:return e+bi(n)+r+bi(i)+o;case 3:return e+bi(n)+r+bi(i)+o+bi(a)+s;case 4:return e+bi(n)+r+bi(i)+o+bi(a)+s+bi(u)+l;case 5:return e+bi(n)+r+bi(i)+o+bi(a)+s+bi(u)+l+bi(c)+h;case 6:return e+bi(n)+r+bi(i)+o+bi(a)+s+bi(u)+l+bi(c)+h+bi(p)+f;case 7:return e+bi(n)+r+bi(i)+o+bi(a)+s+bi(u)+l+bi(c)+h+bi(p)+f+bi(d)+g;case 8:return e+bi(n)+r+bi(i)+o+bi(a)+s+bi(u)+l+bi(c)+h+bi(p)+f+bi(d)+g+bi(v)+m;case 9:return e+bi(n)+r+bi(i)+o+bi(a)+s+bi(u)+l+bi(c)+h+bi(p)+f+bi(d)+g+bi(v)+m+bi(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function bi(t){return null!=t?t.toString():""}function wi(t,e,n,r,i,o){t|=1;var a=ai(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?ci(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||Br},provider:null,text:null,query:null,ngContent:null}}function Si(t,e,n,i,o,a,s,u,l,c,h,p){var f;void 0===s&&(s=[]),c||(c=Br);var d=ai(n),g=d.matchedQueries,v=d.references,m=d.matchedQueryIds,y=null,_=null;a&&(y=(f=Object(r.h)(mi(a),2))[0],_=f[1]),u=u||[];for(var b=new Array(u.length),w=0;w<u.length;w++){var S=Object(r.h)(u[w],3),C=S[0],x=S[1],E=S[2],O=Object(r.h)(mi(x),2),I=O[0],T=O[1],M=void 0,P=void 0;switch(15&C){case 4:P=E;break;case 1:case 8:M=E}b[w]={flags:C,ns:I,name:T,nonMinifiedName:T,securityContext:M,suffix:P}}l=l||[];var k=new Array(l.length);for(w=0;w<l.length;w++){var A=Object(r.h)(l[w],2);k[w]={type:0,target:A[0],eventName:A[1],propName:null}}var R=(s=s||[]).map(function(t){var e=Object(r.h)(t,2),n=e[0],i=e[1],o=Object(r.h)(mi(n),2);return[o[0],o[1],i]});return p=function(t){if(t&&t.id===Hr){var e=null!=t.encapsulation&&t.encapsulation!==F.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+Zr++:qr}return t&&t.id===qr&&(t=null),t||null}(p),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:m,references:v,ngContentIndex:i,childCount:o,bindings:b,bindingFlags:yi(b),outputs:k,element:{ns:y,name:_,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:c||Br},provider:null,text:null,query:null,ngContent:null}}function Ci(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=ui(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===F.ShadowDom);if(o.attrs)for(var l=0;l<o.attrs.length;l++){var c=Object(r.h)(o.attrs[l],3);s.setAttribute(i,c[1],c[2],c[0])}return i}function xi(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Ei(t,n.nodeIndex,(h=o.eventName,(c=o.target)?c+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var l=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=l}var c,h}function Ei(t,e,n){return function(r){return $r(t,e,n,r)}}function Oi(t,e,n,r){if(!Kr(t,e,n,r))return!1;var i=e.bindings[n],o=Ar(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Ft.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var Ii=new Object,Ti=Vr(rt),Mi=Vr(et),Pi=Vr(Ot);function ki(t,e,n,r){return n=R(n),{index:-1,deps:si(r,P(e)),flags:t,token:e,value:n}}function Ai(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===mt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[Vr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function Ri(t,e,n){void 0===n&&(n=rt.THROW_IF_NOT_FOUND);var r,i,o=V(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Ti:case Mi:case Pi:return t}var s,u=t._def.providersByKey[a];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=ji(t,u)),l===Ii?void 0:l}if((s=d(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=Ii,t._providers[c]=ji(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{V(o)}}function ji(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Ri(t,n[0]));case 2:return new e(Ri(t,n[0]),Ri(t,n[1]));case 3:return new e(Ri(t,n[0]),Ri(t,n[1]),Ri(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=Ri(t,n[a]);return new(e.bind.apply(e,Object(r.i)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Ri(t,n[0]));case 2:return e(Ri(t,n[0]),Ri(t,n[1]));case 3:return e(Ri(t,n[0]),Ri(t,n[1]),Ri(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=Ri(t,n[a]);return e.apply(void 0,Object(r.i)(o))}}(t,e.value,e.deps);break;case 2048:n=Ri(t,e.deps[0]);break;case 256:n=e.value}return n===Ii||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Ii:n}function Fi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,zi(n,e),Lr.dirtyParentQueries(r),Di(r),r}function Li(t,e,n){var r=e?ni(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);hi(n,2,i,o,void 0)}function Di(t){hi(t,3,null,null,void 0)}function Ni(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zi(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Bi=new Object;function Gi(t,e,n,r,i,o){return new Vi(t,e,n,r,i,o)}var Vi=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=ci(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=Lr.createRootView(t,e||[],n,i,r,Bi),s=Rr(a,o).instance;return n&&a.renderer.setAttribute(Ar(a,0).renderElement,"ng-version",Nt.full),new Ui(a,new Zi(a),s)},e}(_t),Ui=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Tt(Ar(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ji(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(yt);function Hi(t,e,n){return new qi(t,e,n)}var qi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Tt(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Ji(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ei(t),t=t.parent;return t?new Ji(t,e):new Ji(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Fi(this._data,t);Lr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new Zi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Et||(i=o.get(Ot));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,Ni(o,r,i),function(t,e){var n=ti(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),Lr.dirtyParentQueries(i),Li(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],zi(o,r),null==i&&(i=o.length),Ni(o,i,a),Lr.dirtyParentQueries(a),Di(a),Li(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Fi(this._data,t);e&&Lr.destroyView(e)},t.prototype.detach=function(t){var e=Fi(this._data,t);return e?new Zi(e):null},t}();function Wi(t){return new Zi(t)}var Zi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return hi(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Jr(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Lr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Lr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Lr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Di(this._view),Lr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function Xi(t,e){return new Ki(t,e)}var Ki=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.d)(e,t),e.prototype.createEmbeddedView=function(t){return new Zi(Lr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Tt(Ar(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(pe);function Yi(t,e){return new Ji(t,e)}var Ji=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=rt.THROW_IF_NOT_FOUND),Lr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Vr(t)},e)},t}();function Qi(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=Ar(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return kr(t,n.nodeIndex).renderText;if(20240&n.flags)return Rr(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function $i(t){return new to(t.renderer)}var to=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.h)(mi(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.h)(mi(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function eo(t,e,n,r){return new no(t,e,n,r)}var no=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=ji(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=rt.THROW_IF_NOT_FOUND),void 0===n&&(n=B.Default);var r=0;return n&B.SkipSelf?r|=1:n&B.Self&&(r|=4),Ri(this,{token:t,tokenKey:Vr(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Ct)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+P(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Ii){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),ro=Vr(Pt),io=Vr(Rt),oo=Vr(Tt),ao=Vr(Jn),so=Vr(pe),uo=Vr($n),lo=Vr(rt),co=Vr(et);function ho(t,e,n,i,o,a,s,u){var l=[];if(s)for(var c in s){var h=Object(r.h)(s[c],2);l[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var p=[];if(u)for(var f in u)p.push({type:1,propName:f,target:null,eventName:u[f]});return go(t,e|=16384,n,i,o,o,a,l,p)}function po(t,e,n){return go(-1,t|=16,null,0,e,e,n)}function fo(t,e,n,r,i){return go(-1,t,e,0,n,r,i)}function go(t,e,n,r,i,o,a,s,u){var l=ai(n),c=l.matchedQueries,h=l.references,p=l.matchedQueryIds;u||(u=[]),s||(s=[]),o=R(o);var f=si(a,P(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:yi(s),outputs:u,element:null,provider:{token:i,value:o,deps:f},text:null,query:null,ngContent:null}}function vo(t,e){return bo(t,e)}function mo(t,e){for(var n=t;n.parent&&!ri(n);)n=n.parent;return wo(n.parent,ei(n),!0,e.provider.value,e.provider.deps)}function yo(t,e){var n=wo(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!en(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(_o(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function _o(t,e,n){return function(r){return $r(t,e,n,r)}}function bo(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return wo(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(Co(t,e,n,o[0]));case 2:return i(Co(t,e,n,o[0]),Co(t,e,n,o[1]));case 3:return i(Co(t,e,n,o[0]),Co(t,e,n,o[1]),Co(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=Co(t,e,n,o[u]);return i.apply(void 0,Object(r.i)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return Co(t,e.parent,n,i.deps[0]);case 256:return i.value}}function wo(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(Co(t,e,n,o[0]));case 2:return new i(Co(t,e,n,o[0]),Co(t,e,n,o[1]));case 3:return new i(Co(t,e,n,o[0]),Co(t,e,n,o[1]),Co(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=Co(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.i)([void 0],s)))}}var So={};function Co(t,e,n,r,i){if(void 0===i&&(i=rt.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===uo&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case ro:return $i(xo(s,e,n));case io:return xo(s,e,n).renderer;case oo:return new Tt(Ar(s,e.nodeIndex).renderElement);case ao:return Ar(s,e.nodeIndex).viewContainer;case so:if(e.element.template)return Ar(s,e.nodeIndex).template;break;case uo:return Wi(xo(s,e,n));case lo:case co:return Yi(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var l=Rr(s,u.nodeIndex);return l||(l={instance:bo(s,u)},s.nodes[u.nodeIndex]=l),l.instance}}n=ri(s),e=ei(s),s=s.parent,4&r.flags&&(s=null)}var c=o.root.injector.get(r.token,So);return c!==So||i===So?c:o.root.ngModule.injector.get(r.token,i)}function xo(t,e,n){var r;if(n)r=Ar(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!ri(r);)r=r.parent;return r}function Eo(t,e,n,r,i,o){if(32768&n.flags){var a=Ar(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Z.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new X(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Oo(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&To(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Io(t,a,e,r)),a=a.parent}}function Io(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&To(t,i,o.flags&n,r++),i+=o.childCount}return r}function To(t,e,n,r){var i=Rr(t,e);if(i){var o=i.instance;o&&(Lr.setCurrentNode(t,e),1048576&n&&Pr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Pr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Mo(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:oi(e),bindings:r},ngContent:null}}function Po(t){for(var e=t.def.nodeMatchedQueries;t.parent&&ii(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Fr(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&Fr(t,i).setDirty(),i+=o.childCount}}function ko(t,e){var n=Fr(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=Ao(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=Rr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Ao(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}r[l.propName]=c}s&&n.notifyOnChanges()}}function Ao(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(Ro(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Ar(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Ao(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],p=ti(h);p&&p===u&&Ao(h,0,h.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(c=0;c<f.length;c++){var d=f[c];Ao(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function Ro(t,e,n){if(null!=n)switch(n){case 1:return Ar(t,e.nodeIndex).renderElement;case 0:return new Tt(Ar(t,e.nodeIndex).renderElement);case 2:return Ar(t,e.nodeIndex).template;case 3:return Ar(t,e.nodeIndex).viewContainer;case 4:return Rr(t,e.nodeIndex).instance}}function jo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Fo(t,e,n){var r=ui(t,e,n);r&&fi(t,n.ngContent.index,1,r,null,void 0)}function Lo(t,e){return No(32,t,new Array(e))}function Do(t,e){for(var n=Object.keys(e),r=n.length,i=new Array(r),o=0;o<r;o++){var a=n[o];i[e[a]]=a}return No(64,t,i)}function No(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:yi(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function zo(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Bo(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=ui(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Go(t,e){return(null!=t?t.toString():"")+e.suffix}function Vo(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,l=null,c=null,h=!1,p=!1,f=null,d=0;d<e.length;d++){var g=e[d];if(g.nodeIndex=d,g.parent=l,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,a|=g.flags,u|=g.matchedQueryIds,g.element){var v=g.element;v.publicProviders=l?l.element.publicProviders:Object.create(null),v.allProviders=v.publicProviders,h=!1,p=!1,g.element.template&&(u|=g.element.template.nodeMatchedQueries)}if(Ho(l,g,e.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(f=g),20224&g.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&g.flags);0==(8192&g.flags)||m?l.element.publicProviders[Vr(g.provider.token)]=g:(p||(p=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[Vr(g.provider.token)]=g),m&&(l.element.componentProvider=g)}if(l?(l.childFlags|=g.flags,l.directChildFlags|=g.flags,l.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(l.childMatchedQueries|=g.element.template.nodeMatchedQueries)):s|=g.flags,g.childCount>0)l=g,Uo(g)||(c=g);else for(;l&&d===l.nodeIndex+l.childCount;){var y=l.parent;y&&(y.childFlags|=l.childFlags,y.childMatchedQueries|=l.childMatchedQueries),c=(l=y)&&Uo(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Br,updateRenderer:r||Br,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:f}}function Uo(t){return 0!=(1&t.flags)&&null===t.element.name}function Ho(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function qo(t,e,n,r){var i=Xo(t.root,t.renderer,t,e,n);return Ko(i,t.component,r),Yo(i),i}function Wo(t,e,n){var r=Xo(t,t.renderer,null,null,e);return Ko(r,n,n),Yo(r),r}function Zo(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,Xo(t.root,i,t,e.element.componentProvider,n)}function Xo(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function Ko(t,e,n){t.component=e,t.context=n}function Yo(t){var e;ri(t)&&(e=Ar(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];Lr.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Ci(t,e,o),u=void 0;if(33554432&o.flags){var l=ci(o.element.componentView);u=Lr.createComponentView(t,o,l,s)}xi(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?Xi(t,o):void 0},16777216&o.flags&&(a.viewContainer=Hi(t,o,a));break;case 2:a=Bo(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:vo(t,o)});break;case 16:a={instance:mo(t,o)};break;case 16384:(a=r[i])||(a={instance:yo(t,o)}),32768&o.flags&&Ko(Ar(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Wn;break;case 8:Fo(t,e,o),a=void 0}r[i]=a}oa(t,ia.CreateViewNodes),la(t,201326592,268435456,0)}function Jo(t){ta(t),Lr.updateDirectives(t,1),aa(t,ia.CheckNoChanges),Lr.updateRenderer(t,1),oa(t,ia.CheckNoChanges),t.state&=-97}function Qo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Mr(t,0,256),ta(t),Lr.updateDirectives(t,0),aa(t,ia.CheckAndUpdate),la(t,67108864,536870912,0);var e=Mr(t,256,512);Oo(t,2097152|(e?1048576:0)),Lr.updateRenderer(t,0),oa(t,ia.CheckAndUpdate),la(t,134217728,536870912,0),Oo(t,8388608|((e=Mr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Mr(t,768,1024)}function $o(t,e,n,i,o,a,s,u,l,c,h,p,f){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length,f=!1;return p>0&&Oi(t,e,0,n)&&(f=!0),p>1&&Oi(t,e,1,r)&&(f=!0),p>2&&Oi(t,e,2,i)&&(f=!0),p>3&&Oi(t,e,3,o)&&(f=!0),p>4&&Oi(t,e,4,a)&&(f=!0),p>5&&Oi(t,e,5,s)&&(f=!0),p>6&&Oi(t,e,6,u)&&(f=!0),p>7&&Oi(t,e,7,l)&&(f=!0),p>8&&Oi(t,e,8,c)&&(f=!0),p>9&&Oi(t,e,9,h)&&(f=!0),f}(t,e,n,r,i,o,a,s,u,l,c,h);case 2:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=!1,f=e.bindings,d=f.length;if(d>0&&Kr(t,e,0,n)&&(p=!0),d>1&&Kr(t,e,1,r)&&(p=!0),d>2&&Kr(t,e,2,i)&&(p=!0),d>3&&Kr(t,e,3,o)&&(p=!0),d>4&&Kr(t,e,4,a)&&(p=!0),d>5&&Kr(t,e,5,s)&&(p=!0),d>6&&Kr(t,e,6,u)&&(p=!0),d>7&&Kr(t,e,7,l)&&(p=!0),d>8&&Kr(t,e,8,c)&&(p=!0),d>9&&Kr(t,e,9,h)&&(p=!0),p){var g=e.text.prefix;d>0&&(g+=Go(n,f[0])),d>1&&(g+=Go(r,f[1])),d>2&&(g+=Go(i,f[2])),d>3&&(g+=Go(o,f[3])),d>4&&(g+=Go(a,f[4])),d>5&&(g+=Go(s,f[5])),d>6&&(g+=Go(u,f[6])),d>7&&(g+=Go(l,f[7])),d>8&&(g+=Go(c,f[8])),d>9&&(g+=Go(h,f[9]));var v=kr(t,e.nodeIndex).renderText;t.renderer.setValue(v,g)}return p}(t,e,n,r,i,o,a,s,u,l,c,h);case 16384:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=Rr(t,e.nodeIndex),f=p.instance,d=!1,g=void 0,v=e.bindings.length;return v>0&&Xr(t,e,0,n)&&(d=!0,g=Eo(t,p,e,0,n,g)),v>1&&Xr(t,e,1,r)&&(d=!0,g=Eo(t,p,e,1,r,g)),v>2&&Xr(t,e,2,i)&&(d=!0,g=Eo(t,p,e,2,i,g)),v>3&&Xr(t,e,3,o)&&(d=!0,g=Eo(t,p,e,3,o,g)),v>4&&Xr(t,e,4,a)&&(d=!0,g=Eo(t,p,e,4,a,g)),v>5&&Xr(t,e,5,s)&&(d=!0,g=Eo(t,p,e,5,s,g)),v>6&&Xr(t,e,6,u)&&(d=!0,g=Eo(t,p,e,6,u,g)),v>7&&Xr(t,e,7,l)&&(d=!0,g=Eo(t,p,e,7,l,g)),v>8&&Xr(t,e,8,c)&&(d=!0,g=Eo(t,p,e,8,c,g)),v>9&&Xr(t,e,9,h)&&(d=!0,g=Eo(t,p,e,9,h,g)),g&&f.ngOnChanges(g),65536&e.flags&&Pr(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,n,r,i,o,a,s,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings,f=!1,d=p.length;if(d>0&&Kr(t,e,0,n)&&(f=!0),d>1&&Kr(t,e,1,r)&&(f=!0),d>2&&Kr(t,e,2,i)&&(f=!0),d>3&&Kr(t,e,3,o)&&(f=!0),d>4&&Kr(t,e,4,a)&&(f=!0),d>5&&Kr(t,e,5,s)&&(f=!0),d>6&&Kr(t,e,6,u)&&(f=!0),d>7&&Kr(t,e,7,l)&&(f=!0),d>8&&Kr(t,e,8,c)&&(f=!0),d>9&&Kr(t,e,9,h)&&(f=!0),f){var g=jr(t,e.nodeIndex),v=void 0;switch(201347067&e.flags){case 32:v=new Array(p.length),d>0&&(v[0]=n),d>1&&(v[1]=r),d>2&&(v[2]=i),d>3&&(v[3]=o),d>4&&(v[4]=a),d>5&&(v[5]=s),d>6&&(v[6]=u),d>7&&(v[7]=l),d>8&&(v[8]=c),d>9&&(v[9]=h);break;case 64:v={},d>0&&(v[p[0].name]=n),d>1&&(v[p[1].name]=r),d>2&&(v[p[2].name]=i),d>3&&(v[p[3].name]=o),d>4&&(v[p[4].name]=a),d>5&&(v[p[5].name]=s),d>6&&(v[p[6].name]=u),d>7&&(v[p[7].name]=l),d>8&&(v[p[8].name]=c),d>9&&(v[p[9].name]=h);break;case 128:var m=n;switch(d){case 1:v=m.transform(n);break;case 2:v=m.transform(r);break;case 3:v=m.transform(r,i);break;case 4:v=m.transform(r,i,o);break;case 5:v=m.transform(r,i,o,a);break;case 6:v=m.transform(r,i,o,a,s);break;case 7:v=m.transform(r,i,o,a,s,u);break;case 8:v=m.transform(r,i,o,a,s,u,l);break;case 9:v=m.transform(r,i,o,a,s,u,l,c);break;case 10:v=m.transform(r,i,o,a,s,u,l,c,h)}}g.value=v}return f}(t,e,n,r,i,o,a,s,u,l,c,h);default:throw"unreachable"}}(t,e,i,o,a,s,u,l,c,h,p,f):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Oi(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Kr(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=Go(n[o],r[o]);a=e.text.prefix+a;var s=kr(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=Rr(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)Xr(t,e,s,n[s])&&(o=!0,a=Eo(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&Pr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Kr(t,e,a,n[a])&&(o=!0);if(o){var s=jr(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var l=n[0],c=n.slice(1);u=l.transform.apply(l,Object(r.i)(c))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function ta(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=Ar(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Qr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ea(t,e,n,r,i,o,a,s,u,l,c,h,p){return 0===n?function(t,e,n,r,i,o,a,s,u,l,c,h){var p=e.bindings.length;p>0&&Yr(t,e,0,n),p>1&&Yr(t,e,1,r),p>2&&Yr(t,e,2,i),p>3&&Yr(t,e,3,o),p>4&&Yr(t,e,4,a),p>5&&Yr(t,e,5,s),p>6&&Yr(t,e,6,u),p>7&&Yr(t,e,7,l),p>8&&Yr(t,e,8,c),p>9&&Yr(t,e,9,h)}(t,e,r,i,o,a,s,u,l,c,h,p):function(t,e,n){for(var r=0;r<n.length;r++)Yr(t,e,r,n[r])}(t,e,r),!1}function na(t,e){if(Fr(t,e.nodeIndex).dirty)throw Dr(Lr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function ra(t){if(!(128&t.state)){if(aa(t,ia.Destroy),oa(t,ia.Destroy),Oo(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=ti(t);if(e){var n=e.template._projectedViews;n&&(zi(n,n.indexOf(t)),Lr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Ar(t,n).renderElement):2&r.flags?t.renderer.destroyNode(kr(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Fr(t,n).destroy()}}(t),ri(t)&&t.renderer.destroy(),t.state|=128}}var ia=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function oa(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?sa(Ar(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function aa(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=Ar(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)sa(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function sa(t,e){var n=t.state;switch(e){case ia.CheckNoChanges:0==(128&n)&&(12==(12&n)?Jo(t):64&n&&ua(t,ia.CheckNoChangesProjectedViews));break;case ia.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Jo(t):64&n&&ua(t,e));break;case ia.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Qo(t):64&n&&ua(t,ia.CheckAndUpdateProjectedViews));break;case ia.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Qo(t):64&n&&ua(t,e));break;case ia.Destroy:ra(t);break;case ia.CreateViewNodes:Yo(t)}}function ua(t,e){aa(t,e),oa(t,e)}function la(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Lr.setCurrentNode(t,a.nodeIndex),r){case 0:ko(t,a);break;case 1:na(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var ca=!1;function ha(t,e,n,r,i,o){var a=i.injector.get(kt);return Wo(fa(t,i,a,e,n),r,o)}function pa(t,e,n,r,i,o){var a=i.injector.get(kt),s=fa(t,i,new qa(a),e,n),u=Ca(r);return Ua(Aa.create,Wo,null,[s,u,o])}function fa(t,e,n,r,i){var o=e.injector.get(Lt),a=e.injector.get(je),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function da(t,e,n,r){var i=Ca(n);return Ua(Aa.create,qo,null,[t,e,i,r])}function ga(t,e,n,r){return n=_a.get(e.element.componentProvider.provider.token)||Ca(n),Ua(Aa.create,Zo,null,[t,e,n,r])}function va(t,e,n,r){return eo(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===ma.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=ma.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){ya.forEach(function(r,i){d(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=ma.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=si(i.deps),r.value=i.value)}if(ya.size>0){var o=new Set(t.modules);ya.forEach(function(e,r){if(o.has(d(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:si(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[Vr(r)]=i}})}}(t=t.factory(function(){return Br})),t):t}(r))}var ma=new Map,ya=new Map,_a=new Map;function ba(t){var e;ma.set(t.token,t),"function"==typeof t.token&&(e=d(t.token))&&"function"==typeof e.providedIn&&ya.set(t.token,t)}function wa(t,e){var n=ci(e.viewDefFactory),r=ci(n.nodes[0].element.componentView);_a.set(t,r)}function Sa(){ma.clear(),ya.clear(),_a.clear()}function Ca(t){if(0===ma.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&ma.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Br});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=ma.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=si(o.deps),i.value=o.value)}}}}function xa(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return $o(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?jr(t,e).value:void 0}function Ea(t,e,n,r,i,o,a,s,u,l,c,h,p){var f=t.def.nodes[e];return ea(t,f,n,r,i,o,a,s,u,l,c,h,p),224&f.flags?jr(t,e).value:void 0}function Oa(t){return Ua(Aa.detectChanges,Qo,null,[t])}function Ia(t){return Ua(Aa.checkNoChanges,Jo,null,[t])}function Ta(t){return Ua(Aa.destroy,ra,null,[t])}var Ma,Pa,ka,Aa=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Ra(t,e){Pa=t,ka=e}function ja(t,e,n,r){return Ra(t,e),Ua(Aa.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Fa(t,e){if(128&t.state)throw zr(Aa[Ma]);return Ra(t,za(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Da(t,a,r,i):Na(t,a,r,i),16384&a.flags&&Ra(t,za(t,n)),224&a.flags?jr(t,a.nodeIndex).value:void 0},t)}function La(t,e){if(128&t.state)throw zr(Aa[Ma]);return Ra(t,Ba(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?Da(t,a,r,i):Na(t,a,r,i),3&a.flags&&Ra(t,Ba(t,n)),224&a.flags?jr(t,a.nodeIndex).value:void 0},t)}function Da(t,e,n,i){if($o.apply(void 0,Object(r.i)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],l=o[s];8&u.flags&&(a[(f=u.nonMinifiedName,"ng-reflect-"+f.replace(/[$@]/g,"_").replace(H,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=q(l))}var c=e.parent,h=Ar(t,c.nodeIndex).renderElement;if(c.element.name)for(var p in a)null!=(l=a[p])?t.renderer.setAttribute(h,p,l):t.renderer.removeAttribute(h,p);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var f}function Na(t,e,n,i){ea.apply(void 0,Object(r.i)([t,e,n],i))}function za(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Ba(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ga=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ei(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Ar(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return Yi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Va(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Va(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!ri(t);)t=t.parent;return t.parent?Ar(t.parent,ei(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ni(this.view,this.nodeDef):ni(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.i)([t],i)):Br}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.i)(i)))},t}();function Va(t,e,n){for(var r in e.references)n[r]=Ro(t,e,e.references[r])}function Ua(t,e,n,r){var i=Ma,o=Pa,a=ka;try{Ma=t;var s=e.apply(n,r);return Pa=o,ka=a,Ma=i,s}catch(u){if(ke(u)||!Pa)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Nr(t,e),t}(u,Ha())}}function Ha(){return Pa?new Ga(Pa,ka):null}var qa=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Wa(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Wa=function(){function t(t){this.delegate=t,this.debugContextFactory=Ha,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){ar.delete(t.nativeNode)}(sr(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new rr(n,null,r);i.name=t,ur(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ur(new nr(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ur(new nr(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=sr(t),r=sr(e);n&&r&&n instanceof rr&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=sr(t),i=sr(e),o=sr(n);r&&i&&r instanceof rr&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=sr(t),r=sr(e);n&&r&&n instanceof rr&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=Ha();return r&&ur(new rr(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=sr(t);i&&i instanceof rr&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=sr(t);r&&r instanceof rr&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=sr(t);n&&n instanceof rr&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=sr(t);n&&n instanceof rr&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=sr(t);i&&i instanceof rr&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=sr(t);r&&r instanceof rr&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=sr(t);r&&r instanceof rr&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=sr(t);r&&r.listeners.push(new er(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function Za(t,e,n){return new Xa(t,e,n)}var Xa=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.d)(e,t),e.prototype.create=function(t){!function(){if(!ca){ca=!0;var t=Gt()?{setCurrentNode:Ra,createRootView:pa,createEmbeddedView:da,createComponentView:ga,createNgModuleRef:va,overrideProvider:ba,overrideComponentView:wa,clearOverrides:Sa,checkAndUpdateView:Oa,checkNoChangesView:Ia,destroyView:Ta,createDebugContext:function(t,e){return new Ga(t,e)},handleEvent:ja,updateDirectives:Fa,updateRenderer:La}:{setCurrentNode:function(){},createRootView:ha,createEmbeddedView:qo,createComponentView:Zo,createNgModuleRef:eo,overrideProvider:Br,overrideComponentView:Br,clearOverrides:Br,checkAndUpdateView:Qo,checkNoChangesView:Jo,destroyView:ra,createDebugContext:function(t,e){return new Ga(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?xa:Ea,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?xa:Ea,t)}};Lr.setCurrentNode=t.setCurrentNode,Lr.createRootView=t.createRootView,Lr.createEmbeddedView=t.createEmbeddedView,Lr.createComponentView=t.createComponentView,Lr.createNgModuleRef=t.createNgModuleRef,Lr.overrideProvider=t.overrideProvider,Lr.overrideComponentView=t.overrideComponentView,Lr.clearOverrides=t.clearOverrides,Lr.checkAndUpdateView=t.checkAndUpdateView,Lr.checkNoChangesView=t.checkNoChangesView,Lr.destroyView=t.destroyView,Lr.resolveDep=Co,Lr.createDebugContext=t.createDebugContext,Lr.handleEvent=t.handleEvent,Lr.updateDirectives=t.updateDirectives,Lr.updateRenderer=t.updateRenderer,Lr.dirtyParentQueries=Po}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(ci(this._ngModuleDefFactory));return Lr.createNgModuleRef(this.moduleType,t||rt.NULL,this._bootstrapComponents,e)},e}(It)},D2NE:function(t,e,n){"use strict";n.d(e,"a",function(){return R});var r=n("CcnG"),i=n("P8j/"),o=n("Ip0R"),a=r.nb({encapsulation:2,styles:[".color-picker {\n  position: absolute;\n  z-index: 100000;\n\n  width: 230px;\n  height: auto;\n  border: #777 solid 1px;\n\n  cursor: default;\n\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n\n  user-select: none;\n  background-color: #fff;\n}\n\n.color-picker * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n\n  box-sizing: border-box;\n  margin: 0;\n\n  font-size: 11px;\n}\n\n.color-picker input {\n  width: 0;\n  height: 26px;\n  min-width: 0;\n\n  font-size: 13px;\n  text-align: center;\n  color: #000;\n}\n\n.color-picker input:invalid,\n.color-picker input:-moz-ui-invalid,\n.color-picker input:-moz-submit-invalid {\n  box-shadow: none;\n}\n\n.color-picker input::-webkit-inner-spin-button,\n.color-picker input::-webkit-outer-spin-button {\n  margin: 0;\n\n  -webkit-appearance: none;\n}\n\n.color-picker .arrow {\n  position: absolute;\n  z-index: 999999;\n\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.color-picker .arrow.arrow-top {\n  left: 8px;\n\n  border-width: 10px 5px;\n  border-color: #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-left {\n  top: 8px;\n  left: 100%;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777;\n}\n\n.color-picker .arrow.arrow-right {\n  top: 8px;\n  left: -20px;\n\n  border-width: 5px 10px;\n  border-color: rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0) rgba(0, 0, 0, 0);\n}\n\n.color-picker .arrow.arrow-bottom {\n  top: -20px;\n  left: 8px;\n\n  border-width: 10px 5px;\n  border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) #777 rgba(0, 0, 0, 0);\n}\n\n.color-picker .cursor {\n  position: relative;\n\n  width: 16px;\n  height: 16px;\n  border: #222 solid 2px;\n  border-radius: 50%;\n\n  cursor: default;\n}\n\n.color-picker .box {\n  display: flex;\n  padding: 4px 8px;\n}\n\n.color-picker .left {\n  position: relative;\n\n  padding: 16px 8px;\n}\n\n.color-picker .right {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n\n  padding: 12px 8px;\n}\n\n.color-picker .button-area {\n  padding: 0 16px 16px;\n\n  text-align: right;\n}\n\n.color-picker .preset-area {\n  padding: 4px 15px;\n}\n\n.color-picker .preset-area .preset-label {\n  overflow: hidden;\n  width: 100%;\n  padding: 4px;\n\n  font-size: 11px;\n  white-space: nowrap;\n  text-align: left;\n  text-overflow: ellipsis;\n  color: #555;\n}\n\n.color-picker .preset-area .preset-color {\n  position: relative;\n\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  margin: 4px 6px 8px;\n  border: #a9a9a9 solid 1px;\n  border-radius: 25%;\n\n  cursor: pointer;\n}\n\n.color-picker .preset-area .preset-empty-message {\n  min-height: 18px;\n  margin-top: 4px;\n  margin-bottom: 8px;\n\n  font-style: italic;\n  text-align: center;\n}\n\n.color-picker .hex-text {\n  width: 100%;\n  padding: 4px 8px;\n\n  font-size: 11px;\n}\n\n.color-picker .hex-text .box {\n  padding: 0 24px 8px 8px;\n}\n\n.color-picker .hex-text .box div {\n  float: left;\n\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n\n  text-align: center;\n  color: #555;\n  clear: left;\n}\n\n.color-picker .hex-text .box input {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  padding: 1px;\n  border: #a9a9a9 solid 1px;\n}\n\n.color-picker .hex-alpha .box div:first-child,\n.color-picker .hex-alpha .box input:first-child {\n  flex-grow: 3;\n  margin-right: 8px;\n}\n\n.color-picker .hsla-text,\n.color-picker .rgba-text,\n.color-picker .value-text {\n  width: 100%;\n  padding: 4px 8px;\n\n  font-size: 11px;\n}\n\n.color-picker .hsla-text .box,\n.color-picker .rgba-text .box {\n  padding: 0 24px 8px 8px;\n}\n\n.color-picker .value-text .box {\n  padding: 0 8px 8px;\n}\n\n.color-picker .hsla-text .box div,\n.color-picker .rgba-text .box div,\n.color-picker .value-text .box div {\n  -webkit-flex: 1 1 auto;\n  -ms-flex: 1 1 auto;\n\n  flex: 1 1 auto;\n  margin-right: 8px;\n\n  text-align: center;\n  color: #555;\n}\n\n.color-picker .hsla-text .box div:last-child,\n.color-picker .rgba-text .box div:last-child,\n.color-picker .value-text .box div:last-child {\n  margin-right: 0;\n}\n\n.color-picker .hsla-text .box input,\n.color-picker .rgba-text .box input,\n.color-picker .value-text .box input {\n  float: left;\n\n  -webkit-flex: 1;\n  -ms-flex: 1;\n\n  flex: 1;\n  padding: 1px;\n  margin: 0 8px 0 0;\n  border: #a9a9a9 solid 1px;\n}\n\n.color-picker .hsla-text .box input:last-child,\n.color-picker .rgba-text .box input:last-child,\n.color-picker .value-text .box input:last-child {\n  margin-right: 0;\n}\n\n.color-picker .hue-alpha {\n  align-items: center;\n  margin-bottom: 3px;\n}\n\n.color-picker .hue {\n  direction: ltr;\n\n  width: 100%;\n  height: 16px;\n  margin-bottom: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC');\n}\n\n.color-picker .value {\n  direction: rtl;\n\n  width: 100%;\n  height: 16px;\n  margin-bottom: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=');\n}\n\n.color-picker .alpha {\n  direction: ltr;\n\n  width: 100%;\n  height: 16px;\n  border: none;\n\n  cursor: pointer;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==');\n}\n\n.color-picker .type-policy {\n  position: absolute;\n  top: 218px;\n  right: 12px;\n\n  width: 16px;\n  height: 24px;\n\n  background-size: 8px 16px;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==');\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.color-picker .type-policy .type-policy-arrow {\n  display: block;\n\n  width: 100%;\n  height: 50%;\n}\n\n.color-picker .selected-color {\n  position: absolute;\n  top: 16px;\n  left: 8px;\n\n  width: 40px;\n  height: 40px;\n  border: 1px solid #a9a9a9;\n  border-radius: 50%;\n}\n\n.color-picker .selected-color-background {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC');\n}\n\n.color-picker .saturation-lightness {\n  direction: ltr;\n\n  width: 100%;\n  height: 130px;\n  border: none;\n\n  cursor: pointer;\n  touch-action: manipulation;\n  background-size: 100% 100%;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==');\n}\n\n.color-picker .cp-add-color-button-class {\n  position: absolute;\n\n  display: inline;\n  padding: 0;\n  margin: 3px -3px;\n  border: 0;\n\n  cursor: pointer;\n  background: transparent;\n}\n\n.color-picker .cp-add-color-button-class:hover {\n  text-decoration: underline;\n}\n\n.color-picker .cp-add-color-button-class:disabled {\n  cursor: not-allowed;\n  color: #999;\n}\n\n.color-picker .cp-add-color-button-class:disabled:hover {\n  text-decoration: none;\n}\n\n.color-picker .cp-remove-color-button-class {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n\n  display: block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n\n  cursor: pointer;\n  text-align: center;\n  background: #fff;\n\n  box-shadow: 1px 1px 5px #333;\n}\n\n.color-picker .cp-remove-color-button-class::before {\n  content: 'x';\n\n  position: relative;\n  bottom: 3.5px;\n\n  display: inline-block;\n\n  font-size: 10px;\n}\n"],data:{}});function s(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,0,"div",[],[[8,"className",0],[4,"top","px"]],null,null,null,null))],null,function(t,e){var n=e.component;t(e,0,0,r.rb(1,"arrow arrow-",n.cpPosition,""),n.arrowTop)})}function u(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","saturation-lightness"]],[[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,n){var i=!0,o=t.component;return"mousedown"===e&&(i=!1!==r.zb(t,1).mouseDown(n)&&i),"touchstart"===e&&(i=!1!==r.zb(t,1).touchStart(n)&&i),"newValue"===e&&(i=!1!==o.onColorChange(n)&&i),"dragStart"===e&&(i=!1!==o.onDragStart("saturation-lightness")&&i),"dragEnd"===e&&(i=!1!==o.onDragEnd("saturation-lightness")&&i),i},null,null)),r.ob(1,16384,null,0,i.e,[r.k],{rgX:[0,"rgX"],rgY:[1,"rgY"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),r.pb(2,0,null,null,0,"div",[["class","cursor"]],[[4,"top","px"],[4,"left","px"]],null,null,null,null))],function(t,e){t(e,1,0,1,1)},function(t,e){var n=e.component;t(e,0,0,n.hueSliderColor),t(e,2,0,null==n.slider?null:n.slider.v,null==n.slider?null:n.slider.s)})}function l(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0],[8,"disabled",0]],[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.onAddPresetColor(n,i.selectedColor)&&r),r},null,null)),(t()(),r.Gb(1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,r.rb(1,"",n.cpAddColorButtonClass,""),n.cpPresetColors&&n.cpPresetColors.length>=n.cpMaxPresetColorsLength),t(e,1,0,n.cpAddColorButtonText)})}function c(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,0,"div",[["style","height: 16px;"]],null,null,null,null,null))],null,null)}function h(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,1).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onAlphaInput(n)&&i),i},null,null)),r.ob(1,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var n=e.component;t(e,0,0,null==n.hslaText?null:n.hslaText.a)})}function p(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["A"]))],null,null)}function f(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,18,"div",[["class","hsla-text"]],[[4,"display",null]],null,null,null,null)),(t()(),r.pb(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"input",[["max","360"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,3).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onHueInput(n)&&i),i},null,null)),r.ob(3,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),r.pb(4,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,5).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onSaturationInput(n)&&i),i},null,null)),r.ob(5,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),r.pb(6,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,7).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onLightnessInput(n)&&i),i},null,null)),r.ob(7,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),r.hb(16777216,null,null,1,null,h)),r.ob(9,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["H"])),(t()(),r.pb(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["S"])),(t()(),r.pb(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["L"])),(t()(),r.hb(16777216,null,null,1,null,p)),r.ob(18,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,360),t(e,5,0,100),t(e,7,0,100),t(e,9,0,"disabled"!==n.cpAlphaChannel),t(e,18,0,"disabled"!==n.cpAlphaChannel)},function(t,e){var n=e.component;t(e,0,0,2!==n.format?"none":"block"),t(e,2,0,null==n.hslaText?null:n.hslaText.h),t(e,4,0,null==n.hslaText?null:n.hslaText.s),t(e,6,0,null==n.hslaText?null:n.hslaText.l)})}function d(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,1).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onAlphaInput(n)&&i),i},null,null)),r.ob(1,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var n=e.component;t(e,0,0,null==n.rgbaText?null:n.rgbaText.a)})}function g(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["A"]))],null,null)}function v(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,18,"div",[["class","rgba-text"]],[[4,"display",null]],null,null,null,null)),(t()(),r.pb(1,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,3).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onRedInput(n)&&i),i},null,null)),r.ob(3,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),r.pb(4,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,5).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onGreenInput(n)&&i),i},null,null)),r.ob(5,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),r.pb(6,0,null,null,1,"input",[["max","255"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,7).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onBlueInput(n)&&i),i},null,null)),r.ob(7,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),r.hb(16777216,null,null,1,null,d)),r.ob(9,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(10,0,null,null,8,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["R"])),(t()(),r.pb(13,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["G"])),(t()(),r.pb(15,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["B"])),(t()(),r.hb(16777216,null,null,1,null,g)),r.ob(18,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,255),t(e,5,0,255),t(e,7,0,255),t(e,9,0,"disabled"!==n.cpAlphaChannel),t(e,18,0,"disabled"!==n.cpAlphaChannel)},function(t,e){var n=e.component;t(e,0,0,1!==n.format?"none":"block"),t(e,2,0,null==n.rgbaText?null:n.rgbaText.r),t(e,4,0,null==n.rgbaText?null:n.rgbaText.g),t(e,6,0,null==n.rgbaText?null:n.rgbaText.b)})}function m(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,1).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onAlphaInput(n)&&i),i},null,null)),r.ob(1,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){t(e,0,0,e.component.hexAlpha)})}function y(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["A"]))],null,null)}function _(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,10,"div",[["class","hex-text"]],[[2,"hex-alpha",null],[4,"display",null]],null,null,null,null)),(t()(),r.pb(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"input",[],[[8,"value",0]],[[null,"blur"],[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,3).inputChange(n)&&i),"blur"===e&&(i=!1!==o.onHexInput(null)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onHexInput(n)&&i),i},null,null)),r.ob(3,16384,null,0,i.f,[],null,{newValue:"newValue"}),(t()(),r.hb(16777216,null,null,1,null,m)),r.ob(5,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["Hex"])),(t()(),r.hb(16777216,null,null,1,null,y)),r.ob(10,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,"forced"===n.cpAlphaChannel),t(e,10,0,"forced"===n.cpAlphaChannel)},function(t,e){var n=e.component;t(e,0,0,"forced"===n.cpAlphaChannel,0!==n.format?"none":"block"),t(e,2,0,n.hexText)})}function b(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"input",[["max","1"],["min","0"],["pattern","[0-9]+([\\.,][0-9]{1,2})?"],["step","0.1"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,1).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onAlphaInput(n)&&i),i},null,null)),r.ob(1,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"})],function(t,e){t(e,1,0,1)},function(t,e){var n=e.component;t(e,0,0,null==n.hslaText?null:n.hslaText.a)})}function w(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,10,"div",[["class","value-text"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"input",[["max","100"],["min","0"],["pattern","[0-9]*"],["type","number"]],[[8,"value",0]],[[null,"keyup.enter"],[null,"newValue"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,3).inputChange(n)&&i),"keyup.enter"===e&&(i=!1!==o.onAcceptColor(n)&&i),"newValue"===e&&(i=!1!==o.onValueInput(n)&&i),i},null,null)),r.ob(3,16384,null,0,i.f,[],{rg:[0,"rg"]},{newValue:"newValue"}),(t()(),r.hb(16777216,null,null,1,null,b)),r.ob(5,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(6,0,null,null,4,"div",[["class","box"]],null,null,null,null,null)),(t()(),r.pb(7,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["V"])),(t()(),r.pb(9,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),r.Gb(-1,null,["A"]))],function(t,e){var n=e.component;t(e,3,0,100),t(e,5,0,"disabled"!==n.cpAlphaChannel)},function(t,e){var n=e.component;t(e,2,0,null==n.hslaText?null:n.hslaText.l)})}function S(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","type-policy"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onFormatToggle(1)&&r),r},null,null)),(t()(),r.pb(2,0,null,null,0,"span",[["class","type-policy-arrow"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onFormatToggle(-1)&&r),r},null,null))],null,null)}function C(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,0,"span",[],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onRemovePresetColor(n,t.parent.context.$implicit)&&r),r},null,null))],null,function(t,e){t(e,0,0,r.rb(1,"",e.component.cpRemoveColorButtonClass,""))})}function x(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","preset-color"]],[[4,"backgroundColor",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.setColorFromString(t.context.$implicit)&&r),r},null,null)),(t()(),r.hb(16777216,null,null,1,null,C)),r.ob(2,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.cpAddColorButton)},function(t,e){t(e,0,0,e.context.$implicit)})}function E(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,x)),r.ob(2,278528,null,0,o.i,[r.P,r.M,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.cpPresetColors)},null)}function O(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),r.Gb(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,r.rb(1,"",n.cpPresetEmptyMessageClass,"")),t(e,1,0,n.cpPresetEmptyMessage)})}function I(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,7,"div",[["class","preset-area"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r.pb(2,0,null,null,1,"div",[["class","preset-label"]],null,null,null,null,null)),(t()(),r.Gb(3,null,["",""])),(t()(),r.hb(16777216,null,null,1,null,E)),r.ob(5,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,O)),r.ob(7,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,null==n.cpPresetColors?null:n.cpPresetColors.length),t(e,7,0,!(null!=n.cpPresetColors&&n.cpPresetColors.length)&&n.cpAddColorButton)},function(t,e){t(e,3,0,e.component.cpPresetLabel)})}function T(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onCancelColor(n)&&r),r},null,null)),(t()(),r.Gb(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,r.rb(1,"",n.cpCancelButtonClass,"")),t(e,1,0,n.cpCancelButtonText)})}function M(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"button",[["type","button"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.onAcceptColor(n)&&r),r},null,null)),(t()(),r.Gb(1,null,["",""]))],null,function(t,e){var n=e.component;t(e,0,0,r.rb(1,"",n.cpOKButtonClass,"")),t(e,1,0,n.cpOKButtonText)})}function P(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,4,"div",[["class","button-area"]],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,T)),r.ob(2,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,M)),r.ob(4,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.cpCancelButton),t(e,4,0,n.cpOKButton)},null)}function k(t){return r.Ib(0,[r.Eb(402653184,1,{dialogElement:0}),r.Eb(402653184,2,{hueSlider:0}),r.Eb(402653184,3,{alphaSlider:0}),(t()(),r.pb(3,0,[[1,0],["dialogPopup",1]],null,36,"div",[["class","color-picker"]],[[4,"visibility",null],[4,"top","px"],[4,"left","px"],[4,"position",null],[4,"height","px"],[4,"width","px"]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==n.stopPropagation()&&r),r},null,null)),(t()(),r.hb(16777216,null,null,1,null,s)),r.ob(5,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,u)),r.ob(7,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(8,0,null,null,17,"div",[["class","hue-alpha box"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,4,"div",[["class","left"]],null,null,null,null,null)),(t()(),r.pb(10,0,null,null,0,"div",[["class","selected-color-background"]],null,null,null,null,null)),(t()(),r.pb(11,0,null,null,0,"div",[["class","selected-color"]],[[4,"background-color",null]],null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,l)),r.ob(13,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(14,0,null,null,11,"div",[["class","right"]],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,c)),r.ob(16,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(17,0,[[2,0],["hueSlider",1]],null,2,"div",[["class","hue"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,n){var i=!0,o=t.component;return"mousedown"===e&&(i=!1!==r.zb(t,18).mouseDown(n)&&i),"touchstart"===e&&(i=!1!==r.zb(t,18).touchStart(n)&&i),"newValue"===e&&(i=!1!==o.onHueChange(n)&&i),"dragStart"===e&&(i=!1!==o.onDragStart("hue")&&i),"dragEnd"===e&&(i=!1!==o.onDragEnd("hue")&&i),i},null,null)),r.ob(18,16384,null,0,i.e,[r.k],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),r.pb(19,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),r.pb(20,0,[["valueSlider",1]],null,2,"div",[["class","value"]],[[4,"display",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,n){var i=!0,o=t.component;return"mousedown"===e&&(i=!1!==r.zb(t,21).mouseDown(n)&&i),"touchstart"===e&&(i=!1!==r.zb(t,21).touchStart(n)&&i),"newValue"===e&&(i=!1!==o.onValueChange(n)&&i),"dragStart"===e&&(i=!1!==o.onDragStart("value")&&i),"dragEnd"===e&&(i=!1!==o.onDragEnd("value")&&i),i},null,null)),r.ob(21,16384,null,0,i.e,[r.k],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),r.pb(22,0,null,null,0,"div",[["class","cursor"]],[[4,"right","px"]],null,null,null,null)),(t()(),r.pb(23,0,[[3,0],["alphaSlider",1]],null,2,"div",[["class","alpha"]],[[4,"display",null],[4,"background-color",null]],[[null,"newValue"],[null,"dragStart"],[null,"dragEnd"],[null,"mousedown"],[null,"touchstart"]],function(t,e,n){var i=!0,o=t.component;return"mousedown"===e&&(i=!1!==r.zb(t,24).mouseDown(n)&&i),"touchstart"===e&&(i=!1!==r.zb(t,24).touchStart(n)&&i),"newValue"===e&&(i=!1!==o.onAlphaChange(n)&&i),"dragStart"===e&&(i=!1!==o.onDragStart("alpha")&&i),"dragEnd"===e&&(i=!1!==o.onDragEnd("alpha")&&i),i},null,null)),r.ob(24,16384,null,0,i.e,[r.k],{rgX:[0,"rgX"]},{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}),(t()(),r.pb(25,0,null,null,0,"div",[["class","cursor"]],[[4,"left","px"]],null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,f)),r.ob(27,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,v)),r.ob(29,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,_)),r.ob(31,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,w)),r.ob(33,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,S)),r.ob(35,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,I)),r.ob(37,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,P)),r.ob(39,16384,null,0,o.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,5,0,"popup"==n.cpDialogDisplay),t(e,7,0,1===(n.cpColorMode||1)),t(e,13,0,n.cpAddColorButton),t(e,16,0,"disabled"===n.cpAlphaChannel),t(e,18,0,1),t(e,21,0,1),t(e,24,0,1),t(e,27,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,29,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,31,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,33,0,!n.cpDisableInput&&2===(n.cpColorMode||1)),t(e,35,0,!n.cpDisableInput&&1===(n.cpColorMode||1)),t(e,37,0,(null==n.cpPresetColors?null:n.cpPresetColors.length)||n.cpAddColorButton),t(e,39,0,n.cpOKButton||n.cpCancelButton)},function(t,e){var n=e.component;t(e,3,0,n.hidden||!n.show?"hidden":"visible",n.top,n.left,n.position,n.cpHeight,n.cpWidth),t(e,11,0,n.selectedColor),t(e,17,0,1===(n.cpColorMode||1)?"block":"none"),t(e,19,0,null==n.slider?null:n.slider.h),t(e,20,0,2===(n.cpColorMode||1)?"block":"none"),t(e,22,0,null==n.slider?null:n.slider.v),t(e,23,0,"disabled"===n.cpAlphaChannel?"none":"block",n.alphaSliderColor),t(e,25,0,null==n.slider?null:n.slider.a)})}function A(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"color-picker",[],null,[["document","keyup.esc"],["document","keyup.enter"]],function(t,e,n){var i=!0;return"document:keyup.esc"===e&&(i=!1!==r.zb(t,1).handleEsc(n)&&i),"document:keyup.enter"===e&&(i=!1!==r.zb(t,1).handleEnter(n)&&i),i},k,a)),r.ob(1,4440064,null,0,i.a,[r.k,r.h,i.d],null,null)],function(t,e){t(e,1,0)},null)}var R=r.lb("color-picker",i.a,A,{},{},[])},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},EreZ:function(t,e,n){"use strict";var r=n("CcnG"),i=n("oBZk"),o=n("ZZ/e"),a=n("A7o+"),s=n("Ip0R"),u=n("gIcY"),l=n("gg2H"),c=r.nb({encapsulation:2,styles:[],data:{}});function h(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,u.k,[r.k,r.E,[2,u.l]],{ngValue:[0,"ngValue"]},null),r.ob(2,147456,null,0,u.p,[r.k,r.E,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),r.Gb(3,null,["",""]))],function(t,e){t(e,1,0,e.context.$implicit.value),t(e,2,0,e.context.$implicit.value)},function(t,e){t(e,3,0,e.context.$implicit.display)})}function p(t){return r.Ib(2,[(t()(),r.pb(0,0,null,null,11,"select",[["name","theme"]],[[8,"className",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var i=!0,o=t.component;return"change"===e&&(i=!1!==r.zb(t,1).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,1).onTouched()&&i),"ngModelChange"===e&&(i=!1!==o.change(n)&&i),i},null,null)),r.ob(1,16384,null,0,u.l,[r.E,r.k],null,null),r.Db(1024,null,u.e,function(t){return[t]},[u.l]),r.ob(3,671744,null,0,u.j,[[8,null],[8,null],[8,null],[6,u.e]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(5,16384,null,0,u.g,[[4,u.f]],null,null),(t()(),r.pb(6,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(7,147456,null,0,u.k,[r.k,r.E,[2,u.l]],{ngValue:[0,"ngValue"]},null),r.ob(8,147456,null,0,u.p,[r.k,r.E,[8,null]],{ngValue:[0,"ngValue"]},null),(t()(),r.Gb(9,null,["",""])),(t()(),r.hb(16777216,null,null,1,null,h)),r.ob(11,278528,null,0,s.i,[r.P,r.M,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,3,0,"theme",!n.editable,n.iso3166Alpha2),t(e,7,0,null),t(e,8,0,null),t(e,11,0,n.items)},function(t,e){var n=e.component;t(e,0,0,"form-control"+(n.size?" form-control-"+n.size:""),r.zb(e,5).ngClassUntouched,r.zb(e,5).ngClassTouched,r.zb(e,5).ngClassPristine,r.zb(e,5).ngClassDirty,r.zb(e,5).ngClassValid,r.zb(e,5).ngClassInvalid,r.zb(e,5).ngClassPending),t(e,9,0,n.defaultLabel)})}var f=n("so3c"),d=n("flj8"),g=n("r4Kj"),v=n("MLd6"),m=n("tB1I"),y=n("Mzne");n.d(e,"a",function(){return D});var _=r.nb({encapsulation:0,styles:[['.modal__dismiss[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:20px 15px;font-size:var(--font-xxxlg);z-index:1000;color:var(--ion-color-dark);will-change:transform}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:0}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]::before{content:"";display:block;width:100%;height:50px}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:var(--font-md);font-family:var(--font-family-header);padding:10px 20px}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]{padding:10px;font-family:var(--font-family-content)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:var(--font-lg);padding:3px 10px;border:none}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select[_ngcontent-%COMP%]::-webkit-input-placeholder, .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--ion-color-medium-shade)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select[_ngcontent-%COMP%]::-moz-placeholder, .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--ion-color-medium-shade)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select[_ngcontent-%COMP%]:-ms-input-placeholder, .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:var(--ion-color-medium-shade)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select[_ngcontent-%COMP%]::-ms-input-placeholder, .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--ion-color-medium-shade)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   i18n-country-select[_ngcontent-%COMP%]::placeholder, .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--ion-color-medium-shade)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item.not-valid[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   .login__checkbox-label[_ngcontent-%COMP%]{text-overflow:unset;white-space:unset;padding:0 0 0 10px}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__item[_ngcontent-%COMP%]   .privacy-checkbox[_ngcontent-%COMP%]{--ion-safe-area-right:0;--inner-padding-end:0}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__password-recovery[_ngcontent-%COMP%]{text-align:right;padding:10px 20px;font-family:var(--font-family-content)}.login__container[_ngcontent-%COMP%]   .login__form[_ngcontent-%COMP%]   .login__password-recovery[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-medium);text-decoration:underline}.login__container[_ngcontent-%COMP%]   .login__message[_ngcontent-%COMP%]{padding:10px 20px;font-size:var(--font-md);font-family:var(--font-family-content)}.bottom-actions[_ngcontent-%COMP%]   .bottom-action[_ngcontent-%COMP%]{min-width:150px}.bottom-actions[_ngcontent-%COMP%]   .custom-bottom-action[_ngcontent-%COMP%]{justify-self:left;color:var(--ion-color-medium);font-size:var(--font-lg);display:flex;align-items:center}.bottom-actions[_ngcontent-%COMP%]   .custom-bottom-action[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{align-self:center;margin-right:5px}']],data:{}});function b(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","modal__dismiss"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dismiss()&&r),r},null,null)),(t()(),r.pb(1,0,null,null,1,"ion-icon",[["name","close"]],null,null,null,i.N,i.k)),r.ob(2,49152,null,0,o.C,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,2,0,"close")},null)}function w(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","login__message"]],null,null,null,null,null)),(t()(),r.Gb(1,null,[" "," "])),r.Bb(131072,a.i,[a.j,r.h])],null,function(t,e){t(e,1,0,r.Hb(e,1,0,r.zb(e,2).transform("modals.login.missingFields")))})}function S(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,3,"div",[["class","login__password-recovery wm-clickable"]],null,[[null,"click"]],function(t,e,n){var r=!0,i=t.component;return"click"===e&&(r=!1!==i.openUrl(i.passwordRecoveryUrl)&&r),r},null,null)),(t()(),r.pb(1,0,null,null,2,"a",[],null,null,null,null,null)),(t()(),r.Gb(2,null,["",""])),r.Bb(131072,a.i,[a.j,r.h])],null,function(t,e){t(e,2,0,r.Hb(e,2,0,r.zb(e,3).transform("modals.login.passwordRecovery")))})}function C(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,32,"div",[["class","login__login"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,31,"ion-list",[["class","login__form"]],null,null,null,i.S,i.o)),r.ob(2,49152,null,0,o.O,[r.h,r.k],null,null),(t()(),r.pb(3,0,null,0,3,"ion-list-header",[],null,null,null,i.R,i.p)),r.ob(4,49152,null,0,o.P,[r.h,r.k],null,null),(t()(),r.Gb(5,0,[" "," "])),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.hb(16777216,null,0,1,null,w)),r.ob(8,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(9,0,null,0,10,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,null,null,i.P,i.m)),r.ob(10,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(11,{"not-valid":0}),r.ob(12,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(13,0,null,0,6,"input",[["name","username"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,14)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,14)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.loginForm.username.value=n)&&i),i},null,null)),r.ob(14,16384,null,0,u.c,[r.E,r.k,[2,u.a]],null,null),r.Db(1024,null,u.e,function(t){return[t]},[u.c]),r.ob(16,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(18,16384,null,0,u.g,[[4,u.f]],null,null),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.pb(20,0,null,0,10,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,null,null,i.P,i.m)),r.ob(21,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(22,{"not-valid":0}),r.ob(23,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(24,0,null,0,6,"input",[["autocomplete","on"],["name","password"],["type","password"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,25)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,25).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,25)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,25)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.loginForm.password.value=n)&&i),i},null,null)),r.ob(25,16384,null,0,u.c,[r.E,r.k,[2,u.a]],null,null),r.Db(1024,null,u.e,function(t){return[t]},[u.c]),r.ob(27,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(29,16384,null,0,u.g,[[4,u.f]],null,null),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.hb(16777216,null,0,1,null,S)),r.ob(32,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,8,0,!n.loginForm.valid);var r=t(e,11,0,!n.loginForm.username.valid);t(e,10,0,"login__item",r),t(e,12,0,!n.loginForm.username.valid,"alert"),t(e,16,0,"username",n.loginForm.username.value);var i=t(e,22,0,!n.loginForm.password.valid);t(e,21,0,"login__item",i),t(e,23,0,!n.loginForm.password.valid,"alert"),t(e,27,0,"password",n.loginForm.password.value),t(e,32,0,n.passwordRecoveryUrl)},function(t,e){t(e,5,0,r.Hb(e,5,0,r.zb(e,6).transform("modals.login.loginHeader"))),t(e,13,0,r.rb(1,"",r.Hb(e,13,0,r.zb(e,19).transform("modals.login.email")),""),r.zb(e,18).ngClassUntouched,r.zb(e,18).ngClassTouched,r.zb(e,18).ngClassPristine,r.zb(e,18).ngClassDirty,r.zb(e,18).ngClassValid,r.zb(e,18).ngClassInvalid,r.zb(e,18).ngClassPending),t(e,24,0,r.rb(1,"",r.Hb(e,24,0,r.zb(e,30).transform("modals.login.password")),""),r.zb(e,29).ngClassUntouched,r.zb(e,29).ngClassTouched,r.zb(e,29).ngClassPristine,r.zb(e,29).ngClassDirty,r.zb(e,29).ngClassValid,r.zb(e,29).ngClassInvalid,r.zb(e,29).ngClassPending)})}function x(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","login__message"]],null,null,null,null,null)),(t()(),r.Gb(1,null,[" "," "])),r.Bb(131072,a.i,[a.j,r.h])],null,function(t,e){t(e,1,0,r.Hb(e,1,0,r.zb(e,2).transform("modals.login.missingFields")))})}function E(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,5,"ion-item",[["class","login__item"]],null,null,null,i.P,i.m)),r.ob(1,49152,null,0,o.H,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,3,"i18n-country-select",[["size","lg"]],null,[[null,"iso3166Alpha2Change"]],function(t,e,n){var r=!0;return"iso3166Alpha2Change"===e&&(r=!1!==(t.component.signupForm.country.value=n)&&r),r},p,c)),r.ob(3,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{ngClass:[0,"ngClass"]},null),r.Cb(4,{empty:0}),r.ob(5,8437760,[[1,4],["loginCountrySelector",4]],0,l.a,[r.h,r.k,r.E,l.c],{iso3166Alpha2:[0,"iso3166Alpha2"],size:[1,"size"],pleaseChoose:[2,"pleaseChoose"]},{iso3166Alpha2Change:"iso3166Alpha2Change"})],function(t,e){var n=e.component,r=t(e,4,0,!n.signupForm.country.value);t(e,3,0,r),t(e,5,0,n.signupForm.country.value,"lg","modals.login.passwordConfirm")},null)}function O(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,14,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,null,null,i.P,i.m)),r.ob(1,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(2,{"not-valid":0}),r.ob(3,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(4,0,null,0,6,"ion-checkbox",[["class","login__checkbox"],["name","newsletter"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var i=!0,o=t.component;return"ionBlur"===e&&(i=!1!==r.zb(t,6)._handleBlurEvent()&&i),"ionChange"===e&&(i=!1!==r.zb(t,6)._handleIonChange(n.target.checked)&&i),"ngModelChange"===e&&(i=!1!==(o.signupForm.newsletter.value=n)&&i),i},i.H,i.e)),r.ob(5,49152,null,0,o.r,[r.h,r.k],{name:[0,"name"]},null),r.ob(6,16384,null,0,o.d,[r.k],null,null),r.Db(1024,null,u.e,function(t){return[t]},[o.d]),r.ob(8,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(10,16384,null,0,u.g,[[4,u.f]],null,null),(t()(),r.pb(11,0,null,0,3,"ion-label",[["class","login__checkbox-label"]],null,null,null,i.Q,i.n)),r.ob(12,49152,null,0,o.N,[r.h,r.k],null,null),(t()(),r.Gb(13,0,["",""])),r.Bb(131072,a.i,[a.j,r.h])],function(t,e){var n=e.component,r=t(e,2,0,!n.signupForm.newsletter.valid);t(e,1,0,"login__item",r),t(e,3,0,!n.signupForm.newsletter.valid,"alert"),t(e,5,0,"newsletter"),t(e,8,0,"newsletter",n.signupForm.newsletter.value)},function(t,e){t(e,4,0,r.zb(e,10).ngClassUntouched,r.zb(e,10).ngClassTouched,r.zb(e,10).ngClassPristine,r.zb(e,10).ngClassDirty,r.zb(e,10).ngClassValid,r.zb(e,10).ngClassInvalid,r.zb(e,10).ngClassPending),t(e,13,0,r.Hb(e,13,0,r.zb(e,14).transform("modals.login.newsletter")))})}function I(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,25,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.contentClick(n)&&r),r},i.P,i.m)),r.ob(1,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(2,{"not-valid":0}),r.ob(3,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(4,0,null,0,21,"ion-grid",[["no-margin",""],["no-padding",""]],null,null,null,i.M,i.j)),r.ob(5,49152,null,0,o.A,[r.h,r.k],null,null),(t()(),r.pb(6,0,null,0,19,"ion-row",[],null,null,null,i.X,i.u)),r.ob(7,49152,null,0,o.ib,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,10,"ion-col",[["no-margin",""],["no-padding",""],["size","auto"]],null,null,null,i.J,i.g)),r.ob(9,49152,null,0,o.t,[r.h,r.k],{size:[0,"size"]},null),(t()(),r.pb(10,0,null,0,8,"ion-item",[["class","privacy-checkbox"],["lines","none"],["no-margin",""],["no-padding",""]],null,null,null,i.P,i.m)),r.ob(11,49152,null,0,o.H,[r.h,r.k],{lines:[0,"lines"]},null),(t()(),r.pb(12,0,null,0,6,"ion-checkbox",[["class","login__checkbox"],["name","termsAndConditions"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var i=!0,o=t.component;return"ionBlur"===e&&(i=!1!==r.zb(t,14)._handleBlurEvent()&&i),"ionChange"===e&&(i=!1!==r.zb(t,14)._handleIonChange(n.target.checked)&&i),"ngModelChange"===e&&(i=!1!==(o.signupForm.termsAndConditions.value=n)&&i),i},i.H,i.e)),r.ob(13,49152,null,0,o.r,[r.h,r.k],{name:[0,"name"]},null),r.ob(14,16384,null,0,o.d,[r.k],null,null),r.Db(1024,null,u.e,function(t){return[t]},[o.d]),r.ob(16,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(18,16384,null,0,u.g,[[4,u.f]],null,null),(t()(),r.pb(19,0,null,0,6,"ion-col",[["no-margin",""],["no-padding",""]],null,null,null,i.J,i.g)),r.ob(20,49152,null,0,o.t,[r.h,r.k],null,null),(t()(),r.pb(21,0,null,0,4,"ion-item",[["lines","none"],["no-margin",""],["no-padding",""]],null,null,null,i.P,i.m)),r.ob(22,49152,null,0,o.H,[r.h,r.k],{lines:[0,"lines"]},null),(t()(),r.pb(23,0,null,0,2,"ion-label",[["class","login__checkbox-label"]],[[8,"innerHTML",1]],null,null,i.Q,i.n)),r.ob(24,49152,null,0,o.N,[r.h,r.k],null,null),r.Bb(131072,a.i,[a.j,r.h])],function(t,e){var n=e.component,r=t(e,2,0,!n.signupForm.termsAndConditions.valid);t(e,1,0,"login__item",r),t(e,3,0,!n.signupForm.termsAndConditions.valid,"alert"),t(e,9,0,"auto"),t(e,11,0,"none"),t(e,13,0,"termsAndConditions"),t(e,16,0,"termsAndConditions",n.signupForm.termsAndConditions.value),t(e,22,0,"none")},function(t,e){var n=e.component;t(e,12,0,r.zb(e,18).ngClassUntouched,r.zb(e,18).ngClassTouched,r.zb(e,18).ngClassPristine,r.zb(e,18).ngClassDirty,r.zb(e,18).ngClassValid,r.zb(e,18).ngClassInvalid,r.zb(e,18).ngClassPending),t(e,23,0,r.rb(1,"",r.Hb(e,23,0,r.zb(e,25).transform("modals.login.termsAndConditions",n.termsAndConditionsObj)),""))})}function T(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,86,"div",[["class","login__signup"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,85,"ion-list",[["class","login__form"]],null,null,null,i.S,i.o)),r.ob(2,49152,null,0,o.O,[r.h,r.k],null,null),(t()(),r.pb(3,0,null,0,3,"ion-list-header",[],null,null,null,i.R,i.p)),r.ob(4,49152,null,0,o.P,[r.h,r.k],null,null),(t()(),r.Gb(5,0,[" "," "])),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.hb(16777216,null,0,1,null,x)),r.ob(8,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(9,0,null,0,10,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,null,null,i.P,i.m)),r.ob(10,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(11,{"not-valid":0}),r.ob(12,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(13,0,null,0,6,"input",[["name","firstName"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,14)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,14).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,14)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,14)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.signupForm.firstName.value=n)&&i),i},null,null)),r.ob(14,16384,null,0,u.c,[r.E,r.k,[2,u.a]],null,null),r.Db(1024,null,u.e,function(t){return[t]},[u.c]),r.ob(16,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(18,16384,null,0,u.g,[[4,u.f]],null,null),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.pb(20,0,null,0,10,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,null,null,i.P,i.m)),r.ob(21,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(22,{"not-valid":0}),r.ob(23,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(24,0,null,0,6,"input",[["name","lastName"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,25)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,25).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,25)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,25)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.signupForm.lastName.value=n)&&i),i},null,null)),r.ob(25,16384,null,0,u.c,[r.E,r.k,[2,u.a]],null,null),r.Db(1024,null,u.e,function(t){return[t]},[u.c]),r.ob(27,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(29,16384,null,0,u.g,[[4,u.f]],null,null),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.pb(31,0,null,0,10,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,null,null,i.P,i.m)),r.ob(32,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(33,{"not-valid":0}),r.ob(34,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(35,0,null,0,6,"input",[["name","email"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,36)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,36).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,36)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,36)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.signupForm.email.value=n)&&i),i},null,null)),r.ob(36,16384,null,0,u.c,[r.E,r.k,[2,u.a]],null,null),r.Db(1024,null,u.e,function(t){return[t]},[u.c]),r.ob(38,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(40,16384,null,0,u.g,[[4,u.f]],null,null),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.pb(42,0,null,0,12,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,null,null,i.P,i.m)),r.ob(43,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(44,{"not-valid":0}),r.ob(45,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(46,0,null,0,6,"input",[["autocomplete","on"],["name","password"]],[[8,"type",0],[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,47)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,47).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,47)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,47)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.signupForm.password.value=n)&&i),i},null,null)),r.ob(47,16384,null,0,u.c,[r.E,r.k,[2,u.a]],null,null),r.Db(1024,null,u.e,function(t){return[t]},[u.c]),r.ob(49,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(51,16384,null,0,u.g,[[4,u.f]],null,null),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.pb(53,0,null,0,1,"ion-icon",[["slot","end"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.togglePassword()&&r),r},i.N,i.k)),r.ob(54,49152,null,0,o.C,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.hb(16777216,null,0,1,null,E)),r.ob(56,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,O)),r.ob(58,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(59,0,null,0,25,"ion-item",[["class","login__item"],["detailIcon","alert"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.contentClick(n)&&r),r},i.P,i.m)),r.ob(60,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(61,{"not-valid":0}),r.ob(62,49152,null,0,o.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(63,0,null,0,21,"ion-grid",[["no-margin",""],["no-padding",""]],null,null,null,i.M,i.j)),r.ob(64,49152,null,0,o.A,[r.h,r.k],null,null),(t()(),r.pb(65,0,null,0,19,"ion-row",[],null,null,null,i.X,i.u)),r.ob(66,49152,null,0,o.ib,[r.h,r.k],null,null),(t()(),r.pb(67,0,null,0,10,"ion-col",[["no-margin",""],["no-padding",""],["size","auto"]],null,null,null,i.J,i.g)),r.ob(68,49152,null,0,o.t,[r.h,r.k],{size:[0,"size"]},null),(t()(),r.pb(69,0,null,0,8,"ion-item",[["class","privacy-checkbox"],["lines","none"],["no-margin",""],["no-padding",""]],null,null,null,i.P,i.m)),r.ob(70,49152,null,0,o.H,[r.h,r.k],{lines:[0,"lines"]},null),(t()(),r.pb(71,0,null,0,6,"ion-checkbox",[["class","login__checkbox"],["name","privacy"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var i=!0,o=t.component;return"ionBlur"===e&&(i=!1!==r.zb(t,73)._handleBlurEvent()&&i),"ionChange"===e&&(i=!1!==r.zb(t,73)._handleIonChange(n.target.checked)&&i),"ngModelChange"===e&&(i=!1!==(o.signupForm.privacy.value=n)&&i),i},i.H,i.e)),r.ob(72,49152,null,0,o.r,[r.h,r.k],{name:[0,"name"]},null),r.ob(73,16384,null,0,o.d,[r.k],null,null),r.Db(1024,null,u.e,function(t){return[t]},[o.d]),r.ob(75,671744,null,0,u.j,[[2,u.b],[8,null],[8,null],[6,u.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,u.f,null,[u.j]),r.ob(77,16384,null,0,u.g,[[4,u.f]],null,null),(t()(),r.pb(78,0,null,0,6,"ion-col",[["no-margin",""],["no-padding",""]],null,null,null,i.J,i.g)),r.ob(79,49152,null,0,o.t,[r.h,r.k],null,null),(t()(),r.pb(80,0,null,0,4,"ion-item",[["lines","none"],["no-margin",""],["no-padding",""]],null,null,null,i.P,i.m)),r.ob(81,49152,null,0,o.H,[r.h,r.k],{lines:[0,"lines"]},null),(t()(),r.pb(82,0,null,0,2,"ion-label",[["class","login__checkbox-label"]],[[8,"innerHTML",1]],null,null,i.Q,i.n)),r.ob(83,49152,null,0,o.N,[r.h,r.k],null,null),r.Bb(131072,a.i,[a.j,r.h]),(t()(),r.hb(16777216,null,0,1,null,I)),r.ob(86,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,8,0,!n.signupForm.valid);var r=t(e,11,0,!n.signupForm.firstName.valid);t(e,10,0,"login__item",r),t(e,12,0,!n.signupForm.firstName.valid,"alert"),t(e,16,0,"firstName",n.signupForm.firstName.value);var i=t(e,22,0,!n.signupForm.lastName.valid);t(e,21,0,"login__item",i),t(e,23,0,!n.signupForm.lastName.valid,"alert"),t(e,27,0,"lastName",n.signupForm.lastName.value);var o=t(e,33,0,!n.signupForm.email.valid);t(e,32,0,"login__item",o),t(e,34,0,!n.signupForm.email.valid,"alert"),t(e,38,0,"email",n.signupForm.email.value);var a=t(e,44,0,!n.signupForm.password.valid);t(e,43,0,"login__item",a),t(e,45,0,!n.signupForm.password.valid,"alert"),t(e,49,0,"password",n.signupForm.password.value),t(e,54,0,n.showPassword?"eye-off":"eye"),t(e,56,0,n.showCountry),t(e,58,0,n.showNewsletter);var s=t(e,61,0,!n.signupForm.privacy.valid);t(e,60,0,"login__item",s),t(e,62,0,!n.signupForm.privacy.valid,"alert"),t(e,68,0,"auto"),t(e,70,0,"none"),t(e,72,0,"privacy"),t(e,75,0,"privacy",n.signupForm.privacy.value),t(e,81,0,"none"),t(e,86,0,n.signupForm.termsAndConditions)},function(t,e){var n=e.component;t(e,5,0,r.Hb(e,5,0,r.zb(e,6).transform("modals.login.signupHeader"))),t(e,13,0,r.rb(1,"",r.Hb(e,13,0,r.zb(e,19).transform("modals.login.firstName")),""),r.zb(e,18).ngClassUntouched,r.zb(e,18).ngClassTouched,r.zb(e,18).ngClassPristine,r.zb(e,18).ngClassDirty,r.zb(e,18).ngClassValid,r.zb(e,18).ngClassInvalid,r.zb(e,18).ngClassPending),t(e,24,0,r.rb(1,"",r.Hb(e,24,0,r.zb(e,30).transform("modals.login.lastName")),""),r.zb(e,29).ngClassUntouched,r.zb(e,29).ngClassTouched,r.zb(e,29).ngClassPristine,r.zb(e,29).ngClassDirty,r.zb(e,29).ngClassValid,r.zb(e,29).ngClassInvalid,r.zb(e,29).ngClassPending),t(e,35,0,r.rb(1,"",r.Hb(e,35,0,r.zb(e,41).transform("modals.login.email")),""),r.zb(e,40).ngClassUntouched,r.zb(e,40).ngClassTouched,r.zb(e,40).ngClassPristine,r.zb(e,40).ngClassDirty,r.zb(e,40).ngClassValid,r.zb(e,40).ngClassInvalid,r.zb(e,40).ngClassPending),t(e,46,0,n.showPassword?"text":"password",r.rb(1,"",r.Hb(e,46,1,r.zb(e,52).transform("modals.login.password")),""),r.zb(e,51).ngClassUntouched,r.zb(e,51).ngClassTouched,r.zb(e,51).ngClassPristine,r.zb(e,51).ngClassDirty,r.zb(e,51).ngClassValid,r.zb(e,51).ngClassInvalid,r.zb(e,51).ngClassPending),t(e,71,0,r.zb(e,77).ngClassUntouched,r.zb(e,77).ngClassTouched,r.zb(e,77).ngClassPristine,r.zb(e,77).ngClassDirty,r.zb(e,77).ngClassValid,r.zb(e,77).ngClassInvalid,r.zb(e,77).ngClassPending),t(e,82,0,r.rb(1,"",r.Hb(e,82,0,r.zb(e,84).transform("modals.login.privacy",n.privacyObj)),""))})}function M(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,5,"div",[["class","custom-bottom-action wm-clickable"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r},null,null)),(t()(),r.pb(1,0,null,null,1,"ion-icon",[["name","arrow-back"]],null,null,null,i.N,i.k)),r.ob(2,49152,null,0,o.C,[r.h,r.k],{name:[0,"name"]},null),(t()(),r.pb(3,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),r.Gb(4,null,["",""])),r.Bb(131072,a.i,[a.j,r.h])],function(t,e){t(e,2,0,"arrow-back")},function(t,e){t(e,4,0,r.Hb(e,4,0,r.zb(e,5).transform("modals.login.backToLogin")))})}function P(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),r.Gb(1,null,["",""])),r.Bb(131072,a.i,[a.j,r.h])],null,function(t,e){t(e,1,0,r.Hb(e,1,0,r.zb(e,2).transform("modals.login.signup")))})}function k(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"ion-spinner",[],null,null,null,i.bb,i.y)),r.ob(1,49152,null,0,o.rb,[r.h,r.k],null,null)],null,null)}function A(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),r.Gb(1,null,["",""])),r.Bb(131072,a.i,[a.j,r.h])],null,function(t,e){t(e,1,0,r.Hb(e,1,0,r.zb(e,2).transform("modals.login.login")))})}function R(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"ion-spinner",[],null,null,null,i.bb,i.y)),r.ob(1,49152,null,0,o.rb,[r.h,r.k],null,null)],null,null)}function j(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,6,"button",[["class","bottom-action"],["form","login__form-container"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.login()&&r),r},null,null)),r.ob(1,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(2,{"wm-clickable":0}),(t()(),r.hb(16777216,null,null,1,null,A)),r.ob(4,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,R)),r.ob(6,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component,r=t(e,2,0,!n.loginLoading);t(e,1,0,"bottom-action",r),t(e,4,0,!n.loginLoading),t(e,6,0,n.loginLoading)},null)}function F(t){return r.Ib(0,[r.Eb(671088640,1,{countrySelector:0}),(t()(),r.hb(16777216,null,null,1,null,b)),r.ob(2,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(3,0,null,null,10,"ion-content",[["class","login__container"]],null,null,null,i.K,i.h)),r.ob(4,49152,null,0,o.u,[r.h,r.k],null,null),(t()(),r.pb(5,0,null,0,8,"form",[["id","login__form-container"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.zb(t,7).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.zb(t,7).onReset()&&i),i},null,null)),r.ob(6,16384,null,0,u.n,[],null,null),r.ob(7,4210688,null,0,u.i,[[8,null],[8,null]],null,null),r.Db(2048,null,u.b,null,[u.i]),r.ob(9,16384,null,0,u.h,[[4,u.b]],null,null),(t()(),r.hb(16777216,null,null,1,null,C)),r.ob(11,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,T)),r.ob(13,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(14,0,null,null,0,"div",[["class","bottom-actions-content"]],null,null,null,null,null)),(t()(),r.pb(15,0,null,null,11,"div",[["class","bottom-actions"]],null,null,null,null,null)),(t()(),r.hb(16777216,null,null,1,null,M)),r.ob(17,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(18,0,null,null,6,"button",[["class","bottom-action"],["form","login__form-container"],["wm-clickable",""]],[[8,"type",0]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.signup()&&r),r},null,null)),r.ob(19,278528,null,0,s.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(20,{secondary:0,"wm-clickable":1}),(t()(),r.hb(16777216,null,null,1,null,P)),r.ob(22,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,k)),r.ob(24,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,j)),r.ob(26,16384,null,0,s.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,!n.force),t(e,11,0,"login"===n.mode),t(e,13,0,"signup"===n.mode),t(e,17,0,"signup"===n.mode);var r=t(e,20,0,"login"===n.mode,!n.signupLoading);t(e,19,0,"bottom-action",r),t(e,22,0,!n.signupLoading),t(e,24,0,n.signupLoading),t(e,26,0,"login"===n.mode)},function(t,e){var n=e.component;t(e,5,0,r.zb(e,9).ngClassUntouched,r.zb(e,9).ngClassTouched,r.zb(e,9).ngClassPristine,r.zb(e,9).ngClassDirty,r.zb(e,9).ngClassValid,r.zb(e,9).ngClassInvalid,r.zb(e,9).ngClassPending),t(e,18,0,"login"===n.mode?"button":"submit")})}function L(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"app-login",[],null,null,null,F,_)),r.ob(1,245760,null,0,f.a,[d.a,o.b,g.a,l.c,v.a,o.Gb,m.a,y.a,a.j],null,null)],function(t,e){t(e,1,0)},null)}var D=r.lb("app-login",f.a,L,{},{},[])},"F/XL":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("nkY7"),i=n("IUTb"),o=n("JF+6");function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(r.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(i.a)(t)}},F87C:function(t,e,n){var r=n("24Ii"),i=n("dDaY"),o=new(n("wr3O"));GraphHopperRouting=function(t){this.points=[],this.host="https://graphhopper.com/api/1",this.vehicle="car",this.debug=!1,this.data_type="application/json",this.locale="en",this.points_encoded=!0,this.instructions=!0,this.elevation=!1,this.optimize="false",this.basePath="/route",this.timeout=1e4,this.skip={skip:!0,host:!0,basePath:!0,graphhopper_maps_host:!0,turn_sign_map:!0,timeout:!0,data_type:!0},this.graphhopper_maps_host="https://graphhopper.com/maps/?",this.turn_sign_map={"-6":"leave roundabout","-3":"turn sharp left","-2":"turn left","-1":"turn slight left",0:"continue",1:"turn slight right",2:"turn right",3:"turn sharp right",4:"finish",5:"reached via point",6:"enter roundabout"},o.copyProperties(t,this)},GraphHopperRouting.prototype.clearPoints=function(){this.points.length=0},GraphHopperRouting.prototype.addPoint=function(t){this.points.push(t)},GraphHopperRouting.prototype.getParametersAsQueryString=function(t,e){var n="";for(var r in t)if(!e||!e[r]){var i=t[r];n+="points"===r?this.createPointParams(i):this.flatParameter(r,i)}return n},GraphHopperRouting.prototype.createPointParams=function(t){if(!o.isArray(t))return"";var e,n,r,i="";for(n=0,r=t.length;n<r;n++)n>0&&(i+="&"),(e=t[n]).lat?i+="point="+encodeURIComponent(e.lat+","+e.lng):o.isArray(e)&&2===e.length?i+="point="+encodeURIComponent(e[1]+","+e[0]):i+="point="+encodeURIComponent(e.toString());return i},GraphHopperRouting.prototype.flatParameter=function(t,e){var n,r,i="";if(o.isObject(e)){for(r in n=Object.keys(e)){var a=n[r];i+=this.flatParameter(t+"."+a,e[a])}return i}if(o.isArray(e)){for(r in n=e)i+=this.flatParameter(t,n[r]);return i}return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e)},GraphHopperRouting.prototype.doRequest=function(t){var e=this;return new i(function(n,i){var a=o.clone(e),s=a.host+a.basePath+"?";t?o.isObject(t)?(a=o.copyProperties(t,a),s+=e.getParametersAsQueryString(a,e.skip)):o.isString(t)?s+=t:i(new Error("The reqArgs have to bei either String, an Object, or null")):s+=e.getParametersAsQueryString(a,e.skip),r.get(s).accept(a.data_type).timeout(a.timeout).end(function(t,r){if(t||!r.ok)i(o.extractError(r,s));else if(r){if(r.body.paths)for(var a=0;a<r.body.paths.length;a++){var u=r.body.paths[a];if(u.points_encoded){var l=o.decodePath(u.points,e.elevation);u.points={type:"LineString",coordinates:l};var c=o.decodePath(u.snapped_waypoints,e.elevation);u.snapped_waypoints={type:"LineString",coordinates:c}}if(u.instructions)for(var h=0;h<u.instructions.length;h++){var p=u.instructions[h].interval;u.instructions[h].points=u.points.coordinates.slice([p[0],p[1]+1])}}n(r.body)}})})},GraphHopperRouting.prototype.info=function(t){var e=this;return new i(function(n,i){var a=o.clone(e);t&&(a=o.copyProperties(t,a));var s=a.host+"/info?key="+a.key;r.get(s).accept(a.data_type).timeout(a.timeout).end(function(t,e){t||!e.ok?i(o.extractError(e,s)):e&&n(e.body)})})},GraphHopperRouting.prototype.i18n=function(t){var e=this;return new i(function(n,i){var a=o.clone(e);t&&(a=o.copyProperties(t,a));var s=a.host+"/i18n/"+a.locale+"?key="+a.key;r.get(s).accept(a.data_type).timeout(a.timeout).end(function(t,e){t||!e.ok?i(o.extractError(e,s)):e&&n(e.body)})})},GraphHopperRouting.prototype.getGraphHopperMapsLink=function(){return this.graphhopper_maps_host+this.getParametersAsQueryString(this)},GraphHopperRouting.prototype.getTurnText=function(t){return this.turn_sign_map[t]},t.exports=GraphHopperRouting},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),l=n("DKTb"),c=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.d(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var l=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(l=Object.create(n),Object(i.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u))),u._context=l,u._next=s,u._error=r,u._complete=a,u}return r.d(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(l.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(l.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(c)},Fxb1:function(t,e,n){"use strict";var r=n("+tJ4"),i=n("DKTb"),o=n("En8+"),a=n("xTla"),s=n("2ePl"),u=n("/WYv"),l=n("McSo");n.d(e,"a",function(){return c});var c=function(t){if(t&&"function"==typeof t[a.a])return c=t,function(t){var e=c[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,c,h=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+h+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},Gi3i:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("FFOo"),o=n("T1DM");function a(t,e){return void 0===e&&(e=o.a),function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.dueTime,this.scheduler))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.d(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(l,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.a);function l(t){t.debouncedNext()}},GrlX:function(t,e,n){var r=n("T016"),i=n("JRS9"),o={};for(var a in r)r.hasOwnProperty(a)&&(o[r[a]]=a);var s=t.exports={to:{},get:{}};function u(t,e,n){return Math.min(Math.max(e,t),n)}function l(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}s.get=function(t){var e,n;switch(t.substring(0,3).toLowerCase()){case"hsl":e=s.get.hsl(t),n="hsl";break;case"hwb":e=s.get.hwb(t),n="hwb";break;default:e=s.get.rgb(t),n="rgb"}return e?{model:n,value:e}:null},s.get.rgb=function(t){if(!t)return null;var e,n,i,o=[0,0,0,1];if(e=t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=e[2],e=e[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(e.slice(a,a+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(e=t.match(/^#([a-f0-9]{3,4})$/i)){for(i=(e=e[1])[3],n=0;n<3;n++)o[n]=parseInt(e[n]+e[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(e=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(e[n+1],0);e[4]&&(o[3]=parseFloat(e[4]))}else{if(!(e=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(e=t.match(/(\D+)/))?"transparent"===e[1]?[0,0,0,0]:(o=r[e[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(e[n+1]));e[4]&&(o[3]=parseFloat(e[4]))}for(n=0;n<3;n++)o[n]=u(o[n],0,255);return o[3]=u(o[3],0,1),o},s.get.hsl=function(t){if(!t)return null;var e=t.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(t){if(!t)return null;var e=t.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(e){var n=parseFloat(e[4]);return[(parseFloat(e[1])%360+360)%360,u(parseFloat(e[2]),0,100),u(parseFloat(e[3]),0,100),u(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var t=i(arguments);return"#"+l(t[0])+l(t[1])+l(t[2])+(t[3]<1?l(Math.round(255*t[3])):"")},s.to.rgb=function(){var t=i(arguments);return t.length<4||1===t[3]?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"},s.to.rgb.percent=function(){var t=i(arguments),e=Math.round(t[0]/255*100),n=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||1===t[3]?"rgb("+e+"%, "+n+"%, "+r+"%)":"rgba("+e+"%, "+n+"%, "+r+"%, "+t[3]+")"},s.to.hsl=function(){var t=i(arguments);return t.length<4||1===t[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"},s.to.hwb=function(){var t=i(arguments),e="";return t.length>=4&&1!==t[3]&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"},s.to.keyword=function(t){return o[t.slice(0,3)]}},HJBe:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t){return void 0===t&&(t=null),function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.defaultValue))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.d(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.a)},HPGL:function(t,e,n){"use strict";function r(){var t=Date.now(),e=!1;document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),e=!0}),setTimeout(function(){!e&&window.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}n.d(e,"a",function(){return r})},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("+tJ4"),o=n("JF+6");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},Ip0R:function(t,e,n){"use strict";n.d(e,"s",function(){return m}),n.d(e,"k",function(){return _}),n.d(e,"l",function(){return y}),n.d(e,"t",function(){return b}),n.d(e,"b",function(){return M}),n.d(e,"h",function(){return w}),n.d(e,"i",function(){return C}),n.d(e,"j",function(){return E}),n.d(e,"m",function(){return T}),n.d(e,"c",function(){return P}),n.d(e,"r",function(){return k}),n.d(e,"q",function(){return R}),n.d(e,"p",function(){return j}),n.d(e,"o",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"n",function(){return p}),n.d(e,"f",function(){return l});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),a=new r.p("Location Initialized"),s=function(){return function(){}}(),u=new r.p("appBaseHref"),l=function(){function t(t){var n=this;this._subject=new r.m,this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,c(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function c(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=l.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),p=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return l.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+l.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+l.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),f=void 0,d=["en",[["a","p"],["AM","PM"],f],[["AM","PM"],f,f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",f,"{1} 'at' {0}",f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],g={},v=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),m=new r.p("UseV4Plurals"),y=function(){return function(){}}(),_=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.d)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=g[e];if(n)return n;var r=e.split("-")[0];if(n=g[r])return n;if("en"===r)return d;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case v.Zero:return"zero";case v.One:return"one";case v.Two:return"two";case v.Few:return"few";case v.Many:return"many";default:return"other"}},e}(y);function b(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.j)(t.split(";")),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.indexOf("="),l=Object(i.h)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),c=l[1];if(l[0].trim()===e)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var w=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.Fb)(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})},t}(),S=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),C=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.Y)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new S(null,e._ngForOf,-1,-1),i),a=new x(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new x(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),x=function(){return function(t,e){this.record=t,this.view=e}}(),E=function(){function t(t,e){this._viewContainer=t,this._context=new O,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){I("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){I("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),O=function(){return function(){this.$implicit=null,this.ngIf=null}}();function I(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r.Fb)(e)+"'.")}var T=function(){function t(t,e,n){this._differs=t,this._ngEl=e,this._renderer=n}return Object.defineProperty(t.prototype,"ngStyle",{set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}},t.prototype._applyChanges=function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})},t.prototype._setStyle=function(t,e){var n=Object(i.h)(t.split("."),2),r=n[0],o=n[1];null!=(e=null!=e&&o?""+e+o:e)?this._renderer.setStyle(this._ngEl.nativeElement,r,e):this._renderer.removeStyle(this._ngEl.nativeElement,r)},t}(),M=function(){return function(){}}(),P=new r.p("DocumentToken"),k="browser",A="server";function R(t){return t===A}var j=function(){function t(){}return t.ngInjectableDef=Object(r.T)({providedIn:"root",factory:function(){return new F(Object(r.X)(P),window,Object(r.X)(r.l))}}),t}(),F=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},"JF+6":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("6blF"),i=n("pugT");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},JRS9:function(t,e,n){"use strict";var r=n("uPr3"),i=Array.prototype.concat,o=Array.prototype.slice,a=t.exports=function(t){for(var e=[],n=0,a=t.length;n<a;n++){var s=t[n];r(s)?e=i.call(e,o.call(s)):e.push(s)}return e};a.wrap=function(t){return function(){return t(a(arguments))}}},Ji5e:function(t,e,n){"use strict";function r(t,e){return t._objectInstance&&t._objectInstance[e]?t._objectInstance[e]:null}function i(t,e,n){t._objectInstance&&(t._objectInstance[e]=n)}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},K9Ia:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=n("uMaO"),l=n("L/V9"),c=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.d(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.d(e,t),e.prototype[l.a]=function(){return new c(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.a),p=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.d(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},K9bu:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("ZZ/e"),n("mzSf"),n("BtSu"),n("t8sF"),n("Pn9U");var r=n("K9Ia"),i=(n("MLd6"),function(){function t(t,e,n,i,o,a,s,u){this._actionSheetController=t,this._camera=e,this._deviceService=n,this._file=i,this._imageResizer=o,this._languagesService=a,this._toastController=s,this._translateService=u,this._valid=!0,this.loadingPicture=!1,this.onValidityChange=new r.a,this.onValueChange=new r.a}return Object.defineProperty(t.prototype,"config",{set:function(t){var e={title:this._languagesService.translate(t,"title"),excerpt:this._languagesService.translate(t,"excerpt"),hideAsterisksWhenAllMandatory:t.hideAsterisksWhenAllMandatory,allMandatoryFieldsText:t.allMandatoryFieldsText,type:t.type,fields:[]};this._value={},t.success&&(e.success=t.success);for(var n=0,r=t.fields;n<r.length;n++){var i=r[n],o={label:this._languagesService.translate(i,"label"),help:this._languagesService.translate(i,"help"),placeholder:this._languagesService.translate(i,"placeholder"),name:i.name,mandatory:i.mandatory,source:"gallery"===i.type&&i.source?i.source:void 0,type:i.type,value:"hidden"===i.type?i.value:void 0,limit:"gallery"===i.type?i.limit||10:void 0,minDate:"date"===i.type?i.minDate:void 0,maxDate:"date"===i.type?i.maxDate:void 0};if(i.options){o.options=[];for(var a=0,s=i.options;a<s.length;a++){var u=s[a];o.options.push({value:u.value,label:this._languagesService.translate(u,"label")})}}o.valid=!0,"date"===o.type&&(o.value=o.minDate),e.fields.push(o),this._value[o.name]=o.value}this.form=e;var l=!this.form.hideAsterisksWhenAllMandatory;for(var c in this.form.fields)this.form.fields[c].mandatory||"hidden"===this.form.fields[c].type||(l=!0);if(this.showAsterisks=l,!this.showAsterisks){var h=this._languagesService.translate(this.form,"allMandatoryFieldsText");h||(h=this._translateService.instant("form.allFieldsMandatory")),this.mandatoryMessage=h}this.validate()},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},Object.defineProperty(t.prototype,"valid",{get:function(){return this._valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.isValidGallery=function(t){var e=t.mandatory?"boolean"==typeof t.mandatory?1:t.mandatory:0;return!e||e&&t.value&&-1===t.value.indexOf("$loading")&&t.value.split("_").length>=e},t.prototype.validate=function(t){for(var e=!0,n=0,r=this.form.fields;n<r.length;n++){var i=r[n];i.valid=!(t||!i.valid)||!("picture"===i.type&&(!i.value&&i.mandatory||"$loading"===i.value)||"gallery"===i.type&&!this.isValidGallery(i))&&(!i.mandatory||i.value&&i.value.length>0),e=!("picture"===i.type&&(!i.value&&i.mandatory||"$loading"===i.value)||"gallery"===i.type&&!this.isValidGallery(i))&&e&&(!i.mandatory||i.value&&i.value.length>0)}this._valid=!!e,this.onValidityChange.next(this._valid),this._valid&&this._updateValue()},t.prototype._updateValue=function(){for(var t={},e=0,n=this.form.fields;e<n.length;e++){var r=n[e];t[r.name]=r.value}this._value=t,this.onValueChange.next(this._value)},t.prototype.showHelp=function(t){},t.prototype.openPicturePicker=function(t){var e=this;if(!this.loadingPicture){if(this._deviceService.isLocalServer){var n=this.form.fields[t].value?this.form.fields[t].value.split("_"):[];return n.push("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAARElEQVR42u3PMREAAAgEIE1u9DeDqwcN6EqmHmgRERERERERERERERERERERERERERERERERERERERERERERERERkYsFOoB8nTpF298AAAAASUVORK5CYII="),this.form.fields[t].value=n.join("_"),void this.validate()}this._deviceService.isBrowser?this._toastController.create({message:this._translateService.instant("modals.report.featureUnavailable"),duration:5e3}).then(function(t){t.present()}):"camera"===this.form.fields[t].source?this._getPicture(t,!0):"photogallery"===this.form.fields[t].source?this._getPicture(t,!1):this._actionSheetController.create({header:this._translateService.instant("modals.report.selectPictureSource"),buttons:[{text:this._translateService.instant("modals.report.cameraSource"),handler:function(){e._getPicture(t,!0)}},{text:this._translateService.instant("modals.report.photolibrarySource"),handler:function(){e._getPicture(t,!1)}}],keyboardClose:!0,mode:"ios"}).then(function(t){t.present()})}},t.prototype._getPicture=function(t,e){var n=this;if(!this._deviceService.isBrowser){this.loadingPicture=!0;var r={quality:20,destinationType:this._camera.DestinationType.FILE_URI,mediaType:this._camera.MediaType.PICTURE,encodingType:this._camera.EncodingType.PNG,sourceType:e?this._camera.PictureSourceType.CAMERA:this._camera.PictureSourceType.PHOTOLIBRARY,saveToPhotoAlbum:!1,correctOrientation:!0};"picture"===this.form.fields[t].type?this.form.fields[t].value="$loading":"gallery"===this.form.fields[t].type&&(this.form.fields[t].value?this.form.fields[t].value+="_":this.form.fields[t].value="",this.form.fields[t].value+="$loading"),this._camera.getPicture(r).then(function(e){n._imageResizer.resize({uri:e,width:1280,height:1280,quality:25}).then(function(e){var r=e.split("/"),i=r.pop(),o=r.join("/");n._file.readAsDataURL(o,i).then(function(e){"picture"===n.form.fields[t].type?n.form.fields[t].value=e:"gallery"===n.form.fields[t].type&&n.form.fields[t].value&&(n.form.fields[t].value=n.form.fields[t].value.replace("$loading",e)),n.validate(),n._camera.cleanup(),n.loadingPicture=!1},function(e){console.warn(e),n.loadingPicture=!1,n.resetPicture(t,"gallery"===n.form.fields[t].type?n.form.fields[t].value.split("_").length-1:void 0)})},function(e){console.warn(e),n.loadingPicture=!1,n.resetPicture(t,"gallery"===n.form.fields[t].type?n.form.fields[t].value.split("_").length-1:void 0)})},function(e){console.warn(e),n.loadingPicture=!1,n.resetPicture(t,"gallery"===n.form.fields[t].type?n.form.fields[t].value.split("_").length-1:void 0)})}},t.prototype.resetPicture=function(t,e){if(void 0!==e&&"gallery"===this.form.fields[t].type){var n=this.form.fields[t].value.split("_");n.splice(e,1),this.form.fields[t].value=n.length>0?n.join("_"):void 0}else this.form.fields[t].value=void 0;this.validate()},t.prototype.galleryUrls=function(t){return t?t.split("_"):[]},t.prototype.datePickerValueChanged=function(t,e){"date"===this.form.fields[e].type&&(this.form.fields[e].value=t.detail.value,this.validate())},t.prototype.toggleCheckboxOption=function(t,e){var n=(this.form.fields[t].value?this.form.fields[t].value:"").split(",");for(var r in n)if(n[r]===e)return n.splice(parseInt(r),1),this.form.fields[t].value=n.join(","),void this.validate();""===n[0]?n[0]=e:n.push(e),this.form.fields[t].value=n.join(","),this.validate()},t.prototype.isChecked=function(t,e){var n=(this.form.fields[t].value?this.form.fields[t].value:"").split(",");for(var r in n)if(n[r]===e)return!0;return!1},t.prototype.toggleRadioOption=function(t,e){this.form.fields[t].value=e,this.validate()},t}())},"KOl+":function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return g}),n.d(e,"f",function(){return v});var r=n("6blF"),i=n("bne5"),o={error:"cordova_not_available"},a={error:"plugin_not_installed"};function s(t){if(window.angular){var e=window.angular.element(document.querySelector("[ng-app]")||document.body).injector();if(e)return e.get("$q")(function(e,n){t(e,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(e,n){t(e,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(t,e,n){var r,i,s;return"string"==typeof t?r=t:(r=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),s=t.constructor.getPluginInstallName()),!(!(i=f(r))||e&&void 0===i[e])||(window.cordova?(function(t,n,r){e?console.warn("Native: tried calling "+t+"."+e+", but the "+t+" plugin is not installed."):console.warn("Native: tried accessing the "+t+" plugin but it's not installed."),n&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+n+"'")}(n,s),a):(function(t,n){e?console.warn("Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(n),o))}function l(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}function c(t,e,n,r){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(r),t.unshift(n);else if("node"===e.callbackStyle)t.push(function(t,e){t?r(t):n(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var i={};i[e.successName]=n,i[e.errorName]=r,t.push(i)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var o=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},a=function(){e.errorIndex>t.length?t[e.errorIndex]=r:t.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(a(),o()):(o(),a())}else t.push(n),t.push(r);return t}function h(t,e,n,r,i,o){void 0===r&&(r={}),n=c(n,r,i,o);var a=u(t,e);if(!0===a){var s=f(t.constructor.getPluginRef());return s[e].apply(s,n)}return a}function p(t,e,n,r,i,o){if(void 0===r&&(r={}),n=c(n,r,i,o),l(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function f(t){return d(window,t)}function d(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}var g=function(t,e,n){return void 0===n&&(n={}),function(){for(var o,a,u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return n.sync?h(t,e,u,n):n.observable?function(t,e,n,i){return void 0===i&&(i={}),new r.a(function(r){var o;return(o=i.destruct?h(t,e,n,i,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):h(t,e,n,i,r.next.bind(r),r.error.bind(r)))&&o.error&&(r.error(o.error),r.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?h(t,i.clearFunction,n,i,r.next.bind(r),r.error.bind(r)):h(t,i.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}})}(t,e,u,n):n.eventObservable&&n.event?(o=n.event,a=(a=n.element)?d(window,a):window,Object(i.a)(a,o)):n.otherPromise?function(t,e,n,r){return void 0===r&&(r={}),s(function(i,o){var a=h(t,e,n,r);a?a.error?o(a.error):a.then&&a.then(i).catch(o):o({error:"unexpected_error"})})}(t,e,u,n):function(t,e,n,r){var i,o;void 0===r&&(r={});var a=s(function(a,s){i=r.destruct?h(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}):h(t,e,n,r,a,s),o=s});return i&&i.error&&(a.catch(function(){}),"function"==typeof o&&o(i.error)),a}(t,e,u,n)}};function v(t,e,n){return void 0===n&&(n={}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.sync)return p(t,e,i,n);if(n.observable)return new r.a(function(r){var o;return(o=n.destruct?p(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):p(t,e,i,n,r.next.bind(r),r.error.bind(r)))&&o.error&&r.error(o.error),function(){try{return n.clearWithArgs?p(t,n.clearFunction,i,n,r.next.bind(r),r.error.bind(r)):p(t,n.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}});if(n.otherPromise)return s(function(r,o){var a;(a=n.destruct?p(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):p(t,e,i,n,r,o))&&a.then?a.then(r,o):o()});var a,u,l=s(function(r,o){a=n.destruct?p(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):p(t,e,i,n,r,o),u=o});return a&&a.error&&(l.catch(function(){}),"function"==typeof u&&u(a.error)),l}}},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},Lhj3:function(t,e,n){"use strict";var r=n("cSMb"),i={},o={},a={},s={},u={};function l(t){return String("000"+(t||"")).slice(-3)}function c(t){return a[t]}function h(t){return o[t]}function p(t){var e=l(t);return h(s[e])}function f(t){var e=l(t);return s[e]}function d(t){if("string"==typeof t){if(/^[0-9]*$/.test(t))return f(t);if(2===t.length)return t.toUpperCase();if(3===t.length)return c(t.toUpperCase())}if("number"==typeof t)return f(t)}r.forEach(function(t){var e=t;o[e[0]]=e[1],a[e[1]]=e[0],s[e[2]]=e[0],u[e[0]]=e[2]}),e.registerLocale=function(t){if(!t.locale)throw new TypeError("Missing localeData.locale");if(!t.countries)throw new TypeError("Missing localeData.countries");i[t.locale]=t.countries},e.alpha3ToAlpha2=c,e.alpha2ToAlpha3=h,e.alpha3ToNumeric=function(t){return u[c(t)]},e.alpha2ToNumeric=function(t){return u[t]},e.numericToAlpha3=p,e.numericToAlpha2=f,e.toAlpha3=function(t){if("string"==typeof t){if(/^[0-9]*$/.test(t))return p(t);if(2===t.length)return h(t.toUpperCase());if(3===t.length)return t.toUpperCase()}if("number"==typeof t)return p(t)},e.toAlpha2=d,e.getName=function(t,e){try{return i[e.toLowerCase()][d(t)]}catch(n){return}},e.getNames=function(t){var e=i[t.toLowerCase()];return void 0===e?{}:e},e.getAlpha2Code=function(t,e){try{var n,r=i[e.toLowerCase()];for(n in r)if(r.hasOwnProperty(n)&&r[n].toLowerCase()===t.toLowerCase())return n;return}catch(o){return}},e.getAlpha2Codes=function(){return o},e.getAlpha3Code=function(t,e){var n=this.getAlpha2Code(t,e);return n?this.toAlpha3(n):void 0},e.getAlpha3Codes=function(){return a},e.getNumericCodes=function(){return s},e.langs=function(){return Object.keys(i)},e.isValid=function(t){if(!t)return!1;var e=t.toString().toUpperCase();return a.hasOwnProperty(e)||o.hasOwnProperty(e)||s.hasOwnProperty(e)}},Lq6m:function(t,e,n){"use strict";var r=n("KOl+");n.d(e,"a",function(){return i});var i=function(){function t(){}return t.installed=function(){return!0===Object(r.a)(this.pluginRef)},t.getPlugin=function(){return function(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}(window,this.pluginRef)},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms||[]},t}()},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},MLd6:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("S5bw"),i=n("r4Kj"),o=n("t9fZ"),a=n("CcnG"),s=n("A7o+"),u=n("gg2H"),l=function(){function t(t,e,n){this._translateService=t,this._configService=e,this._i18nCountrySelectService=n,this._currentLang$=new r.a(1),this._initTranslate()}return t.prototype._initTranslate=function(){var t=this;this._defaultLang=this._configService.getDefaultLanguage(),this._currentLang=this._defaultLang,this._translateService.use(this._currentLang).pipe(Object(o.a)(1)).subscribe(function(){t._currentLang$.next(t._currentLang),t._i18nCountrySelectService.use([t._currentLang])},function(t){console.warn(t)})},t.prototype.getDefaultLang=function(){return this._defaultLang},t.prototype.onCurrentLangChange=function(){return this._currentLang$},t.prototype.getCurrentLang=function(){return this._currentLang},t.prototype.translate=function(t,e,n){var r;if(t)return t[e]&&this._translateService.instant(t[e])!==t[e]?r=this._translateService.instant(t[e]):t.translations&&t.translations[this._currentLang]&&t.translations[this._currentLang][e]?r=t.translations[this._currentLang][e]:t.locale&&t.locale.substring(0,2)===this._currentLang&&t[e]?r=t[e]:n&&t.translations&&t.translations[this._currentLang]&&t.translations[this._currentLang][n]?r=t.translations[this._currentLang][n]:n&&t.locale&&t.locale.substring(0,2)===this._currentLang&&t[n]?r=t[n]:t.translations&&t.translations[this._defaultLang]&&t.translations[this._defaultLang][e]?r=t.translations[this._defaultLang][e]:t[e]?r=t[e]:t[n]&&(r=t[n]),r},t.ngInjectableDef=a.T({factory:function(){return new t(a.X(s.j),a.X(i.a),a.X(u.c))},token:t,providedIn:"root"}),t}()},McSo:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Mzne:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ZYCi"),i=n("S5bw"),o=n("VnD/"),a=n("9B/o"),s=n("CcnG"),u=function(){function t(t,e){var n=this;this._inAppBrowser=t,this._router=e,this.onStateChange=new i.a(1),this.onUrlChange=new i.a(1),this.onQueryParamsChange=new i.a(1),this._urlStack=[],this._router.events.pipe(Object(o.a)(function(t){return t instanceof r.d})).subscribe(function(t){var e=t.urlAfterRedirects.split("?")[0],r=!1,i=n._getQueryParams(t.urlAfterRedirects),o=!0;for(var a in n._previousUrl!==e&&(n._previousUrl=e,n.onUrlChange.next(t),r=!0),n._queryParams)o=o&&i&&i[a]&&JSON.stringify(n._queryParams[a])===JSON.stringify(i[a]);for(var a in i)o=o&&n._queryParams&&n._queryParams[a]&&JSON.stringify(n._queryParams[a])===JSON.stringify(i[a]);o&&void 0!==n._queryParams||(n._queryParams=n._getQueryParams(t.urlAfterRedirects),n.onQueryParamsChange.next(n._queryParams),r=!0),r&&(n._currentUrl=t.urlAfterRedirects,n._pushUrl(n._currentUrl),n.onStateChange.next({state:t,params:n._queryParams}))},function(t){console.warn(t)})}return t.prototype._pushUrl=function(t){if(0===this._urlStack.length)this._urlStack.push(t);else{var e=this._urlStack[this._urlStack.length-1].split("?")[0],n=t.split("?")[0],r="";this._urlStack.length>1&&(r=this._urlStack[this._urlStack.length-2].split("?")[0]),n===e||-1!==r.indexOf("/details/")&&-1!==e.indexOf("/details/")&&-1!==n.indexOf("/details/")?this._urlStack[this._urlStack.length-1]=t:this._urlStack.push(t)}},t.prototype.navigate=function(t,e){return e||(e={}),e.skipLocationChange=!0,this._router.navigate(t,e)},t.prototype._getQueryParams=function(t){for(var e=t.split("?"),n={},r=0,i=(e&&2===e.length?e[1]:"").split("&");r<i.length;r++){var o=i[r];""!==o&&(n[decodeURIComponent(o.split("=")[0])]=decodeURIComponent(o.split("=")[1]))}return n},Object.defineProperty(t.prototype,"currentUrl",{get:function(){return this._currentUrl},enumerable:!0,configurable:!0}),t.prototype.getQueryParams=function(){return this._queryParams},t.prototype.openUrl=function(t,e){this._inAppBrowser.create(t,e?"_self":"_system")},t.prototype.openPostUrl=function(t,e){var n=document.createElement("form");for(var r in n.action=t,n.method="POST",n.style.visibility="hidden",e){var i=document.createElement("input");i.type="text",i.name=r,i.value=e[r],n.appendChild(i)}document.body.appendChild(n),n.submit(),setTimeout(function(){document.body.removeChild(n)},1e3)},t.prototype.back=function(){var t;this._urlStack.pop();var e=this._getQueryParams(t=this._urlStack.length>0?this._urlStack[this._urlStack.length-1]:"/main/map/search");t=t.split("?")[0],this.navigate([t],{queryParams:e})},t.ngInjectableDef=s.T({factory:function(){return new t(s.X(a.a),s.X(r.n))},token:t,providedIn:"root"}),t}()},OceT:function(t){t.exports={a:"2.5.0"}},"P8j/":function(t,e,n){"use strict";n.d(e,"f",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"a",function(){return d}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return v}),n.d(e,"d",function(){return f});var r=n("CcnG"),i=function(){var t={HEX:0,RGBA:1,HSLA:2};return t[t.HEX]="HEX",t[t.RGBA]="RGBA",t[t.HSLA]="HSLA",t}(),o=function(){return function(t,e,n,r){this.c=t,this.m=e,this.y=n,this.k=r}}(),a=function(){return function(t,e,n,r){this.h=t,this.s=e,this.l=n,this.a=r}}(),s=function(){return function(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}(),u=function(){return function(t,e,n,r){this.r=t,this.g=e,this.b=n,this.a=r}}(),l=function(){function t(){this.newValue=new r.m}return t.prototype.inputChange=function(t){var e=t.target.value;if(void 0===this.rg)this.newValue.emit(e);else{var n=parseFloat(e);this.newValue.emit({v:n,rg:this.rg})}},t}(),c=function(){function t(t){var e=this;this.elRef=t,this.dragEnd=new r.m,this.dragStart=new r.m,this.newValue=new r.m,this.listenerMove=function(t){return e.move(t)},this.listenerStop=function(){return e.stop()}}return t.prototype.mouseDown=function(t){this.start(t)},t.prototype.touchStart=function(t){this.start(t)},t.prototype.move=function(t){t.preventDefault(),this.setCursor(t)},t.prototype.start=function(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()},t.prototype.stop=function(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()},t.prototype.getX=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-e.left-window.pageXOffset},t.prototype.getY=function(t){var e=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-e.top-window.pageYOffset},t.prototype.setCursor=function(t){var e=this.elRef.nativeElement.offsetWidth,n=this.elRef.nativeElement.offsetHeight,r=Math.max(0,Math.min(this.getX(t),e)),i=Math.max(0,Math.min(this.getY(t),n));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:r/e,v:1-i/n,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:i/n,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:r/e,rgX:this.rgX})},t}(),h=function(){return function(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}(),p=function(){return function(t,e,n,r){this.h=t,this.s=e,this.v=n,this.a=r}}(),f=function(){function t(){this.active=null}return t.prototype.setActive=function(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t},t.prototype.hsva2hsla=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;if(0===r)return new a(e,0,0,i);if(0===n&&1===r)return new a(e,1,1,i);var o=r*(2-n)/2;return new a(e,r*n/(1-Math.abs(2*o-1)),o,i)},t.prototype.hsla2hsva=function(t){var e=Math.min(t.h,1),n=Math.min(t.s,1),r=Math.min(t.l,1),i=Math.min(t.a,1);if(0===r)return new s(e,0,0,i);var o=r+n*(1-Math.abs(2*r-1))/2;return new s(e,2*(o-r)/o,o,i)},t.prototype.hsvaToRgba=function(t){var e,n,r,i=t.h,o=t.s,a=t.v,s=t.a,l=Math.floor(6*i),c=6*i-l,h=a*(1-o),p=a*(1-c*o),f=a*(1-(1-c)*o);switch(l%6){case 0:e=a,n=f,r=h;break;case 1:e=p,n=a,r=h;break;case 2:e=h,n=a,r=f;break;case 3:e=h,n=p,r=a;break;case 4:e=f,n=h,r=a;break;case 5:e=a,n=h,r=p;break;default:e=0,n=0,r=0}return new u(e,n,r,s)},t.prototype.rgbaToCmyk=function(t){var e=1-Math.max(t.r,t.g,t.b);return 1===e?new o(0,0,0,1):new o((1-t.r-e)/(1-e),(1-t.g-e)/(1-e),(1-t.b-e)/(1-e),e)},t.prototype.rgbaToHsva=function(t){var e,n,r=Math.min(t.r,1),i=Math.min(t.g,1),o=Math.min(t.b,1),a=Math.min(t.a,1),u=Math.max(r,i,o),l=Math.min(r,i,o),c=u,h=u-l;if(n=0===u?0:h/u,u===l)e=0;else{switch(u){case r:e=(i-o)/h+(i<o?6:0);break;case i:e=(o-r)/h+2;break;case o:e=(r-i)/h+4;break;default:e=0}e/=6}return new s(e,n,c,a)},t.prototype.rgbaToHex=function(t,e){var n="#"+(1<<24|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return e&&(n+=(256|Math.round(255*t.a)).toString(16).substr(1)),n},t.prototype.denormalizeRGBA=function(t){return new u(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)},t.prototype.stringToHsva=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var n=null;t=(t||"").toLowerCase();var r=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new u(parseInt(t[2],10)/255,parseInt(t[3],10)/255,parseInt(t[4],10)/255,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return new a(parseInt(t[2],10)/360,parseInt(t[3],10)/100,parseInt(t[4],10)/100,isNaN(parseFloat(t[5]))?1:parseFloat(t[5]))}}];for(var i in r.push(e?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(t){return new u(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,parseInt(t[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(t){return new u(parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1)}}),r.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(t){return new u(parseInt(t[1]+t[1],16)/255,parseInt(t[2]+t[2],16)/255,parseInt(t[3]+t[3],16)/255,1)}}),r)if(r.hasOwnProperty(i)){var o=r[i],s=o.re.exec(t),l=s&&o.parse(s);if(l)return l instanceof u?n=this.rgbaToHsva(l):l instanceof a&&(n=this.hsla2hsva(l)),n}return n},t.prototype.outputFormat=function(t,e,n){switch("auto"===e&&(e=t.a<1?"rgba":"hex"),e){case"hsla":var r=this.hsva2hsla(t),i=new a(Math.round(360*r.h),Math.round(100*r.s),Math.round(100*r.l),Math.round(100*r.a)/100);return t.a<1||"always"===n?"hsla("+i.h+","+i.s+"%,"+i.l+"%,"+i.a+")":"hsl("+i.h+","+i.s+"%,"+i.l+"%)";case"rgba":var o=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===n?"rgba("+o.r+","+o.g+","+o.b+","+Math.round(100*o.a)/100+")":"rgb("+o.r+","+o.g+","+o.b+")";default:var s="always"===n||"forced"===n;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),s)}},t}(),d=function(){function t(t,e,n){this.elRef=t,this.cdRef=e,this.service=n,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[i.HEX,i.RGBA,i.HSLA],this.useRootViewContainer=!1}return t.prototype.handleEsc=function(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)},t.prototype.handleEnter=function(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)},t.prototype.ngOnInit=function(){var t=this;this.slider=new h(0,0,0,0),this.sliderDimMax=new p(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format="rgba"===this.cpOutputFormat?i.RGBA:"hsla"===this.cpOutputFormat?i.HSLA:i.HEX,this.listenerMouseDown=function(e){t.onMouseDown(e)},this.listenerResize=function(){t.onResize()},this.openDialog(this.initialColor,!1)},t.prototype.ngOnDestroy=function(){this.closeDialog()},t.prototype.ngAfterViewInit=function(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new p(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())},t.prototype.openDialog=function(t,e){void 0===e&&(e=!0),this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,e),this.openColorPicker()},t.prototype.closeDialog=function(){this.closeColorPicker()},t.prototype.setupDialog=function(t,e,n,r,i,o,a,s,u,l,c,h,p,f,d,g,v,m,y,_,b,w,S,C,x,E,O,I,T,M,P,k,A){this.setInitialColor(n),this.setColorMode(s),this.isIE10=10===function(){var t="";"undefined"!=typeof navigator&&(t=navigator.userAgent.toLowerCase());var e=t.indexOf("msie ");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=e,this.cpDisableInput=c,this.cpAlphaChannel=u,this.cpOutputFormat=l,this.cpDialogDisplay=o,this.cpIgnoredElements=h,this.cpSaveClickOutside=p,this.cpCloseClickOutside=f,this.useRootViewContainer=d,this.width=this.cpWidth=parseInt(r,10),this.height=this.cpHeight=parseInt(i,10),this.cpPosition=g,this.cpPositionOffset=parseInt(v,10),this.cpOKButton=C,this.cpOKButtonText=E,this.cpOKButtonClass=x,this.cpCancelButton=O,this.cpCancelButtonText=T,this.cpCancelButtonClass=I,this.fallbackColor=a||"#fff",this.setPresetConfig(y,_),this.cpMaxPresetColorsLength=b,this.cpPresetEmptyMessage=w,this.cpPresetEmptyMessageClass=S,this.cpAddColorButton=M,this.cpAddColorButtonText=k,this.cpAddColorButtonClass=P,this.cpRemoveColorButtonClass=A,m||(this.dialogArrowOffset=0),"inline"===o&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===l&&"always"!==u&&"forced"!==u&&(this.cpAlphaChannel="disabled")},t.prototype.setColorMode=function(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3;break;default:this.cpColorMode=1}},t.prototype.setInitialColor=function(t){this.initialColor=t},t.prototype.setPresetConfig=function(t,e){this.cpPresetLabel=t,this.cpPresetColors=e},t.prototype.setColorFromString=function(t,e,n){var r;void 0===e&&(e=!0),void 0===n&&(n=!0),("always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel)&&((r=this.service.stringToHsva(t,!0))||this.hsva)||(r=this.service.stringToHsva(t,!1)),r||this.hsva||(r=this.service.stringToHsva(this.fallbackColor,!1)),r&&(this.hsva=r,this.sliderH=this.hsva.h,this.updateColorPicker(e,n))},t.prototype.onResize=function(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()},t.prototype.onDragEnd=function(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})},t.prototype.onDragStart=function(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})},t.prototype.onMouseDown=function(t){this.isIE10||"popup"!==this.cpDialogDisplay||t.target===this.directiveElementRef.nativeElement||this.isDescendant(this.elRef.nativeElement,t.target)||this.isDescendant(this.directiveElementRef.nativeElement,t.target)||0!==this.cpIgnoredElements.filter(function(e){return e===t.target}).length||(this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.setColorFromString(this.initialColor,!1),this.directiveInstance.colorChanged(this.initialColor)),this.cpCloseClickOutside&&this.closeColorPicker())},t.prototype.onAcceptColor=function(t){t.stopPropagation(),"popup"===this.cpDialogDisplay&&this.closeColorPicker(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor)},t.prototype.onCancelColor=function(t){t.stopPropagation(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker()),this.directiveInstance.colorCanceled()},t.prototype.onFormatToggle=function(t){var e=this.dialogInputFields.length,n=((this.dialogInputFields.indexOf(this.format)+t)%e+e)%e;this.format=this.dialogInputFields[n]},t.prototype.onColorChange=function(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})},t.prototype.onHueChange=function(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})},t.prototype.onValueChange=function(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})},t.prototype.onAlphaChange=function(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})},t.prototype.onHexInput=function(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);var e=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(e=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);var n=e.test(t);n&&(t.length<5&&(t="#"+t.substring(1).split("").map(function(t){return t+t}).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:n,value:t,color:this.outputColor})}},t.prototype.onRedInput=function(t){var e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:n,value:e.r,color:this.outputColor})},t.prototype.onBlueInput=function(t){var e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:n,value:e.b,color:this.outputColor})},t.prototype.onGreenInput=function(t){var e=this.service.hsvaToRgba(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:n,value:e.g,color:this.outputColor})},t.prototype.onHueInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:e,value:this.hsva.h,color:this.outputColor})},t.prototype.onValueInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:e,value:this.hsva.v,color:this.outputColor})},t.prototype.onAlphaInput=function(t){var e=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;e&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:e,value:this.hsva.a,color:this.outputColor})},t.prototype.onLightnessInput=function(t){var e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:n,value:e.l,color:this.outputColor})},t.prototype.onSaturationInput=function(t){var e=this.service.hsva2hsla(this.hsva),n=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;n&&(e.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(e),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:n,value:e.s,color:this.outputColor})},t.prototype.onAddPresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors.filter(function(t){return t===e}).length||(this.cpPresetColors=this.cpPresetColors.concat(e),this.directiveInstance.presetColorsChanged(this.cpPresetColors))},t.prototype.onRemovePresetColor=function(t,e){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(function(t){return t!==e}),this.directiveInstance.presetColorsChanged(this.cpPresetColors)},t.prototype.openColorPicker=function(){var t=this;this.show||(this.show=!0,this.hidden=!0,setTimeout(function(){t.hidden=!1,t.setDialogPosition(),t.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||document.addEventListener("mousedown",this.listenerMouseDown),window.addEventListener("resize",this.listenerResize))},t.prototype.closeColorPicker=function(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||document.removeEventListener("mousedown",this.listenerMouseDown),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())},t.prototype.updateColorPicker=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!0),this.sliderDimMax){2===this.cpColorMode&&(this.hsva.s=0);var n=this.outputColor,r=this.service.hsva2hsla(this.hsva),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),l=this.service.denormalizeRGBA(this.service.hsvaToRgba(new s(this.sliderH||this.hsva.h,1,1,1)));e&&(this.hslaText=new a(Math.round(360*r.h),Math.round(100*r.s),Math.round(100*r.l),Math.round(100*r.a)/100),this.rgbaText=new u(o.r,o.g,o.b,Math.round(100*o.a)/100),this.hexText=this.service.rgbaToHex(o,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.hsva.a<1&&(this.format=this.hsva.a<1?i.RGBA:i.HEX),this.hueSliderColor="rgb("+l.r+","+l.g+","+l.b+")",this.alphaSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.slider=new h((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&n!==this.outputColor&&this.directiveInstance.colorChanged(this.outputColor)}},t.prototype.setDialogPosition=function(){if("inline"===this.cpDialogDisplay)this.position="relative";else{for(var t="static",e="",n=void 0,r=null,i=null,o=this.directiveElementRef.nativeElement.parentNode,a=this.dialogElement.nativeElement.offsetHeight;null!==o&&"HTML"!==o.tagName;){if("static"!==(t=(n=window.getComputedStyle(o)).getPropertyValue("position"))&&null===r&&(r=o),(e=n.getPropertyValue("transform"))&&"none"!==e&&null===i&&(i=o),"fixed"===t){r=i;break}o=o.parentNode}var s=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!r||r instanceof HTMLUnknownElement))this.top=s.top,this.left=s.left;else{null===r&&(r=o);var u=this.createDialogBox(r,"fixed"!==t);this.top=s.top-u.top,this.left=s.left-u.left}"fixed"===t&&(this.position="fixed"),"left"===this.cpPosition?(this.top+=s.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):"top"===this.cpPosition?(this.arrowTop=a-1,this.top-=a+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*s.width-this.dialogArrowOffset):"bottom"===this.cpPosition?(this.top+=s.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*s.width-this.dialogArrowOffset):(this.top+=s.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=s.width+this.dialogArrowSize-2)}},t.prototype.isDescendant=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},t.prototype.createDialogBox=function(t,e){return{top:t.getBoundingClientRect().top+(e?window.pageYOffset:0),left:t.getBoundingClientRect().left+(e?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}},t}(),g=function(){function t(t,e,n,i,o,a){this.injector=t,this.cfr=e,this.appRef=n,this.vcRef=i,this.elRef=o,this._service=a,this.dialogCreated=!1,this.ignoreChanges=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="right",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpPresetLabel="Preset colors",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new r.m(!0),this.cpToggleChange=new r.m(!0),this.cpSliderChange=new r.m(!0),this.cpSliderDragEnd=new r.m(!0),this.cpSliderDragStart=new r.m(!0),this.colorPickerOpen=new r.m(!0),this.colorPickerClose=new r.m(!0),this.colorPickerCancel=new r.m(!0),this.colorPickerSelect=new r.m(!0),this.colorPickerChange=new r.m(!1),this.cpPresetColorsChange=new r.m(!0)}return t.prototype.handleClick=function(){this.inputFocus()},t.prototype.handleFocus=function(){this.inputFocus()},t.prototype.handleInput=function(t){this.inputChange(t)},t.prototype.ngOnDestroy=function(){void 0!==this.cmpRef&&this.cmpRef.destroy()},t.prototype.ngOnChanges=function(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)},t.prototype.openDialog=function(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{var t=this.vcRef;if(this.dialogCreated=!0,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){var e=this.injector.get(this.appRef.componentTypes[0]);(t=e.vcRef||e.viewContainerRef||this.vcRef)===this.vcRef&&console.warn("You are using cpUseRootViewContainer, but the root component is not exposing viewContainerRef!Please expose it by adding 'public vcRef: ViewContainerRef' to the constructor.")}var n=this.cfr.resolveComponentFactory(d),i=r.D.fromResolvedProviders([],t.parentInjector);this.cmpRef=t.createComponent(n,0,i,[]),this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}},t.prototype.closeDialog=function(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()},t.prototype.stateChanged=function(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)},t.prototype.colorChanged=function(t,e){void 0===e&&(e=!0),this.ignoreChanges=e,this.colorPickerChange.emit(t)},t.prototype.colorCanceled=function(){this.colorPickerCancel.emit()},t.prototype.colorSelected=function(t){this.colorPickerSelect.emit(t)},t.prototype.inputFocus=function(){var t=this.elRef.nativeElement,e=this.cpIgnoredElements.filter(function(e){return e===t});this.cpDisabled||e.length||("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())},t.prototype.inputChange=function(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))},t.prototype.inputChanged=function(t){this.cpInputChange.emit(t)},t.prototype.sliderChanged=function(t){this.cpSliderChange.emit(t)},t.prototype.sliderDragEnd=function(t){this.cpSliderDragEnd.emit(t)},t.prototype.sliderDragStart=function(t){this.cpSliderDragStart.emit(t)},t.prototype.presetColorsChanged=function(t){this.cpPresetColorsChange.emit(t)},t}(),v=function(){return function(){}}()},Phjn:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("psW0");function i(t,e){return Object(r.a)(t,e,1)}},Pn9U:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("a3Cf"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},e.EncodingType={JPEG:0,PNG:1},e.MediaType={PICTURE:0,VIDEO:1,ALLMEDIA:2},e.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},e.PopoverArrowDirection={ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15},e.Direction={BACK:0,FRONT:1},e}return Object(r.d)(e,t),e.prototype.getPicture=function(t){return Object(i.cordova)(this,"getPicture",{callbackOrder:"reverse"},arguments)},e.prototype.cleanup=function(){return Object(i.cordova)(this,"cleanup",{platforms:["iOS"]},arguments)},e.pluginName="Camera",e.plugin="cordova-plugin-camera",e.pluginRef="navigator.camera",e.repo="https://github.com/apache/cordova-plugin-camera",e.platforms=["Android","Browser","iOS","Windows"],e}(i.IonicNativePlugin)},Qere:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("ZZ/e"),n("tB1I"),n("WPWp"),n("Mzne");var r=n("t9fZ"),i=function(){function t(t,e,n,r,i,o){this._alertController=t,this._modalController=e,this._modelService=n,this._routerService=r,this._themeService=i,this._translateService=o,this.colors=["#f00","#0f0","#00f","#ff0","#f0f","#0ff","#fff","#000"]}return t.prototype.ngOnInit=function(){this.feature&&(this.name=this.feature.properties.name,this.description=this.feature.properties.description,this.color=this.feature.properties.color||this._themeService.getPrimaryColor()),this.presetLabel=this._translateService.instant("modals.saveTrack.presetLabel")},t.prototype.save=function(){var t=this;if(this.name&&""!==this.name)this.feature.properties.name=this.name;else{var e=this.feature.properties.id.split("-")[this.feature.properties.id.split("-").length-1];this.feature.properties.name=this._translateService.instant("modals.saveTrack.trackName",{id:e})}""!==this.description&&(this.feature.properties.description=this.description),this.feature.properties.taxonomy={theme:["my-routes"]},this.feature.properties.color=this.color,this._modelService.addRecordedTrack(this.feature),this._routerService.onUrlChange.pipe(Object(r.a)(1)).subscribe(function(e){-1===e.urlAfterRedirects.indexOf("/main/details/"+t.feature.properties.id)?t._routerService.navigate(["/main/details/"+t.feature.properties.id],{replaceUrl:!0}).then(function(){t.dismiss()},function(e){console.warn(e),t.dismiss()}):t.dismiss()},function(t){console.warn(t)})},t.prototype.cancel=function(){var t=this;this.isEditMode?!this.isEditMode||this.feature.properties.name===this.name&&this.feature.properties.description===this.description&&this.feature.properties.color===this.color?this.dismiss():this._alertController.create({header:this._translateService.instant("alert.warning"),message:this._translateService.instant("alert.discardChanges"),buttons:[{text:this._translateService.instant("buttons.cancel"),role:"cancel",cssClass:"secondary"},{text:this._translateService.instant("buttons.ok"),handler:function(){t.dismiss()}}]}).then(function(t){t.present()}):this._alertController.create({header:this._translateService.instant("alert.warning"),message:this._translateService.instant("alert.discardRecordedTrack"),buttons:[{text:this._translateService.instant("buttons.cancel"),role:"cancel",cssClass:"secondary"},{text:this._translateService.instant("buttons.ok"),handler:function(){t._routerService.onUrlChange.pipe(Object(r.a)(1)).subscribe(function(e){-1===e.urlAfterRedirects.indexOf("/main/details/"+t.feature.properties.id)?t._routerService.navigate([t._modelService.getStartUrl()],{replaceUrl:!0}).then(function(){t.dismiss()},function(e){console.warn(e),t.dismiss()}):t.dismiss()},function(t){console.warn(t)})}}]}).then(function(t){t.present()})},t.prototype.dismiss=function(){this._modalController.dismiss()},t}()},Qgas:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("dC0D"),i=n("AxiF"),o=n("HJBe"),a=n("y3By");function s(t,e){return arguments.length>=2?function(n){return Object(a.a)(Object(r.a)(t,e),Object(i.a)(1),Object(o.a)(e))(n)}:function(e){return Object(a.a)(Object(r.a)(function(e,n,r){return t(e,n,r+1)}),Object(i.a)(1))(e)}}},Rney:function(t,e,n){"use strict";var r=n("T1DM"),i=n("mrSG"),o=n("MGBS"),a=n("zotm"),s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return i.d(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(a.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(o.a),l=n("6blF"),c=n("isby");function h(t){return!Object(c.a)(t)&&t-parseFloat(t)+1>=0}var p=n("nkY7");function f(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function d(t,e){return void 0===e&&(e=r.a),n=function(){return function(t,e,n){void 0===t&&(t=0);var i=-1;return h(e)?i=Number(e)<1?1:Number(e):Object(p.a)(e)&&(n=e),Object(p.a)(n)||(n=r.a),new l.a(function(e){var r=h(t)?t:+t-n.now();return n.schedule(f,r,{index:0,period:i,subscriber:e})})}(t,e)},function(t){return t.lift(new s(n))};var n}n.d(e,"a",function(){return d})},"Rt+L":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("KOl+");function i(t,e,n,i){return i=Array.from(i),Object(r.f)(t,e,n).apply(this,i)}},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=n("FFOo"),s=n("pugT");function u(){return function(t){return t.lift(new l(t))}}var l=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.d(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.d(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,p={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.d(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function d(){return new i.a}function g(){return function(t){return u()((e=d,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,p);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return g})},S5bw:function(t,e,n){"use strict";var r,i=n("mrSG"),o=n("K9Ia"),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i.d(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n("h9Dq").a),s=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.d(e,t),e}(n("CS9Q").a))(a),u=n("pugT"),l=n("FFOo"),c=n("G5J1"),h=n("F/XL"),p=n("6blF");r||(r={});var f=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t;switch(this.kind){case"N":return Object(h.a)(this.value);case"E":return t=this.error,new p.a(function(e){return e.error(t)});case"C":return Object(c.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),d=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return i.d(e,t),e.dispatch=function(t){t.notification.observe(t.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new g(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(f.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(f.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(f.createComplete()),this.unsubscribe()},e}(l.a),g=function(){return function(t,e){this.notification=t,this.destination=e}}(),v=n("8g8A"),m=n("uMaO");n.d(e,"a",function(){return y});var y=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i.d(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new _(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new v.a;if(this.isStopped||this.hasError?e=u.a.EMPTY:(this.observers.push(t),e=new m.a(this,t)),i&&t.add(t=new d(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||s).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(o.a),_=function(){return function(t,e){this.time=t,this.value=e}}()},T016:function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},T1DM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("h9Dq"),i=new(n("CS9Q").a)(r.a)},Txjg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("Zn8D");function i(){return Object(r.a)(1)}},"VnD/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.d(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.a)},WPWp:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("aSns"),i=n("r4Kj"),o=n("BtSu"),a=n("CcnG"),s=n("Ip0R"),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},l={primary:"#3880ff",secondary:"#0cd1e8",tertiary:"#ff0000",select:"#00ffff",success:"#10dc60",warning:"#ffce00",danger:"#f04141",dark:"#000000",medium:"#989aa2",light:"#ffffff",fontXxxlg:"28px",fontXxlg:"25px",fontXlg:"22px",fontLg:"20px",fontMd:"17px",fontSm:"14px",fontXsm:"12px",fontFamilyHeader:"Roboto Slab",fontFamilyContent:"Roboto"},c=function(){function t(t,e,n){this._configService=t,this._deviceService=e,this._document=n,this._iconsChar={},this._style=this._configService.getStyle();var r=getComputedStyle(this._deviceService.host);r.getPropertyValue("--ion-color-primary")&&(this._style.primary=r.getPropertyValue("--ion-color-primary").trim()),r.getPropertyValue("--ion-color-secondary")&&(this._style.secondary=r.getPropertyValue("--ion-color-secondary").trim()),r.getPropertyValue("--ion-color-tertiary")&&(this._style.tertiary=r.getPropertyValue("--ion-color-tertiary").trim()),r.getPropertyValue("--ion-color-light")&&(this._style.light=r.getPropertyValue("--ion-color-light").trim()),r.getPropertyValue("--ion-color-medium")&&(this._style.medium=r.getPropertyValue("--ion-color-medium").trim()),r.getPropertyValue("--ion-color-dark")&&(this._style.dark=r.getPropertyValue("--ion-color-dark").trim()),r.getPropertyValue("--ion-color-success")&&(this._style.success=r.getPropertyValue("--ion-color-success").trim()),r.getPropertyValue("--ion-color-warning")&&(this._style.warning=r.getPropertyValue("--ion-color-warning").trim()),r.getPropertyValue("--ion-color-danger")&&(this._style.danger=r.getPropertyValue("--ion-color-danger").trim()),r.getPropertyValue("--font-xxxlg")&&(this._style.fontXxxlg=r.getPropertyValue("--font-xxxlg").trim()),r.getPropertyValue("--font-xxlg")&&(this._style.fontXxlg=r.getPropertyValue("--font-xxlg").trim()),r.getPropertyValue("--font-xlg")&&(this._style.fontXlg=r.getPropertyValue("--font-xlg").trim()),r.getPropertyValue("--font-lg")&&(this._style.fontLg=r.getPropertyValue("--font-lg").trim()),r.getPropertyValue("--font-md")&&(this._style.fontMd=r.getPropertyValue("--font-md").trim()),r.getPropertyValue("--font-sm")&&(this._style.fontSm=r.getPropertyValue("--font-sm").trim()),r.getPropertyValue("--font-xsm")&&(this._style.fontXsm=r.getPropertyValue("--font-xsm").trim()),r.getPropertyValue("font-family")&&(this._style.fontFamilyHeader=r.getPropertyValue("font-family").trim(),this._style.fontFamilyContent=r.getPropertyValue("font-family").trim()),r.getPropertyValue("--font-family-header")&&(this._style.fontFamilyHeader=r.getPropertyValue("--font-family-header").trim()),r.getPropertyValue("--font-family-content")&&(this._style.fontFamilyContent=r.getPropertyValue("--font-family-content").trim()),this._setVariables(this._style),this.setTheme(this._style.theme)}return t.prototype.setTheme=function(t){switch(t){case"sat":this._deviceService.host.classList.add("wm-theme-"+t)}},t.prototype.getCurrentTheme=function(){var t="webmapp";switch(this._style.theme){case"sat":t="sat";break;case"webmapp":default:t="webmapp"}return t},t.prototype._setVariables=function(t){var e=this._CSSTextGenerator(t);this._setGlobalCSS(e)},t.prototype.setVariable=function(t,e){this._deviceService.host.style.setProperty(t,e)},t.prototype.contrast=function(t,e){return void 0===e&&(e=.8),"#000000"===t?"#ffffff":"#ffffff"===t?"#000000":(t=r(t)).isDark()?t.lighten(e).hex():t.darken(e).hex()},t.prototype.darken=function(t,e){return void 0===e&&(e=.8),(t=r(t)).darken(e).hex()},t.prototype.lighten=function(t,e){return void 0===e&&(e=.8),(t=r(t)).lighten(e).hex()},t.prototype.fade=function(t,e){return void 0===e&&(e=.8),(t=r(t)).fade(e).hex()},t.prototype.getRgb=function(t){return r(t).color.join(",")},t.prototype.getPrimaryColor=function(){return(this._style.primary?this._style.primary:l.primary).replace(/ /g,"")},t.prototype.getSecondaryColor=function(){return(this._style.secondary?this._style.secondary:l.secondary).replace(/ /g,"")},t.prototype.getTertiaryColor=function(){return(this._style.tertiary?this._style.tertiary:l.tertiary).replace(/ /g,"")},t.prototype.getSelectColor=function(){return(this._style.select?this._style.select:l.select).replace(/ /g,"")},t.prototype.getSuccessColor=function(){return(this._style.success?this._style.success:l.success).replace(/ /g,"")},t.prototype.getDangerColor=function(){return(this._style.danger?this._style.danger:l.danger).replace(/ /g,"")},t.prototype.getFontSize=function(t){switch(t.toLowerCase()){case"xxxlg":return parseInt(getComputedStyle(this._deviceService.host).getPropertyValue("--font-xxxlg").replace(/px/g,""));case"xxlg":return parseInt(getComputedStyle(this._deviceService.host).getPropertyValue("--font-xxlg").replace(/px/g,""));case"xlg":return parseInt(getComputedStyle(this._deviceService.host).getPropertyValue("--font-xlg").replace(/px/g,""));case"lg":return parseInt(getComputedStyle(this._deviceService.host).getPropertyValue("--font-lg").replace(/px/g,""));case"md":return parseInt(getComputedStyle(this._deviceService.host).getPropertyValue("--font-md").replace(/px/g,""));case"sm":default:return parseInt(getComputedStyle(this._deviceService.host).getPropertyValue("--font-sm").replace(/px/g,""));case"xsm":return parseInt(getComputedStyle(this._deviceService.host).getPropertyValue("--font-xsm").replace(/px/g,""))}},t.prototype.getHeaderFontFamily=function(){return this._style.fontFamilyHeader?this._style.fontFamilyHeader:l.fontFamilyHeader},t.prototype.getContentFontFamily=function(){return this._style.fontFamilyContent?this._style.fontFamilyContent:l.fontFamilyContent},t.prototype.getIconUnicode=function(t){if(this._iconsChar[t])return this._iconsChar[t];var e=document.createElement("i");e.className=t,document.body.appendChild(e);var n=window.getComputedStyle(e,":before").content.replace(/'|"/g,"");return e.remove(),this._iconsChar[t]=n,n},t.prototype._setGlobalCSS=function(t){this._deviceService.host.style.cssText=t},t.prototype._CSSTextGenerator=function(t){var e=(t=u({},l,t)).primary,n=t.secondary,i=t.tertiary,o=t.success,a=t.warning,s=t.danger,c=t.dark,h=t.medium,p=t.light,f=t.fontXxxlg,d=t.fontXxlg,g=t.fontXlg,v=t.fontLg,m=t.fontMd,y=t.fontSm,_=t.fontXsm,b=t.fontFamilyHeader,w=t.fontFamilyContent;return"\n      --ion-color-base:  light};\n      --ion-color-contrast: "+c+";\n      --ion-background-color: "+p+";\n      --ion-text-color: "+c+";\n      --ion-toolbar-background-color: "+this.contrast(p,.1)+";\n      --ion-toolbar-text-color: "+this.contrast(c,.1)+";\n      --ion-item-background-color: "+this.contrast(p,.3)+";\n      --ion-item-text-color: "+this.contrast(c,.3)+";\n      --ion-color-primary: "+e+";\n      --ion-color-primary-rgb: "+r(e).array().toString()+";\n      --ion-color-primary-contrast: "+this.contrast(e,10)+";\n      --ion-color-primary-contrast-rgb: "+r(this.contrast(e,10)).array().toString()+";\n      --ion-color-primary-shade:  "+r(e).darken(.1)+";\n      --ion-color-primary-tint:  "+r(e).lighten(.1)+";\n      --ion-color-secondary: "+n+";\n      --ion-color-secondary-rgb: "+r(n).array().toString()+";\n      --ion-color-secondary-contrast: "+this.contrast(n,10)+";\n      --ion-color-secondary-contrast-rgb: "+r(this.contrast(n,10)).array().toString()+";\n      --ion-color-secondary-shade:  "+r(n).darken(.1)+";\n      --ion-color-secondary-tint: "+r(n).lighten(.1)+";\n      --ion-color-tertiary:  "+i+";\n      --ion-color-tertiary-rgb: "+r(i).array().toString()+";\n      --ion-color-tertiary-contrast: "+this.contrast(i,10)+";\n      --ion-color-tertiary-contrast-rgb: "+r(this.contrast(i,10)).array().toString()+";\n      --ion-color-tertiary-shade: "+r(i).darken(.1)+";\n      --ion-color-tertiary-tint:  "+r(i).lighten(.1)+";\n      --ion-color-success: "+o+";\n      --ion-color-success-rgb: "+r(o).array().toString()+";\n      --ion-color-success-contrast: "+this.contrast(o,10)+";\n      --ion-color-success-contrast-rgb: "+r(this.contrast(o,10)).array().toString()+";\n      --ion-color-success-shade: "+r(o).darken(.1)+";\n      --ion-color-success-tint: "+r(o).lighten(.1)+";\n      --ion-color-warning: "+a+";\n      --ion-color-warning-rgb: "+r(a).array().toString()+";\n      --ion-color-warning-contrast: "+this.contrast(a,10)+";\n      --ion-color-warning-contrast-rgb: "+r(this.contrast(a,10)).array().toString()+";\n      --ion-color-warning-shade: "+r(a).darken(.1)+";\n      --ion-color-warning-tint: "+r(a).lighten(.1)+";\n      --ion-color-danger: "+s+";\n      --ion-color-danger-rgb: "+r(s).array().toString()+";\n      --ion-color-danger-contrast: "+this.contrast(s,10)+";\n      --ion-color-danger-contrast-rgb: "+r(this.contrast(s,10)).array().toString()+";\n      --ion-color-danger-shade: "+r(s).darken(.1)+";\n      --ion-color-danger-tint: "+r(s).lighten(.1)+";\n      --ion-color-dark: "+c+";\n      --ion-color-dark-rgb: "+r(c).array().toString()+";\n      --ion-color-dark-contrast: "+this.contrast(c,10)+";\n      --ion-color-dark-contrast-rgb: "+r(this.contrast(c,10)).array().toString()+";\n      --ion-color-dark-shade: "+r(c).darken(.1)+";\n      --ion-color-dark-tint: "+r(c).lighten(.1)+";\n      --ion-color-medium: "+h+";\n      --ion-color-medium-rgb: "+r(h).array().toString()+";\n      --ion-color-medium-contrast: "+this.contrast(h,10)+";\n      --ion-color-medium-contrast-rgb: "+r(this.contrast(h,10)).array().toString()+";\n      --ion-color-medium-shade: "+r(h).darken(.1)+";\n      --ion-color-medium-tint: "+r(h).lighten(.1)+";\n      --ion-color-light: "+p+";\n      --ion-color-light-rgb: "+r(p).array().toString()+";\n      --ion-color-light-contrast: "+this.contrast(p,10)+";\n      --ion-color-light-contrast-rgb: "+r(this.contrast(p,10)).array().toString()+";\n      --ion-color-light-shade: "+r(p).darken(.1)+";\n      --ion-color-light-tint: "+r(p).lighten(.1)+";\n      \n      --font-xxxlg: "+f+";\n      --font-xxlg: "+d+";\n      --font-xlg: "+g+";\n      --font-lg: "+v+";\n      --font-md: "+m+";\n      --font-sm: "+y+";\n      --font-xsm: "+_+";\n\n      --font-family-header: "+b+";\n      --font-family-content: "+w+";\n    "},t.ngInjectableDef=a.T({factory:function(){return new t(a.X(i.a),a.X(o.a),a.X(s.c))},token:t,providedIn:"root"}),t}()},Y5xG:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n("ZZ/e"),n("K9bu"),n("r4Kj"),n("flj8"),n("MLd6");var r=function(){function t(t,e,n,r,i,o){this._alertController=t,this._accountService=e,this._configService=n,this._languagesService=r,this._modalController=i,this._translateService=o;var a=this._configService.getEndEventConfig();this.titleLabel=this._languagesService.translate(a,"title"),this.submitLabel=this._languagesService.translate(a,"buttonLabel"),this.titleLabel||(this.titleLabel=this._translateService.instant("events.end.title")),this.submitLabel||(this.submitLabel=this._translateService.instant("event.end.submit")),this.formConfig=this._configService.getEndEventForm()}return Object.defineProperty(t.prototype,"type",{set:function(t){this.eventType="end"===t?"end":"update",this._updateConfiguration()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formComponent",{set:function(t){var e=this;this._formComponent=t,this._formComponent.onValidityChange.subscribe(function(t){e.valid=t},function(t){console.warn(t)})},enumerable:!0,configurable:!0}),t.prototype._updateConfiguration=function(){var t;switch(this.eventType){case"update":t=this._configService.getUpdateEventConfig(),this.formConfig=this._configService.getUpdateEventForm();break;case"end":default:t=this._configService.getEndEventConfig(),this.formConfig=this._configService.getEndEventForm()}this.titleLabel=this._languagesService.translate(t,"title"),this.submitLabel=this._languagesService.translate(t,"buttonLabel"),this.titleLabel||(this.titleLabel=this._translateService.instant("events."+this.eventType+".title")),this.submitLabel||(this.submitLabel=this._translateService.instant("event."+this.eventType+".submit"))},t.prototype.ngOnInit=function(){},t.prototype.submit=function(){var t=this;if(!this.sending){this._formComponent.validate(!0);var e=JSON.parse(JSON.stringify(this._formComponent.value));if(this.feature&&this.feature.properties){for(var n=0,r=this.formConfig.fields;n<r.length;n++){var i=r[n];i.append&&"string"==typeof i.append&&"string"==typeof e[i.name]&&"string"==typeof this.feature.properties[i.append]&&(e[i.name]=this.feature.properties[i.append]+i.appendJoin+e[i.name])}if("update"!==this.eventType){var o=this._configService.getEndEventValidWebmappCategories(),a=this._configService.getEndEventCompletedWebmappCategories(),s=this.feature.properties.taxonomy&&this.feature.properties.taxonomy.webmapp_category?this.feature.properties.taxonomy.webmapp_category:[];for(var u in s)s[u]=s[u]+"";for(var l=0,c=o;l<c.length;l++){var h=c[l];-1!==s.indexOf(h+"")&&s.splice(s.indexOf(h+""),1)}for(var p=0,f=a;p<f.length;p++){var d=f[p];-1===s.indexOf(d+"")&&s.push(d+"")}e.webmapp_category=s}}this._formComponent.valid&&(this.sending=!0,this._accountService.updatePoi(this.feature,e).subscribe(function(){t.sending=!1;var e=t._languagesService.translate(t.formConfig,"success");if(!e)switch(t.eventType){case"update":e=t._translateService.instant("events.update.success");break;case"end":default:e=t._translateService.instant("events.end.success")}t._alertController.create({header:t._translateService.instant("alert.warning"),message:e,buttons:[{text:t._translateService.instant("buttons.ok")}]}).then(function(t){t.present()}),t.dismiss()},function(e){console.warn(e),t._alertController.create({header:t._translateService.instant("alert.warning"),message:t._translateService.instant("alert.genericError"),buttons:[{text:t._translateService.instant("buttons.ok")}]}).then(function(e){e.present(),t.sending=!1})}))}},t.prototype.dismiss=function(){this._modalController.dismiss().catch(function(){})},t}()},ZYCi:function(t,e,n){"use strict";var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),a=n("F/XL"),s=n("0/uQ"),u=n("26FU"),l=n("6blF");function c(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}c.prototype=Object.create(Error.prototype);var h=c,p=n("dzgT"),f=n("G5J1");function d(t){return new l.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(f.b)()).subscribe(e)})}var g=n("K9Ia"),v=n("67Y/"),m=n("Txjg"),y=n("VnD/"),_=n("AxiF"),b=n("FFOo");function w(t){return void 0===t&&(t=x),function(e){return e.lift(new S(t))}}var S=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new C(t,this.errorFactory))},t}(),C=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.d(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(b.a);function x(){return new h}var E=n("HJBe"),O=n("mChF");function I(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(y.a)(function(e,n){return t(e,n,r)}):O.a,Object(_.a)(1),n?Object(E.a)(e):w(function(){return new h}))}}var T=n("MGBS"),M=n("rPjj"),P=n("zotm");function k(t){return function(e){var n=new A(t),r=e.lift(n);return n.caught=r}}var A=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new R(t,this.selector,this.caught))},t}(),R=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.d(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new M.a(this,void 0,void 0);this.add(r),Object(P.a)(this,n,void 0,void 0,r)}},e}(T.a),j=n("t9fZ");function F(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(y.a)(function(e,n){return t(e,n,r)}):O.a,Object(j.a)(1),n?Object(E.a)(e):w(function(){return new h}))}}var L=n("psW0"),D=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new N(t,this.predicate,this.thisArg,this.source))},t}(),N=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.d(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(b.a),z=n("15JJ"),B=n("dEwP"),G=n("nkY7"),V=n("dC0D"),U=n("Phjn"),H=n("Qgas"),q=n("+umK"),W=n("2Bdj");function Z(t,e,n){return function(r){return r.lift(new X(t,e,n))}}var X=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new K(t,this.nextOrObserver,this.error,this.complete))},t}(),K=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=q.a,o._tapError=q.a,o._tapComplete=q.a,o._tapError=r||q.a,o._tapComplete=i||q.a,Object(W.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||q.a,o._tapError=n.error||q.a,o._tapComplete=n.complete||q.a),o}return r.d(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(b.a),Y=n("pugT"),J=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.callback))},t}(),Q=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new Y.a(n)),r}return r.d(e,t),e}(b.a),$=n("Zn8D"),tt=n("ZYjt");n.d(e,"u",function(){return kn}),n.d(e,"B",function(){return Gn}),n.d(e,"w",function(){return Fn}),n.d(e,"C",function(){return Vn}),n.d(e,"D",function(){return Un}),n.d(e,"y",function(){return Dn}),n.d(e,"x",function(){return Ln}),n.d(e,"A",function(){return Bn}),n.d(e,"v",function(){return Rn}),n.d(e,"z",function(){return zn}),n.d(e,"E",function(){return Mn}),n.d(e,"p",function(){return Cn}),n.d(e,"d",function(){return rt}),n.d(e,"e",function(){return nt}),n.d(e,"m",function(){return hn}),n.d(e,"n",function(){return bn}),n.d(e,"l",function(){return fn}),n.d(e,"j",function(){return Pn}),n.d(e,"k",function(){return Hn}),n.d(e,"o",function(){return jn}),n.d(e,"b",function(){return Sn}),n.d(e,"f",function(){return In}),n.d(e,"h",function(){return On}),n.d(e,"i",function(){return En}),n.d(e,"q",function(){return Tn}),n.d(e,"a",function(){return le}),n.d(e,"g",function(){return _t}),n.d(e,"r",function(){return gn}),n.d(e,"c",function(){return Vt}),n.d(e,"s",function(){return Gt}),n.d(e,"t",function(){return yt});var et=function(){return function(t,e){this.id=t,this.url=e}}(),nt=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(et),rt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(et),it=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(et),ot=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(et),at=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),st=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),ut=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(r.d)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(et),lt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),ct=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(et),ht=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),pt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),ft=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),dt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),gt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),vt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),mt=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),yt=function(){return function(){}}(),_t="primary",bt=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function wt(t){return new bt(t)}var St="ngNavigationCancelingError";function Ct(t){var e=Error("NavigationCancelingError: "+t);return e[St]=!0,e}function xt(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Et=function(){return function(t,e){this.routes=t,this.module=e}}();function Ot(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];It(r,Tt(e,r))}}function It(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==_t)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Ot(t.children,e)}function Tt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Mt(t){var e=t.children&&t.children.map(Mt),n=e?Object(r.a)({},t,{children:e}):Object(r.a)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_t&&(n.component=yt),n}function Pt(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function kt(t){return Array.prototype.concat.apply([],t)}function At(t){return t.length>0?t[t.length-1]:null}function Rt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function jt(t){return Object(o.tb)(t)?t:Object(o.ub)(t)?Object(s.a)(Promise.resolve(t)):Object(a.a)(t)}function Ft(t,e,n){return n?function(t,e){return Pt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!zt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!zt(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!zt(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!zt(n.segments,a)&&!!n.children[_t]&&e(n.children[_t],r,s)}(e,n,n.segments)}(t.root,e.root)}var Lt=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ut.serialize(this)},t}(),Dt=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Rt(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Ht(this)},t}(),Nt=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=wt(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Yt(this)},t}();function zt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Bt(t,e){var n=[];return Rt(t.children,function(t,r){r===_t&&(n=n.concat(e(t,r)))}),Rt(t.children,function(t,r){r!==_t&&(n=n.concat(e(t,r)))}),n}var Gt=function(){return function(){}}(),Vt=function(){function t(){}return t.prototype.parse=function(t){var e=new ee(t);return new Lt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Ht(e);if(n){var r=e.children[_t]?t(e.children[_t],!1):"",i=[];return Rt(e.children,function(e,n){n!==_t&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=Bt(e,function(n,r){return r===_t?[t(e.children[_t],!1)]:[r+":"+t(n,!1)]});return Ht(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return Wt(t)+"="+Wt(e)}).join("&"):Wt(t)+"="+Wt(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Ut=new Vt;function Ht(t){return t.segments.map(function(t){return Yt(t)}).join("/")}function qt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wt(t){return qt(t).replace(/%3B/gi,";")}function Zt(t){return qt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xt(t){return decodeURIComponent(t)}function Kt(t){return Xt(t.replace(/\+/g,"%20"))}function Yt(t){return""+Zt(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+Zt(t)+"="+Zt(e[t])}).join(""));var e}var Jt=/^[^\/()?;=#]+/;function Qt(t){var e=t.match(Jt);return e?e[0]:""}var $t=/^[^=?&#]+/,te=/^[^?&#]+/,ee=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[_t]=new Dt(t,e)),n},t.prototype.parseSegment=function(){var t=Qt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Nt(Xt(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Qt(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Qt(this.remaining);r&&this.capture(n=r)}t[Xt(e)]=Xt(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match($t))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(te);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=Kt(n),a=Kt(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Qt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=_t);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[_t]:new Dt([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),ne=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=re(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=re(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=ie(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return ie(t,this._root).map(function(t){return t.value})},t}();function re(t,e){var n,i;if(t===e.value)return e;try{for(var o=Object(r.j)(e.children),a=o.next();!a.done;a=o.next()){var s=re(t,a.value);if(s)return s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}function ie(t,e){var n,i;if(t===e.value)return[e];try{for(var o=Object(r.j)(e.children),a=o.next();!a.done;a=o.next()){var s=ie(t,a.value);if(s.length)return s.unshift(e),s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return[]}var oe=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function ae(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var se=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,fe(r,e),r}return Object(r.d)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(ne);function ue(t,e){var n=function(t,e){var n=new he([],{},{},"",{},_t,e,null,t.root,-1,{});return new pe("",new oe(n,[]))}(t,e),r=new u.a([new Nt("",{})]),i=new u.a({}),o=new u.a({}),a=new u.a({}),s=new u.a(""),l=new le(r,i,a,s,o,_t,e,n.root);return l.snapshot=n.root,new se(new oe(l,[]),n)}var le=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(v.a)(function(t){return wt(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(v.a)(function(t){return wt(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function ce(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var o=n[i],a=n[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(a.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object(r.a)({},t.params,e.params),data:Object(r.a)({},t.data,e.data),resolve:Object(r.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var he=function(){function t(t,e,n,r,i,o,a,s,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=wt(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=wt(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),pe=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,fe(r,n),r}return Object(r.d)(e,t),e.prototype.toString=function(){return de(this._root)},e}(ne);function fe(t,e){e.value._routerState=t,e.children.forEach(function(e){return fe(t,e)})}function de(t){var e=t.children.length>0?" { "+t.children.map(de).join(", ")+" } ":"";return""+t.value+e}function ge(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Pt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ve(t,e){var n,r;return Pt(t.params,e.params)&&zt(n=t.url,r=e.url)&&n.every(function(t,e){return Pt(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||ve(t.parent,e.parent))}function me(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ye(t,e,n,r,i){var o={};return r&&Rt(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Lt(n.root===t?e:function t(e,n,r){var i={};return Rt(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new Dt(e.segments,i)}(n.root,t,e),o,i)}var _e=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&me(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==At(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),be=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function we(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[_t]:""+t}function Se(t,e,n){if(t||(t=new Dt([],{})),0===t.segments.length&&t.hasChildren())return Ce(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=we(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ie(s,u,a))return o;r+=2}else{if(!Ie(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Dt(t.segments.slice(0,r.pathIndex),{});return o.children[_t]=new Dt(t.segments.slice(r.pathIndex),t.children),Ce(o,0,i)}return r.match&&0===i.length?new Dt(t.segments,{}):r.match&&!t.hasChildren()?xe(t,e,n):r.match?Ce(t,0,i):xe(t,e,n)}function Ce(t,e,n){if(0===n.length)return new Dt(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[_t]=t,e):void 0===t[0].outlets?((n={})[_t]=t,n):t[0].outlets}(n),i={};return Rt(r,function(n,r){null!==n&&(i[r]=Se(t.children[r],e,n))}),Rt(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Dt(t.segments,i)}function xe(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Ee(n[i].outlets);return new Dt(r,o)}if(0===i&&me(n[0]))r.push(new Nt(t.segments[e].path,n[0])),i++;else{var a=we(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&me(s)?(r.push(new Nt(a,Oe(s))),i+=2):(r.push(new Nt(a,{})),i++)}}return new Dt(r,{})}function Ee(t){var e={};return Rt(t,function(t,n){null!==t&&(e[n]=xe(new Dt([],{}),0,t))}),e}function Oe(t){var e={};return Rt(t,function(t,n){return e[n]=""+t}),e}function Ie(t,e,n){return t==n.path&&Pt(e,n.parameters)}var Te=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ge(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=ae(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Rt(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=ae(t),o=t.value.component?r.children:e;Rt(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=ae(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new vt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dt(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(ge(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Me(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Me(t){ge(t.value),t.children.forEach(Me)}function Pe(t){return"function"==typeof t}function ke(t){return t instanceof Lt}var Ae=function(){return function(t){this.segmentGroup=t||null}}(),Re=function(){return function(t){this.urlTree=t}}();function je(t){return new l.a(function(e){return e.error(new Ae(t))})}function Fe(t){return new l.a(function(e){return e.error(new Re(t))})}function Le(t){return new l.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var De=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(o.x)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,_t).pipe(Object(v.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(k(function(e){if(e instanceof Re)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ae)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,_t).pipe(Object(v.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(k(function(t){if(t instanceof Ae)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new Dt([],((r={})[_t]=t,r)):t;return new Lt(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(v.a)(function(t){return new Dt([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(a.a)({});var o=[],s=[],u={};return Rt(n,function(n,i){var a,l,c=(a=i,l=n,r.expandSegmentGroup(t,e,l,a)).pipe(Object(v.a)(function(t){return u[i]=t}));i===_t?o.push(c):s.push(c)}),a.a.apply(null,o.concat(s)).pipe(Object(m.a)(),I(),Object(v.a)(function(){return u}))}(n.children)},t.prototype.expandSegment=function(t,e,n,i,o,s){var u=this;return a.a.apply(void 0,Object(r.i)(n)).pipe(Object(v.a)(function(r){return u.expandSegmentAgainstRoute(t,e,n,r,i,o,s).pipe(k(function(t){if(t instanceof Ae)return Object(a.a)(null);throw t}))}),Object(m.a)(),F(function(t){return!!t}),k(function(t,n){if(t instanceof h||"EmptyError"===t.name){if(u.noLeftoversInUrl(e,i,o))return Object(a.a)(new Dt([],{}));throw new Ae(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Ge(r)!==o?je(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):je(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Fe(o):this.lineralizeSegments(n,o).pipe(Object(L.a)(function(n){var o=new Dt(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=Ne(e,r,i),u=s.consumedSegments,l=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return je(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Fe(h):this.lineralizeSegments(r,h).pipe(Object(L.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(v.a)(function(t){return n._loadedConfig=t,new Dt(i,{})})):Object(a.a)(new Dt(i,{}));var s=Ne(e,n,i),u=s.consumedSegments,l=s.lastChild;if(!s.matched)return je(e);var c=i.slice(l);return this.getChildConfig(t,n,i).pipe(Object(L.a)(function(t){var n=t.module,i=t.routes,s=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(function(n){return Be(t,e,n)&&Ge(n)!==_t})}(t,n)?{segmentGroup:ze(new Dt(e,function(t,e){var n,i,o={};o[_t]=e;try{for(var a=Object(r.j)(t),s=a.next();!s.done;s=a.next()){var u=s.value;""===u.path&&Ge(u)!==_t&&(o[Ge(u)]=new Dt([],{}))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}(i,new Dt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(function(n){return Be(t,e,n)})}(t,n)?{segmentGroup:ze(new Dt(t.segments,function(t,e,n,i){var o,a,s={};try{for(var u=Object(r.j)(n),l=u.next();!l.done;l=u.next()){var c=l.value;Be(t,e,c)&&!i[Ge(c)]&&(s[Ge(c)]=new Dt([],{}))}}catch(h){o={error:h}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return Object(r.a)({},i,s)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,c,i),l=s.segmentGroup,h=s.slicedSegments;return 0===h.length&&l.hasChildren()?o.expandChildren(n,i,l).pipe(Object(v.a)(function(t){return new Dt(u,t)})):0===i.length&&0===h.length?Object(a.a)(new Dt(u,{})):o.expandSegment(n,l,i,h,_t,!0).pipe(Object(v.a)(function(t){return new Dt(u.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Object(a.a)(new Et(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(a.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(s.a)(i).pipe(Object(v.a)(function(r){var i,o=t.get(r);if(function(t){return t&&Pe(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Pe(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return jt(i)})).pipe(Object(m.a)(),(r=function(t){return!0===t},function(t){return t.lift(new D(r,void 0,t))})):Object(a.a)(!0)}(t.injector,e,n).pipe(Object(L.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(v.a)(function(t){return e._loadedConfig=t,t})):function(t){return new l.a(function(e){return e.error(Ct("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Object(a.a)(new Et([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(a.a)(n);if(r.numberOfChildren>1||!r.children[_t])return Le(t.redirectTo);r=r.children[_t]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Lt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Rt(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Rt(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Dt(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,i,o=0;try{for(var a=Object(r.j)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.path===t.path)return e.splice(o),u;o++}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t},t}();function Ne(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||xt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ze(t){if(1===t.numberOfChildren&&t.children[_t]){var e=t.children[_t];return new Dt(t.segments.concat(e.segments),e.children)}return t}function Be(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ge(t){return t.outlet||_t}var Ve=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),Ue=function(){return function(t,e){this.component=t,this.route=e}}();function He(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function qe(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=ae(e);return t.children.forEach(function(t){!function(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!zt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!zt(t.url,e.url)||!Pt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ve(t,e)||!Pt(t.queryParams,e.queryParams);case"paramsChange":default:return!ve(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ve(r)):(o.data=a.data,o._resolvedData=a._resolvedData),qe(t,e,o.component?s?s.children:null:n,r,i),u&&i.canDeactivateChecks.push(new Ue(s&&s.outlet&&s.outlet.component||null,a))}else a&&We(e,s,i),i.canActivateChecks.push(new Ve(r)),qe(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Rt(o,function(t,e){return We(t,n.getContext(e),i)}),i}function We(t,e,n){var r=ae(t),i=t.value;Rt(r,function(t,r){We(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ue(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Ze=Symbol("INITIAL_VALUE");function Xe(){return Object(z.a)(function(t){return p.a.apply(void 0,Object(r.i)(t.map(function(t){return t.pipe(Object(j.a)(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(G.a)(n)?(t.pop(),function(e){return Object(B.a)(t,e,n)}):function(e){return Object(B.a)(t,e)}}(Ze))}))).pipe(Object(V.a)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Ze)return t;if(r===Ze&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||ke(r))return r}return t},t)},Ze),Object(y.a)(function(t){return t!==Ze}),Object(v.a)(function(t){return ke(t)?t:!0===t}),Object(j.a)(1))})}function Ke(t,e){return null!==t&&e&&e(new gt(t)),Object(a.a)(!0)}function Ye(t,e){return null!==t&&e&&e(new ft(t)),Object(a.a)(!0)}function Je(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(a.a)(!0);var i=r.map(function(r){return d(function(){var i,o=He(r,e,n);if(function(t){return t&&Pe(t.canActivate)}(o))i=jt(o.canActivate(e,t));else{if(!Pe(o))throw new Error("Invalid CanActivate guard");i=jt(o(e,t))}return i.pipe(F())})});return Object(a.a)(i).pipe(Xe())}function Qe(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return d(function(){var i=e.guards.map(function(i){var o,a=He(i,e.node,n);if(function(t){return t&&Pe(t.canActivateChild)}(a))o=jt(a.canActivateChild(r,t));else{if(!Pe(a))throw new Error("Invalid CanActivateChild guard");o=jt(a(r,t))}return o.pipe(F())});return Object(a.a)(i).pipe(Xe())})});return Object(a.a)(i).pipe(Xe())}var $e=function(){return function(){}}(),tn=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=rn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_t),n=new he([],Object.freeze({}),Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new oe(n,e),o=new pe(this.url,i);return this.inheritParamsAndData(o._root),Object(a.a)(o)}catch(s){return new l.a(function(t){return t.error(s)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=ce(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Bt(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===_t?-1:e.value.outlet===_t?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,i){var o,a;try{for(var s=Object(r.j)(t),u=s.next();!u.done;u=s.next()){var l=u.value;try{return this.processSegmentAgainstRoute(l,e,n,i)}catch(c){if(!(c instanceof $e))throw c}}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,i))return[];throw new $e},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new $e;if((t.outlet||_t)!==i)throw new $e;var o,a=[],s=[];if("**"===t.path){var u=n.length>0?At(n).parameters:{};o=new he(n,u,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,sn(t),i,t.component,t,en(e),nn(e)+n.length,un(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new $e;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||xt)(n,t,e);if(!i)throw new $e;var o={};Rt(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object(r.a)({},o,i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}(e,t,n);a=l.consumedSegments,s=n.slice(l.lastChild),o=new he(a,l.parameters,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,sn(t),i,t.component,t,en(e),nn(e)+a.length,un(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=rn(e,a,s,c,this.relativeLinkResolution),p=h.segmentGroup,f=h.slicedSegments;if(0===f.length&&p.hasChildren()){var d=this.processChildren(c,p);return[new oe(o,d)]}if(0===c.length&&0===f.length)return[new oe(o,[])];var g=this.processSegment(c,p,f,_t);return[new oe(o,g)]},t}();function en(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function nn(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function rn(t,e,n,i,o){if(n.length>0&&function(t,e,n){return i.some(function(n){return on(t,e,n)&&an(n)!==_t})}(t,n)){var a=new Dt(e,function(t,e,n,i){var o,a,s={};s[_t]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;try{for(var u=Object(r.j)(n),l=u.next();!l.done;l=u.next()){var c=l.value;if(""===c.path&&an(c)!==_t){var h=new Dt([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[an(c)]=h}}}catch(p){o={error:p}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return s}(t,e,i,new Dt(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(function(n){return on(t,e,n)})}(t,n)){var s=new Dt(t.segments,function(t,e,n,i,o,a){var s,u,l={};try{for(var c=Object(r.j)(i),h=c.next();!h.done;h=c.next()){var p=h.value;if(on(t,n,p)&&!o[an(p)]){var f=new Dt([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===a?t.segments.length:e.length,l[an(p)]=f}}}catch(d){s={error:d}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}return Object(r.a)({},o,l)}(t,e,n,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Dt(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function on(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function an(t){return t.outlet||_t}function sn(t){return t.data||{}}function un(t){return t.resolve||{}}function ln(t,e,n,r){var i=He(t,e,r);return jt(i.resolve?i.resolve(e,n):i(e,n))}function cn(t){return function(e){return e.pipe(Object(z.a)(function(e){var n=t(e);return n?Object(s.a)(n).pipe(Object(v.a)(function(){return e})):Object(s.a)([e])}))}}var hn=function(){return function(){}}(),pn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),fn=new o.p("ROUTES"),dn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(v.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Et(kt(i.injector.get(fn)).map(Mt),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(s.a)(this.loader.load(t)):jt(t()).pipe(Object(L.a)(function(t){return t instanceof o.v?Object(a.a)(t):Object(s.a)(e.compiler.compileModuleAsync(t))}))},t}(),gn=function(){return function(){}}(),vn=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function mn(t){throw t}function yn(t,e,n){return e.parse("/")}function _n(t,e){return Object(a.a)(null)}var bn=function(){function t(t,e,n,r,i,a,s,l){var c=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new g.a,this.errorHandler=mn,this.malformedUriErrorHandler=yn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_n,afterPreactivation:_n},this.urlHandlingStrategy=new vn,this.routeReuseStrategy=new pn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(o.x),this.console=i.get(o.db);var h=i.get(o.z);this.isNgZoneEnabled=h instanceof o.z,this.resetConfig(l),this.currentUrlTree=new Lt(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dn(a,s,function(t){return c.triggerEvent(new ht(t))},function(t){return c.triggerEvent(new pt(t))}),this.routerState=ue(this.currentUrlTree,this.rootComponentType),this.transitions=new u.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Object(y.a)(function(t){return 0!==t.id}),Object(v.a)(function(t){return Object(r.a)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Object(z.a)(function(t){var i,o,l,c,h=!1,p=!1;return Object(a.a)(t).pipe(Z(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(r.a)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object(z.a)(function(t){var i,o,s,u,l=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||l)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(a.a)(t).pipe(Object(z.a)(function(t){var r=e.transitions.getValue();return n.next(new nt(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?f.a:[t]}),Object(z.a)(function(t){return Promise.resolve(t)}),(i=e.ngModule.injector,o=e.configLoader,s=e.urlSerializer,u=e.config,function(t){return t.pipe(Object(z.a)(function(t){return function(e,n,r,i,o){return new De(e,n,r,t.extractedUrl,o).apply()}(i,o,s,0,u).pipe(Object(v.a)(function(e){return Object(r.a)({},t,{urlAfterRedirects:e})}))}))}),Z(function(t){e.currentNavigation=Object(r.a)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,i,o,a){return function(i){return i.pipe(Object(L.a)(function(i){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new tn(t,e,n,r,i,o).recognize()}(t,n,i.urlAfterRedirects,(s=i.urlAfterRedirects,e.serializeUrl(s)),o,a).pipe(Object(v.a)(function(t){return Object(r.a)({},i,{targetSnapshot:t})}));var s}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Z(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),Z(function(t){var r=new at(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(l&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.extractedUrl,h=t.source,p=t.restoredState,d=t.extras,g=new nt(t.id,e.serializeUrl(c),h,p);n.next(g);var m=ue(c,e.rootComponentType).snapshot;return Object(a.a)(Object(r.a)({},t,{targetSnapshot:m,urlAfterRedirects:c,extras:Object(r.a)({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),f.a}),cn(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Z(function(t){var n=new st(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(v.a)(function(t){return Object(r.a)({},t,{guards:(n=t.targetSnapshot,i=t.currentSnapshot,o=e.rootContexts,a=n._root,qe(a,i?i._root:null,o,[a.value]))});var n,i,o,a}),function(t,e){return function(n){return n.pipe(Object(L.a)(function(n){var i=n.targetSnapshot,o=n.currentSnapshot,u=n.guards,l=u.canActivateChecks,c=u.canDeactivateChecks;return 0===c.length&&0===l.length?Object(a.a)(Object(r.a)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(L.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(a.a)(!0);var s=o.map(function(o){var a,s=He(o,e,i);if(function(t){return t&&Pe(t.canDeactivate)}(s))a=jt(s.canDeactivate(t,e,n,r));else{if(!Pe(s))throw new Error("Invalid CanDeactivate guard");a=jt(s(t,e,n,r))}return a.pipe(F())});return Object(a.a)(s).pipe(Xe())}(t.component,t.route,n,e,r)}),F(function(t){return!0!==t},!0))}(c,i,o,t).pipe(Object(L.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(U.a)(function(e){return Object(s.a)([Ye(e.route.parent,r),Ke(e.route,r),Qe(t,e.path,n),Je(t,e.route,n)]).pipe(Object(m.a)(),F(function(t){return!0!==t},!0))}),F(function(t){return!0!==t},!0))}(i,l,t,e):Object(a.a)(n)}),Object(v.a)(function(t){return Object(r.a)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Z(function(t){if(ke(t.guardsResult)){var n=Ct('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),Z(function(t){var n=new ut(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Object(y.a)(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new it(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),cn(function(t){if(t.guards.canActivateChecks.length)return Object(a.a)(t).pipe(Z(function(t){var n=new lt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(Object(L.a)(function(t){var e=t.targetSnapshot,o=t.guards.canActivateChecks;return o.length?Object(s.a)(o).pipe(Object(U.a)(function(t){return function(t,n,i,o){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(a.a)({});if(1===i.length){var o=i[0];return ln(t[o],e,n,r).pipe(Object(v.a)(function(t){var e;return(e={})[o]=t,e}))}var u={};return Object(s.a)(i).pipe(Object(L.a)(function(i){return ln(t[i],e,n,r).pipe(Object(v.a)(function(t){return u[i]=t,t}))})).pipe(I(),Object(v.a)(function(){return u}))}(t._resolve,t,e,o).pipe(Object(v.a)(function(e){return t._resolvedData=e,t.data=Object(r.a)({},t.data,ce(t,i).resolve),null}))}(t.route,0,n,i)}),Object(H.a)(function(t,e){return t}),Object(v.a)(function(e){return t})):Object(a.a)(t)}))}),Z(function(t){var n=new ct(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,i}),cn(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(v.a)(function(t){var n,i,o,a=(o=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(c=i.value)._futureSnapshot=n.value;var o=function(e,n,i){return n.children.map(function(n){var o,a;try{for(var s=Object(r.j)(i.children),u=s.next();!u.done;u=s.next()){var l=u.value;if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}}catch(c){o={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,i);return new oe(c,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var l,c=new le(new u.a((l=n.value).url),new u.a(l.params),new u.a(l.queryParams),new u.a(l.fragment),new u.a(l.data),l.outlet,l.component,l);return o=n.children.map(function(n){return t(e,n)}),new oe(c,o)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(i=t.currentRouterState)?i._root:void 0),new se(o,n));return Object(r.a)({},t,{targetRouterState:a})}),Z(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(o=e.rootContexts,l=e.routeReuseStrategy,c=function(t){return e.triggerEvent(t)},Object(v.a)(function(t){return new Te(l,t.targetRouterState,t.currentRouterState,c).activate(o),t})),Z({next:function(){h=!0},complete:function(){h=!0}}),(i=function(){if(!h&&!p){e.resetUrlToCurrentUrlTree();var r=new it(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new J(i))}),k(function(r){if(p=!0,(s=r)&&s[St]){var i=ke(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new it(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ot(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return f.a}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(r.a)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Ot(t),this.config=t.map(Mt),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,a=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,l=e.preserveFragment;Object(o.Y)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=l?this.currentUrlTree.fragment:a,p=null;if(u)switch(u){case"merge":p=Object(r.a)({},this.currentUrlTree.queryParams,i);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=i||null}else p=s?this.currentUrlTree.queryParams:i||null;return null!==p&&(p=this.removeEmptyProps(p)),function(t,e,n,i,o){if(0===n.length)return ye(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _e(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return Rt(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),Object(r.i)(t,[{outlets:a}])}if(i.segmentPath)return Object(r.i)(t,[i.segmentPath])}return"string"!=typeof i?Object(r.i)(t,[i]):0===o?(i.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(r.i)(t,[i])},[]);return new _e(n,e,i)}(n);if(a.toRoot())return ye(e.root,new Dt([],{}),e,i,o);var s=function(t,n,r){if(t.isAbsolute)return new be(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new be(r.snapshot._urlSegment,!0,0);var i=me(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new be(a,!1,s-u)}()}(a,0,t),u=s.processChildren?Ce(s.segmentGroup,s.index,a.commands):Se(s.segmentGroup,s.index,a.commands);return ye(s.segmentGroup,u,e,i,o)}(c,this.currentUrlTree,t,p,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(o.Y)()&&this.isNgZoneEnabled&&!o.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=ke(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(ke(t))return Ft(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Ft(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new rt(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,i){var o=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object(r.a)({},i,{navigationId:n})):this.location.go(o,"",Object(r.a)({},i,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),wn=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Sn,this.attachRef=null}}(),Sn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new wn,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Cn=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.m,this.deactivateEvents=new o.m,this.name=r||_t,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new xn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),xn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===le?this.route:t===Sn?this.childContexts:this.parent.get(t,e)},t}(),En=function(){return function(){}}(),On=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(k(function(){return Object(a.a)(null)}))},t}(),In=function(){function t(){}return t.prototype.preload=function(t,e){return Object(a.a)(null)},t}(),Tn=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new dn(e,n,function(e){return t.triggerEvent(new ht(e))},function(e){return t.triggerEvent(new pt(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Object(y.a)(function(t){return t instanceof rt}),Object(U.a)(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(o.x);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,i,o=[];try{for(var a=Object(r.j)(e),u=a.next();!u.done;u=a.next()){var l=u.value;if(l.loadChildren&&!l.canLoad&&l._loadedConfig){var c=l._loadedConfig;o.push(this.processRoutes(c.module,c.routes))}else l.loadChildren&&!l.canLoad?o.push(this.preloadConfig(t,l)):l.children&&o.push(this.processRoutes(t,l.children))}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return Object(s.a)(o).pipe(Object($.a)(),Object(v.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(L.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Mn=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof nt?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof rt&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof mt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new mt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Pn=new o.p("ROUTER_CONFIGURATION"),kn=new o.p("ROUTER_FORROOT_GUARD"),An=[i.f,{provide:Gt,useClass:Vt},{provide:bn,useFactory:zn,deps:[o.g,Gt,Sn,i.f,o.q,o.w,o.i,fn,Pn,[gn,new o.A],[hn,new o.A]]},Sn,{provide:le,useFactory:Bn,deps:[bn]},{provide:o.w,useClass:o.K},Tn,In,On,{provide:Pn,useValue:{enableTracing:!1}}];function Rn(){return new o.y("Router",bn)}var jn=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[An,Nn(t),{provide:kn,useFactory:Dn,deps:[[bn,new o.A,new o.J]]},{provide:Pn,useValue:n||{}},{provide:i.g,useFactory:Ln,deps:[i.o,[new o.o(i.a),new o.A],Pn]},{provide:Mn,useFactory:Fn,deps:[bn,i.p,Pn]},{provide:En,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:In},{provide:o.y,multi:!0,useFactory:Rn},[Gn,{provide:o.d,multi:!0,useFactory:Vn,deps:[Gn]},{provide:Hn,useFactory:Un,deps:[Gn]},{provide:o.b,multi:!0,useExisting:Hn}]]}},t.forChild=function(t){return{ngModule:e,providers:[Nn(t)]}},t}();function Fn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mn(t,e,n)}function Ln(t,e,n){return void 0===n&&(n={}),n.useHash?new i.d(t,e):new i.n(t,e)}function Dn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Nn(t){return[{provide:o.a,multi:!0,useValue:t},{provide:fn,multi:!0,useValue:t}]}function zn(t,e,n,r,i,o,a,s,u,l,c){void 0===u&&(u={});var h=new bn(null,e,n,r,i,o,a,kt(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var p=Object(tt.s)();h.events.subscribe(function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Bn(t){return t.routerState.root}var Gn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new g.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(i.e,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(bn),i=t.injector.get(Pn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(a.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Pn),n=this.injector.get(Tn),r=this.injector.get(Mn),i=this.injector.get(bn),a=this.injector.get(o.g);t===a.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Vn(t){return t.appInitializer.bind(t)}function Un(t){return t.bootstrapListener.bind(t)}var Hn=new o.p("Router Initializer")},ZYjt:function(t,e,n){"use strict";n.d(e,"q",function(){return mt}),n.d(e,"r",function(){return O}),n.d(e,"a",function(){return yt}),n.d(e,"i",function(){return vt}),n.d(e,"b",function(){return g}),n.d(e,"d",function(){return I}),n.d(e,"e",function(){return T}),n.d(e,"f",function(){return tt}),n.d(e,"g",function(){return et}),n.d(e,"h",function(){return nt}),n.d(e,"c",function(){return st}),n.d(e,"s",function(){return s}),n.d(e,"k",function(){return N}),n.d(e,"j",function(){return Q}),n.d(e,"n",function(){return rt}),n.d(e,"o",function(){return at}),n.d(e,"m",function(){return k}),n.d(e,"p",function(){return P}),n.d(e,"l",function(){return ut});var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),a=null;function s(){return a}var u,l={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o.qb.Node&&(u=o.qb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var p,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,Object(r.i)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return l},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&h.hasOwnProperty(e)&&(e=h[e]))}return c[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=d||(d=document.querySelector("base"))?d.getAttribute("href"):null;return null==n?null:(e=n,p||(p=document.createElement("a")),p.setAttribute("href",e),"/"===p.pathname.charAt(0)?p.pathname:"/"+p.pathname)},e.prototype.resetBaseElement=function(){d=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(i.t)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.d)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),d=null,g=i.c;function v(){return!!window.history.pushState}var m=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.d)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){v()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){v()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(r.c)([Object(r.g)(0,Object(o.o)(g)),Object(r.f)("design:paramtypes",[Object])],e)}(i.o),y=new o.p("TRANSITION_ID"),_=[{provide:o.d,useFactory:function(t,e,n){return function(){n.get(o.e).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[y,g,o.q],multi:!0}],b=function(){function t(){}return t.init=function(){Object(o.ab)(new t)},t.prototype.addToWindow=function(t){o.qb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},o.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},o.qb.frameworkStabilizers||(o.qb.frameworkStabilizers=[]),o.qb.frameworkStabilizers.push(function(t){var e=o.qb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}();function w(t,e){"undefined"!=typeof COMPILED&&COMPILED||((o.qb.ng=o.qb.ng||{})[t]=e)}var S={ApplicationRef:o.g,NgZone:o.z},C="probe",x="coreTokens";function E(t){return Object(o.W)(t)}function O(t){return w(C,E),w(x,Object(r.a)({},S,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return E}}var I=new o.p("EventManagerPlugins"),T=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),M=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),P=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),k=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.d)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(P),A={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},R=/%COMP%/g,j="_nghost-%COMP%",F="_ngcontent-%COMP%";function L(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?L(t,i,n):(i=i.replace(R,t),n.push(i))}return n}function D(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var N=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new z(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case o.Q.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new U(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case o.Q.Native:case o.Q.ShadowDom:return new H(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=L(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),z=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(A[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=A[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=A[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&o.G.DashCase?t.style.setProperty(e,n,r&o.G.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&o.G.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){G(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return G(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,D(n)):this.eventManager.addEventListener(t,e,D(n))},t}(),B="@".charCodeAt(0);function G(t,e){if(t.charCodeAt(0)===B)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var V,U=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.component=r;var a=L(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr=F.replace(R,i+"-"+r.id),o.hostAttr=j.replace(R,i+"-"+r.id),o}return Object(r.d)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(z),H=function(t){function e(e,n,r,i){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=r,a.component=i,a.shadowRoot=i.encapsulation===o.Q.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=L(i.id,i.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return Object(r.d)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(z),q="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},W=q("addEventListener"),Z=q("removeEventListener"),X={},K="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[q("BLACK_LISTED_EVENTS")]&&(V={});var Y=function(t){return!!V&&V.hasOwnProperty(t)},J=function(t){var e=X[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[K];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},Q=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.ngZone=n,r&&Object(i.q)(r)||o.patchEvent(),o}return Object(r.d)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[K]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[W]||o.z.isInAngularZone()&&!Y(e))t.addEventListener(e,i,!1);else{var a=X[e];a||(a=X[e]=q("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var l=Y(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:l,handler:i});else{for(var c=!1,h=0;h<s.length;h++)if(s[h].handler===i){c=!0;break}c||s.push({zone:l,handler:i})}u||t[W](e,J,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Z];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=X[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,J,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(M),$={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tt=new o.p("HammerGestureConfig"),et=new o.p("HammerLoader"),nt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),rt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(r.d)(e,t),e.prototype.supports=function(t){return!(!$.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(M),it=["alt","control","meta","shift"],ot={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},at=function(t){function e(e){return t.call(this,e)||this}var n;return Object(r.d)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(it.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),it.forEach(function(r){r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(M),st=function(){return function(){}}(),ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.d)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case o.I.NONE:return e;case o.I.HTML:return e instanceof ct?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(o.eb)(this._doc,String(e)));case o.I.STYLE:return e instanceof ht?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(o.fb)(e));case o.I.SCRIPT:if(e instanceof pt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case o.I.URL:return e instanceof dt||e instanceof ft?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(o.gb)(String(e)));case o.I.RESOURCE_URL:if(e instanceof dt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof lt)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ct(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ht(t)},e.prototype.bypassSecurityTrustScript=function(t){return new pt(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new ft(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new dt(t)},e}(st),lt=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(lt),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(lt),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(lt),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(lt),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(lt),gt=[{provide:o.B,useValue:i.r},{provide:o.C,useValue:function(){f.makeCurrent(),b.init()},multi:!0},{provide:i.o,useClass:m,deps:[g]},{provide:g,useFactory:function(){return document},deps:[]}],vt=Object(o.S)(o.Z,"browser",gt);function mt(){return new o.l}var yt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:y,useExisting:o.c},_]}},t}();"undefined"!=typeof window&&window},"ZZ/e":function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("Ip0R"),a=n("ZYCi"),s=n("K9Ia"),u=n("bne5"),l=n("26FU"),c=n("VnD/"),h=n("15JJ"),p=n("FFOo"),f=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.compare,this.keySelector))},t}(),d=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.d(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(p.a),g=n("cBjU"),v=[["ion-action-sheet",{ios:"azzrjyyu",md:"uhyavx6a"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["el",64],["enterAnimation",1],["header",1,0,1,2],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["subHeader",1,0,"sub-header",2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"],["ionActionSheetWillDismiss","dispatchCancelHandler"]]],["ion-action-sheet-controller",{ios:"azzrjyyu",md:"uhyavx6a"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-alert",{ios:"wb4mk1b9",md:"devt5yhg"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["el",64],["enterAnimation",1],["header",1,0,1,2],["inputs",2],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["subHeader",1,0,"sub-header",2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"],["ionAlertWillDismiss","dispatchCancelHandler"]]],["ion-alert-controller",{ios:"wb4mk1b9",md:"devt5yhg"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-anchor",{ios:"3kzauze7",md:"bygik61u"},1,[["color",1,0,1,2],["href",1,0,1,2],["routerDirection",1,0,"router-direction",2],["win",4,0,0,0,"window"]],1,[["click","onClick"]]],["ion-app",{ios:"dhprnqol",md:"ficmbhoi"},1,[["config",4,0,0,0,"config"],["el",64],["queue",4,0,0,0,"queue"],["win",4,0,0,0,"window"]]],["ion-avatar",{ios:"admmxern",md:"isuxxasv"},1,0,1],["ion-back-button",{ios:"3kzauze7",md:"bygik61u"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["defaultHref",1,0,"default-href",2],["el",64],["icon",1,0,1,2],["mode",1,0,1,2],["text",1,0,1,2],["win",4,0,0,0,"window"]],2,[["click","onClick"]]],["ion-backdrop",{ios:"bb7q7tld",md:"2i50w2lv"},1,[["doc",4,0,0,0,"document"],["stopPropagation",1,0,"stop-propagation",4],["tappable",1,0,1,4],["visible",1,0,1,4]],1,[["touchstart","onTouchStart",0,0,1],["click","onMouseDown",0,0,1],["mousedown","onMouseDown",0,0,1]]],["ion-badge",{ios:"admmxern",md:"isuxxasv"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-button",{ios:"aubabxbm",md:"ymem7pf1"},1,[["buttonType",2,0,"button-type",2],["color",1,0,1,2],["disabled",1,1,1,4],["el",64],["expand",1,1,1,2],["fill",2,1,1,2],["href",1,0,1,2],["mode",1,0,1,2],["routerDirection",1,0,"router-direction",2],["shape",1,1,1,2],["size",1,1,1,2],["strong",1,0,1,4],["type",1,0,1,2],["win",4,0,0,0,"window"]],1,[["click","onClick"]]],["ion-buttons",{ios:"dhprnqol",md:"ficmbhoi"},1,0,2],["ion-card",{ios:"o6zsuoqi",md:"xo7dncgt"},1,[["button",1,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["href",1,0,1,2],["mode",1,0,1,2],["routerDirection",1,0,"router-direction",2],["type",1,0,1,2],["win",4,0,0,0,"window"]],2],["ion-card-content",{ios:"o6zsuoqi",md:"xo7dncgt"},1,[["mode",1,0,1,2]]],["ion-card-header",{ios:"o6zsuoqi",md:"xo7dncgt"},1,[["color",1,0,1,2],["mode",1,0,1,2],["translucent",1,0,1,4]],1],["ion-card-subtitle",{ios:"o6zsuoqi",md:"xo7dncgt"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-card-title",{ios:"o6zsuoqi",md:"xo7dncgt"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-checkbox",{ios:"senscofp",md:"vompwuhi"},1,[["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["indeterminate",2,0,1,4],["mode",1,0,1,2],["name",1,0,1,2],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-chip",{ios:"i5bu78vq",md:"iqlhkurd"},1,[["color",1,0,1,2],["mode",1,0,1,2],["outline",1,0,1,4]],1],["ion-col","rrpxfm2a",1,[["el",64],["offset",1,0,1,2],["offsetLg",1,0,"offset-lg",2],["offsetMd",1,0,"offset-md",2],["offsetSm",1,0,"offset-sm",2],["offsetXl",1,0,"offset-xl",2],["offsetXs",1,0,"offset-xs",2],["pull",1,0,1,2],["pullLg",1,0,"pull-lg",2],["pullMd",1,0,"pull-md",2],["pullSm",1,0,"pull-sm",2],["pullXl",1,0,"pull-xl",2],["pullXs",1,0,"pull-xs",2],["push",1,0,1,2],["pushLg",1,0,"push-lg",2],["pushMd",1,0,"push-md",2],["pushSm",1,0,"push-sm",2],["pushXl",1,0,"push-xl",2],["pushXs",1,0,"push-xs",2],["size",1,0,1,2],["sizeLg",1,0,"size-lg",2],["sizeMd",1,0,"size-md",2],["sizeSm",1,0,"size-sm",2],["sizeXl",1,0,"size-xl",2],["sizeXs",1,0,"size-xs",2],["win",4,0,0,0,"window"]],1,[["window:resize","onResize",0,1]]],["ion-content",{ios:"dhprnqol",md:"ficmbhoi"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["el",64],["forceOverscroll",2,0,"force-overscroll",4],["fullscreen",1,0,1,4],["getScrollElement",32],["queue",4,0,0,0,"queue"],["scrollByPoint",32],["scrollEvents",1,0,"scroll-events",4],["scrollToBottom",32],["scrollToPoint",32],["scrollToTop",32],["scrollX",1,0,"scroll-x",4],["scrollY",1,0,"scroll-y",4],["win",4,0,0,0,"window"]],1,[["click","onClick",0,0,1]]],["ion-datetime",{ios:"whjbxjrd",md:"narso64l"},1,[["cancelText",1,0,"cancel-text",2],["dayNames",1,0,"day-names",2],["dayShortNames",1,0,"day-short-names",2],["dayValues",1,0,"day-values",1],["disabled",1,0,1,4],["displayFormat",1,0,"display-format",2],["doneText",1,0,"done-text",2],["el",64],["hourValues",1,0,"hour-values",1],["isExpanded",16],["max",2,0,1,2],["min",2,0,1,2],["minuteValues",1,0,"minute-values",1],["mode",1,0,1,2],["monthNames",1,0,"month-names",2],["monthShortNames",1,0,"month-short-names",2],["monthValues",1,0,"month-values",1],["name",1,0,1,2],["open",32],["pickerCtrl",8,0,0,0,"ion-picker-controller"],["pickerFormat",1,0,"picker-format",2],["pickerOptions",1],["placeholder",1,0,1,2],["readonly",1,0,1,4],["value",2,0,1,2],["yearValues",1,0,"year-values",1]],1,[["click","onClick"]]],["ion-fab",{ios:"llyqw4no",md:"xajhwvib"},1,[["activated",2,0,1,4],["close",32],["edge",1,0,1,4],["el",64],["horizontal",1,0,1,2],["vertical",1,0,1,2]],1,[["click","onClick"]]],["ion-fab-button",{ios:"llyqw4no",md:"xajhwvib"},1,[["activated",1,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["href",1,0,1,2],["mode",1,0,1,2],["routerDirection",1,0,"router-direction",2],["show",1,0,1,4],["size",1,0,1,2],["translucent",1,0,1,4],["type",1,0,1,2],["win",4,0,0,0,"window"]],1],["ion-fab-list",{ios:"llyqw4no",md:"xajhwvib"},1,[["activated",1,0,1,4],["el",64],["side",1,0,1,2]],1],["ion-footer",{ios:"dhprnqol",md:"ficmbhoi"},1,[["mode",1,0,1,2],["translucent",1,0,1,4]]],["ion-grid","rrpxfm2a",1,[["fixed",1,0,1,4]],1],["ion-header",{ios:"dhprnqol",md:"ficmbhoi"},1,[["mode",1,0,1,2],["translucent",1,0,1,4]]],["ion-icon",{ios:"aubabxbm",md:"ymem7pf1"},1,[["ariaLabel",2,1,"aria-label",2],["color",1,0,1,2],["doc",4,0,0,0,"document"],["el",64],["flipRtl",1,0,"flip-rtl",4],["icon",1,0,1,2],["ios",1,0,1,2],["isServer",4,0,0,0,"isServer"],["isVisible",16],["lazy",1,0,1,4],["md",1,0,1,2],["mode",1,0,1,2],["name",1,0,1,2],["resourcesUrl",4,0,0,0,"resourcesUrl"],["size",1,0,1,2],["src",1,0,1,2],["svgContent",16],["win",4,0,0,0,"window"]],1],["ion-img","fkzdmlip",1,[["alt",1,0,1,2],["el",64],["loadError",16],["loadSrc",16],["src",1,0,1,2]],1],["ion-infinite-scroll",{ios:"imcdx1xe",md:"1fcq78hk"},1,[["complete",32],["disabled",1,0,1,4],["el",64],["enableListener",4,0,0,0,"enableListener"],["isLoading",16],["position",1,0,1,2],["queue",4,0,0,0,"queue"],["threshold",1,0,1,2]],0,[["scroll","onScroll",1,1]]],["ion-infinite-scroll-content",{ios:"imcdx1xe",md:"1fcq78hk"},1,[["config",4,0,0,0,"config"],["loadingSpinner",2,0,"loading-spinner",2],["loadingText",1,0,"loading-text",2]]],["ion-input",{ios:"mf2ayo12",md:"kgjnfunx"},1,[["accept",1,0,1,2],["autocapitalize",1,0,1,2],["autocomplete",1,0,1,2],["autocorrect",1,0,1,2],["autofocus",1,0,1,4],["clearInput",1,0,"clear-input",4],["clearOnEdit",2,0,"clear-on-edit",4],["color",1,0,1,2],["debounce",1,0,1,8],["disabled",1,0,1,4],["el",64],["getInputElement",32],["hasFocus",16],["inputmode",1,0,1,2],["max",1,0,1,2],["maxlength",1,0,1,8],["min",1,0,1,2],["minlength",1,0,1,8],["mode",1,0,1,2],["multiple",1,0,1,4],["name",1,0,1,2],["pattern",1,0,1,2],["placeholder",1,0,1,2],["readonly",1,0,1,4],["required",1,0,1,4],["setFocus",32],["size",1,0,1,8],["spellcheck",1,0,1,4],["step",1,0,1,2],["type",1,0,1,2],["value",2,0,1,2]],2],["ion-item",{ios:"bcmaaa8l",md:"fz2rcnow"},1,[["button",1,0,1,4],["color",1,0,1,2],["detail",1,0,1,4],["detailIcon",1,0,"detail-icon",2],["disabled",1,0,1,4],["el",64],["href",1,0,1,2],["lines",1,0,1,2],["mode",1,0,1,2],["multipleInputs",16],["routerDirection",1,0,"router-direction",2],["type",1,0,1,2],["win",4,0,0,0,"window"]],1,[["ionStyle","itemStyle"]]],["ion-item-divider",{ios:"bcmaaa8l",md:"fz2rcnow"},1,[["color",1,0,1,2],["el",64],["mode",1,0,1,2],["sticky",1,0,1,4]],1],["ion-item-group",{ios:"bcmaaa8l",md:"fz2rcnow"},1],["ion-item-option",{ios:"migtpkzd",md:"ddlg9urb"},1,[["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["expandable",1,0,1,4],["href",1,0,1,2],["mode",1,0,1,2]],1,[["click","onClick"]]],["ion-item-options",{ios:"migtpkzd",md:"ddlg9urb"},1,[["el",64],["fireSwipeEvent",32],["side",1,0,1,2],["win",4,0,0,0,"window"]]],["ion-item-sliding",{ios:"migtpkzd",md:"ddlg9urb"},1,[["close",32],["closeOpened",32],["disabled",1,0,1,4],["el",64],["getOpenAmount",32],["getSlidingRatio",32],["open",32],["queue",4,0,0,0,"queue"],["state",16]]],["ion-label",{ios:"bcmaaa8l",md:"fz2rcnow"},1,[["color",1,0,1,2],["el",64],["mode",1,0,1,2],["noAnimate",16],["position",1,0,1,2]],2],["ion-list",{ios:"bcmaaa8l",md:"fz2rcnow"},1,[["closeSlidingItems",32],["el",64],["inset",1,0,1,4],["lines",1,0,1,2],["mode",1,0,1,2]]],["ion-list-header",{ios:"bcmaaa8l",md:"fz2rcnow"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-loading",{ios:"3pkkvczk",md:"mrs0ks1r"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4],["spinner",2,0,1,2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"]]],["ion-loading-controller",{ios:"3pkkvczk",md:"mrs0ks1r"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-menu",{ios:"ofd4s8dw",md:"8wdovu8e"},1,[["close",32],["config",4,0,0,0,"config"],["contentId",1,0,"content-id",2],["disabled",2,0,1,4],["doc",4,0,0,0,"document"],["el",64],["enableListener",4,0,0,0,"enableListener"],["isActive",32],["isEndSide",16],["isOpen",32],["isPaneVisible",16],["isServer",4,0,0,0,"isServer"],["lazyMenuCtrl",8,0,0,0,"ion-menu-controller"],["maxEdgeStart",1,0,"max-edge-start",8],["menuId",1,0,"menu-id",2],["open",32],["queue",4,0,0,0,"queue"],["setOpen",32],["side",1,1,1,2],["swipeGesture",1,0,"swipe-gesture",4],["toggle",32],["type",2,0,1,2],["win",4,0,0,0,"window"]],1,[["body:ionSplitPaneVisible","onSplitPaneChanged"],["click","onBackdropClick",1,0,1]]],["ion-menu-button",{ios:"ofd4s8dw",md:"8wdovu8e"},1,[["autoHide",1,0,"auto-hide",4],["color",1,0,1,2],["config",4,0,0,0,"config"],["menu",1,0,1,2],["mode",1,0,1,2]],1],["ion-menu-controller",{ios:"ofd4s8dw",md:"8wdovu8e"},1,[["_getInstance",32],["close",32],["config",4,0,0,0,"config"],["doc",4,0,0,0,"document"],["enable",32],["get",32],["getMenus",32],["getOpen",32],["isAnimating",32],["isEnabled",32],["isOpen",32],["open",32],["registerAnimation",32],["swipeGesture",32],["toggle",32]]],["ion-menu-toggle",{ios:"ofd4s8dw",md:"8wdovu8e"},1,[["autoHide",1,0,"auto-hide",4],["doc",4,0,0,0,"document"],["menu",1,0,1,2],["visible",16]],1,[["click","onClick"],["body:ionMenuChange","updateVisibility"],["body:ionSplitPaneVisible","updateVisibility"]]],["ion-modal",{ios:"k6eoch7h",md:"7hlpr3fd"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["component",1,0,1,2],["componentProps",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["delegate",1],["dismiss",32],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4]],2,[["ionDismiss","onDismiss"],["ionBackdropTap","onBackdropTap"],["ionModalDidPresent","lifecycle"],["ionModalWillPresent","lifecycle"],["ionModalWillDismiss","lifecycle"],["ionModalDidDismiss","lifecycle"]]],["ion-modal-controller",{ios:"k6eoch7h",md:"7hlpr3fd"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-nav","pd9wflli",1,[["animated",1,0,1,4],["animation",1],["canGoBack",32],["config",4,0,0,0,"config"],["delegate",1],["el",64],["getActive",32],["getByIndex",32],["getPrevious",32],["getRouteId",32],["insert",32],["insertPages",32],["pop",32],["popTo",32],["popToRoot",32],["push",32],["queue",4,0,0,0,"queue"],["removeIndex",32],["root",1,0,1,2],["rootParams",1],["setPages",32],["setRoot",32],["setRouteId",32],["swipeGesture",2,0,"swipe-gesture",4],["win",4,0,0,0,"window"]],1],["ion-nav-pop","pd9wflli",0,[["el",64]],0,[["child:click","pop"]]],["ion-nav-push","pd9wflli",0,[["component",1,0,1,2],["componentProps",1],["el",64]],0,[["child:click","push"]]],["ion-nav-set-root","pd9wflli",0,[["component",1,0,1,2],["componentProps",1],["el",64]],0,[["child:click","push"]]],["ion-note",{ios:"bcmaaa8l",md:"fz2rcnow"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-picker",{ios:"whjbxjrd",md:"narso64l"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["columns",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["getColumn",32],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["presented",16],["showBackdrop",1,0,"show-backdrop",4]],2,[["ionBackdropTap","onBackdropTap"]]],["ion-picker-column",{ios:"whjbxjrd",md:"narso64l"},1,[["col",1],["el",64],["queue",4,0,0,0,"queue"]]],["ion-picker-controller",{ios:"whjbxjrd",md:"narso64l"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-popover",{ios:"x5xnv4jv",md:"r8dtlwvb"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["component",1,0,1,2],["componentProps",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["delegate",1],["dismiss",32],["el",64],["enterAnimation",1],["event",1,0,1,1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4],["translucent",1,0,1,4]],2,[["ionDismiss","onDismiss"],["ionBackdropTap","onBackdropTap"],["ionPopoverDidPresent","lifecycle"],["ionPopoverWillPresent","lifecycle"],["ionPopoverWillDismiss","lifecycle"],["ionPopoverDidDismiss","lifecycle"]]],["ion-popover-controller",{ios:"x5xnv4jv",md:"r8dtlwvb"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-progress-bar",{ios:"tlbladaf",md:"6kgso7pq"},1,[["buffer",1,0,1,8],["color",1,0,1,2],["config",4,0,0,0,"config"],["mode",1,0,1,2],["reversed",1,0,1,4],["type",1,0,1,2],["value",1,0,1,8]],1],["ion-radio",{ios:"jzwyowjw",md:"iwgahuhw"},1,[["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["mode",1,0,1,2],["name",1,0,1,2],["value",2,0,1,1]],1,[["click","onClick"]]],["ion-radio-group",{ios:"jzwyowjw",md:"iwgahuhw"},0,[["allowEmptySelection",1,0,"allow-empty-selection",4],["el",64],["name",1,0,1,2],["value",2,0,1,1]],0,[["ionRadioDidLoad","onRadioDidLoad"],["ionRadioDidUnload","onRadioDidUnload"],["ionSelect","onRadioSelect"],["ionDeselect","onRadioDeselect"]]],["ion-range",{ios:"eghwkqif",md:"5zcdwzsx"},1,[["color",1,0,1,2],["debounce",1,0,1,8],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["dualKnobs",1,0,"dual-knobs",4],["el",64],["max",1,0,1,8],["min",1,0,1,8],["mode",1,0,1,2],["name",1,0,1,2],["pin",1,0,1,4],["pressedKnob",16],["queue",4,0,0,0,"queue"],["ratioA",16],["ratioB",16],["snaps",1,0,1,4],["step",1,0,1,8],["ticks",1,0,1,4],["value",2,0,1,8]],1,[["focusout","onBlur"],["focusin","onFocus"]]],["ion-refresher",{ios:"lb8tayd0",md:"tn7df4wj"},1,[["cancel",32],["closeDuration",1,0,"close-duration",2],["complete",32],["disabled",1,0,1,4],["el",64],["getProgress",32],["pullFactor",1,0,"pull-factor",8],["pullMax",1,0,"pull-max",8],["pullMin",1,0,"pull-min",8],["queue",4,0,0,0,"queue"],["snapbackDuration",1,0,"snapback-duration",2],["state",16]]],["ion-refresher-content",{ios:"lb8tayd0",md:"tn7df4wj"},0,[["config",4,0,0,0,"config"],["pullingIcon",2,0,"pulling-icon",2],["pullingText",1,0,"pulling-text",2],["refreshingSpinner",2,0,"refreshing-spinner",2],["refreshingText",1,0,"refreshing-text",2]]],["ion-reorder",{ios:"mo7qeek2",md:"39fhulxe"},1,0,1,[["click","onClick",0,0,1]]],["ion-reorder-group",{ios:"mo7qeek2",md:"39fhulxe"},1,[["complete",32],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["queue",4,0,0,0,"queue"],["state",16]]],["ion-ripple-effect","rkecsmgc",1,[["addRipple",32],["el",64],["queue",4,0,0,0,"queue"],["type",1,0,1,2],["win",4,0,0,0,"window"]],1],["ion-route","3hbcnxuc",0,[["component",1,0,1,2],["componentProps",1],["url",1,0,1,2]]],["ion-route-redirect","3hbcnxuc",0,[["from",1,0,1,2],["to",1,0,1,2]]],["ion-router","3hbcnxuc",0,[["back",32],["config",4,0,0,0,"config"],["el",64],["navChanged",32],["printDebug",32],["push",32],["queue",4,0,0,0,"queue"],["root",1,0,1,2],["useHash",1,0,"use-hash",4],["win",4,0,0,0,"window"]],0,[["window:popstate","onPopState"],["document:ionBackButton","onBackButton"]]],["ion-router-outlet","3hbcnxuc",1,[["animated",1,0,1,4],["animation",1],["commit",32],["config",4,0,0,0,"config"],["delegate",1],["el",64],["getRouteId",32],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["setRouteId",32],["swipeHandler",1],["win",4,0,0,0,"window"]],1],["ion-row","rrpxfm2a",1,0,1],["ion-searchbar",{ios:"lsxwd44p",md:"ldqvnzrr"},1,[["animated",1,0,1,4],["autocomplete",1,0,1,2],["autocorrect",1,0,1,2],["cancelButtonIcon",1,0,"cancel-button-icon",2],["cancelButtonText",1,0,"cancel-button-text",2],["clearIcon",1,0,"clear-icon",2],["color",1,0,1,2],["config",4,0,0,0,"config"],["debounce",1,0,1,8],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["focused",16],["getInputElement",32],["mode",1,0,1,2],["noAnimate",16],["placeholder",1,0,1,2],["searchIcon",1,0,"search-icon",2],["setFocus",32],["showCancelButton",1,0,"show-cancel-button",4],["spellcheck",1,0,1,4],["type",1,0,1,2],["value",2,0,1,2]],2],["ion-segment",{ios:"fmzmhk3d",md:"djkq5plb"},1,[["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["mode",1,0,1,2],["scrollable",1,0,1,4],["value",2,0,1,2]],2,[["ionSelect","segmentClick"]]],["ion-segment-button",{ios:"fmzmhk3d",md:"djkq5plb"},1,[["checked",2,0,1,4],["disabled",1,0,1,4],["el",64],["layout",1,0,1,2],["mode",1,0,1,2],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-select",{ios:"vypdotd0",md:"ek05jvfc"},1,[["actionSheetCtrl",8,0,0,0,"ion-action-sheet-controller"],["alertCtrl",8,0,0,0,"ion-alert-controller"],["cancelText",1,0,"cancel-text",2],["compareWith",1,0,"compare-with",2],["disabled",1,0,1,4],["el",64],["interface",1,0,1,2],["interfaceOptions",1,0,"interface-options",1],["isExpanded",16],["mode",1,0,1,2],["multiple",1,0,1,4],["name",1,0,1,2],["okText",1,0,"ok-text",2],["open",32],["placeholder",1,0,1,2],["popoverCtrl",8,0,0,0,"ion-popover-controller"],["selectedText",1,0,"selected-text",2],["value",2,0,1,1]],1,[["ionSelectOptionDidLoad","selectOptionChanged"],["ionSelectOptionDidUnload","selectOptionChanged"],["click","onClick"]]],["ion-select-option",{ios:"vypdotd0",md:"ek05jvfc"},1,[["disabled",1,0,1,4],["el",64],["selected",1,0,1,4],["value",2,0,1,1]],1],["ion-select-popover",{ios:"vypdotd0",md:"ek05jvfc"},1,[["header",1,0,1,2],["message",1,0,1,2],["options",1],["subHeader",1,0,"sub-header",2]],2,[["ionSelect","onSelect"]]],["ion-skeleton-text",{ios:"bcmaaa8l",md:"fz2rcnow"},1,[["animated",1,0,1,4],["config",4,0,0,0,"config"],["el",64],["width",1,0,1,2]],1],["ion-slide",{ios:"efdsz9yy",md:"pdzm9bfy"},1],["ion-slides",{ios:"efdsz9yy",md:"pdzm9bfy"},1,[["el",64],["getActiveIndex",32],["getPreviousIndex",32],["isBeginning",32],["isEnd",32],["length",32],["lockSwipeToNext",32],["lockSwipeToPrev",32],["lockSwipes",32],["mode",1,0,1,2],["options",1,0,1,1],["pager",1,0,1,4],["scrollbar",1,0,1,4],["slideNext",32],["slidePrev",32],["slideTo",32],["startAutoplay",32],["stopAutoplay",32],["update",32],["updateAutoHeight",32]],0,[["ionSlideChanged","onSlideChanged"]]],["ion-spinner","j20d1ikn",1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["duration",1,0,1,8],["name",1,0,1,2],["paused",1,0,1,4]],1],["ion-split-pane",{ios:"helxzsef",md:"mri9bdlj"},1,[["contentId",1,0,"content-id",2],["disabled",1,0,1,4],["el",64],["isServer",4,0,0,0,"isServer"],["visible",16],["when",1,0,1,1],["win",4,0,0,0,"window"]]],["ion-tab","oc7j8k7y",1,[["active",2,0,1,4],["component",1,0,1,2],["delegate",1],["el",64],["setActive",32],["tab",1,0,1,2]],1],["ion-tab-bar",{ios:"gnkkjvvk",md:"yifvz1ud"},1,[["color",1,0,1,2],["doc",4,0,0,0,"document"],["el",64],["keyboardVisible",16],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["selectedTab",1,0,"selected-tab",2],["translucent",1,0,1,4]],1,[["window:keyboardWillHide","onKeyboardWillHide"],["window:keyboardWillShow","onKeyboardWillShow"]]],["ion-tab-button",{ios:"gnkkjvvk",md:"yifvz1ud"},1,[["config",4,0,0,0,"config"],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["href",1,0,1,2],["layout",2,0,1,2],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["selected",2,0,1,4],["tab",1,0,1,2]],1,[["parent:ionTabBarChanged","onTabBarChanged"],["click","onClick"]]],["ion-tabs","oc7j8k7y",1,[["config",4,0,0,0,"config"],["doc",4,0,0,0,"document"],["el",64],["getRouteId",32],["getSelected",32],["getTab",32],["select",32],["selectedTab",16],["setRouteId",32],["tabs",16],["useRouter",2,0,"use-router",4]],1,[["ionTabButtonClick","onTabClicked"]]],["ion-text","wjdsdnuu",1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-textarea",{ios:"najnlwm4",md:"tjefn81q"},1,[["autoGrow",1,0,"auto-grow",4],["autocapitalize",1,0,1,2],["autofocus",1,0,1,4],["clearOnEdit",2,0,"clear-on-edit",4],["color",1,0,1,2],["cols",1,0,1,8],["debounce",1,0,1,8],["disabled",1,0,1,4],["el",64],["getInputElement",32],["hasFocus",16],["maxlength",1,0,1,8],["minlength",1,0,1,8],["mode",1,0,1,2],["name",1,0,1,2],["placeholder",1,0,1,2],["readonly",1,0,1,4],["required",1,0,1,4],["rows",1,0,1,8],["setFocus",32],["spellcheck",1,0,1,4],["value",2,0,1,2],["wrap",1,0,1,2]],2],["ion-thumbnail",{ios:"admmxern",md:"isuxxasv"},1,0,1],["ion-title",{ios:"dhprnqol",md:"ficmbhoi"},1,[["color",1,0,1,2],["el",64]],1],["ion-toast",{ios:"wzw9zscm",md:"nqozldol"},1,[["animated",1,0,1,4],["buttons",1],["closeButtonText",1,0,"close-button-text",2],["color",1,0,1,2],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["header",1,0,1,2],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["position",1,0,1,2],["present",32],["showCloseButton",1,0,"show-close-button",4],["translucent",1,0,1,4]],1],["ion-toast-controller",{ios:"wzw9zscm",md:"nqozldol"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-toggle",{ios:"b65tzyas",md:"wrpzmdqx"},1,[["activated",16],["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["mode",1,0,1,2],["name",1,0,1,2],["queue",4,0,0,0,"queue"],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-toolbar",{ios:"dhprnqol",md:"ficmbhoi"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["el",64],["mode",1,0,1,2]],1,[["ionStyle","childrenStyle"]]],["ion-virtual-scroll","ziv0mko0",1,[["approxFooterHeight",1,0,"approx-footer-height",8],["approxHeaderHeight",1,0,"approx-header-height",8],["approxItemHeight",1,0,"approx-item-height",8],["checkEnd",32],["checkRange",32],["domRender",1],["el",64],["enableListener",4,0,0,0,"enableListener"],["footerFn",1],["headerFn",1],["itemHeight",1],["items",1],["nodeRender",1],["positionForItem",32],["queue",4,0,0,0,"queue"],["renderFooter",1],["renderHeader",1],["renderItem",1],["totalHeight",16],["win",4,0,0,0,"window"]],0,[["scroll","onScroll",1],["window:resize","onResize",0,1]]]];n.d(e,"a",function(){return Fe}),n.d(e,"b",function(){return Le}),n.d(e,"c",function(){return de}),n.d(e,"d",function(){return b}),n.d(e,"e",function(){return ce}),n.d(e,"f",function(){return q}),n.d(e,"g",function(){return W}),n.d(e,"h",function(){return Z}),n.d(e,"i",function(){return X}),n.d(e,"j",function(){return K}),n.d(e,"k",function(){return Y}),n.d(e,"l",function(){return J}),n.d(e,"m",function(){return Q}),n.d(e,"n",function(){return $}),n.d(e,"o",function(){return tt}),n.d(e,"p",function(){return et}),n.d(e,"q",function(){return nt}),n.d(e,"r",function(){return rt}),n.d(e,"s",function(){return it}),n.d(e,"t",function(){return ot}),n.d(e,"u",function(){return at}),n.d(e,"v",function(){return st}),n.d(e,"w",function(){return ut}),n.d(e,"x",function(){return lt}),n.d(e,"y",function(){return ct}),n.d(e,"z",function(){return ht}),n.d(e,"A",function(){return pt}),n.d(e,"B",function(){return ft}),n.d(e,"C",function(){return dt}),n.d(e,"D",function(){return gt}),n.d(e,"E",function(){return vt}),n.d(e,"F",function(){return mt}),n.d(e,"G",function(){return yt}),n.d(e,"H",function(){return _t}),n.d(e,"I",function(){return bt}),n.d(e,"J",function(){return wt}),n.d(e,"K",function(){return St}),n.d(e,"L",function(){return Ct}),n.d(e,"M",function(){return xt}),n.d(e,"N",function(){return Et}),n.d(e,"O",function(){return Ot}),n.d(e,"P",function(){return It}),n.d(e,"Q",function(){return Tt}),n.d(e,"R",function(){return Mt}),n.d(e,"S",function(){return Pt}),n.d(e,"T",function(){return kt}),n.d(e,"U",function(){return At}),n.d(e,"V",function(){return Rt}),n.d(e,"W",function(){return jt}),n.d(e,"X",function(){return Ft}),n.d(e,"Y",function(){return Lt}),n.d(e,"Z",function(){return Dt}),n.d(e,"ab",function(){return Nt}),n.d(e,"bb",function(){return zt}),n.d(e,"cb",function(){return Bt}),n.d(e,"db",function(){return Gt}),n.d(e,"eb",function(){return Vt}),n.d(e,"fb",function(){return Ut}),n.d(e,"gb",function(){return Ht}),n.d(e,"hb",function(){return Te}),n.d(e,"ib",function(){return qt}),n.d(e,"jb",function(){return Wt}),n.d(e,"kb",function(){return Zt}),n.d(e,"lb",function(){return Xt}),n.d(e,"mb",function(){return Kt}),n.d(e,"nb",function(){return Yt}),n.d(e,"ob",function(){return Jt}),n.d(e,"pb",function(){return Qt}),n.d(e,"qb",function(){return $t}),n.d(e,"rb",function(){return te}),n.d(e,"sb",function(){return ee}),n.d(e,"tb",function(){return ne}),n.d(e,"ub",function(){return re}),n.d(e,"vb",function(){return Pe}),n.d(e,"wb",function(){return ie}),n.d(e,"xb",function(){return oe}),n.d(e,"yb",function(){return ae}),n.d(e,"zb",function(){return se}),n.d(e,"Ab",function(){return ue}),n.d(e,"Bb",function(){return le}),n.d(e,"Cb",function(){return Ae}),n.d(e,"Db",function(){return qe}),n.d(e,"Eb",function(){return Ge}),n.d(e,"Fb",function(){return De}),n.d(e,"Gb",function(){return Ne}),n.d(e,"Hb",function(){return z}),n.d(e,"Ib",function(){return L}),n.d(e,"Jb",function(){return ze}),n.d(e,"Kb",function(){return w}),n.d(e,"Lb",function(){return S}),n.d(e,"Mb",function(){return C}),n.d(e,"Nb",function(){return Be}),n.d(e,"Ob",function(){return ke}),n.d(e,"Pb",function(){return he}),n.d(e,"Qb",function(){return Ve});var m=function(){function t(t){this.el=t,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.el.nativeElement.value=this.lastValue=null==t?"":t,y(this.el)},t.prototype.handleChangeEvent=function(t){t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),y(this.el)},t.prototype._handleBlurEvent=function(){this.onTouched(),y(this.el)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.el.nativeElement.disabled=t},t}();function y(t){requestAnimationFrame(function(){var e=t.nativeElement,n=function(t){for(var n=e.classList,r=[],i=0;i<n.length;i++){var o=n.item(i);null!==o&&"ng-"===o.substr(0,"ng-".length)&&r.push("ion-"+o.substr(3))}return r}();_(e,n);var r=e.closest("ion-item");r&&_(r,n)})}function _(t,e){var n=t.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add.apply(n,e)}var b=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.prototype.writeValue=function(t){this.el.nativeElement.checked=this.lastValue=null!=t&&t,y(this.el)},e.prototype._handleIonChange=function(t){this.handleChangeEvent(t)},e}(m),w=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.prototype._handleIonSelect=function(t){this.handleChangeEvent(t)},e}(m),S=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.prototype._handleChangeEvent=function(t){this.handleChangeEvent(t)},e}(m),C=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.prototype._handleInputEvent=function(t){this.handleChangeEvent(t)},e}(m),x=function(t){return E(t)},E=function(t){t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=O(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-"+e)}),e},O=function(t){return Object.keys(F).filter(function(e){return F[e](t)})},I=function(t){return R(t,/iPad/i)},T=function(t){return R(t,/android|sink/i)},M=function(t){return j(t,"(any-pointer:coarse)")},P=function(t){return k(t)||A(t)},k=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},A=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},R=function(t,e){return!(!t.navigator||!t.navigator.userAgent)&&e.test(t.navigator.userAgent)},j=function(t,e){return!!t.matchMedia&&t.matchMedia(e).matches},F={ipad:I,iphone:function(t){return R(t,/iPhone/i)},ios:function(t){return R(t,/iPad|iPhone|iPod/i)},android:T,phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return I(t)||function(t){return T(t)&&!R(t,/mobile/i)}(t)||r>460&&r<820&&i>780&&i<1400},cordova:k,capacitor:A,electron:function(t){return R(t,/electron/)},pwa:function(t){return!!t.matchMedia&&(t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone)},mobile:M,mobileweb:function(t){return M(t)&&!P(t)},desktop:function(t){return!M(t)},hybrid:P},L=function(){function t(t){var e;this.doc=t,this.backButton=new s.a,this.pause=new s.a,this.resume=new s.a,this.resize=new s.a,this.win=t.defaultView,this.backButton.subscribeWithPriority=function(t,e){return this.subscribe(function(n){n.register(t,e)})},N(this.pause,t,"pause"),N(this.resume,t,"resume"),N(this.backButton,t,"ionBackButton"),N(this.resize,this.win,"resize"),this._readyPromise=new Promise(function(t){e=t}),this.win&&this.win.cordova?t.addEventListener("deviceready",function(){e("cordova")},{once:!0}):e("dom")}return t.prototype.is=function(t){return e=t,x(this.win).includes(e);var e},t.prototype.platforms=function(){return x(this.win)},t.prototype.ready=function(){return this._readyPromise},Object.defineProperty(t.prototype,"isRTL",{get:function(){return"rtl"===this.doc.dir},enumerable:!0,configurable:!0}),t.prototype.getQueryParam=function(t){return D(this.win.location.href,t)},t.prototype.isLandscape=function(){return!this.isPortrait()},t.prototype.isPortrait=function(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches},t.prototype.testUserAgent=function(t){var e=this.win.navigator;return!!(e&&e.userAgent&&e.userAgent.indexOf(t)>=0)},t.prototype.url=function(){return this.win.location.href},t.prototype.width=function(){return this.win.innerWidth},t.prototype.height=function(){return this.win.innerHeight},t.ngInjectableDef=Object(i.T)({factory:function(){return new t(Object(i.X)(o.c))},token:t,providedIn:"root"}),t}(),D=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},N=function(t,e,n){e&&e.addEventListener(n,function(e){t.next(null!=e?e.detail:void 0)})},z=function(){function t(t,e,n,r){var i=this;this.location=e,this.serializer=n,this.router=r,this.direction=B,this.animated=G,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(function(t){if(t instanceof a.e){var e=t.restoredState?t.restoredState.navigationId:t.id;i.guessDirection=e<i.lastNavId?"back":"forward",i.guessAnimation=t.restoredState?void 0:i.guessDirection,i.lastNavId="forward"===i.guessDirection?t.id:e}}),t.backButton.subscribeWithPriority(0,function(){return i.pop()})}return t.prototype.navigateForward=function(t,e){return void 0===e&&(e={}),this.setDirection("forward",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateBack=function(t,e){return void 0===e&&(e={}),this.setDirection("back",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateRoot=function(t,e){return void 0===e&&(e={}),this.setDirection("root",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.back=function(t){return void 0===t&&(t={animated:!0,animationDirection:"back"}),this.setDirection("back",t.animated,t.animationDirection),this.location.back()},t.prototype.pop=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:t=this.topOutlet,e.label=1;case 1:return t?[4,t.pop()]:[3,3];case 2:return e.sent()?[3,3]:(t=t.parentOutlet,[3,1]);case 3:return[2]}})})},t.prototype.setDirection=function(t,e,n){this.direction=t,this.animated=function(t,e,n){if(!1!==e)return void 0!==n?n:"forward"===t||"back"===t?t:"root"===t&&!0===e?"forward":void 0}(t,e,n)},t.prototype.setTopOutlet=function(t){this.topOutlet=t},t.prototype.consumeTransition=function(){var t,e="root";return"auto"===this.direction?(e=this.guessDirection,t=this.guessAnimation):(t=this.animated,e=this.direction),this.direction=B,this.animated=G,{direction:e,animation:t}},t.prototype.navigate=function(t,e){if(Array.isArray(t))return this.router.navigate(t,e);var n=this.serializer.parse(t.toString());return void 0!==e.queryParams&&(n.queryParams=Object(r.a)({},e.queryParams)),void 0!==e.fragment&&(n.fragment=e.fragment),this.router.navigateByUrl(n)},t.ngInjectableDef=Object(i.T)({factory:function(){return new t(Object(i.X)(L),Object(i.X)(o.f),Object(i.X)(a.s),Object(i.X)(a.n,8))},token:t,providedIn:"root"}),t}(),B="auto",G=void 0;function V(t,e){var n=t.prototype;e.forEach(function(t){Object.defineProperty(n,t,{get:function(){return this.el[t]},set:function(e){this.el[t]=e}})})}function U(t,e){var n=t.prototype;e.forEach(function(t){n[t]=function(){var e=arguments;return this.el.componentOnReady().then(function(n){return n[t].apply(n,e)})}})}function H(t,e,n){n.forEach(function(n){return t[n]=Object(u.a)(e,n)})}var q=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),W=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Z=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Z,["color","mode","defaultHref","icon","text"]);var X=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionBackdropTap"])}}();V(X,["visible","tappable","stopPropagation"]);var K=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(K,["color","mode"]);var Y=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionFocus","ionBlur"])}}();V(Y,["color","mode","buttonType","disabled","expand","fill","routerDirection","href","shape","size","strong","type"]);var J=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Q=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Q,["color","mode","button","type","disabled","href","routerDirection"]);var $=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V($,["mode"]);var tt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(tt,["color","mode","translucent"]);var et=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(et,["color","mode"]);var nt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(nt,["color","mode"]);var rt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionChange","ionFocus","ionBlur"])}}();V(rt,["color","mode","name","checked","indeterminate","disabled","value"]);var it=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(it,["color","mode","outline"]);var ot=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(ot,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]);var at=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}}();U(at,["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]),V(at,["color","fullscreen","forceOverscroll","scrollX","scrollY","scrollEvents"]);var st=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}}();U(st,["open"]),V(st,["mode","name","disabled","readonly","min","max","displayFormat","pickerFormat","cancelText","doneText","yearValues","monthValues","dayValues","hourValues","minuteValues","monthNames","monthShortNames","dayNames","dayShortNames","pickerOptions","placeholder","value"]);var ut=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();U(ut,["close"]),V(ut,["horizontal","vertical","edge","activated"]);var lt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionFocus","ionBlur"])}}();V(lt,["mode","color","activated","disabled","href","routerDirection","show","translucent","type","size"]);var ct=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(ct,["activated","side"]);var ht=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(ht,["mode","translucent"]);var pt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(pt,["fixed"]);var ft=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(ft,["mode","translucent"]);var dt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(dt,["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]);var gt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}}();V(gt,["alt","src"]);var vt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionInfinite"])}}();U(vt,["complete"]),V(vt,["threshold","disabled","position"]);var mt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(mt,["loadingSpinner","loadingText"]);var yt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}}();U(yt,["setFocus","getInputElement"]),V(yt,["color","mode","accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","debounce","disabled","inputmode","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","spellcheck","step","size","type","value"]);var _t=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(_t,["color","mode","button","detail","detailIcon","disabled","href","lines","routerDirection","type"]);var bt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(bt,["color","mode","sticky"]);var wt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),St=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(St,["color","mode","disabled","expandable","href"]);var Ct=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionSwipe"])}}();V(Ct,["side"]);var xt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionDrag"])}}();U(xt,["getOpenAmount","getSlidingRatio","open","close","closeOpened"]),V(xt,["disabled"]);var Et=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Et,["color","mode","position"]);var Ot=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();U(Ot,["closeSlidingItems"]),V(Ot,["mode","lines","inset"]);var It=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(It,["mode","color"]);var Tt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}}();U(Tt,["isOpen","isActive","open","close","toggle","setOpen"]),V(Tt,["contentId","menuId","type","disabled","side","swipeGesture","maxEdgeStart"]);var Mt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Mt,["color","mode","menu","autoHide"]);var Pt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Pt,["menu","autoHide"]);var kt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionNavWillChange","ionNavDidChange"])}}();U(kt,["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]),V(kt,["swipeGesture","animated","animation","rootParams","root"]);var At=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Rt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Rt,["component","componentProps"]);var jt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(jt,["component","componentProps"]);var Ft=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Ft,["color","mode"]);var Lt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Lt,["mode","type","reversed","value","buffer","color"]);var Dt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionSelect","ionFocus","ionBlur"])}}();V(Dt,["color","mode","name","disabled","checked","value"]);var Nt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionChange"])}}();V(Nt,["allowEmptySelection","name","value"]);var zt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionChange","ionFocus","ionBlur"])}}();V(zt,["color","mode","debounce","name","dualKnobs","min","max","pin","snaps","step","ticks","disabled","value"]);var Bt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionRefresh","ionPull","ionStart"])}}();U(Bt,["complete","cancel","getProgress"]),V(Bt,["pullMin","pullMax","closeDuration","snapbackDuration","pullFactor","disabled"]);var Gt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Gt,["pullingIcon","pullingText","refreshingSpinner","refreshingText"]);var Vt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Ut=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionItemReorder"])}}();U(Ut,["complete"]),V(Ut,["disabled"]);var Ht=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();U(Ht,["addRipple"]),V(Ht,["type"]);var qt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Wt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}}();U(Wt,["setFocus","getInputElement"]),V(Wt,["color","mode","animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","disabled","placeholder","searchIcon","showCancelButton","spellcheck","type","value"]);var Zt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionChange","ionStyle"])}}();V(Zt,["color","mode","disabled","scrollable","value"]);var Xt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionSelect"])}}();V(Xt,["mode","checked","disabled","layout","value"]);var Kt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}}();U(Kt,["open"]),V(Kt,["mode","disabled","cancelText","okText","placeholder","name","selectedText","multiple","interface","interfaceOptions","compareWith","value"]);var Yt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Yt,["disabled","selected","value"]);var Jt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(Jt,["animated","width"]);var Qt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),$t=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}}();U($t,["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes"]),V($t,["mode","options","pager","scrollbar"]);var te=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(te,["color","duration","name","paused"]);var ee=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionSplitPaneVisible"])}}();V(ee,["contentId","disabled","when"]);var ne=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(ne,["mode","color","selectedTab","translucent"]);var re=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(re,["selected","mode","layout","href","tab","disabled"]);var ie=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(ie,["color","mode"]);var oe=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}}();U(oe,["setFocus","getInputElement"]),V(oe,["mode","color","autocapitalize","autofocus","clearOnEdit","debounce","disabled","maxlength","minlength","name","placeholder","readonly","required","spellcheck","cols","rows","wrap","autoGrow","value"]);var ae=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),se=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(se,["color"]);var ue=function(){return function(t,e){t.detach(),this.el=e.nativeElement,H(this,this.el,["ionChange","ionFocus","ionBlur"])}}();V(ue,["mode","color","name","checked","disabled","value"]);var le=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();V(le,["color","mode"]);var ce=function(){function t(){}return t.prototype.get=function(t,e){var n=pe();return n?n.get(t,e):null},t.prototype.getBoolean=function(t,e){var n=pe();return!!n&&n.getBoolean(t,e)},t.prototype.getNumber=function(t,e){var n=pe();return n?n.getNumber(t,e):0},t.prototype.set=function(t,e){var n=pe();n&&n.set(t,e)},t.ngInjectableDef=Object(i.T)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),he=new i.p("USERCONFIG");function pe(){if("undefined"!=typeof window){var t=window.Ionic;if(t&&t.config)return t.config}return null}var fe=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return this.data[t]},t}(),de=function(){function t(t,e){this.zone=t,this.appRef=e}return t.prototype.create=function(t,e,n){return new ge(t,e,n,this.appRef,this.zone)},t}(),ge=function(){function t(t,e,n,r,i){this.resolver=t,this.injector=e,this.location=n,this.appRef=r,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}return t.prototype.attachViewToDom=function(t,e,n,r){var o=this;return new Promise(function(a){o.zone.run(function(){var s=function(t,e,n,r,a,s,u,l,c,h){var p=o.resolver.resolveComponentFactory(l),f=i.q.create({providers:_e(c),parent:e}),d=n?n.createComponent(p,n.length,f):p.create(f),g=d.instance,v=d.location.nativeElement;if(c&&Object.assign(g,c),h)for(var m=0,y=h;m<y.length;m++)v.classList.add(y[m]);var _=me(g,v);return u.appendChild(v),n||r.attachView(d.hostView),d.changeDetectorRef.reattach(),a.set(v,d),s.set(v,_),v}(0,o.injector,o.location,o.appRef,o.elRefMap,o.elEventsMap,t,e,n,r);a(s)})})},t.prototype.removeViewFromDom=function(t,e){var n=this;return new Promise(function(t){n.zone.run(function(){var r=n.elRefMap.get(e);if(r){r.destroy(),n.elRefMap.delete(e);var i=n.elEventsMap.get(e);i&&(i(),n.elEventsMap.delete(e))}t()})})},t}(),ve=["ionViewWillEnter","ionViewDidEnter","ionViewWillLeave","ionViewDidLeave","ionViewWillUnload"];function me(t,e){var n=ve.map(function(n){var r=function(e){"function"==typeof t[n]&&t[n](e.detail)};return e.addEventListener(n,r),function(){e.removeEventListener(n,r)}});return function(){n.forEach(function(t){return t()})}}var ye=new i.p("NavParamsToken");function _e(t){return[{provide:ye,useValue:t},{provide:fe,useFactory:be,deps:[ye]}]}function be(t){return new fe(t)}function we(t,e){return(t=t.filter(function(t){return t.stackId!==e.stackId})).push(e),t}function Se(t,e){var n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)}function Ce(t,e){if(t)for(var n=xe(e),r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}}function xe(t){return t.split("/").map(function(t){return t.trim()}).filter(function(t){return""!==t})}function Ee(t){t&&(t.ref.destroy(),t.unlistenEvents())}var Oe=function(){function t(t,e,n,r,i,o){this.containerEl=e,this.router=n,this.navCtrl=r,this.zone=i,this.location=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?xe(t):void 0}return t.prototype.createView=function(t,e){var n=Se(this.router,e),r=t&&t.location&&t.location.nativeElement,i=me(t.instance,r);return{id:this.nextId++,stackId:Ce(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:t,url:n}},t.prototype.getExistingView=function(t){var e=Se(this.router,t),n=this.views.find(function(t){return t.url===e});return n&&n.ref.changeDetectorRef.reattach(),n},t.prototype.setActive=function(t){var e=this,n=this.navCtrl.consumeTransition(),i=n.direction,o=n.animation,a=this.activeView,s=function(t,e){return!e||t.stackId!==e.stackId}(t,a);s&&(i="back",o=void 0);var u,l=this.views.slice(),c=this.router;c.getCurrentNavigation?u=c.getCurrentNavigation():c.navigations&&c.navigations.value&&(u=c.navigations.value),u&&u.extras&&u.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);var h=this.insertView(t,i);return this.wait(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.e)(this,function(e){switch(e.label){case 0:return[4,this.transition(t,a,o,this.canGoBack(1),!1)];case 1:return e.sent(),[4,Ie(t,h,l,this.location)];case 2:return e.sent(),[2,{enteringView:t,direction:i,animation:o,tabSwitch:s}]}})})})},t.prototype.canGoBack=function(t,e){return void 0===e&&(e=this.getActiveStackId()),this.getStack(e).length>t},t.prototype.pop=function(t,e){var n=this;return void 0===e&&(e=this.getActiveStackId()),this.zone.run(function(){var r=n.getStack(e);if(r.length<=t)return Promise.resolve(!1);var i=r[r.length-t-1],o=i.url,a=i.savedData;if(a){var s=a.get("primary");s&&s.route&&s.route._routerState&&s.route._routerState.snapshot&&s.route._routerState.snapshot.url&&(o=s.route._routerState.snapshot.url)}return n.navCtrl.navigateBack(o,i.savedExtras).then(function(){return!0})})},t.prototype.startBackTransition=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(r.e)(this,function(r){switch(r.label){case 0:return(t=this.activeView)?(e=this.getStack(t.stackId),(n=e[e.length-2]).ref.changeDetectorRef.reattach(),[4,this.wait(function(){return i.transition(n,t,"back",!0,!0)})]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.endBackTransition=function(t){t&&(this.skipTransition=!0,this.pop(1))},t.prototype.getLastUrl=function(t){var e=this.getStack(t);return e.length>0?e[e.length-1]:void 0},t.prototype.getActiveStackId=function(){return this.activeView?this.activeView.stackId:void 0},t.prototype.destroy=function(){this.containerEl=void 0,this.views.forEach(Ee),this.activeView=void 0,this.views=[]},t.prototype.getStack=function(t){return this.views.filter(function(e){return e.stackId===t})},t.prototype.insertView=function(t,e){return this.activeView=t,this.views=function(t,e,n){return"root"===n?we(t,e):"forward"===n?function(t,e){return t.indexOf(e)>=0?t=t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):t.push(e),t}(t,e):function(t,e){return t.indexOf(e)>=0?t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):we(t,e)}(t,e)}(this.views,t,e),this.views.slice()},t.prototype.transition=function(t,e,n,i,o){return Object(r.b)(this,void 0,void 0,function(){var a,s,u;return Object(r.e)(this,function(r){switch(r.label){case 0:return this.skipTransition?(this.skipTransition=!1,[2]):(s=e?e.element:void 0,u=this.containerEl,(a=t?t.element:void 0)&&a!==s?(a.classList.add("ion-page","ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),[4,u.componentOnReady()]):[3,3]);case 1:return r.sent(),[4,u.commit(a,s,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:i,progressAnimation:o})];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.wait=function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.e)(this,function(e){switch(e.label){case 0:return void 0===this.runningTask?[3,2]:[4,this.runningTask];case 1:e.sent(),this.runningTask=void 0,e.label=2;case 2:return[2,this.runningTask=t()]}})})},t}();function Ie(t,e,n,r){return new Promise(function(i){requestAnimationFrame(function(){!function(t,e,n,r){n.filter(function(t){return!e.includes(t)}).forEach(Ee),e.forEach(function(e){var n=r.path().split("?")[0].split("#")[0];if(e!==t&&e.url!==n){var i=e.element;i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden"),e.ref.changeDetectorRef.detach()}})}(t,e,n,r),i()})})}var Te=function(){function t(t,e,n,r,o,s,u,c,h,p,f,d,g,v){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.config=u,this.navCtrl=c,this.parentOutlet=v,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new l.a(null),this.stackEvents=new i.m,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.nativeEl=p.nativeElement,this.name=r||a.g,this.tabsPrefix="true"===o?Se(f,g):void 0,this.stackCtrl=new Oe(this.tabsPrefix,this.nativeEl,f,c,d,h),t.onChildOutletCreated(this.name,this)}return Object.defineProperty(t.prototype,"animated",{set:function(t){this.nativeEl.animated=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeGesture",{set:function(t){var e=this;this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:function(){return e.stackCtrl.canGoBack(1)},onStart:function(){return e.stackCtrl.startBackTransition()},onEnd:function(t){return e.stackCtrl.endBackTransition(t)}}:void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.stackCtrl.destroy()},t.prototype.getContext=function(){return this.parentContexts.getContext(this.name)},t.prototype.ngOnInit=function(){var t=this;if(!this.activated){var e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}this.nativeEl.componentOnReady&&this.nativeEl.componentOnReady().then(function(){void 0===t._swipeGesture&&(t.swipeGesture=t.config.getBoolean("swipeBackEnabled","ios"===t.nativeEl.mode))})},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){throw new Error("incompatible reuse strategy")},t.prototype.attach=function(t,e){throw new Error("incompatible reuse strategy")},t.prototype.deactivate=function(){if(this.activated){if(this.activatedView){this.activatedView.savedData=new Map(this.getContext().children.contexts),this.activatedView.savedExtras={};var t=this.getContext();if(t.route){var e=t.route.snapshot;this.activatedView.savedExtras.queryParams=e.queryParams,this.activatedView.savedExtras.fragment=e.fragment}}var n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}},t.prototype.activateWith=function(t,e){var n,r=this;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var i=this.stackCtrl.getExistingView(t);if(i){n=this.activated=i.ref;var o=i.savedData;o&&(this.getContext().children.contexts=o),this.updateActivatedRouteProxy(n.instance,t)}else{var a=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,u=new l.a(null),c=this.createActivatedRouteProxy(u,t),h=new Me(c,s,this.location.injector);n=this.activated=this.location.createComponent(a,this.location.length,h),u.next(n.instance),i=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(n.instance,c),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:t}),this.changeDetector.markForCheck()}this.activatedView=i,this.stackCtrl.setActive(i).then(function(t){r.navCtrl.setTopOutlet(r),r.activateEvents.emit(n.instance),r.stackEvents.emit(t)})},t.prototype.canGoBack=function(t,e){return void 0===t&&(t=1),this.stackCtrl.canGoBack(t,e)},t.prototype.pop=function(t,e){return void 0===t&&(t=1),this.stackCtrl.pop(t,e)},t.prototype.getLastUrl=function(t){var e=this.stackCtrl.getLastUrl(t);return e?e.url:void 0},t.prototype.getActiveStackId=function(){return this.stackCtrl.getActiveStackId()},t.prototype.createActivatedRouteProxy=function(t,e){var n=new a.a;return n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,n._paramMap=this.proxyObservable(t,"paramMap"),n._queryParamMap=this.proxyObservable(t,"queryParamMap"),n.url=this.proxyObservable(t,"url"),n.params=this.proxyObservable(t,"params"),n.queryParams=this.proxyObservable(t,"queryParams"),n.fragment=this.proxyObservable(t,"fragment"),n.data=this.proxyObservable(t,"data"),n},t.prototype.proxyObservable=function(t,e){var n=this;return t.pipe(Object(c.a)(function(t){return!!t}),Object(h.a)(function(t){return n.currentActivatedRoute$.pipe(Object(c.a)(function(e){return null!==e&&e.component===t}),Object(h.a)(function(t){return t&&t.activatedRoute[e]}),function(t){return t.lift(new f(void 0,void 0))})}))},t.prototype.updateActivatedRouteProxy=function(t,e){var n=this.proxyMap.get(t);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=e._futureSnapshot,n._routerState=e._routerState,n.snapshot=e.snapshot,n.outlet=e.outlet,n.component=e.component,this.currentActivatedRoute$.next({component:t,activatedRoute:e})},t}(),Me=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===a.a?this.route:t===a.b?this.childContexts:this.parent.get(t,e)},t}(),Pe=function(){function t(t){this.navCtrl=t,this.ionTabsWillChange=new i.m,this.ionTabsDidChange=new i.m}return t.prototype.onPageSelected=function(t){var e=t.enteringView.stackId;t.tabSwitch&&void 0!==e&&(this.tabBar&&(this.tabBar.selectedTab=e),this.ionTabsWillChange.emit({tab:e}),this.ionTabsDidChange.emit({tab:e}))},t.prototype.select=function(t){var e=this.outlet.getActiveStackId()===t,n=this.outlet.tabsPrefix+"/"+t,r=e?n:this.outlet.getLastUrl(t)||n;return this.navCtrl.navigateRoot(r,{animated:!0,animationDirection:"back"})},t.prototype.getSelected=function(){return this.outlet.getActiveStackId()},t}(),ke=function(){return function(t,e){this.templateRef=t,this.viewContainer=e}}(),Ae=function(){function t(t,e,n){this.zone=t,this.iterableDiffers=e,this.refMap=new WeakMap,this.el=n.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}return t.prototype.ngOnChanges=function(t){if(this.trackBy&&"items"in t){var e=t.items.currentValue;if(void 0===this.differ&&null!=e)try{this.differ=this.iterableDiffers.find(e).create(this.trackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+e+"'. VirtualScroll only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)},t.prototype.nodeRender=function(t,e,n){var r=this;return this.zone.run(function(){var i;if(t){var o=(i=r.refMap.get(t)).context;o.$implicit=e.value,o.index=e.index}else i=r.itmTmp.viewContainer.createEmbeddedView(r.getComponent(e.type),{$implicit:e.value,index:n},n),t=function(t){for(var e=i.rootNodes,n=0;n<e.length;n++)if(1===e[n].nodeType)return e[n];throw new Error("virtual element was not created")}(),r.refMap.set(t,i);return i.detectChanges(),t})},t.prototype.getComponent=function(t){switch(t){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef}throw new Error("template for virtual item was not provided")},t}();function Re(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=function(t,e){var n=e.querySelector(t);return n||(n=e.createElement(t),e.body.appendChild(n)),n}(t,e);return o.componentOnReady().then(function(){return o[n].apply(o,r)})}V(Ae,["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight"]),U(Ae,["checkEnd","checkRange","positionForItem"]);var je=function(){function t(t,e){this.ctrl=t,this.doc=e}return t.prototype.create=function(t){return Re(this.ctrl,this.doc,"create",t)},t.prototype.dismiss=function(t,e,n){return Re(this.ctrl,this.doc,"dismiss",t,e,n)},t.prototype.getTop=function(){return Re(this.ctrl,this.doc,"getTop")},t}(),Fe=function(t){function e(e){return t.call(this,"ion-action-sheet-controller",e)||this}return Object(r.d)(e,t),e.ngInjectableDef=Object(i.T)({factory:function(){return new e(Object(i.X)(o.c))},token:e,providedIn:"root"}),e}(je),Le=function(t){function e(e){return t.call(this,"ion-alert-controller",e)||this}return Object(r.d)(e,t),e.ngInjectableDef=Object(i.T)({factory:function(){return new e(Object(i.X)(o.c))},token:e,providedIn:"root"}),e}(je),De=function(t){function e(e){return t.call(this,"ion-loading-controller",e)||this}return Object(r.d)(e,t),e.ngInjectableDef=Object(i.T)({factory:function(){return new e(Object(i.X)(o.c))},token:e,providedIn:"root"}),e}(je),Ne=function(t){function e(e,n,r,i){var o=t.call(this,"ion-modal-controller",i)||this;return o.angularDelegate=e,o.resolver=n,o.injector=r,o}return Object(r.d)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(r.a)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(je),ze=function(t){function e(e,n,r,i){var o=t.call(this,"ion-popover-controller",i)||this;return o.angularDelegate=e,o.resolver=n,o.injector=r,o}return Object(r.d)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(r.a)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(je),Be=function(t){function e(e){return t.call(this,"ion-toast-controller",e)||this}return Object(r.d)(e,t),e.ngInjectableDef=Object(i.T)({factory:function(){return new e(Object(i.X)(o.c))},token:e,providedIn:"root"}),e}(je),Ge=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.shouldAttach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){if(t.routeConfig!==e.routeConfig)return!1;if(t.component!==e.component)return!1;var n=t.params,r=e.params,i=Object.keys(n),o=Object.keys(r);if(i.length!==o.length)return!1;for(var a=0,s=i;a<s.length;a++){var u=s[a];if(r[u]!==n[u])return!1}return!0},t}();function Ve(t,e){return function(){var n=e.defaultView;if(n){var r=n.Ionic=n.Ionic||{};return r.config=t,r.asyncQueue=!1,r.ael=function(t,e,n,r){t.__zone_symbol__addEventListener&&He(e)?t.__zone_symbol__addEventListener(e,n,r):t.addEventListener(e,n,r)},r.rel=function(t,e,n,r){t.__zone_symbol__removeEventListener&&He(e)?t.__zone_symbol__removeEventListener(e,n,r):t.removeEventListener(e,n,r)},function(t,e){return Object(g.a)(t,v,{exclude:["ion-tabs","ion-tab"]})}(n)}}}var Ue=["scroll","resize","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","ionStyle"];function He(t){return Ue.indexOf(t)>=0}var qe=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:he,useValue:e},{provide:i.d,useFactory:Ve,multi:!0,deps:[he,o.c]}]}},t}()},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},a3Cf:function(t,e,n){"use strict";var r=n("HPGL"),i=n("Lq6m");n.d(e,"IonicNativePlugin",function(){return i.a});var o=n("KOl+");n.d(e,"checkAvailability",function(){return o.a}),n.d(e,"instanceAvailability",function(){return o.d}),n.d(e,"getPromise",function(){return o.c});var a=n("xSm1");n.d(e,"cordova",function(){return a.a}),n("hKQe");var s=n("Rt+L");n.d(e,"cordovaInstance",function(){return s.a});var u=n("pxS/");n.d(e,"cordovaPropertyGet",function(){return u.a}),n.d(e,"cordovaPropertySet",function(){return u.b});var l=n("Ji5e");n.d(e,"instancePropertyGet",function(){return l.a}),n.d(e,"instancePropertySet",function(){return l.b}),n("4pTB"),Object(r.a)()},aSns:function(t,e,n){"use strict";var r=n("GrlX"),i=n("uxXc"),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach(function(t){s[o.call(i[t].labels).sort().join("")]=t});var u={};function l(t,e){if(!(this instanceof l))return new l(t,e);if(e&&e in a&&(e=null),e&&!(e in i))throw new Error("Unknown model: "+e);var n,c;if(void 0===t)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof l)this.model=t.model,this.color=t.color.slice(),this.valpha=t.valpha;else if("string"==typeof t){var h=r.get(t);if(null===h)throw new Error("Unable to parse color from string: "+t);this.model=h.model,this.color=h.value.slice(0,c=i[this.model].channels),this.valpha="number"==typeof h.value[c]?h.value[c]:1}else if(t.length){this.model=e||"rgb";var f=o.call(t,0,c=i[this.model].channels);this.color=p(f,c),this.valpha="number"==typeof t[c]?t[c]:1}else if("number"==typeof t)t&=16777215,this.model="rgb",this.color=[t>>16&255,t>>8&255,255&t],this.valpha=1;else{this.valpha=1;var d=Object.keys(t);"alpha"in t&&(d.splice(d.indexOf("alpha"),1),this.valpha="number"==typeof t.alpha?t.alpha:0);var g=d.sort().join("");if(!(g in s))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=s[g];var v=i[this.model].labels,m=[];for(n=0;n<v.length;n++)m.push(t[v[n]]);this.color=p(m)}if(u[this.model])for(c=i[this.model].channels,n=0;n<c;n++){var y=u[this.model][n];y&&(this.color[n]=y(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(t,e,n){return(t=Array.isArray(t)?t:[t]).forEach(function(t){(u[t]||(u[t]=[]))[e]=n}),t=t[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[t]()).color[e]=r,i):(i=this[t]().color[e],n&&(i=n(i)),i)}}function h(t){return function(e){return Math.max(0,Math.min(t,e))}}function p(t,e){for(var n=0;n<e;n++)"number"!=typeof t[n]&&(t[n]=0);return t}l.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(t){var e=this.model in r.to?this:this.rgb(),n=1===(e=e.round("number"==typeof t?t:1)).valpha?e.color:e.color.concat(this.valpha);return r.to[e.model](n)},percentString:function(t){var e=this.rgb().round("number"==typeof t?t:1),n=1===e.valpha?e.color:e.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var t={},e=i[this.model].channels,n=i[this.model].labels,r=0;r<e;r++)t[n[r]]=this.color[r];return 1!==this.valpha&&(t.alpha=this.valpha),t},unitArray:function(){var t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,1!==this.valpha&&t.push(this.valpha),t},unitObject:function(){var t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,1!==this.valpha&&(t.alpha=this.valpha),t},round:function(t){return t=Math.max(t||0,0),new l(this.color.map(function(t){return function(e){return function(t,e){return Number(t.toFixed(e))}(e,t)}}(t)).concat(this.valpha),this.model)},alpha:function(t){return arguments.length?new l(this.color.concat(Math.max(0,Math.min(1,t))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,function(t){return(t%360+360)%360}),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(t){return arguments.length?new l(t):i[this.model].keyword(this.color)},hex:function(t){return arguments.length?new l(t):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var t=this.rgb().color;return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},luminosity:function(){for(var t=this.rgb().color,e=[],n=0;n<t.length;n++){var r=t[n]/255;e[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var t=this.rgb().color;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var t=this.rgb(),e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten:function(t){var e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken:function(t){var e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate:function(t){var e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate:function(t){var e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten:function(t){var e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken:function(t){var e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale:function(){var t=this.rgb().color,e=.3*t[0]+.59*t[1]+.11*t[2];return l.rgb(e,e,e)},fade:function(t){return this.alpha(this.valpha-this.valpha*t)},opaquer:function(t){return this.alpha(this.valpha+this.valpha*t)},rotate:function(t){var e=this.hsl(),n=e.color[0];return e.color[0]=n=(n=(n+t)%360)<0?360+n:n,e},mix:function(t,e){var n=t.rgb(),r=this.rgb(),i=void 0===e?.5:e,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,u=1-s;return l.rgb(s*n.red()+u*r.red(),s*n.green()+u*r.green(),s*n.blue()+u*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach(function(t){if(-1===a.indexOf(t)){var e=i[t].channels;l.prototype[t]=function(){if(this.model===t)return new l(this);if(arguments.length)return new l(arguments,t);var n,r="number"==typeof arguments[e]?e:this.valpha;return new l((n=i[this.model][t].raw(this.color),Array.isArray(n)?n:[n]).concat(r),t)},l[t]=function(n){return"number"==typeof n&&(n=p(o.call(arguments),e)),new l(n,t)}}}),t.exports=l},b7mW:function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},bne5:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("isby"),o=n("2Bdj"),a=n("67Y/");function s(t,e,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?s(t,e,n).pipe(Object(a.a)(function(t){return Object(i.a)(t)?u.apply(void 0,t):u(t)})):new r.a(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var l=e;e.addListener(n,r),a=function(){return l.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}},cBjU:function(t,e,n){"use strict";function r(t,e){return"sc-"+t.t+(e&&e!==s?"-"+e:"")}function i(t,e){return t+(e?"-h":"-s")}function o(t,e){for(var n,r,i=null,o=!1,a=!1,s=arguments.length;s-- >2;)x.push(arguments[s]);for(;x.length>0;){var u=x.pop();if(u&&void 0!==u.pop)for(s=u.length;s--;)x.push(u[s]);else"boolean"==typeof u&&(u=null),(a="function"!=typeof t)&&(null==u?u="":"number"==typeof u?u=String(u):"string"!=typeof u&&(a=!1)),a&&o?i[i.length-1].vtext+=u:null===i?i=[a?{vtext:u}:u]:i.push(a?{vtext:u}:u),o=a}if(null!=e){if(e.className&&(e.class=e.className),"object"==typeof e.class){for(s in e.class)e.class[s]&&x.push(s);e.class=x.join(" "),x.length=0}null!=e.key&&(n=e.key),null!=e.name&&(r=e.name)}return"function"==typeof t?t(e,i||[],E):{vtag:t,vchildren:i,vtext:void 0,vattrs:e,vkey:n,vname:r,i:void 0,o:!1}}function a(t,e,r){void 0===r&&(r={});var i=Array.isArray(e)?e:[e],o=t.document,a=r.hydratedCssClass||"hydrated",s=r.exclude;s&&(i=i.filter(function(t){return-1===s.indexOf(t[0])}));var u=i.map(function(t){return t[0]});if(u.length>0){var l=o.createElement("style");l.innerHTML=u.join()+"{visibility:hidden}."+a+"{visibility:inherit}",l.setAttribute("data-styles",""),o.head.insertBefore(l,o.head.firstChild)}var c=r.namespace||"Ionic";return V||(V=!0,function(t,e,n){(t["s-apps"]=t["s-apps"]||[]).push(e),n.componentOnReady||(n.componentOnReady=function(){function e(e){if(n.nodeName.indexOf("-")>0){for(var r=t["s-apps"],i=0,o=0;o<r.length;o++)if(t[r[o]].componentOnReady){if(t[r[o]].componentOnReady(n,e))return;i++}if(i<r.length)return void(t["s-cr"]=t["s-cr"]||[]).push([n,e])}e(null)}var n=this;return t.Promise?new t.Promise(e):{then:e}})}(t,c,t.HTMLElement.prototype)),function(t){t.k=function(){function e(){var t=setTimeout;return function(){return t(n,1)}}function n(){for(var t=0;t<y;t+=2)(0,T[t])(T[t+1]),T[t]=void 0,T[t+1]=void 0;y=0}function r(t,e){var n=this,r=new this.constructor(o);void 0===r[P]&&g(r);var i=n.A;if(i){var a=arguments[i-1];w(function(){return d(i,r,a,n.C)})}else p(n,r,t,e);return r}function i(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(o);return u(e,t),e}function o(){}function a(t){try{return t.then}catch(t){return j.error=t,j}}function s(t,e,n){e.constructor===t.constructor&&n===r&&e.constructor.resolve===i?function(t,e){e.A===A?c(t,e.C):e.A===R?h(t,e.C):p(e,void 0,function(e){return u(t,e)},function(e){return h(t,e)})}(t,e):n===j?(h(t,j.error),j.error=null):void 0===n?c(t,e):"function"==typeof n?function(t,e,n){w(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?u(t,n):c(t,n))},function(e){r||(r=!0,h(t,e))});!r&&i&&(r=!0,h(t,i))},t)}(t,e,n):c(t,e)}function u(t,e){if(t===e)h(t,new TypeError("cannot resolve promise w/ itself"));else{var n=typeof e;null===e||"object"!==n&&"function"!==n?c(t,e):s(t,e,a(e))}}function l(t){t.S&&t.S(t.C),f(t)}function c(t,e){t.A===k&&(t.C=e,t.A=A,0!==t._.length&&w(f,t))}function h(t,e){t.A===k&&(t.A=R,t.C=e,w(l,t))}function p(t,e,n,r){var i=t._,o=i.length;t.S=null,i[o]=e,i[o+A]=n,i[o+R]=r,0===o&&t.A&&w(f,t)}function f(t){var e=t._,n=t.A;if(0!==e.length){for(var r,i,o=t.C,a=0;a<e.length;a+=3)i=e[a+n],(r=e[a])?d(n,r,i,o):i(o);t._.length=0}}function d(t,e,n,r){var i="function"==typeof n,o=void 0,a=void 0,s=void 0,l=void 0;if(i){try{o=n(r)}catch(t){j.error=t,o=j}if(o===j?(l=!0,a=o.error,o.error=null):s=!0,e===o)return void h(e,new TypeError("Cannot return same promise"))}else o=r,s=!0;e.A===k&&(i&&s?u(e,o):l?h(e,a):t===A?c(e,o):t===R&&h(e,o))}function g(t){t[P]=F++,t.A=void 0,t.C=void 0,t._=[]}var v,m=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},y=0,_=void 0,b=void 0,w=function(t,e){T[y]=t,T[y+1]=e,2===(y+=2)&&(b?b(n):M())},S=(v=void 0!==t?t:void 0)||{},C=S.MutationObserver||S.WebKitMutationObserver;S="undefined"==typeof self;var x,E,O,I="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,T=Array(1e3),M=void 0;M=C?(x=0,E=new C(n),O=document.createTextNode(""),E.observe(O,{characterData:!0}),function(){O.data=x=++x%2}):I?function(){var t=new MessageChannel;return t.port1.onmessage=n,function(){return t.port2.postMessage(0)}}():void 0===v?function(){try{var t=Function("return this")().P("vertx");return void 0!==(_=t.T||t.W)?function(){_(n)}:e()}catch(t){return e()}}():e();var P=Math.random().toString(36).substring(2),k=void 0,A=1,R=2,j={error:null},F=0,L=function(){function t(t,e){this.N=t,this.R=new t(o),this.R[P]||g(this.R),m(e)?(this.L=this.length=e.length,this.C=Array(this.length),0===this.length?c(this.R,this.C):(this.length=this.length||0,this.D(e),0===this.L&&c(this.R,this.C))):h(this.R,Error("Array Methods must be provided an Array"))}return t.prototype.D=function(t){for(var e=0;this.A===k&&e<t.length;e++)this.F(t[e],e)},t.prototype.F=function(t,e){var n=this.N,u=n.resolve;u===i?(u=a(t))===r&&t.A!==k?this.H(t.A,e,t.C):"function"!=typeof u?(this.L--,this.C[e]=t):n===D?(s(n=new n(o),t,u),this.q(n,e)):this.q(new n(function(e){return e(t)}),e):this.q(u(t),e)},t.prototype.H=function(t,e,n){var r=this.R;r.A===k&&(this.L--,t===R?h(r,n):this.C[e]=n),0===this.L&&c(r,this.C)},t.prototype.q=function(t,e){var n=this;p(t,void 0,function(t){return n.H(A,e,t)},function(t){return n.H(R,e,t)})},t}(),D=function(){function t(e){if(this[P]=F++,this.C=this.A=void 0,this._=[],o!==e){if("function"!=typeof e)throw new TypeError("Must pass a resolver fn as 1st arg");if(!(this instanceof t))throw new TypeError("Failed to construct 'Promise': Use the 'new' operator.");!function(t,e){try{e(function(e){u(t,e)},function(e){h(t,e)})}catch(e){h(t,e)}}(this,e)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return D.prototype.then=r,D.all=function(t){return new L(this,t).R},D.race=function(t){var e=this;return m(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("Must pass array to race"))})},D.resolve=i,D.reject=function(t){var e=new this(o);return h(e,t),e},D.U=function(t){b=t},D.B=function(t){w=t},D.I=w,D.G=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw Error("polyfill failed")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=D},D.Promise=D,D.G(),D}();var e=[];return t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove)||e.push(n.e(172).then(n.bind(null,"POma"))),"function"==typeof Object.assign&&Object.entries||e.push(n.e(174).then(n.bind(null,"9iCY"))),Array.prototype.find&&Array.prototype.includes||e.push(n.e(170).then(n.bind(null,"CAJ8"))),String.prototype.startsWith&&String.prototype.endsWith||e.push(n.e(175).then(n.bind(null,"PBQ9"))),t.fetch||e.push(n.e(173).then(n.bind(null,"RxuH"))),"undefined"!=typeof WeakMap&&t.CSS&&t.CSS.supports&&t.CSS.supports("color","var(--c)")||e.push(n.e(171).then(n.bind(null,"KEMf"))),function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(t){return!1}}||e.push(n.e(176).then(n.bind(null,"YJhb"))),Promise.all(e).then(function(e){e.forEach(function(e){try{e.applyPolyfill(t,t.document)}catch(t){console.error(t)}})})}(t).then(function(){function e(){i.forEach(function(e){var r;!function(t){return/\{\s*\[native code\]\s*\}/.test(""+t)}(t.customElements.define)?(r=function(e){return t.HTMLElement.call(this,e)}).prototype=Object.create(t.HTMLElement.prototype,{constructor:{value:r,configurable:!0}}):r=new Function("w","return class extends w.HTMLElement{}")(t),G[c].u(function(t){var e=O(t),r=e.s,i=f(t[0]);return e.s=function(t){return function(t,e,r){return n("nFGs")("./"+t+(e?".sc":"")+".entry.js").then(function(t){return t[r]})}("string"==typeof r?r:r[t.mode],t.scoped,i)},e}(e),r)})}if(!G[c]){var s={},u=r.resourcesUrl||"./";(function(t,e){var n=function(t,e){return function(t){return r(t)}(t).includes(e)},r=function(t){t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=i(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-"+e)}),e},i=function(t){return Object.keys(f).filter(function(e){return f[e](t)})},o=function(t){return h(t,/iPad/i)},a=function(t){return h(t,/android|sink/i)},s=function(t){return p(t,"(any-pointer:coarse)")},u=function(t){return l(t)||c(t)},l=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},c=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},h=function(t,e){return!(!t.navigator||!t.navigator.userAgent)&&e.test(t.navigator.userAgent)},p=function(t,e){return!!t.matchMedia&&t.matchMedia(e).matches},f={ipad:o,iphone:function(t){return h(t,/iPhone/i)},ios:function(t){return h(t,/iPad|iPhone|iPod/i)},android:a,phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return o(t)||function(t){return a(t)&&!h(t,/mobile/i)}(t)||r>460&&r<820&&i>780&&i<1400},cordova:l,capacitor:c,electron:function(t){return h(t,/electron/)},pwa:function(t){return!!t.matchMedia&&(t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone)},mobile:s,mobileweb:function(t){return s(t)&&!u(t)},desktop:function(t){return!s(t)},hybrid:u},d=function(){function t(t){this.m=new Map(Object.entries(t))}return t.prototype.get=function(t,e){var n=this.m.get(t);return void 0!==n?n:e},t.prototype.getBoolean=function(t,e){void 0===e&&(e=!1);var n=this.m.get(t);return void 0===n?e:"string"==typeof n?"true"===n:!!n},t.prototype.getNumber=function(t,e){var n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n},t.prototype.set=function(t,e){this.m.set(t,e)},t}(),g="undefined"!=typeof window?window:{},v=g.Ionic=g.Ionic||{};Object.defineProperty(v,"queue",{get:function(){return t.queue}}),r(g),t.isPlatform=n;var m,y=Object.assign({},function(t){try{var e=t.sessionStorage.getItem("ionic-persist-config");return null!==e?JSON.parse(e):{}}catch(t){return{}}}(g),{persistConfig:!1},v.config,(m={},g.location.search.slice(1).split("&").map(function(t){return t.split("=")}).map(function(t){var e=t[1];return[decodeURIComponent(t[0]),decodeURIComponent(e)]}).filter(function(t){return function(t,e){return t.substr(0,e.length)===e}(t[0],"ionic:")}).map(function(t){var e=t[1];return[t[0].slice("ionic:".length),e]}).forEach(function(t){m[t[0]]=t[1]}),m)),_=v.config=t.config=new d(y);_.getBoolean("persistConfig")&&function(t,e){try{t.sessionStorage.setItem("ionic-persist-config",JSON.stringify(e))}catch(t){return}}(g,y);var b=g.document?g.document.documentElement:null,w=_.get("mode",b&&b.getAttribute("mode")||(n(g,"ios")?"ios":"md"));v.mode=t.mode=w,_.set("mode",w),b&&(b.setAttribute("mode",w),b.classList.add(w)),_.getBoolean("_testing")&&_.set("animated",!1)})(s),G[c]=B(c,s,t,o,u,a,i)}if(window.customStyleShim)return G[c].l=window.customStyleShim,G[c].l.initShim().then(e);e()})}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o});var s="$",u={},l={enter:13,escape:27,space:32,tab:9,left:37,up:38,right:39,down:40},c=function(t,e,n,i){var o=n.t+i.mode,a=n[o];if((2===n.Y||1===n.Y&&!t.J.Z)&&(i["s-sc"]=a?r(n,i.mode):r(n)),a||(a=n[o=n.t+s]),a){var u=e.K.head;if(e.Z)if(1===n.Y)u=i.shadowRoot;else{var l=i.getRootNode();l.host&&(u=l)}var c=t.V.get(u);if(c||t.V.set(u,c={}),!c[o]){var h=void 0;if(t.l?h=t.l.createHostStyle(i,o,a):((h=e.X("style")).innerHTML=a,c[o]=!0),h){var p=u.querySelectorAll("[data-styles]");e.nn(u,h,p.length&&p[p.length-1].nextSibling||u.firstChild)}}}},h=function(t){return null!=t},p=function(t){return t.toLowerCase()},f=function(t){return p(t).split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("")},d=function(){},g=function(t,e,n,r,i){void 0===r&&(r="boolean"==typeof n),i=e!==(e=e.replace(/^xlink\:?/,"")),null==n||r&&(!n||"false"===n)?i?t.removeAttributeNS(v,p(e)):t.removeAttribute(e):"function"!=typeof n&&(n=r?"":n.toString(),i?t.setAttributeNS(v,p(e),n):t.setAttribute(e,n))},v="http://www.w3.org/1999/xlink",m=function(t,e,n,r,i,o,a){if("class"!==n||o)if("style"===n){for(var s in r)i&&null!=i[s]||(/-/.test(s)?e.style.removeProperty(s):e.style[s]="");for(var s in i)r&&i[s]===r[s]||(/-/.test(s)?e.style.setProperty(s,i[s]):e.style[s]=i[s])}else if("o"!==n[0]||"n"!==n[1]||!/[A-Z]/.test(n[2])||n in e)if("list"!==n&&"type"!==n&&!o&&(n in e||-1!==["object","function"].indexOf(typeof i)&&null!==i)){var u=t.tn(e);u&&u.en&&u.en[n]?(_(e,n,i),a&&u.en[n].rn&&g(e,u.en[n].in,i,4===u.en[n].on)):"ref"!==n&&(_(e,n,null==i?"":i),null!=i&&!1!==i||t.J.un(e,n))}else null!=i&&"key"!==n?g(e,n,i):(o||t.J.fn(e,n)&&(null==i||!1===i))&&t.J.un(e,n);else n=p(n)in e?p(n.substring(2)):p(n[2])+n.substring(3),i?i!==r&&t.J.cn(e,n,i,0):t.J.an(e,n,0);else if(r!==i){var l=y(r),c=y(i),h=l.filter(function(t){return!c.includes(t)}),f=y(e.className).filter(function(t){return!h.includes(t)}),d=c.filter(function(t){return!l.includes(t)&&!f.includes(t)});f.push.apply(f,d),e.className=f.join(" ")}},y=function(t){return null==t||""===t?[]:t.trim().split(/\s+/)},_=function(t,e,n){try{t[e]=n}catch(t){}},b=function(t,e,n,r,i){var o=11===n.i.nodeType&&n.i.host?n.i.host:n.i,a=e&&e.vattrs||u,s=n.vattrs||u;for(i in a)s&&null!=s[i]||null==a[i]||m(t,o,i,a[i],void 0,r,n.o);for(i in s)i in a&&s[i]===("value"===i||"checked"===i?o[i]:a[i])||m(t,o,i,a[i],s[i],r,n.o)},w=!1,S=function(t,e){t&&(t.vattrs&&t.vattrs.ref&&t.vattrs.ref(e?null:t.i),t.vchildren&&t.vchildren.forEach(function(t){S(t,e)}))},C=function(t,e){var n=0,r=!1,i=function(){return e.performance.now()},o=!1!==t.asyncQueue,a=Promise.resolve(),s=[],u=[],l=[],c=[],h=function(e){return function(n){e.push(n),r||(r=!0,t.raf(d))}},p=function(t){for(var e=0;e<t.length;e++)try{t[e](i())}catch(t){console.error(t)}t.length=0},f=function(t,e){for(var n,r=0;r<t.length&&(n=i())<e;)try{t[r++](n)}catch(t){console.error(t)}r===t.length?t.length=0:0!==r&&t.splice(0,r)},d=function(){n++,p(u);var e=o?i()+7*Math.ceil(n*(1/22)):1/0;f(l,e),f(c,e),l.length>0&&(c.push.apply(c,l),l.length=0),(r=u.length+l.length+c.length>0)?t.raf(d):n=0};return t.raf||(t.raf=e.requestAnimationFrame.bind(e)),{tick:function(t){s.push(t),1===s.length&&a.then(function(){return p(s)})},read:h(u),write:h(l)}},x=[],E={forEach:function(t,e){return t.forEach(e)},map:function(t,e){return t.map(e)}},O=function(t,e,n){var r=t[0],i=t[1],o=t[3],a=t[4],s=t[5],u={color:{in:"color"}};if(o)for(e=0;e<o.length;e++)u[(n=o[e])[0]]={sn:n[1],rn:!!n[2],in:"string"==typeof n[3]?n[3]:n[3]?n[0]:0,on:n[4]};return{t:r,s:i,en:Object.assign({},u),Y:a,ln:s?s.map(I):void 0}},I=function(t){return{vn:t[0],pn:t[1],dn:!!t[2],hn:!!t[3],yn:!!t[4]}},T=function(t,e){return h(e)&&"object"!=typeof e&&"function"!=typeof e?t===Boolean||4===t?"false"!==e&&(""===e||!!e):t===Number||8===t?parseFloat(e):t===String||2===t?e.toString():e:e},M=function(t,e,n){t.bn.add(e),t.wn.has(e)||(t.wn.set(e,!0),t.mn?t.queue.write(function(){return P(t,e,n)}):t.queue.tick(function(){return P(t,e,n)}))},P=function(t,e,n,r,a,s){return function(t,e,n,r){return new(n||(n=Promise))(function(t,e){function i(t){try{a(r.next(t))}catch(t){e(t)}}function o(t){try{a(r.throw(t))}catch(t){e(t)}}function a(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,o)}a((r=r.apply(void 0,[])).next())})}(0,0,void 0,function(){var r,u;return function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.g.pop(),s.M.pop();continue;default:if(!(o=(o=s.M).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.g.push(n);break}o[2]&&s.g.pop(),s.M.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,j:function(){if(1&o[0])throw o[1];return o[1]},M:[],g:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,function(l){switch(l.label){case 0:if(t.wn.delete(e),t.gn.has(e))return[3,12];if(a=t.Mn.get(e))return[3,6];if((s=t.jn.get(e))&&!s["s-rn"])return(s["s-rc"]=s["s-rc"]||[]).push(function(){P(t,e,n)}),[2];if(!(a=F(t,e,t.kn.get(e),n)))return[3,5];l.label=1;case 1:return l.M.push([1,4,,5]),a.componentWillLoad?[4,a.componentWillLoad()]:[3,3];case 2:l.j(),l.label=3;case 3:return[3,5];case 4:return r=l.j(),t.$n(r,3,e),[3,5];case 5:return[3,11];case 6:if(!a)return[3,11];l.label=7;case 7:return l.M.push([7,10,,11]),a.componentWillUpdate?[4,a.componentWillUpdate()]:[3,9];case 8:l.j(),l.label=9;case 9:return[3,11];case 10:return u=l.j(),t.$n(u,5,e),[3,11];case 11:(function(t,e,n,r){try{var a,s=e.An.host,u=e.An.encapsulation,l="shadow"===u&&t.J.Z,c=n;if(a=function(t,e,n){return t&&Object.keys(t).forEach(function(r){t[r].reflectToAttr&&((n=n||{})[r]=e[r])}),n}(e.An.properties,r),l&&(c=n.shadowRoot),!n["s-rn"]){t.En(t,t.J,e,n);var h=n["s-sc"];h&&(t.J.Cn(n,i(h,!0)),"scoped"===u&&t.J.Cn(n,i(h)))}if(r.render||r.hostData||s||a){t.On=!0;var p=r.render&&r.render(),f=void 0;f=r.hostData&&r.hostData(),a&&(f=f?Object.assign(f,a):a),t.On=!1;var d=o(null,f,p),g=t.Sn.get(n)||{};g.i=c,d.o=!0,t.Sn.set(n,t.render(n,g,d,l,u))}t.l&&t.l.updateHost(n),n["s-rn"]=!0,n["s-rc"]&&(n["s-rc"].forEach(function(t){return t()}),n["s-rc"]=null)}catch(v){t.On=!1,t.$n(v,8,n,!0)}})(t,t.tn(e),e,a),e["s-init"](),l.label=12;case 12:return[2]}})})},k=function(t,e,n,r,i,o,a){(a=t._n.get(e))||t._n.set(e,a={});var s=a[n];if(r!==s&&(a[n]=r,o=t.Mn.get(e))){var u=a[j+n];if(u)for(var l=0;l<u.length;l++)try{o[u[l]].call(o,r,s,n)}catch(t){console.error(t)}!t.On&&e["s-rn"]&&M(t,e,i)}},A=function(t,e,n){Object.defineProperty(t,e,{configurable:!0,value:n})},R=function(t,e,n,r){Object.defineProperty(t,e,{configurable:!0,get:n,set:r})},j="wc-",F=function(t,e,n,r,i,o,a,s){try{i=new(o=t.tn(e).An),function(t,e,n,r,i,o){t.Pn.set(r,n),t._n.has(n)||t._n.set(n,{}),Object.entries(Object.assign({color:{type:String}},e.properties,{mode:{type:String}})).forEach(function(e){!function(t,e,n,r,i,o,a,s,u){if(e.type||e.state){var l=t._n.get(n);e.state||(!e.attr||void 0!==l[i]&&""!==l[i]||(s=o&&o.Tn)&&h(u=s[e.attr])&&(l[i]=T(e.type,u)),n.hasOwnProperty(i)&&(void 0===l[i]&&(l[i]=T(e.type,n[i])),"mode"!==i&&delete n[i])),r.hasOwnProperty(i)&&void 0===l[i]&&(l[i]=r[i]),e.watchCallbacks&&(l[j+i]=e.watchCallbacks.slice()),R(r,i,function(e){return(e=t._n.get(t.Pn.get(this)))&&e[i]},function(n,r){(r=t.Pn.get(this))&&(e.state||e.mutable)&&k(t,r,i,n,a)})}else if(e.elementRef)A(r,i,n);else if(e.method)A(n,i,r[i].bind(r));else if(e.context){var c=t.Wn(e.context);void 0!==c&&A(r,i,c.getContext&&c.getContext(n)||c)}else e.connect&&A(r,i,t.xn(e.connect))}(t,e[1],n,r,e[0],i,o)})}(t,o,e,i,n,r),function(t,e,n){if(e){var r=t.Pn.get(n);e.forEach(function(e){n[e.method]={emit:function(n){return t.Nn(r,e.name,{bubbles:e.bubbles,composed:e.composed,cancelable:e.cancelable,detail:n})}}})}}(t,o.events,i);try{if(a=t.Rn.get(e)){for(s=0;s<a.length;s+=2)i[a[s]](a[s+1]);t.Rn.delete(e)}}catch(n){t.$n(n,2,e)}}catch(n){i={},t.$n(n,7,e,!0)}return t.Mn.set(e,i),i},L=function(t,e){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType){if(t.tn(r)&&!t.Ln.has(r))return!1;if(!L(t,r))return!1}}return!0},D=function(t,e,n,r,i,o){if(t.bn.delete(e),(i=t.jn.get(e))&&((r=i["s-ld"])&&((n=r.indexOf(e))>-1&&r.splice(n,1),r.length||i["s-init"]&&i["s-init"]()),t.jn.delete(e)),t.Dn.length&&!t.bn.size)for(;o=t.Dn.shift();)o()},N=function(t,e,n,r){return function(){var i=arguments;return z(t,e,n).then(function(t){return t[r].apply(t,i)})}},z=function(t,e,n,r,i){return r=e[n],(i=t.K.body)?(r||(r=i.querySelector(n)),r||(r=e[n]=t.X(n),t.Fn(i,r)),r.componentOnReady()):Promise.resolve()},B=function(t,e,n,r,i,a){var u=n.performance,f={html:{}},g={},v=n[t]=n[t]||{},m=function(t,e,n){var r=new WeakMap,i={K:n,Z:!!n.documentElement.attachShadow,Hn:!1,qn:function(t){return t.nodeType},X:function(t){return n.createElement(t)},Un:function(t,e){return n.createElementNS(t,e)},Bn:function(t){return n.createTextNode(t)},In:function(t){return n.createComment(t)},nn:function(t,e,n){return t.insertBefore(e,n)},Gn:function(t){return t.remove()},Fn:function(t,e){return t.appendChild(e)},Cn:function(t,e){if(t.classList)t.classList.add(e);else if("svg"===t.nodeName.toLowerCase()){var n=t.getAttribute("class")||"";n.split(" ").includes(e)||(n+=" "+e),t.setAttribute("class",n.trim())}},Qn:function(t){return t.childNodes},Yn:function(t){return t.parentNode},Zn:function(t){return t.nextSibling},zn:function(t){return t.previousSibling},Jn:function(t){return p(t.nodeName)},Kn:function(t){return t.textContent},Vn:function(t,e){return t.textContent=e},Xn:function(t,e){return t.getAttribute(e)},nt:function(t,e,n){return t.setAttribute(e,n)},un:function(t,e){return t.removeAttribute(e)},fn:function(t,e){return t.hasAttribute(e)},tt:function(e){return e.getAttribute("mode")||(t.Context||{}).mode},et:function(t,r){return"child"===r?t.firstElementChild:"parent"===r?i.rt(t):"body"===r?n.body:"document"===r?n:"window"===r?e:t},cn:function(e,n,o,a,s,u,c,h,p,f){var d=e,g=o,v=r.get(e);f=n+a,v&&v[f]&&v[f](),"string"==typeof c?d=i.et(e,c):"object"==typeof c?d=c:(p=n.split(":")).length>1&&(d=i.et(e,p[0]),n=p[1]),d&&((p=n.split(".")).length>1&&(n=p[0],g=function(t){t.keyCode===l[p[1]]&&o(t)}),t.ael(d,n,g,h=i.Hn?{capture:!!s,passive:!!u}:!!s),v||r.set(e,v={}),v[f]=function(){d&&t.rel(d,n,g,h),v[f]=null})},an:function(t,e,n,i){(i=r.get(t))&&(e?i[e+n]&&i[e+n]():Object.keys(i).forEach(function(t){i[t]&&i[t]()}))},it:function(t,n,r,i){return i=new e.CustomEvent(n,r),t&&t.dispatchEvent(i),i},rt:function(t,e){return(e=i.Yn(t))&&11===i.qn(e)?e.host:e},ot:function(t,e,n,r){return t.setAttributeNS(e,n,r)},ut:function(t,e){return t.attachShadow(e)}};"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(t,e,r){return e=e||{},(r=n.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r},e.CustomEvent.prototype=e.Event.prototype),t.ael||(t.ael=function(t,e,n,r){return t.addEventListener(e,n,r)},t.rel=function(t,e,n,r){return t.removeEventListener(e,n,r)});try{e.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){return i.Hn=!0}}))}catch(t){}return i}(v,n,r),y=m.K.documentElement,_=n["s-defined"]=n["s-defined"]||{},x={J:m,u:function(t,e){n.customElements.get(t.t)||(function(t,e,n,r,i){if(n.connectedCallback=function(){!function(t,e,n){t.ft.has(n)||(t.ft.set(n,!0),function(t,e){var n=t.tn(e);n.ln&&n.ln.forEach(function(n){n.dn||t.J.cn(e,n.vn,function(t,e,n,r){return function(i){(r=t.Mn.get(e))?r[n](i):((r=t.Rn.get(e)||[]).push(n,i),t.Rn.set(e,r))}}(t,e,n.pn),1,n.yn,n.hn)})}(t,n)),t.gn.delete(n),t.Ln.has(n)||(t.ct=!0,t.bn.add(n),t.Ln.set(n,!0),function(t,e,n){for(n=e;n=t.J.rt(n);)if(t.at(n)){t.st.has(e)||(t.jn.set(e,n),(n["s-ld"]=n["s-ld"]||[]).push(e));break}}(t,n),t.queue.tick(function(){t.kn.set(n,function(t,e,n,r,i){if(n.mode||(n.mode=t.tt(n)),n["s-cr"]||t.Xn(n,"ssrv")||t.Z&&1===e.Y||(n["s-cr"]=t.Bn(""),n["s-cr"]["s-cn"]=!0,t.nn(n,n["s-cr"],t.Qn(n)[0])),!t.Z&&1===e.Y)try{!window.HTMLElement||"shadowRoot"in window.HTMLElement.prototype||(n.shadowRoot=n)}catch(t){}return 1===e.Y&&t.Z&&!n.shadowRoot&&t.ut(n,{mode:"open"}),r={Tn:{}},e.en&&Object.keys(e.en).forEach(function(o){(i=e.en[o].in)&&(r.Tn[i]=t.Xn(n,i))}),r}(t.J,e,n)),t.lt(e,n)}))}(t,e,this)},n.disconnectedCallback=function(){!function(t,e){if(!t.vt&&function(t,e){for(;e;){if(!t.Yn(e))return 9!==t.qn(e);e=t.Yn(e)}}(t.J,e)){t.gn.set(e,!0),D(t,e),S(t.Sn.get(e),!0);var n=t.Mn.get(e);n&&n.componentDidUnload&&n.componentDidUnload(),t.J.an(e),t.ft.delete(e),t.l&&t.l.removeHost(e),[t.jn,t.pt,t.kn].forEach(function(t){return t.delete(e)})}}(t,this)},n["s-init"]=function(){!function(t,e,n,r,i,o,a){if(L(t,e)&&(i=t.Mn.get(e))&&!t.gn.has(e)&&(!e["s-ld"]||!e["s-ld"].length)){t.st.set(e,!0),(a=t.dt.has(e))||(t.dt.set(e,!0),e["s-ld"]=void 0,t.J.Cn(e,n));try{S(t.Sn.get(e)),(o=t.pt.get(e))&&(o.forEach(function(t){return t(e)}),t.pt.delete(e)),!a&&i.componentDidLoad?i.componentDidLoad():a&&i.componentDidUpdate&&i.componentDidUpdate()}catch(n){t.$n(n,4,e)}D(t,e)}}(t,this,r)},n.forceUpdate=function(){M(t,this,i)},e.en){var o=Object.entries(e.en),a={};o.forEach(function(t){var e=t[1].in;e&&(a[e]=t[0])}),a=Object.assign({},a),n.attributeChangedCallback=function(t,e,n){!function(t,e,n,r){var i=a[p(n)];i&&(e[i]=(null!==r||"boolean"!=typeof e[i])&&r)}(0,this,t,n)},function(t,e,n,r){o.forEach(function(e){var i=e[0],o=e[1],a=o.sn;3&a?R(n,i,function(){return(t._n.get(this)||{})[i]},function(e){k(t,this,i,T(o.on,e),r)}):32===a&&A(n,i,d)})}(t,0,n,i)}}(x,f[t.t]=t,e.prototype,a,u),e.observedAttributes=Object.values(t.en).map(function(t){return t.in}).filter(function(t){return!!t}),n.customElements.define(t.t,e))},tn:function(t){return f[m.Jn(t)]},Wn:function(t){return e[t]},isClient:!0,at:function(t){return!(!_[m.Jn(t)]&&!x.tn(t))},$n:function(t,e,n){return console.error(t,e,n&&n.tagName)},queue:e.queue=C(v,n),lt:function(t,e){t.s({mode:e.mode,scoped:!m.Z}).then(function(n){try{t.An=n,function(t,e,n,r,i){if(r){var o=e.t+(i||s);e[o]||(e[o]=r)}}(0,t,0,n.style,n.styleMode)}catch(e){console.error(e),t.An=function(){}}M(x,e,u)})},On:!1,mn:!1,vt:!1,En:c,jn:new WeakMap,V:new WeakMap,Ln:new WeakMap,ft:new WeakMap,dt:new WeakMap,st:new WeakMap,Pn:new WeakMap,kn:new WeakMap,Mn:new WeakMap,gn:new WeakMap,wn:new WeakMap,pt:new WeakMap,Rn:new WeakMap,Sn:new WeakMap,_n:new WeakMap,bn:new Set,Dn:[]};return e.isServer=e.isPrerender=!(e.isClient=!0),e.window=n,e.location=n.location,e.document=r,e.resourcesUrl=e.publicPath=i,e.enableListener=function(t,e,n,r,i){return function(t,e,n,r,i,o){if(e){var a=t.Pn.get(e),s=t.tn(a);if(s&&s.ln)if(r){var u=s.ln.find(function(t){return t.vn===n});u&&t.J.cn(a,n,function(t){return e[u.pn](t)},1,u.yn,void 0===o?u.hn:!!o,i)}else t.J.an(a,n,1)}}(x,t,e,n,r,i)},x.Nn=e.emit=function(t,n,r){return m.it(t,e.eventNameFn?e.eventNameFn(n):n,r)},x.xn=function(t){return function(t,e,n){return{create:N(t,e,n,"create"),componentOnReady:N(t,e,n,"componentOnReady")}}(m,g,t)},v.h=o,v.Context=e,v.onReady=function(){return new Promise(function(t){return x.queue.write(function(){return x.bn.size?x.Dn.push(t):t()})})},x.render=function(t,e){var n,r,i,o,a,s,u,l=function(i,p,f,d,g,v,m,y,_){if(y=p.vchildren[f],n||(o=!0,"slot"===y.vtag&&(r&&e.Cn(d,r+"-s"),y.vchildren?y.ht=!0:y.yt=!0)),h(y.vtext))y.i=e.Bn(y.vtext);else if(y.yt)y.i=e.Bn("");else{if(v=y.i=w||"svg"===y.vtag?e.Un("http://www.w3.org/2000/svg",y.vtag):e.X(y.ht?"slot-fb":y.vtag),t.at(v)&&t.st.delete(u),b(t,null,y,w="svg"===y.vtag||"foreignObject"!==y.vtag&&w),h(r)&&v["s-si"]!==r&&e.Cn(v,v["s-si"]=r),y.vchildren)for(g=0;g<y.vchildren.length;++g)(m=l(i,y,g,v))&&e.Fn(v,m);"svg"===y.vtag&&(w=!1)}return y.i["s-hn"]=s,(y.ht||y.yt)&&(y.i["s-sr"]=!0,y.i["s-cr"]=a,y.i["s-sn"]=y.vname||"",(_=i&&i.vchildren&&i.vchildren[f])&&_.vtag===y.vtag&&i.i&&c(i.i)),y.i},c=function(n,r,i,a){t.vt=!0;var u=e.Qn(n);for(i=u.length-1;i>=0;i--)(a=u[i])["s-hn"]!==s&&a["s-ol"]&&(e.Gn(a),e.nn(v(a),a,g(a)),e.Gn(a["s-ol"]),a["s-ol"]=null,o=!0),r&&c(a,r);t.vt=!1},p=function(t,n,r,i,o,a,u,c){var p=t["s-cr"];for((u=p&&e.Yn(p)||t).shadowRoot&&e.Jn(u)===s&&(u=u.shadowRoot);o<=a;++o)i[o]&&(c=h(i[o].vtext)?e.Bn(i[o].vtext):l(null,r,o,t))&&(i[o].i=c,e.nn(u,c,g(n)))},f=function(t,n,r,o){for(;n<=r;++n)h(t[n])&&(i=!0,(o=t[n].i)["s-ol"]?e.Gn(o["s-ol"]):c(o,!0),e.Gn(o))},d=function(t,e){return t.vtag===e.vtag&&t.vkey===e.vkey&&("slot"!==t.vtag||t.vname===e.vname)},g=function(t){return t&&t["s-ol"]?t["s-ol"]:t},v=function(t){return e.Yn(t["s-ol"]?t["s-ol"]:t)},m=function(n,r,i){var o=r.i=n.i,a=n.vchildren,s=r.vchildren;w=r.i&&h(e.rt(r.i))&&void 0!==r.i.ownerSVGElement,w="svg"===r.vtag||"foreignObject"!==r.vtag&&w,h(r.vtext)?(i=o["s-cr"])?e.Vn(e.Yn(i),r.vtext):n.vtext!==r.vtext&&e.Vn(o,r.vtext):("slot"!==r.vtag&&b(t,n,r,w),h(a)&&h(s)?function(t,n,r,i,o,a,s,u){for(var y=0,_=0,b=n.length-1,w=n[0],S=n[b],C=i.length-1,x=i[0],E=i[C];y<=b&&_<=C;)if(null==w)w=n[++y];else if(null==S)S=n[--b];else if(null==x)x=i[++_];else if(null==E)E=i[--C];else if(d(w,x))m(w,x),w=n[++y],x=i[++_];else if(d(S,E))m(S,E),S=n[--b],E=i[--C];else if(d(w,E))"slot"!==w.vtag&&"slot"!==E.vtag||c(e.Yn(w.i)),m(w,E),e.nn(t,w.i,e.Zn(S.i)),w=n[++y],E=i[--C];else if(d(S,x))"slot"!==w.vtag&&"slot"!==E.vtag||c(e.Yn(S.i)),m(S,x),e.nn(t,S.i,w.i),S=n[--b],x=i[++_];else{for(o=null,a=y;a<=b;++a)if(n[a]&&h(n[a].vkey)&&n[a].vkey===x.vkey){o=a;break}h(o)?((u=n[o]).vtag!==x.vtag?s=l(n&&n[_],r,o,t):(m(u,x),n[o]=void 0,s=u.i),x=i[++_]):(s=l(n&&n[_],r,_,t),x=i[++_]),s&&e.nn(v(w.i),s,g(w.i))}y>b?p(t,null==i[C+1]?null:i[C+1].i,r,i,_,C):_>C&&f(n,y,b)}(o,a,r,s):h(s)?(h(n.vtext)&&e.Vn(o,""),p(o,null,r,s,0,s.length-1)):h(a)&&f(a,0,a.length-1)),w&&"svg"===r.vtag&&(w=!1)},y=function(t,n,r,i,o,a,s,u){for(i=0,o=(r=e.Qn(t)).length;i<o;i++)if(1===e.qn(n=r[i])){if(n["s-sr"])for(s=n["s-sn"],n.hidden=!1,a=0;a<o;a++)if(r[a]["s-hn"]!==n["s-hn"])if(u=e.qn(r[a]),""!==s){if(1===u&&s===e.Xn(r[a],"slot")){n.hidden=!0;break}}else if(1===u||3===u&&""!==e.Kn(r[a]).trim()){n.hidden=!0;break}y(n)}},_=[],S=function(t,n,r,o,a,s,u,l,c,h){for(a=0,s=(n=e.Qn(t)).length;a<s;a++){if((r=n[a])["s-sr"]&&(o=r["s-cr"]))for(l=e.Qn(e.Yn(o)),c=r["s-sn"],u=l.length-1;u>=0;u--)(o=l[u])["s-cn"]||o["s-nr"]||o["s-hn"]===r["s-hn"]||((3===(h=e.qn(o))||8===h)&&""===c||1===h&&null===e.Xn(o,"slot")&&""===c||1===h&&e.Xn(o,"slot")===c)&&(_.some(function(t){return t.bt===o})||(i=!0,o["s-sn"]=c,_.push({wt:r,bt:o})));1===e.qn(r)&&S(r)}};return function(l,c,h,p,f,d,g,v,b,w,C,x){if(s=e.Jn(u=l),a=u["s-cr"],n=p,r=u["s-sc"],o=i=!1,m(c,h),o){for(S(h.i),g=0;g<_.length;g++)(v=_[g]).bt["s-ol"]||((b=e.Bn(""))["s-nr"]=v.bt,e.nn(e.Yn(v.bt),v.bt["s-ol"]=b,v.bt));for(t.vt=!0,g=0;g<_.length;g++){for(C=e.Yn((v=_[g]).wt),x=e.Zn(v.wt),b=v.bt["s-ol"];b=e.zn(b);)if((w=b["s-nr"])&&w&&w["s-sn"]===v.bt["s-sn"]&&C===e.Yn(w)&&(w=e.Zn(w))&&w&&!w["s-nr"]){x=w;break}(!x&&C!==e.Yn(v.bt)||e.Zn(v.bt)!==x)&&v.bt!==x&&(e.Gn(v.bt),e.nn(C,v.bt,x))}t.vt=!1}return i&&y(h.i),_.length=0,h}}(x,m),y["s-ld"]=[],y["s-rn"]=!0,y["s-init"]=function(){x.st.set(y,v.loaded=x.mn=!0),m.it(n,"appload",{detail:{namespace:t}})},function(t,e,n,r,i,o){if(e.componentOnReady=function(e,n){if(!e.nodeName.includes("-"))return n(null),!1;var r=t.tn(e);if(r)if(t.st.has(e))n(e);else{var i=t.pt.get(e)||[];i.push(n),t.pt.set(e,i)}return!!r},i){for(o=i.length-1;o>=0;o--)e.componentOnReady(i[o][0],i[o][1])&&i.splice(o,1);for(o=0;o<r.length;o++)if(!n[r[o]].componentOnReady)return;for(o=0;o<i.length;o++)i[o][1](null);i.length=0}}(x,v,n,n["s-apps"],n["s-cr"]),v.initialized=!0,x},G={},V=!1},cSMb:function(t){t.exports=[["AF","AFG","004","ISO 3166-2:AF"],["AX","ALA","248","ISO 3166-2:AX"],["AL","ALB","008","ISO 3166-2:AL"],["DZ","DZA","012","ISO 3166-2:DZ"],["AS","ASM","016","ISO 3166-2:AS"],["AD","AND","020","ISO 3166-2:AD"],["AO","AGO","024","ISO 3166-2:AO"],["AI","AIA","660","ISO 3166-2:AI"],["AQ","ATA","010","ISO 3166-2:AQ"],["AG","ATG","028","ISO 3166-2:AG"],["AR","ARG","032","ISO 3166-2:AR"],["AM","ARM","051","ISO 3166-2:AM"],["AW","ABW","533","ISO 3166-2:AW"],["AU","AUS","036","ISO 3166-2:AU"],["AT","AUT","040","ISO 3166-2:AT"],["AZ","AZE","031","ISO 3166-2:AZ"],["BS","BHS","044","ISO 3166-2:BS"],["BH","BHR","048","ISO 3166-2:BH"],["BD","BGD","050","ISO 3166-2:BD"],["BB","BRB","052","ISO 3166-2:BB"],["BY","BLR","112","ISO 3166-2:BY"],["BE","BEL","056","ISO 3166-2:BE"],["BZ","BLZ","084","ISO 3166-2:BZ"],["BJ","BEN","204","ISO 3166-2:BJ"],["BM","BMU","060","ISO 3166-2:BM"],["BT","BTN","064","ISO 3166-2:BT"],["BO","BOL","068","ISO 3166-2:BO"],["BQ","BES","535","ISO 3166-2:BQ"],["BA","BIH","070","ISO 3166-2:BA"],["BW","BWA","072","ISO 3166-2:BW"],["BV","BVT","074","ISO 3166-2:BV"],["BR","BRA","076","ISO 3166-2:BR"],["IO","IOT","086","ISO 3166-2:IO"],["BN","BRN","096","ISO 3166-2:BN"],["BG","BGR","100","ISO 3166-2:BG"],["BF","BFA","854","ISO 3166-2:BF"],["BI","BDI","108","ISO 3166-2:BI"],["KH","KHM","116","ISO 3166-2:KH"],["CM","CMR","120","ISO 3166-2:CM"],["CA","CAN","124","ISO 3166-2:CA"],["CV","CPV","132","ISO 3166-2:CV"],["KY","CYM","136","ISO 3166-2:KY"],["CF","CAF","140","ISO 3166-2:CF"],["TD","TCD","148","ISO 3166-2:TD"],["CL","CHL","152","ISO 3166-2:CL"],["CN","CHN","156","ISO 3166-2:CN"],["CX","CXR","162","ISO 3166-2:CX"],["CC","CCK","166","ISO 3166-2:CC"],["CO","COL","170","ISO 3166-2:CO"],["KM","COM","174","ISO 3166-2:KM"],["CG","COG","178","ISO 3166-2:CG"],["CD","COD","180","ISO 3166-2:CD"],["CK","COK","184","ISO 3166-2:CK"],["CR","CRI","188","ISO 3166-2:CR"],["CI","CIV","384","ISO 3166-2:CI"],["HR","HRV","191","ISO 3166-2:HR"],["CU","CUB","192","ISO 3166-2:CU"],["CW","CUW","531","ISO 3166-2:CW"],["CY","CYP","196","ISO 3166-2:CY"],["CZ","CZE","203","ISO 3166-2:CZ"],["DK","DNK","208","ISO 3166-2:DK"],["DJ","DJI","262","ISO 3166-2:DJ"],["DM","DMA","212","ISO 3166-2:DM"],["DO","DOM","214","ISO 3166-2:DO"],["EC","ECU","218","ISO 3166-2:EC"],["EG","EGY","818","ISO 3166-2:EG"],["SV","SLV","222","ISO 3166-2:SV"],["GQ","GNQ","226","ISO 3166-2:GQ"],["ER","ERI","232","ISO 3166-2:ER"],["EE","EST","233","ISO 3166-2:EE"],["ET","ETH","231","ISO 3166-2:ET"],["FK","FLK","238","ISO 3166-2:FK"],["FO","FRO","234","ISO 3166-2:FO"],["FJ","FJI","242","ISO 3166-2:FJ"],["FI","FIN","246","ISO 3166-2:FI"],["FR","FRA","250","ISO 3166-2:FR"],["GF","GUF","254","ISO 3166-2:GF"],["PF","PYF","258","ISO 3166-2:PF"],["TF","ATF","260","ISO 3166-2:TF"],["GA","GAB","266","ISO 3166-2:GA"],["GM","GMB","270","ISO 3166-2:GM"],["GE","GEO","268","ISO 3166-2:GE"],["DE","DEU","276","ISO 3166-2:DE"],["GH","GHA","288","ISO 3166-2:GH"],["GI","GIB","292","ISO 3166-2:GI"],["GR","GRC","300","ISO 3166-2:GR"],["GL","GRL","304","ISO 3166-2:GL"],["GD","GRD","308","ISO 3166-2:GD"],["GP","GLP","312","ISO 3166-2:GP"],["GU","GUM","316","ISO 3166-2:GU"],["GT","GTM","320","ISO 3166-2:GT"],["GG","GGY","831","ISO 3166-2:GG"],["GN","GIN","324","ISO 3166-2:GN"],["GW","GNB","624","ISO 3166-2:GW"],["GY","GUY","328","ISO 3166-2:GY"],["HT","HTI","332","ISO 3166-2:HT"],["HM","HMD","334","ISO 3166-2:HM"],["VA","VAT","336","ISO 3166-2:VA"],["HN","HND","340","ISO 3166-2:HN"],["HK","HKG","344","ISO 3166-2:HK"],["HU","HUN","348","ISO 3166-2:HU"],["IS","ISL","352","ISO 3166-2:IS"],["IN","IND","356","ISO 3166-2:IN"],["ID","IDN","360","ISO 3166-2:ID"],["IR","IRN","364","ISO 3166-2:IR"],["IQ","IRQ","368","ISO 3166-2:IQ"],["IE","IRL","372","ISO 3166-2:IE"],["IM","IMN","833","ISO 3166-2:IM"],["IL","ISR","376","ISO 3166-2:IL"],["IT","ITA","380","ISO 3166-2:IT"],["JM","JAM","388","ISO 3166-2:JM"],["JP","JPN","392","ISO 3166-2:JP"],["JE","JEY","832","ISO 3166-2:JE"],["JO","JOR","400","ISO 3166-2:JO"],["KZ","KAZ","398","ISO 3166-2:KZ"],["KE","KEN","404","ISO 3166-2:KE"],["KI","KIR","296","ISO 3166-2:KI"],["KP","PRK","408","ISO 3166-2:KP"],["KR","KOR","410","ISO 3166-2:KR"],["KW","KWT","414","ISO 3166-2:KW"],["KG","KGZ","417","ISO 3166-2:KG"],["LA","LAO","418","ISO 3166-2:LA"],["LV","LVA","428","ISO 3166-2:LV"],["LB","LBN","422","ISO 3166-2:LB"],["LS","LSO","426","ISO 3166-2:LS"],["LR","LBR","430","ISO 3166-2:LR"],["LY","LBY","434","ISO 3166-2:LY"],["LI","LIE","438","ISO 3166-2:LI"],["LT","LTU","440","ISO 3166-2:LT"],["LU","LUX","442","ISO 3166-2:LU"],["MO","MAC","446","ISO 3166-2:MO"],["MK","MKD","807","ISO 3166-2:MK"],["MG","MDG","450","ISO 3166-2:MG"],["MW","MWI","454","ISO 3166-2:MW"],["MY","MYS","458","ISO 3166-2:MY"],["MV","MDV","462","ISO 3166-2:MV"],["ML","MLI","466","ISO 3166-2:ML"],["MT","MLT","470","ISO 3166-2:MT"],["MH","MHL","584","ISO 3166-2:MH"],["MQ","MTQ","474","ISO 3166-2:MQ"],["MR","MRT","478","ISO 3166-2:MR"],["MU","MUS","480","ISO 3166-2:MU"],["YT","MYT","175","ISO 3166-2:YT"],["MX","MEX","484","ISO 3166-2:MX"],["FM","FSM","583","ISO 3166-2:FM"],["MD","MDA","498","ISO 3166-2:MD"],["MC","MCO","492","ISO 3166-2:MC"],["MN","MNG","496","ISO 3166-2:MN"],["ME","MNE","499","ISO 3166-2:ME"],["MS","MSR","500","ISO 3166-2:MS"],["MA","MAR","504","ISO 3166-2:MA"],["MZ","MOZ","508","ISO 3166-2:MZ"],["MM","MMR","104","ISO 3166-2:MM"],["NA","NAM","516","ISO 3166-2:NA"],["NR","NRU","520","ISO 3166-2:NR"],["NP","NPL","524","ISO 3166-2:NP"],["NL","NLD","528","ISO 3166-2:NL"],["NC","NCL","540","ISO 3166-2:NC"],["NZ","NZL","554","ISO 3166-2:NZ"],["NI","NIC","558","ISO 3166-2:NI"],["NE","NER","562","ISO 3166-2:NE"],["NG","NGA","566","ISO 3166-2:NG"],["NU","NIU","570","ISO 3166-2:NU"],["NF","NFK","574","ISO 3166-2:NF"],["MP","MNP","580","ISO 3166-2:MP"],["NO","NOR","578","ISO 3166-2:NO"],["OM","OMN","512","ISO 3166-2:OM"],["PK","PAK","586","ISO 3166-2:PK"],["PW","PLW","585","ISO 3166-2:PW"],["PS","PSE","275","ISO 3166-2:PS"],["PA","PAN","591","ISO 3166-2:PA"],["PG","PNG","598","ISO 3166-2:PG"],["PY","PRY","600","ISO 3166-2:PY"],["PE","PER","604","ISO 3166-2:PE"],["PH","PHL","608","ISO 3166-2:PH"],["PN","PCN","612","ISO 3166-2:PN"],["PL","POL","616","ISO 3166-2:PL"],["PT","PRT","620","ISO 3166-2:PT"],["PR","PRI","630","ISO 3166-2:PR"],["QA","QAT","634","ISO 3166-2:QA"],["RE","REU","638","ISO 3166-2:RE"],["RO","ROU","642","ISO 3166-2:RO"],["RU","RUS","643","ISO 3166-2:RU"],["RW","RWA","646","ISO 3166-2:RW"],["BL","BLM","652","ISO 3166-2:BL"],["SH","SHN","654","ISO 3166-2:SH"],["KN","KNA","659","ISO 3166-2:KN"],["LC","LCA","662","ISO 3166-2:LC"],["MF","MAF","663","ISO 3166-2:MF"],["PM","SPM","666","ISO 3166-2:PM"],["VC","VCT","670","ISO 3166-2:VC"],["WS","WSM","882","ISO 3166-2:WS"],["SM","SMR","674","ISO 3166-2:SM"],["ST","STP","678","ISO 3166-2:ST"],["SA","SAU","682","ISO 3166-2:SA"],["SN","SEN","686","ISO 3166-2:SN"],["RS","SRB","688","ISO 3166-2:RS"],["SC","SYC","690","ISO 3166-2:SC"],["SL","SLE","694","ISO 3166-2:SL"],["SG","SGP","702","ISO 3166-2:SG"],["SX","SXM","534","ISO 3166-2:SX"],["SK","SVK","703","ISO 3166-2:SK"],["SI","SVN","705","ISO 3166-2:SI"],["SB","SLB","090","ISO 3166-2:SB"],["SO","SOM","706","ISO 3166-2:SO"],["ZA","ZAF","710","ISO 3166-2:ZA"],["GS","SGS","239","ISO 3166-2:GS"],["SS","SSD","728","ISO 3166-2:SS"],["ES","ESP","724","ISO 3166-2:ES"],["LK","LKA","144","ISO 3166-2:LK"],["SD","SDN","729","ISO 3166-2:SD"],["SR","SUR","740","ISO 3166-2:SR"],["SJ","SJM","744","ISO 3166-2:SJ"],["SZ","SWZ","748","ISO 3166-2:SZ"],["SE","SWE","752","ISO 3166-2:SE"],["CH","CHE","756","ISO 3166-2:CH"],["SY","SYR","760","ISO 3166-2:SY"],["TW","TWN","158","ISO 3166-2:TW"],["TJ","TJK","762","ISO 3166-2:TJ"],["TZ","TZA","834","ISO 3166-2:TZ"],["TH","THA","764","ISO 3166-2:TH"],["TL","TLS","626","ISO 3166-2:TL"],["TG","TGO","768","ISO 3166-2:TG"],["TK","TKL","772","ISO 3166-2:TK"],["TO","TON","776","ISO 3166-2:TO"],["TT","TTO","780","ISO 3166-2:TT"],["TN","TUN","788","ISO 3166-2:TN"],["TR","TUR","792","ISO 3166-2:TR"],["TM","TKM","795","ISO 3166-2:TM"],["TC","TCA","796","ISO 3166-2:TC"],["TV","TUV","798","ISO 3166-2:TV"],["UG","UGA","800","ISO 3166-2:UG"],["UA","UKR","804","ISO 3166-2:UA"],["AE","ARE","784","ISO 3166-2:AE"],["GB","GBR","826","ISO 3166-2:GB"],["US","USA","840","ISO 3166-2:US"],["UM","UMI","581","ISO 3166-2:UM"],["UY","URY","858","ISO 3166-2:UY"],["UZ","UZB","860","ISO 3166-2:UZ"],["VU","VUT","548","ISO 3166-2:VU"],["VE","VEN","862","ISO 3166-2:VE"],["VN","VNM","704","ISO 3166-2:VN"],["VG","VGB","092","ISO 3166-2:VG"],["VI","VIR","850","ISO 3166-2:VI"],["WF","WLF","876","ISO 3166-2:WF"],["EH","ESH","732","ISO 3166-2:EH"],["YE","YEM","887","ISO 3166-2:YE"],["ZM","ZMB","894","ISO 3166-2:ZM"],["ZW","ZWE","716","ISO 3166-2:ZW"],["XK","XKX","","ISO 3166-2:XK"]]},crnd:function(t,e,n){var r={"./pages/main/main.module.ngfactory":["LRkE",13]};function i(t){var e=r[t];return e?n.e(e[1]).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.id="crnd",t.exports=i},dC0D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.d(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(i.a)},dDaY:function(t,e,n){var r;r=function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){return i(e[a][1][t]||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,e,n){"use strict";var i;try{throw new Error}catch(r){i=r}var o=t("./schedule"),a=t("./queue"),s=t("./util");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function l(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function c(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function h(t){this._normalQueue._pushOne(t),this._queueTick()}function p(t){for(;t.length()>0;)f(t)}function f(t){var e=t.shift();if("function"!=typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}u.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(t,e){e?(process.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),process.exit(2)):this.throwLater(t)},u.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(r){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(u.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?l.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},u.prototype.invoke=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},u.prototype.settlePromises=function(t){this._trampolineEnabled?h.call(this,t):this._schedule(function(){t._settlePromises()})}):(u.prototype.invokeLater=l,u.prototype.invoke=c,u.prototype.settlePromises=h),u.prototype._drainQueues=function(){p(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,p(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},e.exports=u,e.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0==(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var l=n(o),c=new t(e);c._propagateFrom(this,1);var h=this._target();if(c._setBoundTo(l),l instanceof t){var p={promiseRejectionQueued:!1,promise:c,target:h,bindingPromise:l};h._then(e,a,void 0,c,p),l._then(s,u,void 0,c,p),c._setOnCancel(l)}else c._resolveCallback(h);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise")();o.noConflict=function(){try{Promise===o&&(Promise=i)}catch(r){}return o},e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var n=t("./util"),r=n.canEvaluate;function i(t){return function(t,r){var i;if(null!=t&&(i=t[r]),"function"!=typeof i){var o="Object "+n.classString(t)+" has no method '"+n.toString(r)+"'";throw new e.TypeError(o)}return i}(t,this.pop()).apply(t,this)}function o(t){return t[this]}function a(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(i,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e;if("number"==typeof t)e=a;else if(r){var n=(void 0)(t);e=null!==n?n:o}else e=o;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(t,a,s){return function(u){var l=s._boundValue();t:for(var c=0;c<t.length;++c){var h=t[c];if(h===Error||null!=h&&h.prototype instanceof Error){if(u instanceof h)return i(a).call(l,u)}else if("function"==typeof h){var p=i(h).call(l,u);if(p===o)return p;if(p)return i(a).call(l,u)}else if(n.isObject(u)){for(var f=r(h),d=0;d<f.length;++d){var g=f[d];if(h[g]!=u[g])continue t}return i(a).call(l,u)}}return e}}}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=function(){if(e)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=i,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,e,n){"use strict";e.exports=function(e,n){var i,o,a,s=e._getDomain,u=e._async,l=t("./errors").Warning,c=t("./util"),h=t("./es5"),p=c.canAttachTrace,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,g=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,m=null,y=!1,_=!(0==c.env("BLUEBIRD_DEBUG")),b=!(0==c.env("BLUEBIRD_WARNINGS")||!_&&!c.env("BLUEBIRD_WARNINGS")),w=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),S=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(b||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},e.prototype._notifyUnhandledRejectionIsHandled=function(){q("rejectionHandled",i,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),q("unhandledRejection",o,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(t,e,n){return G(t,e,n||this)},e.onPossiblyUnhandledRejection=function(t){var e=s();o="function"==typeof t?null===e?t:c.domainBind(e,t):void 0},e.onUnhandledRejectionHandled=function(t){var e=s();i="function"==typeof t?null===e?t:c.domainBind(e,t):void 0};var C=function(){};e.longStackTraces=function(){if(u.haveItemsQueued()&&!$.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!$.longStackTraces&&Z()){var t=e.prototype._captureStackTrace,r=e.prototype._attachExtraTrace,i=e.prototype._dereferenceTrace;$.longStackTraces=!0,C=function(){if(u.haveItemsQueued()&&!$.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=t,e.prototype._attachExtraTrace=r,e.prototype._dereferenceTrace=i,n.deactivateLongStackTraces(),u.enableTrampoline(),$.longStackTraces=!1},e.prototype._captureStackTrace=N,e.prototype._attachExtraTrace=z,e.prototype._dereferenceTrace=B,n.activateLongStackTraces(),u.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return $.longStackTraces&&Z()};var x=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return c.global.dispatchEvent(t),function(t,e){var n={detail:e,cancelable:!0};h.defineProperty(n,"promise",{value:e.promise}),h.defineProperty(n,"reason",{value:e.reason});var r=new CustomEvent(t.toLowerCase(),n);return!c.global.dispatchEvent(r)}}return"function"==typeof Event?(t=new Event("CustomEvent"),c.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,h.defineProperty(n,"promise",{value:e.promise}),h.defineProperty(n,"reason",{value:e.reason}),!c.global.dispatchEvent(n)}):((t=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!c.global.dispatchEvent(n)})}catch(r){}return function(){return!1}}(),E=c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(t){var e="on"+t.toLowerCase(),n=c.global[e];return!!n&&(n.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function O(t,e){return{promise:e}}var I={promiseCreated:O,promiseFulfilled:O,promiseRejected:O,promiseResolved:O,promiseCancelled:O,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:O},T=function(t){var e=!1;try{e=E.apply(null,arguments)}catch(r){u.throwLater(r),e=!0}var n=!1;try{n=x(t,I[t].apply(null,arguments))}catch(r){u.throwLater(r),n=!0}return n||e};function M(){return!1}function P(t,e,n){var i=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+c.toString(t));i._attachCancellationCallback(t)})}catch(r){return r}}function k(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?c.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function A(){return this._onCancelField}function R(t){this._onCancelField=t}function j(){this._cancellationParent=void 0,this._onCancelField=void 0}function F(t,e){if(0!=(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&C()),"warnings"in t){var n=t.warnings;$.warnings=!!n,S=$.warnings,c.isObject(n)&&"wForgottenReturn"in n&&(S=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!$.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=j,e.prototype._propagateFrom=F,e.prototype._onCancel=A,e.prototype._setOnCancel=R,e.prototype._attachCancellationCallback=k,e.prototype._execute=P,L=F,$.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!$.monitoring?($.monitoring=!0,e.prototype._fireEvent=T):!t.monitoring&&$.monitoring&&($.monitoring=!1,e.prototype._fireEvent=M)),e},e.prototype._fireEvent=M,e.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(t){},e.prototype._attachCancellationCallback=function(t){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._dereferenceTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(t,e){};var L=function(t,e){0!=(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)};function D(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function N(){this._trace=new J(this._peekContext())}function z(t,e){if(p(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=U(t);c.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),c.notEnumerableProp(t,"__stackCleaned__",!0)}}}function B(){this._trace=void 0}function G(t,n,r){if($.warnings){var i,o=new l(t);if(n)r._attachExtraTrace(o);else if($.longStackTraces&&(i=e._peekContext()))i.attachExtraTrace(o);else{var a=U(o);o.stack=a.message+"\n"+a.stack.join("\n")}T("warning",o)||H(o,"",!0)}}function V(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||v.test(r),o=i&&X(r);i&&!o&&(y&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function U(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?function(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||v.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:V(e)}}function H(t,e,n){var r;"undefined"!=typeof console&&(r=c.isObject(t)?e+m(t.stack,t):e+String(t),"function"==typeof a?a(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r))}function q(t,e,n,i){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(i):e(n,i))}catch(r){u.throwLater(r)}"unhandledRejection"===t?T(t,n,i)||o||H(n,"Unhandled rejection "):T(t,i)}function W(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{if(e=t&&"function"==typeof t.toString?t.toString():c.toString(t),/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(r){}0===e.length&&(e="(empty array)")}return"(<"+function(t){return t.length<41?t:t.substr(0,38)+"..."}(e)+">, no stack trace)"}function Z(){return"function"==typeof Q}var X=function(){return!1},K=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function Y(t){var e=t.match(K);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function J(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);Q(this,J),e>32&&this.uncycle()}c.inherits(J,Error),n.CapturedTrace=J,J.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;for(r=(t=this._length=r)-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var a=n[e[r].stack];if(void 0!==a&&a!==r){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var s=r>0?e[r-1]:this;a<t-1?(s._parent=e[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var u=s._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},J.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=U(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(V(i.stack.split("\n"))),i=i._parent;!function(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(s=a;s>=0&&e[i]===r[s];--s)e.pop(),i--;e=r}}(r),function(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}(r),c.notEnumerableProp(t,"stack",function(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}(n,r)),c.notEnumerableProp(t,"__stackCleaned__",!0)}};var Q=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():W(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,v=t,m=e;var n=Error.captureStackTrace;return X=function(t){return f.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var i,o=new Error;if("string"==typeof o.stack&&o.stack.split("\n")[0].indexOf("stackDetection@")>=0)return v=/@/,m=e,y=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(r){i="stack"in r}return"stack"in o||!i||"number"!=typeof Error.stackTraceLimit?(m=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?W(e):e.toString()},null):(v=t,m=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(r){t.stack=r.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(t){console.warn(t)},c.isNode&&process.stderr.isTTY?a=function(t,e){console.warn((e?"\x1b[33m":"\x1b[31m")+t+"\x1b[0m\n")}:c.isNode||"string"!=typeof(new Error).stack||(a=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var $={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&e.longStackTraces(),{longStackTraces:function(){return $.longStackTraces},warnings:function(){return $.warnings},cancellation:function(){return $.cancellation},monitoring:function(){return $.monitoring},propagateFromFunction:function(){return L},boundValueFunction:function(){return D},checkForgottenReturns:function(t,e,n,r,i){if(void 0===t&&null!==e&&S){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=V(s),l=u.length-1;l>=0;--l){var c=u[l];if(!d.test(c)){var h=c.match(g);h&&(o="at "+h[1]+":"+h[2]+":"+h[3]+" ");break}}if(u.length>0){var p=u[0];for(l=0;l<s.length;++l)if(s[l]===p){l>0&&(a="\n"+s[l-1]);break}}}r._warn("a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a,!0,e)}},setBounds:function(t,e){if(Z()){for(var n,r,i=(t.stack||"").split("\n"),o=(e.stack||"").split("\n"),a=-1,s=-1,u=0;u<i.length;++u)if(l=Y(i[u])){n=l.fileName,a=l.line;break}for(u=0;u<o.length;++u){var l;if(l=Y(o[u])){r=l.fileName,s=l.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(X=function(t){if(f.test(t))return!0;var e=Y(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}},warn:G,deprecated:function(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),G(n)},CapturedTrace:J,fireDomEvent:x,fireGlobalEvent:E}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1];return this.caught(t,function(){throw e})},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];return r instanceof t&&r.suppressUnhandledRejections(),this.caught(n,function(){return r})}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=function(t,r){return n(t,r,e,e)}}},{}],12:[function(t,e,n){"use strict";var i,o,a=t("./es5"),s=a.freeze,u=t("./util"),l=u.inherits,c=u.notEnumerableProp;function h(t,e){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"==typeof r?r:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return l(n,Error),n}var p=h("Warning","warning"),f=h("CancellationError","cancellation error"),d=h("TimeoutError","timeout error"),g=h("AggregateError","aggregate error");try{i=TypeError,o=RangeError}catch(r){i=h("TypeError","type error"),o=h("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<v.length;++m)"function"==typeof Array.prototype[v[m]]&&(g.prototype[v[m]]=Array.prototype[v[m]]);a.defineProperty(g.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),g.prototype.isOperational=!0;var y=0;function _(t){if(!(this instanceof _))return new _(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}g.prototype.toString=function(){var t=Array(4*y+1).join(" "),e="\n"+t+"AggregateError of:\n";y++,t=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];e+=(r=i.join("\n"))+"\n"}return y--,e},l(_,Error);var b=Error.__BluebirdErrorTypes__;b||(b=s({CancellationError:f,TimeoutError:d,OperationalError:_,RejectionError:_,AggregateError:g}),a.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:i,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var i=function(){"use strict";return void 0===this}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var o={}.hasOwnProperty,a={}.toString,s={}.constructor.prototype,u=function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e};e.exports={isArray:function(t){try{return"[object Array]"===a.call(t)}catch(r){return!1}},keys:u,names:u,defineProperty:function(t,e,n){return t[e]=n.value,t},getDescriptor:function(t,e){return{value:t[e]}},freeze:function(t){return t},getPrototypeOf:function(t){try{return Object(t).constructor.prototype}catch(r){return s}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.CancellationError,a=i.errorObj,s=t("./catch_filter")(r);function u(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function l(t){this.finallyHandler=t}function c(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function h(){return f.call(this,this.promise._target()._settledValue())}function p(t){if(!c(this,t))return a.e=t,a}function f(t){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),t);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var f=n(u,i);if(f instanceof e){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),a.e=d,a}f.isPending()&&f._attachCancellationCallback(new l(this))}return f._then(h,p,void 0,this,void 0)}}}return i.isRejected()?(c(this),a.e=t,a):(c(this),t)}return u.prototype.isFinallyHandler=function(){return 0===this.type},l.prototype._resultCancelled=function(){c(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new u(this,e,t),void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThrough(t,0,f,f)},e.prototype.tap=function(t){return this._passThrough(t,1,f)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,f);var r,o=new Array(n-1),a=0;for(r=0;r<n-1;++r){var u=arguments[r];if(!i.isObject(u))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[a++]=u}return o.length=a,this._passThrough(s(o,arguments[r],this),1,void 0,f)},u}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./errors").TypeError,u=t("./util"),l=u.errorObj,c=u.tryCatch,h=[];function p(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new e(r))._captureStackTrace();this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(p,o),p.prototype._isResolved=function(){return null===this._promise},p.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=c(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=c(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},p.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=c(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},p.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=c(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(t){var n=this._promise;if(t===l)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||null!==(o=function(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=c(n[o])(t);if(r._popContext(),a===l){r._pushContext();var s=e.reject(l.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!=typeof t)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=p,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new s("expecting a function but got "+u.classString(t));h.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new p(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){t("./util"),e.join=function(){var t,e=arguments.length-1;e>0&&"function"==typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=e._getDomain,u=t("./util"),l=u.tryCatch,c=u.errorObj,h=e._async;function p(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=s();this._callback=null===i?e:u.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function f(t,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));a=i.concurrency}return new p(t,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}u.inherits(p,n),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(r[n=-1*n-1]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var h=this._promise,p=this._callback,f=h._boundValue();h._pushContext();var d=l(p).call(f,t,n,o),g=h._popContext();if(a.checkForgottenReturns(d,g,null!==s?"Promise.filter":"Promise.map",h),d===c)return this._reject(d.e),!0;var v=i(d,this._promise);if(v instanceof e){var m=(v=v._target())._bitField;if(0==(50397184&m))return u>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0==(33554432&m))return 0!=(16777216&m)?(this._reject(v._reason()),!0):(this._cancel(),!0);d=v._value()}r[n]=d}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},p.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},p.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},p.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return f(this,t,e,null)},e.map=function(t,e,n,r){return f(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e.try=function(t){if("function"!=typeof t)return i("expecting a function but got "+a.classString(t));var r,u=new e(n);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],c=arguments[2];r=a.isArray(l)?s(t).apply(c,l):s(t).call(c,l)}else r=s(t)();var h=u._popContext();return o.checkForgottenReturns(r,h,"Promise.try",u),u._resolveFromSyncValue(r),u},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),i=r.maybeWrapAsError,o=t("./errors").OperationalError,a=t("./es5"),s=/^(?:name|message|stack|cause)$/;e.exports=function(t,e){return function(n,u){if(null!==t){if(n){var l=function(t){var e;if(function(t){return t instanceof Error&&a.getPrototypeOf(t)===Error.prototype}(t)){(e=new o(t)).name=t.name,e.message=t.message,e.stack=t.stack;for(var n=a.keys(t),i=0;i<n.length;++i){var u=n[i];s.test(u)||(e[u]=t[u])}return e}return r.markAsOriginatingFromRejection(t),t}(i(n));t._attachExtraTrace(l),t._reject(l)}else if(e){var c=[].slice.call(arguments,1);t._fulfill(c)}else t._fulfill(u);t=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,i=n.tryCatch,o=n.errorObj;function a(t,e){if(!n.isArray(t))return s.call(this,t,e);var a=i(e).apply(this._boundValue(),[null].concat(t));a===o&&r.throwLater(a.e)}function s(t,e){var n=this._boundValue(),a=void 0===t?i(e).call(n,null):i(e).call(n,null,t);a===o&&r.throwLater(a.e)}function u(t,e){if(!t){var n=new Error(t+"");n.cause=t,t=n}var a=i(e).call(this._boundValue(),t);a===o&&r.throwLater(a.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=s;void 0!==e&&Object(e).spread&&(n=a),this._then(n,u,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,e,n){"use strict";e.exports=function(){var n=function(){return new f("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},r=function(){return new T.PromiseInspection(this._target())},i=function(t){return T.reject(new f(t))};function o(){}var a,s={},u=t("./util");u.notEnumerableProp(T,"_getDomain",a=u.isNode?function(){var t=process.domain;return void 0===t&&(t=null),t}:function(){return null});var l=t("./es5"),c=t("./async"),h=new c;l.defineProperty(T,"_async",{value:h});var p=t("./errors"),f=T.TypeError=p.TypeError;T.RangeError=p.RangeError;var d=T.CancellationError=p.CancellationError;T.TimeoutError=p.TimeoutError,T.OperationalError=p.OperationalError,T.RejectionError=p.OperationalError,T.AggregateError=p.AggregateError;var g=function(){},v={},m={},y=t("./thenables")(T,g),_=t("./promise_array")(T,g,y,i,o),b=t("./context")(T),w=b.create,S=t("./debuggability")(T,b),C=t("./finally")(T,y,m),x=t("./catch_filter")(m),E=t("./nodeback"),O=u.errorObj,I=u.tryCatch;function T(t){t!==g&&function(t,e){if(null==t||t.constructor!==T)throw new f("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new f("expecting a function but got "+u.classString(e))}(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function M(t){this.promise._resolveCallback(t)}function P(t){this.promise._rejectCallback(t,!1)}function k(t){var e=new T(g);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return T.prototype.toString=function(){return"[object Promise]"},T.prototype.caught=T.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),o=0;for(n=0;n<e-1;++n){var a=arguments[n];if(!u.isObject(a))return i("Catch statement predicate: expecting an object but got "+u.classString(a));r[o++]=a}if(r.length=o,"function"!=typeof(t=arguments[n]))throw new f("The last argument to .catch() must be a function, got "+u.toString(t));return this.then(void 0,x(r,t,this))}return this.then(void 0,t)},T.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},T.prototype.then=function(t,e){if(S.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+u.classString(t);arguments.length>1&&(n+=", "+u.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},T.prototype.done=function(t,e){this._then(t,e,void 0,void 0,void 0)._setIsFinal()},T.prototype.spread=function(t){return"function"!=typeof t?i("expecting a function but got "+u.classString(t)):this.all()._then(t,void 0,void 0,v,void 0)},T.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},T.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},T.prototype.error=function(t){return this.caught(u.originatesFromRejection,t)},T.getNewLibraryCopy=e.exports,T.is=function(t){return t instanceof T},T.fromNode=T.fromCallback=function(t){var e=new T(g);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=I(t)(E(e,n));return r===O&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},T.all=function(t){return new _(t).promise()},T.cast=function(t){var e=y(t);return e instanceof T||((e=new T(g))._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},T.resolve=T.fulfilled=T.cast,T.reject=T.rejected=function(t){var e=new T(g);return e._captureStackTrace(),e._rejectCallback(t,!0),e},T.setScheduler=function(t){if("function"!=typeof t)throw new f("expecting a function but got "+u.classString(t));return h.setScheduler(t)},T.prototype._then=function(t,e,n,r,i){var o=void 0!==i,s=o?i:new T(g),l=this._target(),c=l._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&c)?this._boundValue():l===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var p=a();if(0!=(50397184&c)){var f,v,m=l._settlePromiseCtx;0!=(33554432&c)?(v=l._rejectionHandler0,f=t):0!=(16777216&c)?(v=l._fulfillmentHandler0,f=e,l._unsetRejectionIsUnhandled()):(m=l._settlePromiseLateCancellationObserver,v=new d("late cancellation observer"),l._attachExtraTrace(v),f=e),h.invoke(m,l,{handler:null===p?f:"function"==typeof f&&u.domainBind(p,f),promise:s,receiver:r,value:v})}else l._addCallbacks(t,e,s,r,p);return s},T.prototype._length=function(){return 65535&this._bitField},T.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},T.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},T.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},T.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},T.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},T.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},T.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},T.prototype._isFinal=function(){return(4194304&this._bitField)>0},T.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},T.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},T.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},T.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},T.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==s)return void 0===e&&this._isBound()?this._boundValue():e},T.prototype._promiseAt=function(t){return this[4*t-4+2]},T.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},T.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},T.prototype._boundValue=function(){},T.prototype._migrateCallback0=function(t){var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=s),this._addCallbacks(e,n,r,i,null)},T.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=s),this._addCallbacks(n,r,i,o,null)},T.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:u.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:u.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:u.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:u.domainBind(i,e))}return this._setLength(o+1),o},T.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},T.prototype._resolveCallback=function(t,e){if(0==(117506048&this._bitField)){if(t===this)return this._rejectCallback(n(),!1);var r=y(t,this);if(!(r instanceof T))return this._fulfill(t);e&&this._propagateFrom(r,2);var i=r._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var u=new d("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(n())}},T.prototype._rejectCallback=function(t,e,n){var r=u.ensureErrorObject(t),i=r===t;if(!i&&!n&&S.warnings()){var o="a promise was rejected with a non-error: "+u.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},T.prototype._resolveFromExecutor=function(t){if(t!==g){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},T.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),e===v?n&&"number"==typeof n.length?o=I(t).apply(this._boundValue(),n):(o=O).e=new f("cannot .spread() a non-array: "+u.classString(n)):o=I(t).call(e,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===m?r._reject(n):o===O?r._rejectCallback(o.e,!1):(S.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},T.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},T.prototype._followee=function(){return this._rejectionHandler0},T.prototype._setFollowee=function(t){this._rejectionHandler0=t},T.prototype._settlePromise=function(t,e,n,i){var a=t instanceof T,s=this._bitField,u=0!=(134217728&s);0!=(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof C&&n.isFinallyHandler()?(n.cancelPromise=t,I(e).call(n,i)===O&&t._reject(O.e)):e===r?t._fulfill(r.call(n)):n instanceof o?n._promiseCancelled(t):a||t instanceof _?t._cancel():n.cancel()):"function"==typeof e?a?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof o?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(u&&t._setAsyncGuaranteed(),0!=(33554432&s)?t._fulfill(i):t._reject(i))},T.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof T?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof T&&n._reject(i)},T.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},T.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},T.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},T.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var r=n();return this._attachExtraTrace(r),this._reject(r)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!=(134217728&e)?this._settlePromises():h.settlePromises(this),this._dereferenceTrace())}},T.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return h.fatalError(t,u.isNode);(65535&e)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},T.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},T.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},T.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!=(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},T.prototype._settledValue=function(){var t=this._bitField;return 0!=(33554432&t)?this._rejectionHandler0:0!=(16777216&t)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&l.defineProperty(T.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),T.defer=T.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new T(g),resolve:M,reject:P}},u.notEnumerableProp(T,"_makeSelfResolutionError",n),t("./method")(T,g,y,i,S),t("./bind")(T,g,y,S),t("./cancel")(T,_,i,S),t("./direct_resolve")(T),t("./synchronous_inspection")(T),t("./join")(T,_,y,g,h,a),T.Promise=T,T.version="3.5.5",t("./call_get.js")(T),t("./generators.js")(T,i,g,y,o,S),t("./map.js")(T,_,i,y,g,S),t("./nodeify.js")(T),t("./promisify.js")(T,g),t("./props.js")(T,_,y,i),t("./race.js")(T,g,y,i),t("./reduce.js")(T,_,i,y,g,S),t("./settle.js")(T,_,S),t("./some.js")(T,_,i),t("./timers.js")(T,g,S),t("./using.js")(T,i,y,w,g,S),t("./any.js")(T),t("./each.js")(T,g),t("./filter.js")(T,g),u.toFastProperties(T),u.toFastProperties(T.prototype),k({a:1}),k({b:2}),k({c:3}),k(1),k(function(){}),k(void 0),k(!1),k(new T(g)),S.setBounds(c.firstLineError,u.lastLineError),T}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util");function s(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(n,o){var s=r(this._values,this._promise);if(s instanceof e){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(t){switch(o){case-2:return[];case-3:return{};case-6:return new Map}}());else{var l=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(l,!1)}},s.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);a=u instanceof e?(u=u._target())._bitField:null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0==(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!=(33554432&a)?this._promiseFulfilled(u._value(),s):0!=(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var i={},o=t("./util"),a=t("./nodeback"),s=o.withAppended,u=o.maybeWrapAsError,l=o.canEvaluate,c=t("./errors").TypeError,h={__isPromisified__:!0},p=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),f=function(t){return o.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function d(t){return!p.test(t)}function g(t){try{return!0===t.__isPromisified__}catch(r){return!1}}function v(t,e,n){var r=o.getDataPropertyOrDefault(t,e+n,h);return!!r&&g(r)}var m=function(t){return t.replace(/([$])/,"\\$")},y=l?void 0:function(t,l,c,h,p,f){var d=function(){return this}(),g=t;function v(){var o=l;l===i&&(o=this);var c=new e(n);c._captureStackTrace();var h="string"==typeof g&&this!==d?this[g]:t,p=a(c,f);try{h.apply(o,s(arguments,p))}catch(r){c._rejectCallback(u(r),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof g&&(t=h),o.notEnumerableProp(v,"__isPromisified__",!0),v};function _(t,e,n,r,a){for(var s=new RegExp(m(e)+"$"),u=function(t,e,n,r){for(var i=o.inheritedDataKeys(t),a=[],s=0;s<i.length;++s){var u=i[s],l=t[u],h=r===f||f(u,l,t);"function"!=typeof l||g(l)||v(t,u,e)||!r(u,l,t,h)||a.push(u,l)}return function(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}(a,e,n),a}(t,e,s,n),l=0,h=u.length;l<h;l+=2){var p=u[l],d=u[l+1],_=p+e;if(r===y)t[_]=y(p,i,p,d,e,a);else{var b=r(d,function(){return y(p,i,p,d,e,a)});o.notEnumerableProp(b,"__isPromisified__",!0),t[_]=b}}return o.toFastProperties(t),t}e.promisify=function(t,e){if("function"!=typeof t)throw new c("expecting a function but got "+o.classString(t));if(g(t))return t;var n=function(t,n,r){return y(t,n,void 0,t,null,!!e.multiArgs)}(t,void 0===(e=Object(e)).context?i:e.context);return o.copyDescriptors(t,n,d),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(e=Object(e)).multiArgs,r=e.suffix;"string"!=typeof r&&(r="Async");var i=e.filter;"function"!=typeof i&&(i=f);var a=e.promisifier;if("function"!=typeof a&&(a=y),!o.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=o.inheritedDataKeys(t),u=0;u<s.length;++u){var l=t[s[u]];"constructor"!==s[u]&&o.isClass(l)&&(_(l.prototype,r,i,a,n),_(l,r,i,a,n))}return _(t,r,i,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,a=t("./util"),s=a.isObject,u=t("./es5");"function"==typeof Map&&(o=Map);var l=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function c(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=l(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var a=0;a<i;++a){var s=r[a];e[a]=t[s],e[a+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function h(t){var n,o=r(t);return s(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new c(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(c,n),c.prototype._init=function(){},c.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r)e.set(t[n+r],t[r]);return e}(this._values);else{n={};for(var r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},c.prototype.shouldCopyValues=function(){return!1},c.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return h(this)},e.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,function(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+0],t[o+0]=void 0}(this,0,this,e,this._front+this._length&e-1)},e.exports=r},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=function(t){return t.then(function(e){return s(e,t)})};function s(t,s){var u=r(t);if(u instanceof e)return a(u);if(null===(t=o.asArray(t)))return i("expecting an array or an iterable object but got "+o.classString(t));var l=new e(n);void 0!==s&&l._propagateFrom(s,3);for(var c=l._fulfill,h=l._reject,p=0,f=t.length;p<f;++p){var d=t[p];(void 0!==d||p in t)&&e.cast(d)._then(c,h,void 0,l,null)}return l}e.race=function(t){return s(t,void 0)},e.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=e._getDomain,u=t("./util"),l=u.tryCatch;function c(t,n,r,i){this.constructor$(t);var a=s();this._fn=null===a?n:u.domainBind(a,n),void 0!==r&&(r=e.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function p(t,e,n,i){return"function"!=typeof e?r("expecting a function but got "+u.classString(e)):new c(t,e,n,i).promise()}function f(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(t){var n,r=this.array,i=r._promise,o=l(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(r._currentCancellable=n);var s=i._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}u.inherits(c,n),c.prototype._gotAccum=function(t){null!=this._eachValues&&t!==o&&this._eachValues.push(t)},c.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},c.prototype._init=function(){},c.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},c.prototype.shouldCopyValues=function(){return!1},c.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},c.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},c.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r)n=n._then(f,void 0,void 0,{accum:null,value:t[r],index:r,length:i,array:this},void 0);void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(h,h,void 0,n,this)},e.prototype.reduce=function(t,e){return p(this,t,e,null)},e.reduce=function(t,e,n,r){return p(t,e,n,r)}}},{"./util":36}],29:[function(t,e,n){"use strict";var r,i,o,a,s,u=t("./util"),l=u.getNativePromise();if(u.isNode&&"undefined"==typeof MutationObserver){var c=global.setImmediate,h=process.nextTick;r=u.isRecentNode?function(t){c.call(global,t)}:function(t){h.call(process,t)}}else if("function"==typeof l&&"function"==typeof l.resolve){var p=l.resolve();r=function(t){p.then(t)}}else r="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?(i=document.createElement("div"),o={attributes:!0},a=!1,s=document.createElement("div"),new MutationObserver(function(){i.classList.toggle("foo"),a=!1}).observe(s,o),function(t){var e=new MutationObserver(function(){e.disconnect(),t()});e.observe(i,o),a||(a=!0,s.classList.toggle("foo"))}):"undefined"!=typeof setImmediate?function(t){setImmediate(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};e.exports=r},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=e.PromiseInspection;function o(t){this.constructor$(t)}t("./util").inherits(o,n),o.prototype._promiseResolved=function(t,e){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},o.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new o(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=t("./errors").RangeError,a=t("./errors").AggregateError,s=i.isArray,u={};function l(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function c(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new l(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(l,n),l.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=s(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(t){this._howMany=t},l.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},l.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new a,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(t){this._values.push(t)},l.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(t){return new o("Input array must contain at least "+this._howMany+" items but contains only "+t+" items")},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return c(t,e)},e.prototype.some=function(t){return c(this,t)},e._SomePromiseArray=l}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var i=t("./util"),o=i.errorObj,a=i.isObject,s={}.hasOwnProperty;return function(t,u){if(a(t)){if(t instanceof e)return t;var l=function(t){try{return function(t){return t.then}(t)}catch(r){return o.e=r,o}}(t);if(l===o){u&&u._pushContext();var c=e.reject(l.e);return u&&u._popContext(),c}if("function"==typeof l)return function(t){try{return s.call(t,"_promise0")}catch(r){return!1}}(t)?(c=new e(n),t._then(c._fulfill,c._reject,void 0,c,null),c):function(t,r,a){var s=new e(n),u=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var l=!0,c=i.tryCatch(r).call(t,function(t){s&&(s._resolveCallback(t),s=null)},function(t){s&&(s._rejectCallback(t,l,!0),s=null)});return l=!1,s&&c===o&&(s._rejectCallback(c.e,!0,!0),s=null),u}(t,l,u)}return t}}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.TimeoutError;function a(t){this.handle=t}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,i){var o,u;return void 0!==i?(o=e.resolve(i)._then(s,null,null,t,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(n),u=setTimeout(function(){o._fulfill()},+t),r.cancellation()&&o._setOnCancel(new a(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function l(t){return clearTimeout(this.handle),t}function c(t){throw clearTimeout(this.handle),t}e.prototype.delay=function(t){return u(t,this)},e.prototype.timeout=function(t,e){var n,s;t=+t;var u=new a(setTimeout(function(){n.isPending()&&function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()}(n,e,s)},t));return r.cancellation()?(s=this.then(),(n=s._then(l,c,void 0,u,void 0))._setOnCancel(u)):n=this._then(l,c,void 0,u,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,i,o,a,s){var u=t("./util"),l=t("./errors").TypeError,c=t("./util").inherits,h=u.errorObj,p=u.tryCatch,f={};function d(t){setTimeout(function(){throw t},0)}function g(t,e,n){this._data=t,this._promise=e,this._context=n}function v(t,e,n){this.constructor$(t,e,n)}function m(t){return g.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function y(t){this.length=t,this.promise=null,this[t-1]=null}g.prototype.data=function(){return this._data},g.prototype.promise=function(){return this._promise},g.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():f},g.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==f?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},g.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},c(v,g),v.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},y.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var o,l=arguments[t-1];if("function"!=typeof l)return n("expecting a function but got "+u.classString(l));var c=!0;2===t&&Array.isArray(arguments[0])?(t=(o=arguments[0]).length,c=!1):(o=arguments,t--);for(var f=new y(t),v=0;v<t;++v){var _=o[v];if(g.isDisposer(_)){var b=_;(_=_.promise())._setDisposable(b)}else{var w=i(_);w instanceof e&&(_=w._then(m,null,null,{resources:f,index:v},void 0))}f[v]=_}var S=new Array(f.length);for(v=0;v<S.length;++v)S[v]=e.resolve(f[v]).reflect();var C=e.all(S).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return h.e=n.error(),h;if(!n.isFulfilled())return void C.cancel();t[e]=n.value()}x._pushContext(),l=p(l);var r=c?l.apply(void 0,t):l(t),i=x._popContext();return s.checkForgottenReturns(r,i,"Promise.using",x),r}),x=C.lastly(function(){var t=new e.PromiseInspection(C);return function(t,n){var o=0,s=t.length,u=new e(a);return function a(){if(o>=s)return u._fulfill();var l=function(t){var e=i(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}(t[o++]);if(l instanceof e&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(n),t.promise)}catch(r){return d(r)}if(l instanceof e)return l._then(a,d,null,null,null)}a()}(),u}(f,t)});return f.promise=x,x._setOnCancel(f),x},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new v(t,this,o());throw new l}}},{"./errors":12,"./util":36}],36:[function(t,e,n){"use strict";var i,o=t("./es5"),a="undefined"==typeof navigator,s={e:{}},u="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function l(){try{var t=i;return i=null,t.apply(this,arguments)}catch(r){return s.e=r,s}}function c(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function h(t,e,n){return c(t)?t:(o.defineProperty(t,e,{value:n,configurable:!0,enumerable:!1,writable:!0}),t)}var p=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var i=[],a=Object.create(null);null!=t&&!e(t);){var s;try{s=n(t)}catch(r){return i}for(var u=0;u<s.length;++u){var l=s[u];if(!a[l]){a[l]=!0;var c=Object.getOwnPropertyDescriptor(t,l);null!=c&&null==c.get&&null==c.set&&i.push(l)}}t=o.getPrototypeOf(t)}return i}}var i={}.hasOwnProperty;return function(n){if(e(n))return[];var r=[];t:for(var o in n)if(i.call(n,o))r.push(o);else{for(var a=0;a<t.length;++a)if(i.call(t[a],o))continue t;r.push(o)}return r}}(),f=/this\s*\.\s*\S+\s*=/,d=/^[a-z$_][a-z$_0-9]*$/i;function g(t){try{return t+""}catch(r){return"[no string representation]"}}function v(t){return t instanceof Error||null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function m(t){return v(t)&&o.propertyIsWritable(t,"stack")}var y="stack"in new Error?function(t){return m(t)?t:new Error(g(t))}:function(t){if(m(t))return t;try{throw new Error(g(t))}catch(e){return e}};function _(t){return{}.toString.call(t)}var b=function(t){return o.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var w="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};b=function(t){return o.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?w(t):null}}var S,C="undefined"!=typeof process&&"[object process]"===_(process).toLowerCase(),x="undefined"!=typeof process&&void 0!==process.env,E={isClass:function(t){try{if("function"==typeof t){var e=o.names(t.prototype),n=o.isES5&&e.length>1,i=e.length>0&&!(1===e.length&&"constructor"===e[0]),a=f.test(t+"")&&o.names(t).length>0;if(n||i||a)return!0}return!1}catch(r){return!1}},isIdentifier:function(t){return d.test(t)},inheritedDataKeys:p,getDataPropertyOrDefault:function(t,e,n){if(!o.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(t){throw t},isArray:o.isArray,asArray:b,notEnumerableProp:h,isPrimitive:c,isObject:function(t){return"function"==typeof t||"object"==typeof t&&null!==t},isError:v,canEvaluate:a,errorObj:s,tryCatch:function(t){return i=t,l},inherits:function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype},withAppended:function(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i},maybeWrapAsError:function(t){return c(t)?new Error(g(t)):t},toFastProperties:function(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.foo}return r(),r(),t},filledRange:function(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r},toString:g,canAttachTrace:m,ensureErrorObject:y,originatesFromRejection:function(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)},markAsOriginatingFromRejection:function(t){try{h(t,"isOperational",!0)}catch(e){}},classString:_,copyDescriptors:function(t,e,n){for(var r=o.names(t),i=0;i<r.length;++i){var a=r[i];if(n(a))try{o.defineProperty(e,a,o.getDescriptor(t,a))}catch(s){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,hasEnvVariables:x,env:function(t){return x?process.env[t]:void 0},global:u,getNativePromise:function(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(r){}},domainBind:function(t,e){return t.bind(e)}};E.isRecentNode=E.isNode&&(process.versions&&process.versions.node?S=process.versions.node.split(".").map(Number):process.version&&(S=process.version.split(".").map(Number)),0===S[0]&&S[1]>10||S[0]>0),E.isNode&&E.toFastProperties(process);try{throw new Error}catch(r){E.lastLineError=r}e.exports=E},{"./es5":13}]},{},[4])(4)},t.exports=r(),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)},dEwP:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("F/XL"),i=n("Txjg");function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(r.a.apply(void 0,t))}},dzgT:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("nkY7"),o=n("isby"),a=n("MGBS"),s=n("zotm"),u=n("IUTb"),l={};function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(i.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(u.a)(t,r).lift(new h(n))}var h=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.d(e,t),e.prototype._next=function(t){this.values.push(l),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(s.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===l?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(a.a)},e4dp:function(t,e,n){var r={"./ar.json":["MHwa",177],"./az.json":["ZqNt",178],"./be.json":["gEqs",179],"./bg.json":["jTzf",180],"./bs.json":["Aa94",181],"./ca.json":["hU3f",182],"./cs.json":["Kiyx",183],"./da.json":["4adX",184],"./de.json":["h4EU",185],"./el.json":["LSxF",186],"./en.json":["0TwG",187],"./es.json":["Vm/T",188],"./et.json":["jjXk",189],"./fa.json":["HKef",190],"./fi.json":["GW3G",191],"./fr.json":["IPwi",192],"./he.json":["NdMM",193],"./hr.json":["qDGS",194],"./hu.json":["fW6N",195],"./hy.json":["6VZe",196],"./id.json":["BKRr",197],"./it.json":["X3qk",198],"./ja.json":["URls",199],"./ka.json":["WLUg",200],"./kk.json":["23/T",201],"./ko.json":["UMDm",202],"./ky.json":["R1ZS",203],"./lt.json":["N9M6",204],"./lv.json":["UATG",205],"./mk.json":["gpaK",206],"./mn.json":["NSkJ",207],"./nb.json":["s2MQ",208],"./nl.json":["Rpk/",209],"./nn.json":["d5Y7",210],"./pl.json":["FZDr",211],"./pt.json":["VAiw",212],"./ro.json":["Ok8J",213],"./ru.json":["tAHJ",214],"./sk.json":["BCSx",215],"./sl.json":["Bl2y",216],"./sr.json":["oBkf",217],"./sv.json":["T/Lu",218],"./tr.json":["EY04",219],"./uk.json":["VXGb",220],"./uz.json":["/cYg",221],"./zh.json":["ZD3F",222]};function i(t){var e=r[t];return e?n.e(e[1]).then(function(){return n.t(e[0],3)}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.id="e4dp",t.exports=i},f5ys:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r,i,o){this.longitude=Math.round(1e5*t)/1e5,this.latitude=Math.round(1e5*e)/1e5,this.altitude=Math.round(n)||void 0,this.accuracy=Math.round(r)||void 0,this.speed=Math.round(100*i)/100||void 0,this.bearing=Math.round(o)||void 0,this.timestamp=Date.now()}return t.prototype.getLatLng=function(){return[this.latitude,this.longitude]},t}()},flj8:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("S5bw"),i=n("6blF"),o=n("w69+"),a=n("r4Kj"),s=n("n90K"),u=n("BtSu"),l=n("t8sF"),c=n("CcnG"),h=function(){function t(t,e,n,i,o){var a=this;this._communicationService=t,this._configService=e,this._deviceService=n,this._file=i,this._storageService=o,this.onAccountStateChange=new r.a(1),this._storageService.getUserData().then(function(t){t&&t.id&&t.email?(a._userData=t,a.onAccountStateChange.next(a._userData)):a.onAccountStateChange.next(a._userData)})}return t.prototype._set=function(t,e,n){if(t&&e){var r={id:e.id,token:t.token,email:e.email||void 0,firstName:e.first_name||void 0,lastName:e.last_name||void 0,name:e.name||void 0,country:e.locale?e.locale.substring(0,2):void 0,avatar_urls:e.avatar_urls||void 0,capabilities:{contributor:e.capabilities&&e.capabilities.contributor||!1,delete_posts:e.capabilities&&e.capabilities.delete_posts||!1,edit_posts:e.capabilities&&e.capabilities.edit_posts||!1,level_0:e.capabilities&&e.capabilities.level_0||!1,level_1:e.capabilities&&e.capabilities.level_1||!1,read:e.capabilities&&e.capabilities.read||!1},description:e.description||void 0,extra_capabilities:e.extra_capabilities||void 0,registered_date:e.registered_date||void 0,roles:e.roles||["subscriptor"],username:e.username,permissions:[]};if(n)for(var i in n)n[i]&&n[i].active&&r.permissions.push(i);this._userData=r}else this._userData=void 0;this.onAccountStateChange.next(this._userData),this._storageService.setUserData(this._userData)},t.prototype.login=function(t,e){var n=this;return new Promise(function(r,i){var o={username:t,password:e};n._communicationService.post(n._configService.getLoginUrl(),o,{headers:{"Content-Type":"application/json"}}).subscribe(function(t){if(!t||!t.token)return n._set(),void i();n._communicationService.post(n._configService.getUserDataUrl(),{},{headers:{Authorization:"Bearer "+t.token}}).subscribe(function(e){if(!e||!e.id)return n._set(),void i();n._communicationService.get(n._configService.getPermissionsUrl(e.id)).subscribe(function(i){n._set(t,e,i),r()},function(i){console.warn(i),n._set(t,e),r()})},function(t){console.warn(t),n._set(),i({message:"errors.login.404"})})},function(t){console.warn(t),i(t&&t.status+""=="403"?{message:"errors.login.403"}:{message:"errors.login.404"})})})},t.prototype.signup=function(t,e,n,r,i,o){var a=this;return new Promise(function(s,u){var l={user:n,pass:r,mail:n,first_name:t,last_name:e,country:i,newsletter:o};a._communicationService.post(a._configService.getSignupUrl(),l,{headers:{"Content-Type":"application/json"}}).subscribe(function(t){a.login(n,r).then(function(){s()},function(t){console.warn(t),u(t)})},function(t){console.warn(t),a._set(),u(t&&t.status+""=="401"?{message:"errors.signup.401"}:{message:"errors.signup.404"})})})},t.prototype.logout=function(){this._set()},Object.defineProperty(t.prototype,"isLoggedIn",{get:function(){return void 0!==this._userData},enumerable:!0,configurable:!0}),t.prototype.getUserData=function(){return this._userData},t.prototype.testModeEnabled=function(){if(this._userData&&this._userData.id&&this._userData.token&&this._userData.roles)for(var t in this._userData.roles)if(-1!==["administrator"].indexOf(this._userData.roles[t]))return!0;return!1},t.prototype.canCreatePoi=function(){var t=!1;if(this._userData&&this._userData.id&&this._userData.token&&this._userData.roles)for(var e in this._userData.roles)if(-1!==["contributor","author","editor","administrator"].indexOf(this._userData.roles[e])){t=!0;break}return t},t.prototype._validateToken=function(){var t=this;return new Promise(function(e,n){t._userData&&t._userData.id&&t._userData.token?t._communicationService.post(t._configService.getTokenValidationUrl(),{},{headers:{Authorization:"Bearer "+t._userData.token}}).subscribe(function(t){e(!!(t&&t.data&&t.data.status&&t.data.status+""=="200"))},function(t){console.warn(t),n()}):e(!1)})},t.prototype.createPoi=function(t){var e=this;return new i.a(function(n){e._validateToken().then(function(r){r?e._createPoi(t).subscribe(function(t){n.next(t)},function(t){console.warn(t),n.error(t)}):n.error({status:"403"})},function(){n.error({status:"403"})})})},t.prototype._createPoi=function(t){var e=this;return new i.a(function(n){var r={status:"draft",title:t.properties.form_data.title?t.properties.form_data.title.trim():"",slug:t.properties.form_data.title?t.properties.form_data.title.trim().toLowerCase().replace(" ","_"):"",content:t.properties.form_data.content?t.properties.form_data.content.trim():"",author:e._userData.id,excerpt:"",featured_media:void 0,type:"poi"},i=[];t.properties.form_data.webmapp_category&&(r.webmapp_category=t.properties.form_data.webmapp_category),e._processGallery(t).then(function(o){o.length>0&&(r.featured_media=o.shift(),o.length>0&&(i=o)),e._communicationService.post(e._configService.getCreatePoiUrl(),r,{headers:{Authorization:"Bearer "+e._userData.token}}).subscribe(function(r){var o={fields:{n7webmap_coord:{lng:t.geometry.coordinates[0],lat:t.geometry.coordinates[1]},n7webmap_media_gallery:i}};for(var a in t.properties.form_data)-1===["title","content","gallery","webmapp_category"].indexOf(a)&&(o.fields[a]=t.properties.form_data[a]);e._communicationService.post(e._configService.getCreatePoiAcfUrl(r.id+""),o,{headers:{Authorization:"Bearer "+e._userData.token,"Content-Type":"Application/json"}}).subscribe(function(){n.next()},function(t){n.error(t)})},function(t){n.error(t)})})})},t.prototype._processGallery=function(t){var e=this;return new Promise(function(n,r){var i=(t.properties.form_data.gallery?t.properties.form_data.gallery:"").split("_"),o=[];!i||0===i.length||1===i.length&&""===i[0]?n([]):i.reduce(function(t,n){return new Promise(function(r,i){t.then(function(t){t&&t.id&&o.push(t.id+""),e._processGalleryImage(n).then(function(t){r(t)},function(t){console.warn(t),r(void 0)})},function(){i()})})},Promise.resolve()).then(function(t){t&&t.id&&o.push(t.id+""),n(o)},function(){n([])})})},t.prototype._processGalleryImage=function(t){var e=this;return new Promise(function(n,r){var i=-1!==t.indexOf("image/jpeg")?"jpeg":"png";t=t.replace("data:image/"+i+";base64,","");for(var o,a=atob(t),s=[],u=0;u<a.length;u+=512){for(var l=a.slice(u,u+512),c=new Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);var p=new Uint8Array(c);s.push(p)}o=new Blob(s,{type:"image/"+i}),e._file.writeFile(e._file.dataDirectory,"wm-tmp_image."+i,o,{replace:!0}).then(function(){e._uploadImage(e._file.dataDirectory+"wm-tmp_image."+i,"image/"+i).subscribe(function(t){n(t)},function(t){console.warn(t),n(void 0)})},function(t){console.warn(t),n(void 0)})})},t.prototype._uploadImage=function(t,e){var n=this;return new i.a(function(r){if(n._deviceService.isBrowser)r.complete();else{(!e||"jpeg"!==e&&"png"!==e)&&(e="png"),e="image/"+e;var i=t.split("/"),o=i.pop(),a=i.join("/");n._file.readAsArrayBuffer(a,o).then(function(t){n._communicationService.post(n._configService.getUploadImageUrl(),t,{headers:{"Content-Type":e,Authorization:"Bearer "+n._userData.token,"Content-Disposition":"attachment; filename=testimmagine.png"}}).subscribe(function(t){r.next(t)},function(t){console.warn(t),r.error(t)})},function(t){console.warn(t),r.error(t)})}})},t.prototype.updatePoi=function(t,e){var n=this;return new i.a(function(r){n._validateToken().then(function(i){i?n._updatePoi(t,e).subscribe(function(t){r.next(t)},function(t){console.warn(t),r.error(t)}):r.error({status:"403"})},function(){r.error({status:"403"})})})},t.prototype._updatePoi=function(t,e){var n=this;return new i.a(function(r){var i,o={},a=[],s=[];for(var u in e)"gallery"!==u&&(o[u]=e[u]);(Object.keys(o).length>0?new Promise(function(e,r){n._communicationService.post(n._configService.getCreatePoiUrl()+"/"+t.properties.id,o,{headers:{Authorization:"Bearer "+n._userData.token}}).subscribe(function(t){e(t)},function(t){console.warn(t),e()})}):Promise.resolve()).then(function(o){if(e.gallery){var u={type:"Feature",geometry:void 0,properties:{timestamp:Date.now(),type:"event",form_data:{gallery:e.gallery}}};i=new Promise(function(e,r){var i=function(){n._processGallery(u).then(function(t){e(t)},function(t){r(t)})};n._communicationService.get(n._configService.getCreatePoiUrl()+"/"+t.properties.id+"?ts="+Date.now()).subscribe(function(t){if(t&&t.n7webmap_media_gallery)for(var e in t.n7webmap_media_gallery)void 0!==t.n7webmap_media_gallery[e].id&&s.push(t.n7webmap_media_gallery[e].id+"");i()},function(t){console.warn(t),i()})})}else i=Promise.resolve([]);i.then(function(i){if(i&&i.length>0){if(s.length>0)for(var o in s)a.push(s[o]);for(var o in i)a.push(i[o]);var u={fields:{n7webmap_media_gallery:a}};for(var l in e)-1===["title","content","gallery","webmapp_category"].indexOf(l)&&(u.fields[l]=e[l]);n._communicationService.post(n._configService.getCreatePoiAcfUrl(t.properties.id+""),u,{headers:{Authorization:"Bearer "+n._userData.token,"Content-Type":"Application/json"}}).subscribe(function(){r.next()},function(t){r.error(t)})}else r.next()},function(t){r.error(t)})},function(t){r.error(t)})})},t.prototype._canAttendEvent=function(t){var e=this;return new Promise(function(n,r){e.isLoggedIn?e._communicationService.get(e._configService.getCreatePoiUrl()+"/"+t+"?ts="+Date.now()).subscribe(function(t){var i=!0,o=[];if(t&&t.acf&&t.acf.participants)for(var a in o=t.acf.participants)if(o[a]+""==e._userData.id+""){i=!1;break}i?n(o):r({status:"alreadyAttending"})},function(t){console.warn(t),r({status:"400"})}):r()})},t.prototype.attendEvent=function(t){var e=this;return new Promise(function(n,r){e.isLoggedIn?e._validateToken().then(function(i){i?e._canAttendEvent(t).then(function(i){i.push(e._userData.id);var o={fields:{participants:i}};e._communicationService.post(e._configService.getCreatePoiAcfUrl(t+""),o,{headers:{Authorization:"Bearer "+e._userData.token,"Content-Type":"Application/json"}}).subscribe(function(){n()},function(t){r(t)})},function(t){r(t)}):r({status:"403"})},function(){r({status:"403"})}):r()})},t.prototype.canEndEvent=function(t){var e=this;return new Promise(function(n,r){e._communicationService.get(e._configService.getCreatePoiUrl()+"/"+t+"?ts="+Date.now()).subscribe(function(t){var r=new Date,i=t&&t.acf&&t.acf.campaign_date?t.acf.campaign_date.split("/"):void 0,o=!1;(i&&i.length>=3&&parseInt(i[2])<r.getFullYear()||parseInt(i[2])===r.getFullYear()&&parseInt(i[1])<r.getMonth()+1||parseInt(i[2])===r.getFullYear()&&parseInt(i[1])===r.getMonth()+1&&parseInt(i[0])<=r.getDate())&&(o=!0),n({user:!!(t&&t.author&&e.isLoggedIn&&t.author+""==e._userData.id+""),date:o,webmapp_category:t.webmapp_category?t.webmapp_category:[]})},function(t){console.warn(t),n({user:!1,date:!1,webmapp_category:[]})})})},t.prototype.endEvent=function(t){var e=this;return new Promise(function(t,n){e.isLoggedIn?e._validateToken().then(function(t){t||n({status:"403"})},function(){n({status:"403"})}):n()})},t.ngInjectableDef=c.T({factory:function(){return new t(c.X(o.a),c.X(a.a),c.X(u.a),c.X(l.a),c.X(s.a))},token:t,providedIn:"root"}),t}()},gIcY:function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("6blF"),a=n("isby"),s=n("67Y/"),u=n("McSo"),l=n("0/uQ");function c(t,e){return new o.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(l.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var h=n("ZYjt");n.d(e,"m",function(){return pt}),n.d(e,"n",function(){return ht}),n.d(e,"o",function(){return M}),n.d(e,"p",function(){return z}),n.d(e,"b",function(){return f}),n.d(e,"e",function(){return b}),n.d(e,"a",function(){return S}),n.d(e,"c",function(){return C}),n.d(e,"f",function(){return T}),n.d(e,"g",function(){return K}),n.d(e,"h",function(){return Y}),n.d(e,"i",function(){return ot}),n.d(e,"j",function(){return ct}),n.d(e,"k",function(){return L}),n.d(e,"l",function(){return F}),n.d(e,"d",function(){return ft});var p=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e}(p);function d(t){return null==t||0===t.length}var g=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,v=function(){function t(){}return t.min=function(t){return function(e){if(d(e.value)||d(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if(d(e.value)||d(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return d(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return d(t.value)?null:g.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if(d(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(d(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(m);return 0==e.length?null:function(t){return _(function(t,n){return e.map(function(e){return e(t)})}(t))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(m);return 0==e.length?null:function(t){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(Object(a.a)(n))return c(n,null);if(Object(u.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return c(r.map(function(t){return n[t]}),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return c(t=1===t.length&&Object(a.a)(t[0])?t[0]:t,null).pipe(Object(s.a)(function(t){return i.apply(void 0,t)}))}return c(t,null)}(function(t,n){return e.map(function(e){return e(t)})}(t).map(y)).pipe(Object(s.a)(_))}},t}();function m(t){return null!=t}function y(t){var e=Object(i.ub)(t)?Object(l.a)(t):t;if(!Object(i.tb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function _(t){var e=t.reduce(function(t,e){return null!=e?Object(r.a)({},t,e):t},{});return 0===Object.keys(e).length?null:e}var b=new i.p("NgValueAccessor"),w=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),S=new i.p("CompositionEventMode"),C=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(h.s)()?Object(h.s)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t}();function x(t){return t.validate?function(e){return t.validate(e)}:t}function E(t){return t.validate?function(e){return t.validate(e)}:t}var O=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}();function I(){throw new Error("unimplemented")}var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return I()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return I()},enumerable:!0,configurable:!0}),e}(p),M=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t}(),P=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(T),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t}(),k=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t}(),A='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',R='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function j(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var F=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.vb}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=j(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var i=Object(r.j)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a),t))return a}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t}(),L=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(j(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function D(t,e){return null==t?""+e:("string"==typeof e&&(e="'"+e+"'"),e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}var N=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=i.vb}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var i=Object(r.j)(Array.from(this._optionMap.keys())),o=i.next();!o.done;o=i.next()){var a=o.value;if(this._compareWith(this._optionMap.get(a)._value,t))return a}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t}(),z=function(){function t(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(t.prototype,"ngValue",{set:function(t){null!=this._select&&(this._value=t,this._setElementValue(D(this.id,t)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{set:function(t){this._select?(this._value=t,this._setElementValue(D(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)},enumerable:!0,configurable:!0}),t.prototype._setElementValue=function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)},t.prototype._setSelected=function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)},t.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},t}();function B(t,e){return Object(r.i)(e.path,[t])}function G(t,e){t||U(e,"Cannot find control with"),e.valueAccessor||U(e,"No value accessor for form control with"),t.validator=v.compose([t.validator,e.validator]),t.asyncValidator=v.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&V(t,e)})}(t,e),function(t,e){t.registerOnChange(function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&V(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(function(t){e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})}),e._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(function(){return t.updateValueAndValidity()})})}function V(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function U(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function H(t){return null!=t?v.compose(t.map(x)):null}function q(t){return null!=t?v.composeAsync(t.map(E)):null}var W=[w,k,O,F,N,P],Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return B(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return H(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return q(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e}(f),X=function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}(),K=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e}(X),Y=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e}(X);function J(t){var e=$(t)?t.validators:t;return Array.isArray(e)?H(e):e||null}function Q(t,e){var n=$(e)?e.asyncValidators:t;return Array.isArray(n)?q(n):n||null}function $(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var tt=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=J(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=Q(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object(r.a)({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!0)})},t.prototype.enable=function(t){void 0===t&&(t={}),this.status="VALID",this._forEachChild(function(e){e.enable(Object(r.a)({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(t),this._onDisabledChange.forEach(function(t){return t(!1)})},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=y(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return e.setErrors(n,{emitEvent:t})})}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce(function(t,e){return t instanceof nt?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof rt&&t.at(e)||null},t))}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new i.m,this.statusChanges=new i.m},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls(function(e){return e.status===t})},t.prototype._anyControlsDirty=function(){return this._anyControls(function(t){return t.dirty})},t.prototype._anyControlsTouched=function(){return this._anyControls(function(t){return t.touched})},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){$(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t}(),et=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,J(n),Q(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(r.d)(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(function(t){return t(n.value,!1!==e.emitViewToModelChange)}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(tt),nt=function(t){function e(e,n,r){var i=t.call(this,J(n),Q(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.d)(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof et?e.value:e.getRawValue(),t})},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild(function(r,i){n=n||e.contains(i)&&t(r)}),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.j)(Object.keys(this.controls)),i=n.next();!i.done;i=n.next())if(this.controls[i.value].enabled)return!1}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},e}(tt),rt=function(t){function e(e,n,r){var i=t.call(this,J(n),Q(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(r.d)(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach(function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach(function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e),this._updatePristine(e),this._updateTouched(e)},e.prototype.getRawValue=function(){return this.controls.map(function(t){return t instanceof et?t.value:t.getRawValue()})},e.prototype._syncPendingControls=function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach(function(e,n){t(e,n)})},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})},e.prototype._anyControls=function(t){return this.controls.some(function(e){return e.enabled&&t(e)})},e.prototype._setUpControls=function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})},e.prototype._checkAllValuesPresent=function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")})},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=Object(r.j)(this.controls),i=n.next();!i.done;i=n.next())if(i.value.enabled)return!1}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(tt),it=Promise.resolve(null),ot=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new i.m,r.form=new nt({},H(e),q(n)),r}return Object(r.d)(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;it.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),G(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;it.then(function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)})},e.prototype.addFormGroup=function(t){var e=this;it.then(function(){var n=e._findContainer(t.path),r=new nt({});(function(t,e){null==t&&U(e,"Cannot find control with"),t.validator=v.compose([t.validator,e.validator]),t.asyncValidator=v.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})},e.prototype.removeFormGroup=function(t){var e=this;it.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;it.then(function(){n.form.get(t.path).setValue(e)})},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e}(f),at=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+A+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+R)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+A+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+R)},t.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},t}(),st=new i.p("NgFormSelectorWarning"),ut=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return Object(r.d)(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof ot||at.modelGroupParentException()},e}(Z),lt=Promise.resolve(null),ct=function(t){function e(e,n,r,o){var a=t.call(this)||this;return a.control=new et,a._registered=!1,a.update=new i.m,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=r||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||U(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach(function(e){var o;e.constructor===C?n=e:(o=e,W.some(function(t){return o.constructor===t})?(r&&U(t,"More than one built-in value accessor matches form control with"),r=e):(i&&U(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(U(t,"No valid value accessor for form control with"),null)}(a,o),a}return Object(r.d)(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(i.vb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?B(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return H(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return q(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){G(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof ut)&&this._parent instanceof Z?at.formGroupNameException():this._parent instanceof ut||this._parent instanceof ot||at.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||at.missingNameException()},e.prototype._updateValue=function(t){var e=this;lt.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;lt.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})},e}(T),ht=function(){return function(){}}(),pt=function(){return function(){}}(),ft=function(){function t(){}var e;return e=t,t.withConfig=function(t){return{ngModule:e,providers:[{provide:st,useValue:t.warnOnDeprecatedNgFormSelector}]}},t}()},gg2H:function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("Lhj3"),o=n("CcnG"),a=function(){function t(t,e){this.localeId=t,this.errorHandler=e,this.localeIds=["en"]}return t.prototype.use=function(t){return Object(r.b)(this,void 0,void 0,function(){var e=this;return Object(r.e)(this,function(o){switch(o.label){case 0:return this.localeIds=Object(r.i)(t),[4,Promise.all(this.localeIds.map(function(t){return Object(r.b)(e,void 0,void 0,function(){var e,o;return Object(r.e)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n("e4dp")("./"+t+".json")];case 1:return e=r.sent(),Object(i.registerLocale)(e),[3,3];case 2:return o=r.sent(),this.errorHandler.handleError(o),[3,3];case 3:return[2]}})})}))];case 1:return o.sent(),[2]}})})},t.prototype.loadCountries=function(){var t,e,n=Object(i.getNames)(this.getLocale()),o=[];try{for(var a=Object(r.j)(Object.keys(n)),s=a.next();!s.done;s=a.next()){var u=s.value;o.push({display:n[u],value:u.toLowerCase()})}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o.sort(function(t,e){return t.display.localeCompare(e.display)})},t.prototype.getLocale=function(){var t;return t=this.localeId.length>2?this.localeId.toLowerCase().slice(0,2):this.localeId.toLowerCase(),this.localeIds.indexOf(t)>-1?t:this.localeIds[0]},t.ngInjectableDef=Object(o.T)({factory:function(){return new t(Object(o.X)(o.u),Object(o.X)(o.l))},token:t,providedIn:"root"}),t}(),s=function(){function t(t,e,n,r){this.cdRef=t,this.el=e,this.renderer=n,this.service=r,this.pleaseChoose="Please choose...",this.editable=!0,this.mandatory=!1,this.iso3166Alpha2Change=new o.m,this.items=[],this.items=this.service.loadCountries(),this.defaultLabel=this.pleaseChoose}return t.prototype.change=function(t){this.iso3166Alpha2=t,this.iso3166Alpha2Change.emit(t)},t.prototype.ngAfterViewChecked=function(){var t=this.el.nativeElement.querySelector("select");this.iso3166Alpha2&&(this.iso3166Alpha2=this.iso3166Alpha2.toLowerCase()),this.mandatory&&this.renderer.setAttribute(t,"required",""),this.cdRef.detectChanges()},t}(),u=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[a]}},t}()},h9Dq:function(t,e,n){"use strict";var r=n("mrSG"),i=function(t){function e(e,n){return t.call(this)||this}return r.d(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.d(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i)},hKQe:function(t,e,n){"use strict";n("6blF"),n("KOl+")},hVPU:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n("tB1I"),n("Mzne"),n("n90K");var r=n("VnD/"),i=n("t9fZ"),o=(n("ZZ/e"),function(){function t(t,e,n,r,i){this._domSanitizer=t,this._modalController=e,this._modelService=n,this._routerService=r,this._storageService=i}return t.prototype.ngOnInit=function(){var t=this;this._modelService.onPagesReady.pipe(Object(r.a)(function(t){return t}),Object(i.a)(1)).subscribe(function(){t._storageService.getStaticPage("welcome").then(function(e){t.body=t._domSanitizer.bypassSecurityTrustHtml(e),t.ready=!0},function(){t._routerService.navigate([t._modelService.getStartUrl()])})},function(t){console.warn(t)})},t.prototype.bodyClick=function(t){this._modelService.contentClick(t)},t.prototype.dismiss=function(){try{this._modalController.dismiss()}catch(t){console.warn(t)}},t}())},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},jPK6:function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},kMlx:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n("8zgK");function o(t){if(t)return function(t){for(var e in o.prototype)Object.prototype.hasOwnProperty.call(o.prototype,e)&&(t[e]=o.prototype[e]);return t}(t)}t.exports=o,o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},o.prototype.parse=function(t){return this._parser=t,this},o.prototype.responseType=function(t){return this._responseType=t,this},o.prototype.serialize=function(t){return this._serializer=t,this},o.prototype.timeout=function(t){if(!t||"object"!==r(t))return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this},o.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var a=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];o.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(r){console.error(r)}if(e&&e.status&&e.status>=500&&501!==e.status)return!0;if(t){if(t.code&&-1!==a.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"===t.code)return!0;if(t.crossDomain)return!0}return!1},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},o.prototype.then=function(t,e){var n=this;if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){r.on("abort",function(){var t=new Error("Aborted");t.code="ABORTED",t.status=n.status,t.method=n.method,t.url=n.url,e(t)}),r.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},o.prototype.catch=function(t){return this.then(void 0,t)},o.prototype.use=function(t){return t(this),this},o.prototype.ok=function(t){if("function"!=typeof t)throw new Error("Callback required");return this._okCallback=t,this},o.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},o.prototype.getHeader=o.prototype.get=function(t){return this._header[t.toLowerCase()]},o.prototype.set=function(t,e){if(i(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},o.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},o.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(i(t)){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.field(t,e[r]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=String(e)),this._getFormData().append(t,e),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(t,e,n,r){switch(n.type){case"basic":this.set("Authorization","Basic ".concat(r("".concat(t,":").concat(e))));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer ".concat(t))}return this},o.prototype.withCredentials=function(t){return void 0===t&&(t=!0),this._withCredentials=t,this},o.prototype.redirects=function(t){return this._maxRedirects=t,this},o.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw new TypeError("Invalid argument");return this._maxResponseSize=t,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(t){var e=i(t),n=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&i(this._data))for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(this._data[r]=t[r]);else"string"==typeof t?(n||this.type("form"),this._data="application/x-www-form-urlencoded"===(n=this._header["content-type"])?this._data?"".concat(this._data,"&").concat(t):t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)},o.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},o.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},o.prototype._appendQueryString=function(){console.warn("Unsupported")},o.prototype._timeoutError=function(t,e,n){if(!this._aborted){var r=new Error("".concat(t+e,"ms exceeded"));r.timeout=e,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)}},o.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},l207:function(t,e,n){"use strict";n.d(e,"E",function(){return r}),n.d(e,"C",function(){return i}),n.d(e,"z",function(){return o}),n.d(e,"D",function(){return a}),n.d(e,"l",function(){return s}),n.d(e,"y",function(){return u}),n.d(e,"B",function(){return l}),n.d(e,"A",function(){return c}),n.d(e,"m",function(){return h}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"k",function(){return g}),n.d(e,"i",function(){return v}),n.d(e,"f",function(){return m}),n.d(e,"a",function(){return y}),n.d(e,"x",function(){return _}),n.d(e,"q",function(){return b}),n.d(e,"p",function(){return w}),n.d(e,"r",function(){return S}),n.d(e,"n",function(){return C}),n.d(e,"o",function(){return x}),n.d(e,"v",function(){return E}),n.d(e,"s",function(){return O}),n.d(e,"t",function(){return I}),n.d(e,"w",function(){return T}),n.d(e,"u",function(){return M}),n.d(e,"G",function(){return P}),n.d(e,"I",function(){return k}),n.d(e,"H",function(){return A}),n.d(e,"b",function(){return R}),n.d(e,"F",function(){return j}),n.d(e,"L",function(){return F}),n.d(e,"K",function(){return L}),n.d(e,"M",function(){return D}),n.d(e,"J",function(){return N}),n.d(e,"g",function(){return z}),n.d(e,"j",function(){return B}),n.d(e,"h",function(){return G});var r="wa.webmapp.it",i="wm-map",o="poi",a="track",s=25e3,u=1,l="wm-current_record_track",c="wm-custom-track-",h="92e49c7c-1c0a-4aad-8097-e9bfec06360d",p="#000000",f="#000000",d=.2,g=2.5,v=1,m=1,y=70,_=10,b=16,w=15,S=6,C=[10.4017,43.7228],x=[-180,-85,180,85],E=.2,O=1.7,I=15,T=2.5,M=10,P=[135,75,75,75],k=[15,15,15,15],A=[100,100,100,100],R="www.google.com/maps/search",j="wm_cluster_poi_id",F="wm_poi_text-",L=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,6})+$/,D=/^\+?[0-9]{7,15}$/,N={difficulty:!0,stages:!0,code:!0,languages:!0},z={id:"1",name:"Webmapp",type:"maptile",tilesUrl:"https://api.webmapp.it/tiles/"},B="wm_route_overlay_id",G={id:"",type:"geojson",color:"#f00",icon:"wm-icon-generic"}},l3hs:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("tB1I"),i=n("MLd6"),o=n("VnD/"),a=n("t9fZ"),s=n("Gi3i"),u=n("S5bw"),l=n("dzgT"),c=n("1i8C"),h=n("Mzne"),p=n("r4Kj"),f=n("l207"),d=n("BtSu"),g=n("n90K"),v=n("CcnG"),m=function(){function t(t,e,n,r,i,c,h,p){var f=this;this._configService=t,this._deviceService=e,this._languagesService=n,this._mapService=r,this._modelService=i,this._ngZone=c,this._routerService=h,this._storageService=p,this._isReady=!1,this._areFiltersEnabled=!1,this.onReady=new u.a(1),this.onReady.next(this._isReady),this.onResultChange=new u.a(1),this._allElements={poi:[],track:[],route:[]},this._filters={poi:{},track:{}},this.onFiltersChange=new u.a(1),this.onFiltersChange.next({active:this._areFiltersEnabled,filters:this._filters}),this._searchString="",this.onStringChange=new u.a(1),this.onStringChange.next(this._searchString),this._searchWorker=new Worker("assets/workers/search.worker.js"),this._searchWorker.onmessage=function(t){f._ngZone.run(function(){f._handleWorkerMessage(t)})},this._modelService.onReady.pipe(Object(o.a)(function(t){return t}),Object(a.a)(1)).subscribe(function(){Object(l.a)(f._modelService.getTaxonomies(),f._modelService.getFeatures(),f._languagesService.onCurrentLangChange()).pipe(Object(s.a)(200)).subscribe(function(t){var e=t[0],n=t[1];f._allElements={poi:[],track:[],route:[]},f._searchWorker.postMessage({type:"initialize",lang:{default:f._languagesService.getDefaultLang(),current:f._languagesService.getCurrentLang()},features:n,taxonomies:e,map:{minZoom:f._configService.getMapMinZoom(),maxZoom:f._configService.getMapMaxZoom()},tableTaxonomies:{poi:f._configService.getPoiTaxonomies(),track:f._configService.getTrackTaxonomies(),route:f._configService.getRouteTaxonomies()}});var r={poi:{},track:{}};for(var i in e){var o="poi";for(var a in"webmapp_category"!==i&&(o="track"),r[o][i]=[],e[i])if(e[i][a].items&&(e[i][a].items.poi||e[i][a].items.track||e[i][a].items.route)){var s=!1;if(f._filters&&f._filters[o]&&f._filters[o][i])for(var u in f._filters[o][i])if(f._filters[o][i][u].id+""==a+""){s=f._filters[o][i][u].active;break}r[o][i].push({id:a,active:s})}}f._filters=r,f.onFiltersChange.next({active:f._areFiltersEnabled,filters:f._filters})},function(t){console.warn(t)})},function(t){console.warn(t)}),this._routerService.onQueryParamsChange.pipe(Object(a.a)(1)).subscribe(function(t){t&&t.searchString&&f.setString(t.searchString)})}return Object.defineProperty(t.prototype,"areFiltersEnabled",{get:function(){return this._areFiltersEnabled},enumerable:!0,configurable:!0}),t.prototype._handleWorkerMessage=function(t){var e=this;if("error"===t.data.type)console.error(t.data);else switch(t.data.type){case"searchList":this._allElements=t.data.data,this._isReady?(this._applyFilters(),this.showResultsInMap()):(this._isReady=!0,this.onReady.next(this._isReady),this._storageService.onReady.pipe(Object(o.a)(function(t){return t}),Object(a.a)(1)).subscribe(function(){e._storageService.getFilters().then(function(t){e._mapService.onReady.pipe(Object(o.a)(function(t){return t}),Object(a.a)(1)).subscribe(function(){if(t)try{e._setFilters(t),e.showResultsInMap()}catch(n){console.warn(n),e._applyFilters(),e.showResultsInMap()}else e._configService.startFiltersDisabled()&&(e.resetFilters(),e.toggleFilters(),e.showResultsInMap())})},function(t){console.warn(t),e._applyFilters(),e.showResultsInMap()})},function(t){console.warn(t),e._applyFilters(),e.showResultsInMap()}))}},t.prototype._getEnabledFilters=function(){var t={poi:{},track:{}};for(var e in this._filters)for(var n in this._filters[e])for(var r in this._filters[e][n])this._filters[e][n][r].active&&(t[e][n]||(t[e][n]=[]),t[e][n].push(this._filters[e][n][r]));return t},t.prototype._applyFilters=function(){var t=this._searchString?this._searchString.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"",e={poi:[],track:[],route:[]};if(this._searchString&&""!==this._searchString)for(var n in this._allElements)for(var r=0,i=this._allElements[n];r<i.length;r++){var o=(m=i[r]).name?m.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"",a=m.code?m.code.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"",s=m.subtitle?m.subtitle.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase():"";-1===o.indexOf(t)&&-1===a.indexOf(t)&&-1===s.indexOf(t)||e[n].push(JSON.parse(JSON.stringify(m)))}else e.poi=JSON.parse(JSON.stringify(this._allElements.poi)),e.track=JSON.parse(JSON.stringify(this._allElements.track)),e.route=JSON.parse(JSON.stringify(this._allElements.route));if(this._areFiltersEnabled&&this._filters&&(this._filters.poi||this._filters.track)){var u={poi:[],track:[],route:[]},l=!1,c=this._getEnabledFilters();for(var h in c[f.D]){for(var p in c[f.D][h])if(c[f.D][h][p].active){l=!0;break}if(l)break}for(var d in e)for(var g=0,v=e[d];g<v.length;g++){var m,y=!0;if((n=(m=v[g]).type===f.z?f.z:f.D)===f.D&&!l||n===f.z&&0===Object.keys(c[n]).length)y=!1;else for(var h in c[n]){var _=!1,b=!1;for(var w in c[n][h])if(c[n][h][w].active&&(_=!0,b=this._modelService.hasTaxonomy(m.id,c[n][h][w].id)))break;if(n===f.D&&_&&!b||n===f.z&&!b){y=!1;break}}y&&u[d].push(m)}e=u}if(e.poi.length+e.track.length+e.route.length!==this._allElements.poi.length+this._allElements.track.length+this._allElements.route.length)for(var n in e)for(var S=0;S<e[n].length;)e[n][S].showInResults?S++:e[n].splice(S,1);var C=function(t,e){return t.name>e.name?1:-1};for(var n in e)e[n]=e[n].sort(C);this._filteredList=e,this.onResultChange.next(this._filteredList),this._configService.areFiltersAvailable()&&this._areFiltersEnabled?this._storageService.setFilters(this._filters).then(function(){},function(t){console.warn(t)}):this._storageService.removeFilters().then(function(){},function(t){console.warn(t)})},t.prototype.getString=function(){return this._searchString},t.prototype.setString=function(t){this._searchString!==t&&(this._searchString=t,this._applyFilters(),this.onStringChange.next(this._searchString))},t.prototype.toggleFilters=function(t){this._areFiltersEnabled=void 0!==t?t:!this._areFiltersEnabled,this._applyFilters(),this.showResultsInMap(!0),this.onFiltersChange.next({active:this._areFiltersEnabled,filters:this._filters})},t.prototype.toggleFilter=function(t){var e=!1;for(var n in this._areFiltersEnabled||(this._areFiltersEnabled=!0,e=!0),this._filters)for(var r in this._filters[n])for(var i in this._filters[n][r])if(this._filters[n][r][i].id===t){(!this._filters[n][r][i].active||this._filters[n][r][i].active&&!e)&&(this._filters[n][r][i].active=!this._filters[n][r][i].active);break}this._applyFilters(),this.onFiltersChange.next({active:this._areFiltersEnabled,filters:this._filters})},t.prototype._setFilters=function(t){this._areFiltersEnabled||(this._areFiltersEnabled=!0),t&&t.poi&&t.track&&(this._filters=JSON.parse(JSON.stringify(t)),this._applyFilters(),this.onFiltersChange.next({active:this._areFiltersEnabled,filters:this._filters}))},t.prototype.resetFilters=function(){for(var t in this._filters)for(var e in this._filters[t])for(var n in this._filters[t][e])this._filters[t][e][n].active&&(this._filters[t][e][n].active=!1);this._areFiltersEnabled=!1,this._applyFilters(),this.onFiltersChange.next({active:this._areFiltersEnabled,filters:this._filters})},t.prototype.setOrder=function(t){},t.prototype.hasActiveFilters=function(){return!!this._areFiltersEnabled&&this.getActiveFiltersCount()>0},t.prototype.getActiveFiltersCount=function(){if(!this._areFiltersEnabled)return 0;var t=0;for(var e in this._filters)for(var n in this._filters[e])for(var r in this._filters[e][n])this._filters[e][n][r].active&&t++;return t},t.prototype.showResultsInMap=function(t){var e=this;this._mapService.onReady.pipe(Object(a.a)(1),Object(o.a)(function(t){return t})).subscribe(function(){var n=void 0;if(e._filteredList&&Object.keys(e._filteredList.poi).length+Object.keys(e._filteredList.track).length+Object.keys(e._filteredList.route).length!==Object.keys(e._allElements.poi).length+Object.keys(e._allElements.track).length+Object.keys(e._allElements.route).length){if(e._filteredList){var r=[];for(var i in e._filteredList)for(var o=0,a=e._filteredList[i];o<a.length;o++){var s=a[o];"divider"!==s.type&&r.push(s.id),s.minZoom&&s.minZoom>n&&(n=s.minZoom)}e._mapService.filterFeatures(r)}}else e._mapService.resetFilters();t&&e._mapService.centerFeatureLayer(n,void 0,!e._deviceService.isLgScreen)})},t.prototype.reset=function(){this.resetFilters(),this.setString("")},t.ngInjectableDef=v.T({factory:function(){return new t(v.X(p.a),v.X(d.a),v.X(i.a),v.X(c.a),v.X(r.a),v.X(v.z),v.X(h.a),v.X(g.a))},token:t,providedIn:"root"}),t}()},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},mrSG:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return l}),n.d(e,"e",function(){return c}),n.d(e,"j",function(){return h}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return f});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function c(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}},mzSf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("a3Cf"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.resize=function(t){return Object(i.cordova)(this,"resize",{},arguments)},e.pluginName="ImageResizer",e.plugin="info.protonet.imageresizer",e.pluginRef="ImageResizer",e.repo="https://github.com/JoschkaSchulz/cordova-plugin-image-resizer",e.platforms=["Android","iOS","Windows"],e}(i.IonicNativePlugin)},n90K:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("l207"),i=n("S5bw"),o=n("CcnG"),a=function(){function t(){this._db={},this._ready=!0,this.onFiltersFirstSet=new i.a(1),this.onReady=new i.a(1),this.onReady.next(!0),this.onFiltersFirstSet.next(!0)}return t.prototype._set=function(t,e){var n=this;return new Promise(function(r,i){n._db[t]=e,r()})},t.prototype._get=function(t){var e=this;return new Promise(function(n,r){n(e._db[t]||void 0)})},t.prototype._remove=function(t){var e=this;return new Promise(function(n,r){e._db[t]=void 0,delete e._db[t]})},t.prototype.setStaticPage=function(t,e){return this._set("wm-static-page_"+t,e)},t.prototype.getStaticPage=function(t){return this._get("wm-static-page_"+t)},t.prototype.removeStaticPage=function(t){return this._remove("wm-static-page_"+t)},t.prototype.setOverlay=function(t,e,n){return this._set(n&&n!==r.C?"wm-route_"+n+"-overlay_"+e:"wm-overlay_"+e,t)},t.prototype.getOverlay=function(t,e){return this._get(e&&e!==r.C?"wm-route_"+e+"-overlay_"+t:"wm-overlay_"+t)},t.prototype.removeOverlay=function(t,e){return this._remove(e&&e!==r.C?"wm-route_"+e+"-overlay_"+t:"wm-overlay_"+t)},t.prototype.setUserData=function(t){return this._set("wm-user",t)},t.prototype.getUserData=function(){return this._get("wm-user")},t.prototype.removeUserData=function(){return this._remove("wm-user")},t.prototype.setCustomTrackId=function(t){return this._set("wm-custom_track_id",t)},t.prototype.getCustomTrackId=function(){return this._get("wm-custom_track_id")},t.prototype.removeCustomTrackId=function(){return this._remove("wm-custom_track_id")},t.prototype.setTempCustomTrack=function(t){return this._set("wm-temp_custom_track",t)},t.prototype.getTempCustomTrack=function(){return this._get("wm-temp_custom_track")},t.prototype.removeTempCustomTrack=function(){return this._remove("wm-temp_custom_track")},t.prototype.setGpsPermissionStatus=function(t){return this._set("wm-gps_permission_status",t)},t.prototype.getGpsPermissionStatus=function(){return this._get("wm-gps_permission_status")},t.prototype.removeGpsPermissionStatus=function(){return this._remove("wm-gps_permission_status")},t.prototype.setExternalStoragePermissionStatus=function(t){return this._set("wm-external_storage_permission_status",t)},t.prototype.getExternalStoragePermissionStatus=function(){return this._get("wm-external_storage_permission_status")},t.prototype.removeExternalStoragePermissionStatus=function(){return this._remove("wm-external_storage_permission_status")},t.prototype.setSingleMapStatus=function(t){return this._set("wm-single_map_status",t)},t.prototype.getSingleMapStatus=function(){return this._get("wm-single_map_status")},t.prototype.removeSingleMapStatus=function(){return this._get("wm-single_map_status")},t.prototype.setPostQueue=function(t){return this._set("wm-post_queue",t)},t.prototype.getPostQueue=function(){return this._get("wm-post_queue")},t.prototype.removePostQueue=function(){return this._remove("wm-post_queue")},t.prototype.setFirstTrackId=function(t){this._firstTrackId=t+""},t.prototype.getFirstTrackId=function(){return this._firstTrackId},t.prototype.removeFirstTrackId=function(){this._firstTrackId=void 0},t.prototype.setFirstPoiId=function(t){this._firstPoiId=t+""},t.prototype.getFirstPoiId=function(){return this._firstPoiId},t.prototype.removeFirstPoiId=function(){this._firstPoiId=void 0},t.prototype.setFilters=function(t){var e=this;return this._filtersFirstSet||this._set("wm-filters-set",!0).then(function(){e._filtersFirstSet=!0,e.onFiltersFirstSet.next(e._filtersFirstSet)},function(t){console.warn(t)}),this._set("wm-filters",t)},t.prototype.getFilters=function(){return this._get("wm-filters")},t.prototype.removeFilters=function(){return this._remove("wm-filters")},t.prototype.setLocalData=function(t){return this._set("wm-local-data",t)},t.prototype.getLocalData=function(){return this._get("wm-local-data")},t.prototype.removeLocalData=function(){return this._remove("wm-local-data")},t.ngInjectableDef=o.T({factory:function(){return new t},token:t,providedIn:"root"}),t}()},nFGs:function(t,e,n){var r={"./1fcq78hk.entry.js":["ug01",0,14],"./1fcq78hk.sc.entry.js":["kVc2",0,15],"./2i50w2lv.entry.js":["e8z1",0,16],"./2i50w2lv.sc.entry.js":["Vh+z",0,17],"./39fhulxe.entry.js":["RzBT",0,18],"./39fhulxe.sc.entry.js":["fbrU",0,19],"./3hbcnxuc.entry.js":["Q2Qd",0,20],"./3hbcnxuc.sc.entry.js":["ktSt",0,21],"./3kzauze7.entry.js":["p+U6",0,22],"./3kzauze7.sc.entry.js":["A01z",0,23],"./3pkkvczk.entry.js":["m70B",0,24],"./3pkkvczk.sc.entry.js":["4dS2",0,25],"./5zcdwzsx.entry.js":["pehP",0,26],"./5zcdwzsx.sc.entry.js":["bDk6",0,27],"./6kgso7pq.entry.js":["GL81",0,28],"./6kgso7pq.sc.entry.js":["+SaA",0,29],"./7hlpr3fd.entry.js":["iywp",0,30],"./7hlpr3fd.sc.entry.js":["Tfrm",0,31],"./8wdovu8e.entry.js":["7mIW",0,32],"./8wdovu8e.sc.entry.js":["5euU",0,33],"./admmxern.entry.js":["mp9W",0,34],"./admmxern.sc.entry.js":["Y5tm",0,35],"./aubabxbm.entry.js":["tv3V",0,36],"./aubabxbm.sc.entry.js":["c1zs",0,37],"./azzrjyyu.entry.js":["MTGU",0,38],"./azzrjyyu.sc.entry.js":["FXQz",0,39],"./b65tzyas.entry.js":["C8fh",0,40],"./b65tzyas.sc.entry.js":["O4gY",0,41],"./bb7q7tld.entry.js":["689S",0,42],"./bb7q7tld.sc.entry.js":["+exn",0,43],"./bcmaaa8l.entry.js":["A8Sf",0,44],"./bcmaaa8l.sc.entry.js":["s4lO",0,45],"./bygik61u.entry.js":["n8jL",0,46],"./bygik61u.sc.entry.js":["PztZ",0,47],"./ddlg9urb.entry.js":["diQe",0,50],"./ddlg9urb.sc.entry.js":["bjUL",0,51],"./devt5yhg.entry.js":["2cSx",0,52],"./devt5yhg.sc.entry.js":["I5jw",0,53],"./dhprnqol.entry.js":["fhi3",0,54],"./dhprnqol.sc.entry.js":["jLYE",0,55],"./djkq5plb.entry.js":["wdVW",0,56],"./djkq5plb.sc.entry.js":["xfwX",0,57],"./efdsz9yy.entry.js":["VMPw",0,58],"./efdsz9yy.sc.entry.js":["8QUQ",0,59],"./eghwkqif.entry.js":["TTeN",0,60],"./eghwkqif.sc.entry.js":["q6g7",0,61],"./ek05jvfc.entry.js":["0EqK",0,62],"./ek05jvfc.sc.entry.js":["DOS7",0,63],"./ficmbhoi.entry.js":["U38i",0,64],"./ficmbhoi.sc.entry.js":["bVwX",0,65],"./fkzdmlip.entry.js":["rJMx",66],"./fkzdmlip.sc.entry.js":["0djX",67],"./fmzmhk3d.entry.js":["Ib2a",0,68],"./fmzmhk3d.sc.entry.js":["qsQg",0,69],"./fz2rcnow.entry.js":["F9Dr",0,70],"./fz2rcnow.sc.entry.js":["3w20",0,71],"./gnkkjvvk.entry.js":["MzZD",0,72],"./gnkkjvvk.sc.entry.js":["aE2T",0,73],"./helxzsef.entry.js":["99R9",74],"./helxzsef.sc.entry.js":["GK8t",75],"./i5bu78vq.entry.js":["qNIT",0,76],"./i5bu78vq.sc.entry.js":["XCM0",0,77],"./imcdx1xe.entry.js":["dGsy",0,78],"./imcdx1xe.sc.entry.js":["vA+A",0,79],"./iqlhkurd.entry.js":["XNUz",0,80],"./iqlhkurd.sc.entry.js":["Uls2",0,81],"./isuxxasv.entry.js":["NY5t",0,82],"./isuxxasv.sc.entry.js":["38Ds",0,83],"./iwgahuhw.entry.js":["tFNl",0,84],"./iwgahuhw.sc.entry.js":["oDbt",0,85],"./j20d1ikn.entry.js":["Z/Mg",0,86],"./j20d1ikn.sc.entry.js":["Kmzl",0,87],"./jzwyowjw.entry.js":["hAik",0,88],"./jzwyowjw.sc.entry.js":["RBLv",0,89],"./k6eoch7h.entry.js":["faSd",0,90],"./k6eoch7h.sc.entry.js":["lkLI",0,91],"./kgjnfunx.entry.js":["fKVI",0,92],"./kgjnfunx.sc.entry.js":["I3kv",0,93],"./lb8tayd0.entry.js":["dzOt",0,94],"./lb8tayd0.sc.entry.js":["8WXY",0,95],"./ldqvnzrr.entry.js":["VLMt",0,96],"./ldqvnzrr.sc.entry.js":["Iflu",0,97],"./llyqw4no.entry.js":["55Ol",0,98],"./llyqw4no.sc.entry.js":["9VJ4",0,99],"./lsxwd44p.entry.js":["XSGX",0,100],"./lsxwd44p.sc.entry.js":["LiYD",0,101],"./mf2ayo12.entry.js":["iSEr",0,102],"./mf2ayo12.sc.entry.js":["2AjP",0,103],"./migtpkzd.entry.js":["yut2",0,104],"./migtpkzd.sc.entry.js":["vaxk",0,105],"./mo7qeek2.entry.js":["H+Tw",0,106],"./mo7qeek2.sc.entry.js":["Arbf",0,107],"./mri9bdlj.entry.js":["qYnb",108],"./mri9bdlj.sc.entry.js":["mk6G",109],"./mrs0ks1r.entry.js":["oqvA",0,110],"./mrs0ks1r.sc.entry.js":["PFyr",0,111],"./najnlwm4.entry.js":["LZGZ",0,112],"./najnlwm4.sc.entry.js":["GG7N",0,113],"./narso64l.entry.js":["Ot6L",0,114],"./narso64l.sc.entry.js":["2sXp",0,115],"./nqozldol.entry.js":["Sztz",0,116],"./nqozldol.sc.entry.js":["jn3E",0,117],"./o6zsuoqi.entry.js":["o5V+",0,118],"./o6zsuoqi.sc.entry.js":["jGV6",0,119],"./oc7j8k7y.entry.js":["HFl3",0,120],"./oc7j8k7y.sc.entry.js":["7PxF",0,121],"./ofd4s8dw.entry.js":["ADhw",0,122],"./ofd4s8dw.sc.entry.js":["62K9",0,123],"./pd9wflli.entry.js":["PBZr",0,124],"./pd9wflli.sc.entry.js":["BgYr",0,125],"./pdzm9bfy.entry.js":["iJ+Y",0,126],"./pdzm9bfy.sc.entry.js":["oDDr",0,127],"./r8dtlwvb.entry.js":["8hH6",0,128],"./r8dtlwvb.sc.entry.js":["Pcr6",0,129],"./rkecsmgc.entry.js":["cre6",0,130],"./rkecsmgc.sc.entry.js":["XGKV",0,131],"./rrpxfm2a.entry.js":["iVea",132],"./rrpxfm2a.sc.entry.js":["v6Ak",133],"./senscofp.entry.js":["d3d/",0,134],"./senscofp.sc.entry.js":["zIp8",0,135],"./tjefn81q.entry.js":["jO0S",0,136],"./tjefn81q.sc.entry.js":["sIrv",0,137],"./tlbladaf.entry.js":["aUan",0,138],"./tlbladaf.sc.entry.js":["l3Lh",0,139],"./tn7df4wj.entry.js":["vIP9",0,140],"./tn7df4wj.sc.entry.js":["5v4X",0,141],"./uhyavx6a.entry.js":["XPFZ",0,142],"./uhyavx6a.sc.entry.js":["D3VN",0,143],"./vompwuhi.entry.js":["Jjen",0,144],"./vompwuhi.sc.entry.js":["lPwR",0,145],"./vypdotd0.entry.js":["PNfg",0,146],"./vypdotd0.sc.entry.js":["tLnV",0,147],"./wb4mk1b9.entry.js":["a4A4",0,148],"./wb4mk1b9.sc.entry.js":["seNf",0,149],"./whjbxjrd.entry.js":["FiXN",0,150],"./whjbxjrd.sc.entry.js":["/6AC",0,151],"./wjdsdnuu.entry.js":["OVHo",0,152],"./wjdsdnuu.sc.entry.js":["BGQ+",0,153],"./wrpzmdqx.entry.js":["/Icf",0,154],"./wrpzmdqx.sc.entry.js":["OfCA",0,155],"./wzw9zscm.entry.js":["nq3S",0,156],"./wzw9zscm.sc.entry.js":["VIZV",0,157],"./x5xnv4jv.entry.js":["b0p7",0,158],"./x5xnv4jv.sc.entry.js":["7sEN",0,159],"./xajhwvib.entry.js":["TZsW",0,160],"./xajhwvib.sc.entry.js":["5ftD",0,161],"./xo7dncgt.entry.js":["+wf7",0,162],"./xo7dncgt.sc.entry.js":["xm/o",0,163],"./yifvz1ud.entry.js":["cqsu",0,164],"./yifvz1ud.sc.entry.js":["CBup",0,165],"./ymem7pf1.entry.js":["e3iB",0,166],"./ymem7pf1.sc.entry.js":["ZiCk",0,167],"./ziv0mko0.entry.js":["zjUU",0,168],"./ziv0mko0.sc.entry.js":["fyVE",0,169]};function i(t){var e=r[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.id="nFGs",t.exports=i},nZbv:function(t,e,n){"use strict";function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){r.prototype[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._defaults.push({fn:t,args:n}),this}}),r.prototype._setDefaults=function(t){this._defaults.forEach(function(e){var n;t[e.fn].apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(n=e.args)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}())})},t.exports=r},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},ny24:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("MGBS"),o=n("zotm");function a(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new u(t),r=Object(o.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),u=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r.d(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.a)},o29C:function(t){t.exports={a:"1.9.28"}},oAJy:function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){return o(e[s][1][t]||t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){c(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(c,0)};else{var u=new t.MessageChannel;u.port1.onmessage=c,n=function(){u.port2.postMessage(0)}}var l=[];function c(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}e.exports=function(t){1!==l.push(t)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&f(this,t)}function c(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r(function(){var r;try{r=e(n)}catch(i){return o.reject(t,i)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}function p(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=d(function(){e(i,r)});"error"===a.status&&r(a.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=l,l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?h(n,this.state===s?t:e,this.outcome):this.queue.push(new c(n,t,e)),n},c.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){o.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(p,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)f(t,r);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},l.reject=function(t){var e=new this(i);return o.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,l=new this(i);++u<n;)c(t[u],u);return l;function c(t,i){e.resolve(t).then(function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(l,a))},function(t){r||(r=!0,o.reject(l,t))})}},l.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r=-1,a=new this(i);++r<e;)this.resolve(t[r]).then(function(t){n||(n=!0,o.resolve(a,t))},function(t){n||(n=!0,o.reject(a,t))});return a}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function s(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function l(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",p=void 0,f={},d=Object.prototype.toString;function g(t){var e=f[t.name],n={};n.promise=new a(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady=e.dbReady?e.dbReady.then(function(){return n.promise}):n.promise}function v(t){var e=f[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function m(t,e){var n=f[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function y(t,e){return new a(function(n,r){if(f[t.name]=f[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);g(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var a=i.open.apply(i,o);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),v(t)}})}function _(t){return y(t,!1)}function b(t){return y(t,!0)}function w(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function S(t){return o([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function C(t){return t&&t.__local_forage_encoded_blob}function x(t){var e=this,n=e._initReady().then(function(){var t=f[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(n,t,t),n}function E(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(o){if(r>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),b(t)}).then(function(){return function(t){g(t);for(var e=f[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,_(t).then(function(e){return t.db=e,w(t)?b(t):e}).then(function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(e){throw m(t,e),e})}(t).then(function(){E(t,e,n,r-1)})}).catch(n);n(o)}}var O={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=f[n.name];i||(f[n.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=x);var o=[];function s(){return a.resolve()}for(var u=0;u<i.forages.length;u++){var l=i.forages[u];l!==e&&o.push(l._initReady().catch(s))}var c=i.forages.slice(0);return a.all(o).then(function(){return n.db=i.db,_(n)}).then(function(t){return n.db=t,w(n,e._defaultConfig.version)?b(n):t}).then(function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<c.length;r++){var o=c[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!i)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){E(n._dbInfo,"readonly",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;C(r)&&(r=S(r));var i=t(r,n.key,s++);void 0!==i?e(i):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(u){r(u)}})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){E(n._dbInfo,"readonly",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),C(t)&&(t=S(t)),e(t)},a.onerror=function(){r(a.error)}}catch(s){r(s)}})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){var r=this;t=l(t);var i=new a(function(n,i){var s;r.ready().then(function(){return s=r._dbInfo,"[object Blob]"===d.call(e)?(t=s.db,"boolean"==typeof p?a.resolve(p):function(t){return new a(function(e){var n=t.transaction(h,"readwrite"),r=o([""]);n.objectStore(h).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return p=t})).then(function(t){return t?e:(n=e,new a(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e;var t}).then(function(e){E(r._dbInfo,"readwrite",function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){i(u.error?u.error:u.transaction.error)}}catch(l){i(l)}})}).catch(i)});return s(i,n),i},removeItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){E(n._dbInfo,"readwrite",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(a.error)},o.onabort=function(){r(a.error?a.error:a.transaction.error)}}catch(s){r(s)}})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){E(e._dbInfo,"readwrite",function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){n(o.error?o.error:o.transaction.error)}}catch(a){n(a)}})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){E(e._dbInfo,"readonly",function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(a){n(a)}})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){t<0?e(null):n.ready().then(function(){E(n._dbInfo,"readonly",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(l){r(l)}})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){E(e._dbInfo,"readonly",function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openCursor(),a=[];o.onsuccess=function(){var e=o.result;e?(a.push(e.key),e.continue()):t(a)},o.onerror=function(){n(o.error)}}catch(s){n(s)}})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=c.apply(this,arguments);var n,r=this.config();return(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),s(n=t.name?(t.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):_(t).then(function(e){var n=f[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e})).then(t.storeName?function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;g(t);var r=f[t.name],o=r.forages;e.close();for(var s=0;s<o.length;s++){var u=o[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a(function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,v(n._dbInfo)}}).catch(function(e){throw(m(t,e)||a.resolve()).catch(function(){}),e})}}:function(e){g(t);var n=f[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new a(function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)v(r[e]._dbInfo)}).catch(function(e){throw(m(t,e)||a.resolve()).catch(function(){}),e})}):a.reject("Invalid arguments"),e),n}},I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=/^~~local_forage_type~([^~]+)~/,M="__lfsc__:".length,P=M+"arbf".length,k=Object.prototype.toString;function A(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),c=new Uint8Array(l);for(e=0;e<s;e+=4)n=I.indexOf(t[e]),r=I.indexOf(t[e+1]),i=I.indexOf(t[e+2]),o=I.indexOf(t[e+3]),c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|i>>2,c[u++]=(3&i)<<6|63&o;return l}function R(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=I[n[e]>>2],r+=I[(3&n[e])<<4|n[e+1]>>4],r+=I[(15&n[e+1])<<2|n[e+2]>>6],r+=I[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var j={serialize:function(t,e){var n="";if(t&&(n=k.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===k.call(t.buffer))){var r,i="__lfsc__:";t instanceof ArrayBuffer?(r=t,i+="arbf"):(r=t.buffer,"[object Int8Array]"===n?i+="si08":"[object Uint8Array]"===n?i+="ui08":"[object Uint8ClampedArray]"===n?i+="uic8":"[object Int16Array]"===n?i+="si16":"[object Uint16Array]"===n?i+="ur16":"[object Int32Array]"===n?i+="si32":"[object Uint32Array]"===n?i+="ui32":"[object Float32Array]"===n?i+="fl32":"[object Float64Array]"===n?i+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(i+R(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+R(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function(t){if("__lfsc__:"!==t.substring(0,M))return JSON.parse(t);var e,n=t.substring(P),r=t.substring(M,P);if("blob"===r&&T.test(n)){var i=n.match(T);e=i[1],n=n.substring(i[0].length)}var a=A(n);switch(r){case"arbf":return a;case"blob":return o([a],{type:e});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:A,bufferToString:R};function F(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function L(t,e,n,r,i,o){t.executeSql(n,r,i,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],function(t,s){s.rows.length?o(t,a):F(t,e,function(){t.executeSql(n,r,i,o)},o)},o):o(t,a)},o)}var D={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new a(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction(function(i){F(i,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=j,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){L(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),l=u.value;if(l&&(l=i.serializer.deserialize(l)),void 0!==(l=t(l,u.key,s+1)))return void e(l)}e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){L(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){return(function t(e,n,r,i){var o=this;e=l(e);var u=new a(function(a,s){o.ready().then(function(){void 0===n&&(n=null);var u=n,l=o._dbInfo;l.serializer.serialize(n,function(n,c){c?s(c):l.db.transaction(function(t){L(t,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){a(u)},function(t,e){s(e)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void a(t.apply(o,[e,u,r,i-1]));s(n)}})})}).catch(s)});return s(u,r),u}).apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=l(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){L(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){L(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){L(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){L(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){L(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=c.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return s(r=t.name?new a(function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:function(t){return new a(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})},function(t,e){n(e)})},function(t){n(t)})})}(r))}).then(function(t){return new a(function(e,n){t.db.transaction(function(r){function i(t){return new a(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var o=[],s=0,u=t.storeNames.length;s<u;s++)o.push(i(t.storeNames[s]));a.all(o).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):a.reject("Invalid arguments"),e),r}};function N(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}var z={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=N(t,this._defaultConfig),!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0?(this._dbInfo=e,e.serializer=j,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(i),a++)))return l}}});return s(r,e),r},getItem:function(t,e){var n=this;t=l(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return s(r,e),r},setItem:function(t,e,n){var r=this;t=l(t);var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new a(function(i,o){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}})})});return s(i,n),i},removeItem:function(t,e){var n=this;t=l(t);var r=n.ready().then(function(){localStorage.removeItem(n._dbInfo.keyPrefix+t)});return s(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return s(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return s(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return s(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r});return s(n,t),n},dropInstance:function(t,e){if(e=c.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return s(r=t.name?new a(function(e){e(t.storeName?N(t,i._defaultConfig):t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),e),r}},B=function(t,e){for(var n=t.length,r=0;r<n;){if((i=t[r])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},G=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},V={},U={},H={INDEXEDDB:O,WEBSQL:D,LOCALSTORAGE:z},q=[H.INDEXEDDB._driver,H.WEBSQL._driver,H.LOCALSTORAGE._driver],W=["dropInstance"],Z=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(W),X={description:"",driver:q.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function K(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function Y(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=G(e[n])?e[n].slice():e[n])}return arguments[0]}var J=new(function(){function t(e){for(var n in function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),H)if(H.hasOwnProperty(n)){var r=H[n],i=r._driver;this[n]=i,V[i]||this.defineDriver(r)}this._defaultConfig=Y({},X),this._config=Y({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new a(function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var o=Z.concat("_initStorage"),u=0,l=o.length;u<l;u++){var c=o[u];if((!B(W,c)||t[c])&&"function"!=typeof t[c])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,r=W.length;n<r;n++){var i=W[n];t[i]||(t[i]=e(i))}}();var h=function(n){V[r]&&console.info("Redefining LocalForage driver: "+r),V[r]=t,U[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(p){n(p)}});return u(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=V[t]?a.resolve(V[t]):a.reject(new Error("Driver not found."));return u(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(j);return u(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;G(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function s(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var l=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=l.then(function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}()}}(i)})}).catch(function(){o();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet}),u(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!U[t]},t.prototype._extend=function(t){Y(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=Z.length;t<e;t++)K(this,Z[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=J},{3:3}]},{},[4])(4)},oBZk:function(t,e,n){"use strict";n.d(e,"C",function(){return i}),n.d(e,"fb",function(){return o}),n.d(e,"a",function(){return a}),n.d(e,"D",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"E",function(){return l}),n.d(e,"c",function(){return c}),n.d(e,"F",function(){return h}),n.d(e,"d",function(){return p}),n.d(e,"G",function(){return f}),n.d(e,"e",function(){return d}),n.d(e,"H",function(){return g}),n.d(e,"f",function(){return v}),n.d(e,"I",function(){return m}),n.d(e,"g",function(){return y}),n.d(e,"J",function(){return _}),n.d(e,"h",function(){return b}),n.d(e,"K",function(){return w}),n.d(e,"i",function(){return S}),n.d(e,"L",function(){return C}),n.d(e,"j",function(){return x}),n.d(e,"M",function(){return E}),n.d(e,"k",function(){return O}),n.d(e,"N",function(){return I}),n.d(e,"l",function(){return T}),n.d(e,"O",function(){return M}),n.d(e,"m",function(){return P}),n.d(e,"P",function(){return k}),n.d(e,"n",function(){return A}),n.d(e,"Q",function(){return R}),n.d(e,"o",function(){return j}),n.d(e,"S",function(){return F}),n.d(e,"p",function(){return L}),n.d(e,"R",function(){return D}),n.d(e,"q",function(){return N}),n.d(e,"V",function(){return z}),n.d(e,"r",function(){return B}),n.d(e,"T",function(){return G}),n.d(e,"s",function(){return V}),n.d(e,"U",function(){return U}),n.d(e,"t",function(){return H}),n.d(e,"W",function(){return q}),n.d(e,"u",function(){return W}),n.d(e,"X",function(){return Z}),n.d(e,"v",function(){return X}),n.d(e,"Y",function(){return K}),n.d(e,"w",function(){return Y}),n.d(e,"Z",function(){return J}),n.d(e,"x",function(){return Q}),n.d(e,"ab",function(){return $}),n.d(e,"y",function(){return tt}),n.d(e,"bb",function(){return et}),n.d(e,"z",function(){return nt}),n.d(e,"cb",function(){return rt}),n.d(e,"A",function(){return it}),n.d(e,"db",function(){return ot}),n.d(e,"B",function(){return at}),n.d(e,"eb",function(){return st});var r=n("CcnG");n("ZZ/e"),n("Ip0R"),n("ZYCi");var i=r.nb({encapsulation:2,styles:[],data:{}});function o(t){return r.Ib(2,[r.yb(null,0)],null,null)}var a=r.nb({encapsulation:2,styles:[],data:{}});function s(t){return r.Ib(2,[r.yb(null,0)],null,null)}var u=r.nb({encapsulation:2,styles:[],data:{}});function l(t){return r.Ib(2,[r.yb(null,0)],null,null)}var c=r.nb({encapsulation:2,styles:[],data:{}});function h(t){return r.Ib(2,[r.yb(null,0)],null,null)}var p=r.nb({encapsulation:2,styles:[],data:{}});function f(t){return r.Ib(2,[r.yb(null,0)],null,null)}var d=r.nb({encapsulation:2,styles:[],data:{}});function g(t){return r.Ib(2,[r.yb(null,0)],null,null)}var v=r.nb({encapsulation:2,styles:[],data:{}});function m(t){return r.Ib(2,[r.yb(null,0)],null,null)}var y=r.nb({encapsulation:2,styles:[],data:{}});function _(t){return r.Ib(2,[r.yb(null,0)],null,null)}var b=r.nb({encapsulation:2,styles:[],data:{}});function w(t){return r.Ib(2,[r.yb(null,0)],null,null)}var S=r.nb({encapsulation:2,styles:[],data:{}});function C(t){return r.Ib(2,[r.yb(null,0)],null,null)}var x=r.nb({encapsulation:2,styles:[],data:{}});function E(t){return r.Ib(2,[r.yb(null,0)],null,null)}var O=r.nb({encapsulation:2,styles:[],data:{}});function I(t){return r.Ib(2,[r.yb(null,0)],null,null)}var T=r.nb({encapsulation:2,styles:[],data:{}});function M(t){return r.Ib(2,[r.yb(null,0)],null,null)}var P=r.nb({encapsulation:2,styles:[],data:{}});function k(t){return r.Ib(2,[r.yb(null,0)],null,null)}var A=r.nb({encapsulation:2,styles:[],data:{}});function R(t){return r.Ib(2,[r.yb(null,0)],null,null)}var j=r.nb({encapsulation:2,styles:[],data:{}});function F(t){return r.Ib(2,[r.yb(null,0)],null,null)}var L=r.nb({encapsulation:2,styles:[],data:{}});function D(t){return r.Ib(2,[r.yb(null,0)],null,null)}var N=r.nb({encapsulation:2,styles:[],data:{}});function z(t){return r.Ib(2,[r.yb(null,0)],null,null)}var B=r.nb({encapsulation:2,styles:[],data:{}});function G(t){return r.Ib(2,[r.yb(null,0)],null,null)}var V=r.nb({encapsulation:2,styles:[],data:{}});function U(t){return r.Ib(2,[r.yb(null,0)],null,null)}var H=r.nb({encapsulation:2,styles:[],data:{}});function q(t){return r.Ib(2,[r.yb(null,0)],null,null)}var W=r.nb({encapsulation:2,styles:[],data:{}});function Z(t){return r.Ib(2,[r.yb(null,0)],null,null)}var X=r.nb({encapsulation:2,styles:[],data:{}});function K(t){return r.Ib(2,[r.yb(null,0)],null,null)}var Y=r.nb({encapsulation:2,styles:[],data:{}});function J(t){return r.Ib(2,[r.yb(null,0)],null,null)}var Q=r.nb({encapsulation:2,styles:[],data:{}});function $(t){return r.Ib(2,[r.yb(null,0)],null,null)}var tt=r.nb({encapsulation:2,styles:[],data:{}});function et(t){return r.Ib(2,[r.yb(null,0)],null,null)}var nt=r.nb({encapsulation:2,styles:[],data:{}});function rt(t){return r.Ib(2,[r.yb(null,0)],null,null)}var it=r.nb({encapsulation:2,styles:[],data:{}});function ot(t){return r.Ib(2,[r.yb(null,0)],null,null)}var at=r.nb({encapsulation:2,styles:[],data:{}});function st(t){return r.Ib(2,[r.yb(null,0)],null,null)}},oHnp:function(t,e,n){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})},e.parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var n=e.split(/ *; */),r=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=r,t},{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},onlc:function(t,e,n){var r=n("t1N5");function i(t,e){return function(n){return e(t(n))}}function o(t,e){for(var n=[e[t].parent,t],o=r[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),o=i(r[e[a].parent][a],o),a=e[a].parent;return o.conversion=n,o}t.exports=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(r),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}(),n=[t];for(e[t].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var u=o[s],l=e[u];-1===l.distance&&(l.distance=e[i].distance+1,l.parent=i,n.unshift(u))}return e}(t),n={},i=Object.keys(e),a=i.length,s=0;s<a;s++){var u=i[s];null!==e[u].parent&&(n[u]=o(u,e))}return n}},p0ib:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("nkY7"),o=n("Zn8D"),a=n("IUTb");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,s=null,u=t[t.length-1];return Object(i.a)(u)?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===s&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(a.a)(t,s))}},pMnS:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("CcnG"),i=n("ZYCi"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(t){return r.Ib(0,[(t()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,i.p,[i.b,r.P,r.j,[8,null],r.h],null,null)],function(t,e){t(e,1,0)},null)}function s(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,a,o)),r.ob(1,49152,null,0,i.t,[],null,null)],null,null)}var u=r.lb("ng-component",i.t,s,{},{},[])},pg82:function(t,e){var n=null,r=null;function i(t,e,n){t.addEventListener(e,function(t){var i=new MouseEvent(n,t);i.pointerId=1,i.isPrimary=!0,i.pointerType="mouse",i.width=1,i.height=1,i.tiltX=0,i.tiltY=0,i.pressure="buttons"in t&&0!==t.buttons?.5:0;var o=t.target;null!==r&&(o=r,"mouseup"===e&&(r=null)),o.dispatchEvent(i),i.defaultPrevented&&t.preventDefault()})}function o(t,e,r){t.addEventListener(e,function(t){for(var i=t.changedTouches,o=i.length,a=0;a<o;a++){var s=new CustomEvent(r,{bubbles:!0,cancelable:!0});s.ctrlKey=t.ctrlKey,s.shiftKey=t.shiftKey,s.altKey=t.altKey,s.metaKey=t.metaKey;var u=i.item(a);s.clientX=u.clientX,s.clientY=u.clientY,s.screenX=u.screenX,s.screenY=u.screenY,s.pageX=u.pageX,s.pageY=u.pageY;var l=u.target.getBoundingClientRect();s.offsetX=u.clientX-l.left,s.offsetY=u.clientY-l.top,s.pointerId=1+u.identifier,s.button=0,s.buttons=1,s.movementX=0,s.movementY=0,s.region=null,s.relatedTarget=null,s.x=s.clientX,s.y=s.clientY,s.pointerType="touch",s.width=1,s.height=1,s.tiltX=0,s.tiltY=0,s.pressure=1,"touchstart"===e&&null===n&&(n=u.identifier),s.isPrimary=u.identifier===n,"touchend"===e&&s.isPrimary&&(n=null),t.target.dispatchEvent(s),s.defaultPrevented&&t.preventDefault()}})}"PointerEvent"in window||(Element.prototype.setPointerCapture=Element.prototype.setCapture,Element.prototype.releasePointerCapture=Element.prototype.releaseCapture,"TouchEvent"in window||(i(document,"mousedown","pointerdown"),i(document,"mousemove","pointermove"),i(document,"mouseup","pointerup")),o(document,"touchstart","pointerdown"),o(document,"touchmove","pointermove"),o(document,"touchend","pointerup"))},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function l(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.d(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var r=n("isby"),i=n("McSo"),o=n("2Bdj");function a(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}a.prototype=Object.create(Error.prototype);var s=a;n.d(e,"a",function(){return u});var u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(f){e=f instanceof s?l(f.errors):[f]}if(Object(r.a)(u)){c=-1;for(var h=u.length;++c<h;){var p=u[c];if(Object(i.a)(p))try{p.unsubscribe()}catch(f){e=e||[],f instanceof s?e=e.concat(l(f.errors)):e.push(f)}}}if(e)throw new s(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof s?e.errors:e)},[])}},"pxS/":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("KOl+");function i(t,e){return!0===Object(r.a)(t,e)?Object(r.b)(t.constructor.getPluginRef())[e]:null}function o(t,e,n){!0===Object(r.a)(t,e)&&(Object(r.b)(t.constructor.getPluginRef())[e]=n)}},pyHo:function(t,e){GHInput=function(t,e){this.set(t,e)},GHInput.prototype.round=function(t,e){return void 0===e&&(e=1e6),Math.round(t*e)/e},GHInput.prototype.setCoord=function(t,e){this.lat=this.round(t),this.lng=this.round(e),this.input=this.toString()},GHInput.isObject=function(t){return"[object object]"===Object.prototype.toString.call(t).toLowerCase()},GHInput.isString=function(t){return"[object string]"===Object.prototype.toString.call(t).toLowerCase()},GHInput.prototype.set=function(t,e){if(e)this.setCoord(t,e);else if(this.input=t,GHInput.isObject(t))this.setCoord(t.lat,t.lng);else if(GHInput.isString(t)){var n=t.indexOf(",");n>=0&&(this.lat=this.round(parseFloat(t.substr(0,n))),this.lng=this.round(parseFloat(t.substr(n+1))))}},GHInput.prototype.toString=function(){if(void 0!==this.lat&&void 0!==this.lng)return this.lat+","+this.lng},t.exports=GHInput},r4Kj:function(t,e,n){"use strict";var r,i=n("81W9"),o=n.t(i,2),a=n("o29C"),s=n("w69+"),u=n("l207");!function(t){t.WEBMAPP_CATEGORY="webmapp_category",t.ACTIVITY="activity",t.THEME="theme",t.WHEN="when",t.WHERE="where",t.WHO="who"}(r||(r={})),n("S5bw"),n("26FU");var l=n("CcnG"),c=(n("ZYjt"),n("BtSu"));n.d(e,"a",function(){return h});var h=function(){function t(t,e){this._communicationService=t,this._deviceService=e,console.info("Core v"+a.a)}return Object.defineProperty(t.prototype,"hasK",{get:function(){return this._deviceService.isFullscreen?!(!this._config.FULLSCREEN||!this._config.FULLSCREEN.baseUrl):!!this._config.OPTIONS.baseUrl},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){var t=this;return new Promise(function(e,n){var r,i=o,a=window.location.search.split("?");if(t._deviceService.isEmbedded)r=t._deviceService.host.getAttribute("configJsonUrl")||void 0,r=decodeURIComponent(r);else if(a.length>1)for(var s=0,u=a=a[1].split("&");s<u.length;s++){var l=u[s],c=l.split("=")[0],h=l.split("=")[1];"config_json"===c&&(r=h,"http"!==(r=decodeURIComponent(r)).substring(0,4)&&(r="http://"+r))}else r="/config.json";if(r){var p=-1===r.indexOf("?")?"?":"&";t._communicationService.get(r+p+"t="+Date.now()).subscribe(function(n){t._normalizeConfig(n),e()},function(n){-1!==n.message.toLowerCase().indexOf("http failure during parsing")?console.warn("WARNING: Malformed config.json - using default"):console.warn(n),t._normalizeConfig(i.default||void 0),e()})}else t._normalizeConfig(i.default||void 0),e()})},t.prototype._normalizeConfig=function(t){if(t||(t={}),t.OPTIONS||(t.OPTIONS={}),t=this._normalizeBaseLayers(t),t=this._normalizeReportFields(t),this._deviceService.isEmbedded){var e=this._deviceService.host.getAttribute("baseUrl")||void 0,n=parseFloat(this._deviceService.host.getAttribute("fitLayerMaxZoom"))||Number.NaN,r=this._deviceService.host.getAttribute("lang")||void 0,i=!!this._deviceService.host.getAttribute("disableClickInMap"),o=!!this._deviceService.host.getAttribute("disableInteractions"),a=this._deviceService.host.getAttribute("featureColor")||void 0,s=this._deviceService.host.getAttribute("color")||void 0,u=this._deviceService.host.getAttribute("startUrl")||"/",l=!!this._deviceService.host.getAttribute("enableSearch");this._routeParam=this._deviceService.host.getAttribute("route")||void 0,e&&(t.OPTIONS.baseUrl=e),t.OPTIONS.startUrl=u,Number.isNaN(n)||(t.OPTIONS.maxFitZoom=n),l&&(t.OPTIONS.showSearch=!0),this._routeParam||(t.OPTIONS.openWebLinkFromPopup=!0),r&&(t.LANGUAGES={default:r.substring(0,2)}),t.THEME||!s&&!a||(t.THEME={}),s&&(t.THEME.primary=s),a?t.THEME.defaultFeatureColor=a:s&&(t.THEME.defaultFeatureColor=s),o?t.MAP.interactions={click:!1,zoom:!1,pan:!1}:i&&(t.MAP.interactions={click:!1})}this._config=t},t.prototype._normalizeBaseLayers=function(t){var e=this;t.MAP||(t.MAP={layers:[u.g]});var n=1,r=[];return t.MAP.layers.forEach(function(t){"string"==typeof t.tilesUrl&&""!==t.tilesUrl&&"string"==typeof t.type&&t.type&&(t.id=n+"",n++,e._defaultMapBaseLayerId&&(e._defaultMapBaseLayerId=t.id+""),r.push(t))}),t.MAP.layers=r,t},t.prototype._normalizeReportFields=function(t){if(t&&t.REPORTS&&t.REPORTS.enable)for(var e in t.REPORTS.items)for(var n in t.REPORTS.items[e].fields)if("date"===t.REPORTS.items[e].fields[n].type){var r=void 0,i=void 0;t.REPORTS.items[e].fields[n].minDate&&-1!==["+","-"].indexOf(t.REPORTS.items[e].fields[n].minDate[0])?(r=new Date).setDate(r.getDate()+parseInt(t.REPORTS.items[e].fields[n].minDate)):r=t.REPORTS.items[e].fields[n].minDate?new Date(t.REPORTS.items[e].fields[n].minDate):void 0,t.REPORTS.items[e].fields[n].maxDate&&-1!==["+","-"].indexOf(t.REPORTS.items[e].fields[n].maxDate[0])?(i=new Date).setDate(i.getDate()+parseInt(t.REPORTS.items[e].fields[n].maxDate)):i=t.REPORTS.items[e].fields[n].maxDate?new Date(t.REPORTS.items[e].fields[n].maxDate):void 0,r&&i&&r.getTime()>i.getTime()&&(i=void 0),t.REPORTS.items[e].fields[n].minDate=r?r.toISOString():"1900",t.REPORTS.items[e].fields[n].maxDate=i?i.toISOString():"2100"}return t},t.prototype.getVersion=function(){return a.a},t.prototype.getPrivacyUrl=function(){return this._config.OPTIONS.privacyUrl?this._config.OPTIONS.privacyUrl:"https://webmapp.it/privacy"},t.prototype.getTermsAndConditionsUrl=function(){return this._config.OPTIONS.termsAndConditionsUrl?this._config.OPTIONS.termsAndConditionsUrl:void 0},t.prototype.getStartUrl=function(){return this._config.OPTIONS.startUrl?this._config.OPTIONS.startUrl:"/main/map"},t.prototype.getRouteUrl=function(){return!this._routeUrl&&this._routeParam&&("http"===this._routeParam.substring(0,4)?this._routeUrl=this._routeParam:this._config.OPTIONS&&this._config.OPTIONS.baseUrl&&(this._routeUrl=this.getFeatureBaseUrl()+this._routeParam,-1===this._routeParam.indexOf(".")&&(this._routeUrl+=".geojson"))),this._routeUrl},t.prototype.openWebLinkFromPopup=function(){return!(this.getRouteUrl()||!this._config.OPTIONS||!this._config.OPTIONS.openWebLinkFromPopup)},t.prototype.openLinksInSelf=function(){return!!(this._config&&this._config.OPTIONS&&this._config.OPTIONS.openLinksInSelf)},t.prototype.highlightMapButton=function(){return!!this._config.OPTIONS.highlightMapButton},t.prototype.isFullscreenAvailable=function(){return!(!this._config.FULLSCREEN||!this._config.FULLSCREEN.enable)},t.prototype.getPagesBaseUrl=function(){return this._config.OPTIONS.baseUrl?this._config.OPTIONS.baseUrl+"pages/":""},t.prototype.hasWelcomePage=function(){var t=this.getStaticPages(),e=!1;for(var n in t)if("welcome"===t[n].menuPosition){e=!0;break}return e},t.prototype.getStaticPages=function(){return this._config.PAGES?this._config.PAGES:{}},t.prototype.getStaticPageUrl=function(t){var e="";if(this._config.PAGES)for(var n in this._config.PAGES)n===t&&(e=this._config.PAGES[n].url?"http"===this._config.PAGES[n].url.substr(0,4)?this._config.PAGES[n].url:this.getPagesBaseUrl()+this._config.PAGES[n].url:this.getPagesBaseUrl()+t+".html");return e},t.prototype.isLoginEnabled=function(){return!1},t.prototype.forceLogin=function(){return!(!this.isLoginEnabled()||!this._config.AUTH.force)},t.prototype.getLoginUrl=function(){return"string"==typeof this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/jwt-auth/v1/token":""},t.prototype.getTokenValidationUrl=function(){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/jwt-auth/v1/token/validate":""},t.prototype.getUserDataUrl=function(){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/wp/v2/users/me":""},t.prototype.getLogoutUrl=function(){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/webmapp/v1/user/logout":""},t.prototype.getSignupUrl=function(){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/webmapp/v1/users":""},t.prototype.getPasswordRecoveryUrl=function(){var t="";if(this._config.OPTIONS&&this._config.OPTIONS.beBaseUrl){var e=this._config.OPTIONS.beBaseUrl,n="wp-login.php",r="action=lostpassword";this._config.OPTIONS.passwordRecoveryUrl?"http"===this._config.OPTIONS.passwordRecoveryUrl.substring(0,4)?(e=this._config.OPTIONS.passwordRecoveryUrl.split("?")[0],this._config.OPTIONS.passwordRecoveryUrl.split("?").length>1&&(r=this._config.OPTIONS.passwordRecoveryUrl.split("?")[1])):(n=this._config.OPTIONS.passwordRecoveryUrl.split("?")[0],this._config.OPTIONS.passwordRecoveryUrl.split("?").length>1&&(r=this._config.OPTIONS.passwordRecoveryUrl.split("?")[1]),e+=n):e+=n,t=e+"?"+r}return t},t.prototype.getPermissionsUrl=function(t){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/webmapp/v1/route_id/"+t:""},t.prototype.getCreatePoiUrl=function(){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/wp/v2/poi":""},t.prototype.getCreatePoiAcfUrl=function(t){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/acf/v3/poi/"+t:""},t.prototype.getCreatorUrl=function(t){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/webmapp/v1/userinfo?id="+t:""},t.prototype.getUploadImageUrl=function(){return this._config.OPTIONS.beBaseUrl?this._config.OPTIONS.beBaseUrl+"wp-json/wp/v2/media":""},t.prototype.showSignupCountry=function(){return!this._config.AUTH||!this._config.AUTH.hideCountry},t.prototype.showSignupNewsletter=function(){return!this._config.OPTIONS||!this._config.OPTIONS.hideNewsletterInSignup},t.prototype.hasMap=function(){var t=!1;return this._config.MAP&&this._config.MAP.layers&&this._config.MAP.layers.length>0&&this._config.MAP.layers.forEach(function(e){"string"==typeof e.tilesUrl&&""!==e.tilesUrl&&"string"==typeof e.type&&e.type&&(t=!0)}),t},t.prototype.enableMapClick=function(){return!(this._config.MAP&&this._config.MAP.interactions&&void 0!==this._config.MAP.interactions.click&&!this._config.MAP.interactions.click&&!this._deviceService.isFullscreen)},t.prototype.enableMapZoom=function(){return!(this._config.MAP&&this._config.MAP.interactions&&void 0!==this._config.MAP.interactions.zoom&&!this._config.MAP.interactions.zoom&&!this._deviceService.isFullscreen)},t.prototype.enableMapPan=function(){return!(this._config.MAP&&this._config.MAP.interactions&&void 0!==this._config.MAP.interactions.pan&&!this._config.MAP.interactions.pan&&!this._deviceService.isFullscreen)},t.prototype.getMapMaxZoom=function(){return this._config.MAP.maxZoom&&"number"==typeof this._config.MAP.maxZoom?this._config.MAP.maxZoom:u.q},t.prototype.getMapMaxFitZoom=function(){return this._config.OPTIONS.maxFitZoom&&"number"==typeof this._config.OPTIONS.maxFitZoom?Math.min(this._config.OPTIONS.maxFitZoom,this.getMapMaxZoom()):u.p},t.prototype.getMapMinZoom=function(){return this._config.MAP.minZoom&&"number"==typeof this._config.MAP.minZoom?this._config.MAP.minZoom:u.r},t.prototype.getMapDefZoom=function(){return"number"==typeof this._config.MAP.defZoom?this._config.MAP.defZoom:u.x},t.prototype.getMapCenter=function(){var t=!0;return this._config.MAP.center&&2===this._config.MAP.center.length?this._config.MAP.center.forEach(function(e){"number"!=typeof e&&(t=!1)}):t=!1,t?[this._config.MAP.center[0],this._config.MAP.center[1]]:u.n},t.prototype.getMapExtent=function(){return this._config.MAP.bbox&&this._config.MAP.bbox.length&&4===this._config.MAP.bbox.length?[this._config.MAP.bbox[0],this._config.MAP.bbox[1],this._config.MAP.bbox[2],this._config.MAP.bbox[3]]:u.o},t.prototype.getDefaultBaseLayerId=function(){return this._defaultMapBaseLayerId},t.prototype.getBaseLayers=function(){var t=[];return this.hasMap()&&(t=this._config.MAP.layers),t},t.prototype.getOverlayLayers=function(){var t=[];return this._deviceService.isFullscreen&&this._config.FULLSCREEN&&void 0!==this._config.FULLSCREEN.overlays?this._config.FULLSCREEN.overlays.forEach(function(e){"string"==typeof e.type&&""!==e.type&&t.push(e)}):this._config.MAP.overlays&&this._config.MAP.overlays.forEach(function(e){"string"==typeof e.type&&""!==e.type&&t.push(e)}),t},t.prototype.addArrowsOverTracks=function(){return!!this._config.OPTIONS.addArrowsOverTracks},t.prototype.getPoiMaxRadius=function(){return this._config.OPTIONS.poiMaxRadius?this._config.OPTIONS.poiMaxRadius:u.s},t.prototype.getPoiMinRadius=function(){return this._config.OPTIONS.poiMinRadius&&this._config.OPTIONS.poiMinRadius<=this.getPoiMaxRadius()?this._config.OPTIONS.poiMinRadius:u.v},t.prototype.getPoiMinZoom=function(){return this._config.OPTIONS.poiMinZoom&&this._config.OPTIONS.poiMinZoom>this.getMapMinZoom()?this._config.OPTIONS.poiMinZoom:this.getMapMinZoom()},t.prototype.getPoiIconRadius=function(){return this._config.OPTIONS.poiIconRadius&&this._config.OPTIONS.poiIconRadius>=1.7&&this._config.OPTIONS.poiIconRadius>=this.getPoiMaxRadius()?this._config.OPTIONS.poiIconRadius:Math.max(u.s,this.getPoiMaxRadius())},t.prototype.getIconPoiZoom=function(){return this._routeParam&&this._routeUrl?this.getMapMinZoom():this._config.OPTIONS.poiIconZoom?this._config.OPTIONS.poiIconZoom:u.t},t.prototype.getPoiSelectedRadius=function(){return this._config.OPTIONS.poiSelectedRadius&&this._config.OPTIONS.poiSelectedRadius>=2.5&&this._config.OPTIONS.poiSelectedRadius>this.getPoiIconRadius()?this._config.OPTIONS.poiSelectedRadius:Math.max(u.w,this.getPoiIconRadius()+.3)},t.prototype.getPoiLabelMinZoom=function(){return this._config.OPTIONS.poiLabelMinZoom?this._config.OPTIONS.poiLabelMinZoom:u.u},t.prototype.showMapViewfinder=function(){return!!this._config.OPTIONS.showMapViewfinder},t.prototype.useClusteringInMap=function(){return!(!this._config.OPTIONS.clustering||"boolean"!=typeof this._config.OPTIONS.clustering.enable)&&this._config.OPTIONS.clustering.enable},t.prototype.getClusteringRadius=function(){return this.useClusteringInMap()&&"number"==typeof this._config.OPTIONS.clustering.radius&&this._config.OPTIONS.clustering.radius>=0?this._config.OPTIONS.clustering.radius:u.a},t.prototype.getHighZoomClustering=function(){return this.useClusteringInMap()&&"number"==typeof this._config.OPTIONS.clustering.highZoom?this._config.OPTIONS.clustering.highZoom:this.getClusteringRadius()},t.prototype.getHighZoomClusteringRadius=function(){return this.useClusteringInMap()&&"number"==typeof this._config.OPTIONS.clustering.highZoomRadius&&this._config.OPTIONS.clustering.highZoomRadius>=0?this._config.OPTIONS.clustering.highZoomRadius:this.getClusteringRadius()},t.prototype.getPoiTaxonomies=function(){var t=[];if(this._config.TABLES&&this._config.TABLES.taxonomies&&this._config.TABLES.taxonomies.poi)for(var e=0,n=this._config.TABLES.taxonomies.poi;e<n.length;e++){var i=n[e];-1!==[r.WEBMAPP_CATEGORY,r.ACTIVITY,r.THEME,r.WHEN,r.WHERE,r.WHO].indexOf(i)&&t.push(i)}return 0===t.length&&t.push(r.WEBMAPP_CATEGORY),t},t.prototype.getTrackTaxonomies=function(){var t=[];if(this._config.TABLES&&this._config.TABLES.taxonomies&&this._config.TABLES.taxonomies.track)for(var e=0,n=this._config.TABLES.taxonomies.track;e<n.length;e++){var i=n[e];-1!==[r.WEBMAPP_CATEGORY,r.ACTIVITY,r.THEME,r.WHEN,r.WHERE,r.WHO].indexOf(i)&&t.push(i)}return 0===t.length&&t.push(r.ACTIVITY),t},t.prototype.getRouteTaxonomies=function(){var t=[];if(this._config.TABLES&&this._config.TABLES.taxonomies&&this._config.TABLES.taxonomies.route)for(var e=0,n=this._config.TABLES.taxonomies.route;e<n.length;e++){var i=n[e];-1!==[r.WEBMAPP_CATEGORY,r.ACTIVITY,r.THEME,r.WHEN,r.WHERE,r.WHO].indexOf(i)&&t.push(i)}return 0===t.length&&t.push.apply(t,[r.ACTIVITY,r.THEME,r.WHEN,r.WHERE,r.WHO]),t},t.prototype.getTaxonomyUrl=function(t){return this._config.OPTIONS.baseUrl?this._config.OPTIONS.baseUrl+"taxonomies/"+t+".json":""},t.prototype.getFeatureBaseUrl=function(){return this._config.OPTIONS.baseUrl?this._config.OPTIONS.baseUrl+"geojson/":""},t.prototype.downloadRouteIndex=function(){return!!this._config.OPTIONS.downloadRouteIndex},t.prototype.getRouteIndexUrl=function(){return this.downloadRouteIndex()?this._config.OPTIONS.downloadFullGemoetryRouteIndex?this.getFeatureBaseUrl()+"full_geometry_route_index.geojson":this.getFeatureBaseUrl()+"route_index.geojson":""},t.prototype.getRouteBaseUrl=function(){return this._config.OPTIONS.baseUrl?this._config.OPTIONS.baseUrl+"routes/":""},t.prototype.getRouteImageBaseUrl=function(t){return this._config.OPTIONS.baseUrl+"media/route_images/"+t+"_map_400x300.png"},t.prototype.getDefaultMapBaseUrl=function(){return this._config.OPTIONS.baseUrl+"tiles/"},t.prototype.getImageBaseUrl=function(){return this._config.OPTIONS.baseUrl+"media/"},t.prototype.getCustomBackgroundImageUrl=function(){return this._config.OPTIONS.customBackgroundImageUrl?"http"===this._config.OPTIONS.customBackgroundImageUrl.substring(0,4)?this._config.OPTIONS.customBackgroundImageUrl:this.getImageBaseUrl()+this._config.OPTIONS.customBackgroundImageUrl:void 0},t.prototype.getGpxDownloadBaseUrl=function(t){return"https://api.webmapp.it/services/downloadResource.php?url="+this._config.OPTIONS.baseUrl+"track/"+t+".gpx"},t.prototype.getCustomTrackGpxDownloadBaseUrl=function(){return"https://api.webmapp.it/services/downloadRecordedResource.php"},t.prototype.getKmlDownloadBaseUrl=function(t){return"https://api.webmapp.it/services/downloadResource.php?url="+this._config.OPTIONS.baseUrl+"track/"+t+".kml"},t.prototype.getCustomTrackKmlDownloadBaseUrl=function(){return"https://api.webmapp.it/services/downloadRecordedResource.php"},t.prototype.getDefaultLanguage=function(){var t="en";return this._config.LANGUAGES&&this._config.LANGUAGES.default&&(t=this._config.LANGUAGES.default.substring(0,2)),t},t.prototype.getAvailableLanguages=function(){var t=[],e=this.getDefaultLanguage();if(this._config.LANGUAGES){if(this._config.LANGUAGES.available)for(var n in this._config.LANGUAGES.available)t.push(this._config.LANGUAGES.available[n]);for(var r=!1,i=0,o=t;i<o.length;i++)if(o[i]===e){r=!0;break}r||t.push(e)}else t.push(e);return t},t.prototype.getStyle=function(){return this._config.THEME?this._config.THEME:{}},t.prototype.getDefaultFeatureColor=function(){return this._config.THEME&&this._config.THEME.defaultFeatureColor?this._config.THEME.defaultFeatureColor:u.c},t.prototype.getDefaultFeatureFillColor=function(){return this._config.THEME&&this._config.THEME.defaultFeatureColor?this._config.THEME.defaultFeatureColor:u.d},t.prototype.showElevationChart=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hideElevationChart)},t.prototype.showAscent=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_ascent)},t.prototype.showDescent=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_descent)},t.prototype.showDurationForward=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_duration:forward"])},t.prototype.showDurationBackward=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_duration:backward"])},t.prototype.showEleMax=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:max"])},t.prototype.showEleMin=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:min"])},t.prototype.showEleFrom=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:from"])},t.prototype.showEleTo=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details["hide_ele:to"])},t.prototype.showDistance=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_distance)},t.prototype.showFrom=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_from)},t.prototype.showTo=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_to)},t.prototype.showOperator=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_operator)},t.prototype.showScale=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_scale)},t.prototype.showCaiScale=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_cai_scale)},t.prototype.showMtbScale=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_mtb_scale)},t.prototype.showRef=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_ref)},t.prototype.showWgs84Coords=function(){return!!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.show_wgs84)},t.prototype.showUtmCoords=function(){return!!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.show_utm)},t.prototype.showCapacity=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_capacity)},t.prototype.showDrinkingWater=function(){return!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.hide_drinking_water)},t.prototype.showGpxDownload=function(){return!!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.showGpxDownload)},t.prototype.showKmlDownload=function(){return!!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.showKmlDownload)},t.prototype.showRelatedPoiInDetails=function(){return!!(this._config.TABLES&&this._config.TABLES.details&&this._config.TABLES.details.showRelatedPoi)},t.prototype.getRouteListMapping=function(){return this._config.TABLES&&this._config.TABLES.list&&this._config.TABLES.list.route?this._config.TABLES.list.route:u.J},t.prototype.getTaxonomyStrings=function(t){return t+="",this._config.STRINGS&&this._config.STRINGS.taxonomy&&this._config.STRINGS.taxonomy[t]?this._config.STRINGS.taxonomy[t]:void 0},t.prototype.getDetailsStrings=function(){return this._config.STRINGS&&this._config.STRINGS.details?this._config.STRINGS.details:void 0},t.prototype.isExportTrackAvailable=function(){return!!this._config.OPTIONS.exportTrack},t.prototype.getExportTrackUrl=function(){return this.isExportTrackAvailable()?"https://api.webmapp.it/services/share.php":""},t.prototype.showCreatorName=function(){return!(!this._config.TABLES||!this._config.TABLES.details||"boolean"!=typeof this._config.TABLES.details.showCreatorName)&&this._config.TABLES.details.showCreatorName},t.prototype.showEventDate=function(){return!(!this._config.TABLES||!this._config.TABLES.details||"boolean"!=typeof this._config.TABLES.details.showEventDate)&&this._config.TABLES.details.showEventDate},t.prototype.isAttendEventAvailable=function(){return!!(this._config.EVENTS&&this._config.EVENTS.attend&&this._config.EVENTS.attend.isAvailable)},t.prototype.isUpdateEventAvailable=function(){return!!(this._config.EVENTS&&this._config.EVENTS.update&&this._config.EVENTS.update.isAvailable)},t.prototype.getUpdateEventConfig=function(){return this.isUpdateEventAvailable()?JSON.parse(JSON.stringify(this._config.EVENTS.update)):void 0},t.prototype.getUpdateEventForm=function(){return this.isUpdateEventAvailable()&&this._config.EVENTS.update.form?JSON.parse(JSON.stringify(this._config.EVENTS.update.form)):void 0},t.prototype.getUpdateEventValidWebmappCategories=function(){return this.isUpdateEventAvailable()&&this._config.EVENTS.update.validWebmappCategories?JSON.parse(JSON.stringify(this._config.EVENTS.update.validWebmappCategories)):void 0},t.prototype.isEndEventAvailable=function(){return!!(this._config.EVENTS&&this._config.EVENTS.end&&this._config.EVENTS.end.isAvailable)},t.prototype.getEndEventConfig=function(){return this.isEndEventAvailable()?JSON.parse(JSON.stringify(this._config.EVENTS.end)):void 0},t.prototype.getEndEventForm=function(){return this.isEndEventAvailable()&&this._config.EVENTS.end.form?JSON.parse(JSON.stringify(this._config.EVENTS.end.form)):void 0},t.prototype.getEndEventValidWebmappCategories=function(){return this.isEndEventAvailable()&&this._config.EVENTS.end.validWebmappCategories?JSON.parse(JSON.stringify(this._config.EVENTS.end.validWebmappCategories)):void 0},t.prototype.getEndEventCompletedWebmappCategories=function(){return this.isEndEventAvailable()&&this._config.EVENTS.end.completedWebmappCategories?JSON.parse(JSON.stringify(this._config.EVENTS.end.completedWebmappCategories)):void 0},t.prototype.getDeeplinksBaseUrl=function(){return this._config.SHARE&&this._config.SHARE.deeplinksHost?"/"===this._config.SHARE.deeplinksHost[this._config.SHARE.deeplinksHost.length-1]?"https://"+this._config.SHARE.deeplinksHost:"https://"+this._config.SHARE.deeplinksHost+"/":"https://"+u.b+"/"},t.prototype.isShareMapCenterAvailable=function(){return!(!this._config.SHARE||!this._config.SHARE.mapCenter)},t.prototype.isShareFeatureLinkAvailable=function(){return!(!this._config.SHARE||!this._config.SHARE.featureLink)},t.prototype.isBeEditFeatureAvailable=function(){return!!this._config.OPTIONS.showEditLink&&this._config.OPTIONS.showEditLink},t.prototype.isSearchEnabled=function(){return!!this._config.OPTIONS.showSearch},t.prototype.areFiltersAvailable=function(){return!this._config.OPTIONS.hideFilters},t.prototype.startFiltersDisabled=function(){return!1},t.prototype.isReportAvailable=function(){return!!(this._config.REPORTS&&this._config.REPORTS.enable&&this._config.REPORTS.items)&&this._config.REPORTS.enable},t.prototype.getReports=function(){return this.isReportAvailable()?this._config.REPORTS.items:void 0},t.prototype.getReportUrl=function(t){var e="https://api.webmapp.it/services/share.php";return t.url&&"http"===t.url.substring(0,4)?e=t.url:this._config.REPORTS.url&&"http"===this._config.REPORTS.url.substring(0,4)&&(e=this._config.REPORTS.url),e},t.prototype.isRoutingAvailable=function(){return!(!this._config.ROUTING||!this._config.ROUTING.enable)},t.prototype.isTrackAdoptionAvailable=function(){return!!this._config.OPTIONS.enableTrackAdoption},t.prototype.getAdoptionBaseUrl=function(){return this._config.OPTIONS.trackAdoptionUrl?this._config.OPTIONS.trackAdoptionUrl:void 0},t.prototype.getReconnaissanceBaseUrl=function(){return this._config.OPTIONS.trackReconnaissanceUrl?this._config.OPTIONS.trackReconnaissanceUrl:void 0},t.ngInjectableDef=l.T({factory:function(){return new t(l.X(s.a),l.X(c.a))},token:t,providedIn:"root"}),t}()},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.d(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},so3c:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n("flj8");var r=n("K9Ia"),i=(n("ZZ/e"),n("r4Kj"),n("MLd6"),n("Mzne"),n("tB1I"),n("l207")),o=function(){function t(t,e,n,i,o,a,s,u,l){this._accountService=t,this._alertController=e,this._configService=n,this._i18nCountrySelectService=i,this._languagesService=o,this._modalController=a,this._modelService=s,this._routerService=u,this._translateService=l,this.destroyer=new r.a,this._i18nCountrySelectService.use([this._languagesService.getCurrentLang()]),this._i18nCountrySelectService.loadCountries()}return Object.defineProperty(t.prototype,"countrySelector",{set:function(t){this._countrySelector=t,this._countrySelector&&this._countrySelector.defaultLabel&&(this._countrySelector.defaultLabel=this._translateService.instant("modals.login.countrySelectPlaceholder")),this._countrySelector&&this._countrySelector.pleaseChoose&&(this._countrySelector.pleaseChoose=this._translateService.instant("modals.login.countrySelectPlaceholder"))},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this._accountService.logout(),this.force=this._configService.forceLogin(),this.mode="login",this.privacyObj={url:this._configService.getPrivacyUrl()},this.loginLoading=!1,this.signupLoading=!1,this.loginForm={username:{value:"",valid:!0},password:{value:"",valid:!0},valid:!0},this.signupForm={firstName:{value:"",valid:!0},lastName:{value:"",valid:!0},email:{value:"",valid:!0},password:{value:"",valid:!0},country:{value:null,valid:!0},newsletter:{value:!1,valid:!0},privacy:{value:!1,valid:!0},valid:!0},this.passwordRecoveryUrl=this._configService.getPasswordRecoveryUrl()+"&lang="+this._languagesService.getCurrentLang(),this.showCountry=this._configService.showSignupCountry(),this.showNewsletter=this._configService.showSignupNewsletter(),this._configService.getTermsAndConditionsUrl()&&(this.signupForm.termsAndConditions={value:!1,valid:!0},this.termsAndConditionsObj={url:this._configService.getTermsAndConditionsUrl()})},t.prototype.login=function(){var t=this;"signup"!==this.mode?(this.loginForm.username.valid=""!==this.loginForm.username.value,this.loginForm.password.valid=""!==this.loginForm.password.value,this.loginForm.valid=this.loginForm.username.valid&&this.loginForm.password.valid,this.loginForm.valid&&(this.loginLoading=!0,this._accountService.login(this.loginForm.username.value,this.loginForm.password.value).then(function(){t.loginLoading=!1,t._modalController.dismiss()},function(e){t.loginLoading=!1,t._alertController.create({header:t._translateService.instant("alert.warning"),message:t._translateService.instant(e.message),buttons:[{text:t._translateService.instant("buttons.ok")}]}).then(function(t){t.present()})}))):this.mode="login"},t.prototype.signup=function(){var t=this;"login"!==this.mode?(this.signupForm.firstName.valid=""!==this.signupForm.firstName.value,this.signupForm.lastName.valid=""!==this.signupForm.lastName.value,this.signupForm.email.valid=!!this.signupForm.email.value.match(i.K),this.signupForm.password.valid=""!==this.signupForm.password.value,this.signupForm.privacy.valid=this.signupForm.privacy.value,this.signupForm.termsAndConditions&&(this.signupForm.termsAndConditions.valid=this.signupForm.termsAndConditions.value),this.signupForm.valid=this.signupForm.firstName.valid&&this.signupForm.lastName.valid&&this.signupForm.password.valid&&this.signupForm.email.valid&&this.signupForm.privacy.valid&&(!this.signupForm.termsAndConditions||this.signupForm.termsAndConditions.valid),this.signupForm.valid&&(this.signupLoading=!0,this._accountService.signup(this.signupForm.firstName.value,this.signupForm.lastName.value,this.signupForm.email.value,this.signupForm.password.value,this.signupForm.country.value,this.signupForm.newsletter.value).then(function(){t._accountService.login(t.signupForm.email.value,t.signupForm.password.value).then(function(){t.signupLoading=!1,t._modalController.dismiss()},function(e){t.signupLoading=!1,t._alertController.create({header:t._translateService.instant("alert.warning"),message:t._translateService.instant(e.message),buttons:[{text:t._translateService.instant("buttons.ok")}]}).then(function(t){t.present()})})},function(e){t.signupLoading=!1,t._alertController.create({header:t._translateService.instant("alert.warning"),message:t._translateService.instant(e.message),buttons:[{text:t._translateService.instant("buttons.ok")}]}).then(function(t){t.present()})}))):this.mode="signup"},t.prototype.contentClick=function(t){this._modelService.contentClick(t)},t.prototype.openUrl=function(t){this._routerService.openUrl(t)},t.prototype.togglePassword=function(){this.showPassword=!this.showPassword},t.prototype.dismiss=function(){this._modalController.dismiss()},t.prototype.ngOnDestroy=function(){this.destroyer.next(!0)},t}()},"t/Na":function(t,e,n){"use strict";n.d(e,"k",function(){return R}),n.d(e,"n",function(){return N}),n.d(e,"o",function(){return z}),n.d(e,"l",function(){return F}),n.d(e,"m",function(){return L}),n.d(e,"b",function(){return p}),n.d(e,"f",function(){return h}),n.d(e,"c",function(){return I}),n.d(e,"a",function(){return M}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return G}),n.d(e,"j",function(){return B}),n.d(e,"g",function(){return j}),n.d(e,"i",function(){return A}),n.d(e,"h",function(){return D});var r=n("mrSG"),i=n("CcnG"),o=n("F/XL"),a=n("6blF"),s=n("Phjn"),u=n("VnD/"),l=n("67Y/"),c=n("Ip0R"),h=function(){return function(){}}(),p=function(){return function(){}}(),f=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,Object(r.i)(n)),this.headers.set(e,i);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})},t}(),d=function(){function t(){}return t.prototype.encodeKey=function(t){return g(t)},t.prototype.encodeValue=function(t){return g(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function g(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var v=function(){function t(t){void 0===t&&(t={});var e,n,i,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new d,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,i=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),o=Object(r.h)(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),a=o[0],s=o[1],u=i.get(a)||[];u.push(s),i.set(a,u)}),i)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var n=t.fromObject[e];o.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)},t}();function m(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function y(t){return"undefined"!=typeof Blob&&t instanceof Blob}function _(t){return"undefined"!=typeof FormData&&t instanceof FormData}var b=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new f),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new v,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:m(this.body)||y(this.body)||_(this.body)||"string"==typeof this.body?this.body:this.body instanceof v?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:_(this.body)?null:y(this.body)?this.body.type||null:m(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof v?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,r,o,{params:l,headers:u,reportProgress:s,responseType:i,withCredentials:a})},t}(),w=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),S=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),C=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=w.ResponseHeader,n}return Object(r.d)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(S),x=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=w.Response,n.body=void 0!==e.body?e.body:null,n}return Object(r.d)(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(S),E=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return Object(r.d)(e,t),e}(S);function O(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var I=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof b)r=t;else{var a;a=n.headers instanceof f?n.headers:new f(n.headers);var c=void 0;n.params&&(c=n.params instanceof v?n.params:new v({fromObject:n.params})),r=new b(t,e,void 0!==n.body?n.body:null,{headers:a,params:c,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var h=Object(o.a)(r).pipe(Object(s.a)(function(t){return i.handler.handle(t)}));if(t instanceof b||"events"===n.observe)return h;var p=h.pipe(Object(u.a)(function(t){return t instanceof x}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return p.pipe(Object(l.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return p.pipe(Object(l.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return p.pipe(Object(l.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return p.pipe(Object(l.a)(function(t){return t.body}))}case"response":return p;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new v).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,O(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,O(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,O(n,e))},t}(),T=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),M=new i.p("HTTP_INTERCEPTORS"),P=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),k=/^\)\]\}',?\n/,A=function(){return function(){}}(),R=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),j=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new a.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new f(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new C({headers:i,status:e,statusText:n,url:o})},l=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,l=null;204!==o&&(l=void 0===r.response?r.responseText:r.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(k,"");try{l=""!==l?JSON.parse(l):null}catch(p){l=h,c&&(c=!1,l={error:p,text:l})}}c?(n.next(new x({body:l,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new E({error:l,headers:i,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=u().url,i=new E({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,p=function(e){h||(n.next(u()),h=!0);var i={type:w.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:w.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",l),r.addEventListener("error",c),t.reportProgress&&(r.addEventListener("progress",p),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:w.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",l),t.reportProgress&&(r.removeEventListener("progress",p),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}})},t}(),F=new i.p("XSRF_COOKIE_NAME"),L=new i.p("XSRF_HEADER_NAME"),D=function(){return function(){}}(),N=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.t)(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),z=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t}(),B=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(M,[]);this.chain=e.reduceRight(function(t,e){return new T(t,e)},this.backend)}return this.chain.handle(t)},t}(),G=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:z,useClass:P}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:F,useValue:t.cookieName}:[],t.headerName?{provide:L,useValue:t.headerName}:[]]}},t}(),V=function(){return function(){}}()},t1N5:function(t,e,n){var r=n("T016"),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var u=a[s].channels,l=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:u}),Object.defineProperty(a[s],"labels",{value:l})}a.rgb.hsl=function(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),u=s-a;return s===a?e=0:r===s?e=(i-o)/u:i===s?e=2+(o-r)/u:o===s&&(e=4+(r-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?u/(s+a):u/(2-s-a)),100*n]},a.rgb.hsv=function(t){var e,n,r,i,o,a=t[0]/255,s=t[1]/255,u=t[2]/255,l=Math.max(a,s,u),c=l-Math.min(a,s,u),h=function(t){return(l-t)/6/c+.5};return 0===c?i=o=0:(o=c/l,e=h(a),n=h(s),r=h(u),a===l?i=r-n:s===l?i=1/3+e-r:u===l&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*l]},a.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2];return[a.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,r))*100,100*(r=1-1/255*Math.max(e,Math.max(n,r)))]},a.rgb.cmyk=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-r,1-i)))/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-i-e)/(1-e)||0),100*e]},a.rgb.keyword=function(t){var e=i[t];if(e)return e;var n,o,a,s=1/0;for(var u in r)if(r.hasOwnProperty(u)){var l=(o=t,a=r[u],Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));l<s&&(s=l,n=u)}return n},a.keyword.rgb=function(t){return r[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*n+.0722*r),100*(.0193*e+.1192*n+.9505*r)]},a.rgb.lab=function(t){var e=a.rgb.xyz(t),n=e[0],r=e[1],i=e[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(t){var e,n,r,i,o,a=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[o=255*u,o,o];e=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=a+1/3*-(l-1))<0&&r++,r>1&&r--,i[l]=255*(o=6*r<1?e+6*(n-e)*r:2*r<1?n:3*r<2?e+(n-e)*(2/3-r)*6:e);return i},a.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[e,100*(0===r?2*i/(o+i):2*n/(r+n)),(r+n)/2*100]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),a=255*r*(1-n),s=255*r*(1-n*o),u=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,u,a];case 1:return[s,r,a];case 2:return[a,r,u];case 3:return[a,s,r];case 4:return[u,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(t){var e,n,r,i=t[0],o=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(e=(2-o)*s)<=1?e:2-e)||0),100*(r/=2)]},a.hwb.rgb=function(t){var e,n,r,i,o,a,s,u=t[0]/360,l=t[1]/100,c=t[2]/100,h=l+c;switch(h>1&&(l/=h,c/=h),r=6*u-(e=Math.floor(6*u)),0!=(1&e)&&(r=1-r),i=l+r*((n=1-c)-l),e){default:case 6:case 0:o=n,a=i,s=l;break;case 1:o=i,a=n,s=l;break;case 2:o=l,a=n,s=i;break;case 3:o=l,a=i,s=n;break;case 4:o=i,a=l,s=n;break;case 5:o=n,a=l,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-r)+r)),255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},a.xyz.rgb=function(t){var e,n,r,i=t[0]/100,o=t[1]/100,a=t[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,e=(e=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2];return n/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(t){var e,n,r;e=t[1]/500+(n=(t[0]+16)/116),r=n-t[2]/200;var i=Math.pow(n,3),o=Math.pow(e,3),a=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,e=o>.008856?o:(e-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[e*=95.047,n*=100,r*=108.883]},a.lab.lch=function(t){var e,n=t[0],r=t[1],i=t[2];return(e=360*Math.atan2(i,r)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(r*r+i*i),e]},a.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(t){var e,n=t[0]/255,r=t[1]/255,i=t[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return e=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(t){var e,n=t[1]/100,r=t[2]/100,i=0;return(e=r<.5?2*n*r:2*n*(1-r))<1&&(i=(r-.5*e)/(1-e)),[t[0],100*e,100*i]},a.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},a.hcg.rgb=function(t){var e=t[1]/100,n=t[2]/100;if(0===e)return[255*n,255*n,255*n];var r,i=[0,0,0],o=t[0]/360%1*6,a=o%1,s=1-a;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return[255*(e*i[0]+(r=(1-e)*n)),255*(e*i[1]+r),255*(e*i[2]+r)]},a.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),r=0;return n>0&&(r=e/n),[t[0],100*r,100*n]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,r=0;return n>0&&n<.5?r=e/(2*n):n>=.5&&n<1&&(r=e/(2*(1-n))),[t[0],100*r,100*n]},a.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},a.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,r=0;return n<1&&(r=(e-n)/(1-n)),[t[0],100*n,100*r]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},t8sF:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("a3Cf"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cordovaFileError={1:"NOT_FOUND_ERR",2:"SECURITY_ERR",3:"ABORT_ERR",4:"NOT_READABLE_ERR",5:"ENCODING_ERR",6:"NO_MODIFICATION_ALLOWED_ERR",7:"INVALID_STATE_ERR",8:"SYNTAX_ERR",9:"INVALID_MODIFICATION_ERR",10:"QUOTA_EXCEEDED_ERR",11:"TYPE_MISMATCH_ERR",12:"PATH_EXISTS_ERR",13:"WRONG_ENTRY_TYPE",14:"DIR_READ_ERR"},e}return Object(r.d)(e,t),e.prototype.getFreeDiskSpace=function(){var t=this;return function(){if(!0===Object(i.checkAvailability)(t))return Object(i.getPromise)(function(t,e){cordova.exec(t,e,"File","getFreeDiskSpace",[])})}()},e.prototype.checkDir=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t+e).then(function(){return!0})}}()},e.prototype.createDir=function(t,e,n){var r=this;return function(){if(!0===Object(i.checkAvailability)(r)){if(/^\//.test(e)){var o=new FileError(5);return o.message="directory cannot start with /",Promise.reject(o)}var a={create:!0};return n||(a.exclusive=!0),r.resolveDirectoryUrl(t).then(function(t){return r.getDirectory(t,e,a)})}}()},e.prototype.removeDir=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1})}).then(function(t){return n.remove(t)})}}()},e.prototype.moveDir=function(t,e,n,r){var o=this;return function(){if(!0===Object(i.checkAvailability)(o)){if(/^\//.test(r=r||e)){var a=new FileError(5);return a.message="directory cannot start with /",Promise.reject(a)}return o.resolveDirectoryUrl(t).then(function(t){return o.getDirectory(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.move(t,e,r)})})}}()},e.prototype.copyDir=function(t,e,n,r){var o=this;return function(){if(!0===Object(i.checkAvailability)(o)){if(/^\//.test(r)){var a=new FileError(5);return a.message="directory cannot start with /",Promise.reject(a)}return o.resolveDirectoryUrl(t).then(function(t){return o.getDirectory(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.copy(t,e,r)})})}}()},e.prototype.listDir=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1,exclusive:!1})}).then(function(t){var e=t.createReader();return n.readEntries(e)})}}()},e.prototype.removeRecursively=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="directory cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getDirectory(t,e,{create:!1})}).then(function(t){return n.rimraf(t)})}}()},e.prototype.checkFile=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="file cannot start with /",Promise.reject(r)}return n.resolveLocalFilesystemUrl(t+e).then(function(t){if(t.isFile)return!0;var e=new FileError(13);return e.message="input is not a file",Promise.reject(e)})}}()},e.prototype.createFile=function(t,e,n){var r=this;return function(){if(!0===Object(i.checkAvailability)(r)){if(/^\//.test(e)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}var a={create:!0};return n||(a.exclusive=!0),r.resolveDirectoryUrl(t).then(function(t){return r.getFile(t,e,a)})}}()},e.prototype.removeFile=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n)){if(/^\//.test(e)){var r=new FileError(5);return r.message="file-name cannot start with /",Promise.reject(r)}return n.resolveDirectoryUrl(t).then(function(t){return n.getFile(t,e,{create:!1})}).then(function(t){return n.remove(t)})}}()},e.prototype.writeFile=function(t,e,n,r){var o=this;return void 0===r&&(r={}),function(){if(!0===Object(i.checkAvailability)(o)){if(/^\//.test(e)){var a=new FileError(5);return a.message="file-name cannot start with /",Promise.reject(a)}var s={create:!r.append,exclusive:!r.replace};return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,s)}).then(function(t){return o.writeFileEntry(t,n,r)})}}()},e.prototype.writeFileEntry=function(t,e,n){var r=this;return this.createWriter(t).then(function(t){return n.append&&t.seek(t.length),n.truncate&&t.truncate(n.truncate),r.write(t,e)}).then(function(){return t})},e.prototype.writeExistingFile=function(t,e,n){var r=this;return function(){if(!0===Object(i.checkAvailability)(r))return r.writeFile(t,e,n,{replace:!0})}()},e.prototype.readAsText=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n))return n.readFile(t,e,"Text")}()},e.prototype.readAsDataURL=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n))return n.readFile(t,e,"DataURL")}()},e.prototype.readAsBinaryString=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n))return n.readFile(t,e,"BinaryString")}()},e.prototype.readAsArrayBuffer=function(t,e){var n=this;return function(){if(!0===Object(i.checkAvailability)(n))return n.readFile(t,e,"ArrayBuffer")}()},e.prototype.moveFile=function(t,e,n,r){var o=this;return function(){if(!0===Object(i.checkAvailability)(o)){if(/^\//.test(r=r||e)){var a=new FileError(5);return a.message="file name cannot start with /",Promise.reject(a)}return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.move(t,e,r)})})}}()},e.prototype.copyFile=function(t,e,n,r){var o=this;return function(){if(!0===Object(i.checkAvailability)(o)){if(/^\//.test(r=r||e)){var a=new FileError(5);return a.message="file name cannot start with /",Promise.reject(a)}return o.resolveDirectoryUrl(t).then(function(t){return o.getFile(t,e,{create:!1})}).then(function(t){return o.resolveDirectoryUrl(n).then(function(e){return o.copy(t,e,r)})})}}()},e.prototype.fillErrorMessage=function(t){try{t.message=this.cordovaFileError[t.code]}catch(e){}},e.prototype.resolveLocalFilesystemUrl=function(t){var e=this;return function(){if(!0===Object(i.checkAvailability)(e))return Object(i.getPromise)(function(n,r){try{window.resolveLocalFileSystemURL(t,function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})}catch(i){e.fillErrorMessage(i),r(i)}})}()},e.prototype.resolveDirectoryUrl=function(t){var e=this;return function(){if(!0===Object(i.checkAvailability)(e))return e.resolveLocalFilesystemUrl(t).then(function(t){if(t.isDirectory)return t;var e=new FileError(13);return e.message="input is not a directory",Promise.reject(e)})}()},e.prototype.getDirectory=function(t,e,n){var r=this;return function(){if(!0===Object(i.checkAvailability)(r))return new Promise(function(i,o){try{t.getDirectory(e,n,function(t){i(t)},function(t){r.fillErrorMessage(t),o(t)})}catch(a){r.fillErrorMessage(a),o(a)}})}()},e.prototype.getFile=function(t,e,n){var r=this;return function(){if(!0===Object(i.checkAvailability)(r))return new Promise(function(i,o){try{t.getFile(e,n,i,function(t){r.fillErrorMessage(t),o(t)})}catch(a){r.fillErrorMessage(a),o(a)}})}()},e.prototype.readFile=function(t,e,n){var r=this;if(/^\//.test(e)){var o=new FileError(5);return o.message="file-name cannot start with /",Promise.reject(o)}return this.resolveDirectoryUrl(t).then(function(t){return r.getFile(t,e,{create:!1})}).then(function(t){var e=new FileReader;return Object(i.getPromise)(function(r,i){e.onloadend=function(){void 0!==e.result||null!==e.result?r(e.result):i(void 0!==e.error||null!==e.error?e.error:{code:null,message:"READER_ONLOADEND_ERR"})},t.file(function(t){e["readAs"+n].call(e,t)},function(t){i(t)})})})},e.prototype.remove=function(t){var e=this;return new Promise(function(n,r){t.remove(function(){n({success:!0,fileRemoved:t})},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.move=function(t,e,n){var r=this;return new Promise(function(i,o){t.moveTo(e,n,function(t){i(t)},function(t){r.fillErrorMessage(t),o(t)})})},e.prototype.copy=function(t,e,n){var r=this;return new Promise(function(i,o){t.copyTo(e,n,function(t){i(t)},function(t){r.fillErrorMessage(t),o(t)})})},e.prototype.readEntries=function(t){var e=this;return new Promise(function(n,r){t.readEntries(function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.rimraf=function(t){var e=this;return new Promise(function(n,r){t.removeRecursively(function(){n({success:!0,fileRemoved:t})},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.createWriter=function(t){var e=this;return new Promise(function(n,r){t.createWriter(function(t){n(t)},function(t){e.fillErrorMessage(t),r(t)})})},e.prototype.write=function(t,e){return e instanceof Blob?this.writeFileInChunks(t,e):new Promise(function(n,r){t.onwriteend=function(e){t.error?r(t.error):n(e)},t.write(e)})},e.prototype.writeFileInChunks=function(t,e){var n=1048576,r=0;function o(){var i=Math.min(n,e.size-r),o=e.slice(r,r+i);r+=i,t.write(o)}return Object(i.getPromise)(function(n,i){t.onerror=i,t.onwrite=function(){r<e.size?o():n()},o()})},Object.defineProperty(e.prototype,"applicationDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"applicationDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"applicationDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"applicationStorageDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"applicationStorageDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"applicationStorageDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"dataDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"dataDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cacheDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"cacheDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"cacheDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalApplicationStorageDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"externalApplicationStorageDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"externalApplicationStorageDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalDataDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"externalDataDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"externalDataDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalCacheDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"externalCacheDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"externalCacheDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"externalRootDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"externalRootDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"externalRootDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tempDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"tempDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"tempDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"syncedDataDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"syncedDataDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"syncedDataDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"documentsDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"documentsDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"documentsDirectory",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharedDirectory",{get:function(){return Object(i.cordovaPropertyGet)(this,"sharedDirectory")},set:function(t){Object(i.cordovaPropertySet)(this,"sharedDirectory",t)},enumerable:!0,configurable:!0}),e.pluginName="File",e.plugin="cordova-plugin-file",e.pluginRef="cordova.file",e.repo="https://github.com/apache/cordova-plugin-file",e.platforms=["Android","Browser","iOS","macOS","Windows"],e}(i.IonicNativePlugin)},t9fZ:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("FFOo"),o=n("b7mW"),a=n("G5J1");function s(t){return function(e){return 0===t?Object(a.b)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.total))},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.d(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.a)},tB1I:function(t,e,n){"use strict";var r=n("S5bw"),i=n("dzgT"),o=n("6blF"),a=n("Rney"),s=n("Gi3i"),u=n("ZZ/e"),l=n("w69+"),c=n("r4Kj"),h=n("BtSu"),p=n("MLd6"),f=n("n90K"),d=n("Mzne"),g=n("WPWp"),v=n("l207"),m=n("Almg"),y=function(){return function(){}}(),_=n("CcnG");n.d(e,"a",function(){return w});var b={id:"my-routes",name:"I miei percorsi",description:"L'elenco dei tuoi percorsi registrati",color:"",icon:"person",items:{track:[]},locale:"it",translations:{de:{name:"Meine routen",description:"Die liste ihrer aufgezeichneten routen"},en:{name:"My routes",description:"The list of your recorded routes"},es:{name:"Mis rutas",description:"La lista de tus rutas grabadas"},fr:{name:"Mes itin\xe9raires",description:"La liste de vos itin\xe9raires enregistr\xe9s"}}},w=function(){function t(t,e,n,o,s,u,l,c){var h=this;for(var p in this._communicationService=t,this._configService=e,this._deviceService=n,this._languagesService=o,this._platform=s,this._routerService=u,this._storageService=l,this._themeService=c,this._isReady=!1,this.onReady=new r.a(1),this.onReady.next(this._isReady),this._isFullscreen=!1,this._searchEnabled=this._configService.isSearchEnabled(),this.onMenuChange=new r.a(1),this.onMainStateChange=new r.a(1),this.onPagesReady=new r.a(1),this.onPagesReady.next(!1),this._taxononmyEvents={},Object.keys(m.a))this._taxononmyEvents[Object.values(m.a)[p]]=new r.a(1);this._onTaxonomyChange=new r.a(1),this._onFeaturesChange=new r.a(1),this._onRecordTrackChange=new r.a(1),this._platform.ready().then(function(){h._load().then(function(){h._triggerMenuChange()})},function(t){console.warn(t),h._load().then(function(){h._triggerMenuChange()})});var f=this._routerService.onStateChange.pipe(Object(a.a)(250)),d=this.getFeatures().pipe(Object(a.a)(250)),g=this.getTaxonomies().pipe(Object(a.a)(250)),y=this._deviceService.onResize.pipe(Object(a.a)(250));Object(i.a)(f,d,g,y).subscribe(function(t){var e=t[0],n=e.state.urlAfterRedirects.split("?")[0].split("/");if(n[1]&&"main"===n[1]){var r=void 0,i=!!e.params.searchString;switch(n[2]?n[2]:"default"){case"explore":h._mainState={isMapSwitchAvailable:h._searchEnabled&&i,isMapViewActive:!h._searchEnabled||!i,isToolbarDetached:!0,hasActionButtons:h._searchEnabled&&(!h._deviceService.isLgScreen||h._configService.areFiltersAvailable()),updateMap:!0,isBackAvailable:!1,showSearch:h._searchEnabled,hideExplorePanel:!h._searchEnabled||!i};break;case"map":h._mainState={isMapSwitchAvailable:h._searchEnabled&&i,isMapViewActive:!0,isToolbarDetached:!0,hasActionButtons:h._searchEnabled&&(!h._deviceService.isLgScreen||h._configService.areFiltersAvailable()),updateMap:!0,isBackAvailable:!1,showSearch:h._searchEnabled,hideExplorePanel:!h._searchEnabled||!i};break;case"details":r=n[n.length-1],h._mainState={isBackAvailable:!h._configService.getRouteUrl(),resetFilters:!0,showEditButton:h._configService.isRoutingAvailable()&&r.substring(0,16)===v.A,showShareLinkButton:h._configService.isShareFeatureLinkAvailable()&&(r.length<=16||r.substring(0,16)!==v.A)&&h._features[r]&&h._features[r].properties&&!!h._features[r].properties.web,showSearch:!1,showBeEditButton:!!(h._configService.isBeEditFeatureAvailable()&&h._features[r]&&h._features[r].properties.wp_edit),showExportButton:h._configService.isExportTrackAvailable()&&r.substring(0,16)===v.A,showAttendEventButton:h._configService.isAttendEventAvailable(),showEndEventButton:h._configService.isEndEventAvailable(),showUpdateEventButton:h._configService.isUpdateEventAvailable(),title:h.getFeatureName(r)};break;case"page":h._mainState={isBackAvailable:!0,resetFilters:!1,title:h.getStaticPageTitle(r=n[n.length-1]),showSearch:!1};break;default:h._mainState={isMapSwitchAvailable:!1,isMapViewActive:!0,isToolbarDetached:!0,hasActionButtons:!h._deviceService.isLgScreen,resetFilters:!0,updateMap:!0,showSearch:h._searchEnabled}}}else h._mainState={isMapSwitchAvailable:!1,isMapViewActive:!0,isToolbarDetached:!0,hasActionButtons:!h._deviceService.isLgScreen,resetFilters:!0,updateMap:!0,showSearch:h._searchEnabled};h.onMainStateChange.next(h._mainState)},function(t){console.warn(t)}),this._languagesService.onCurrentLangChange().subscribe(function(){h._triggerMenuChange()},function(t){console.warn(t)}),this._deviceService.isEmbedded&&document.addEventListener("wm_overlays_updated",function(){h._load().then(function(){h._isReady=!0,h.onReady.next(h._isReady)})}),this._configService.isFullscreenAvailable()&&this._deviceService.onFullscreenChange.subscribe(function(t){h._isFullscreen!==t&&h._toggleFullscreen()})}return Object.defineProperty(t.prototype,"firstStageId",{get:function(){return this._firstStageId},enumerable:!0,configurable:!0}),t.prototype.getStartUrl=function(){return"/main/map"},t.prototype._load=function(){var t=this;return new Promise(function(e,n){t._downloadStaticPages().then(function(){t.onPagesReady.next(!0),t._triggerMenuChange()}),t._downloadTaxonomies().then(function(n){n||(n={webmapp_category:{},activity:{},theme:{},when:{},where:{},who:{}}),t._taxonomies=n,t._downloadFeatures().then(function(n){for(var r in n||(n={}),t._features=n,t._taxonomies)t._taxononmyEvents[r].next(t._taxonomies[r]);t._onTaxonomyChange.next(t._taxonomies),t._onFeaturesChange.next(t._features),t._isFullscreen?(t._fullscreenTaxonomies=t._taxonomies,t._fullscreenFeatures=t._features):(t._windowedTaxonomies=t._taxonomies,t._windowedFeatures=t._features),t._isReady=!0,t.onReady.next(t._isReady),t._triggerMenuChange(),t._deviceService.isLocalServer&&console.log("download ready"),e()})})})},t.prototype._downloadTaxonomies=function(){var t=this;return new Promise(function(e,n){var r=[];t._configService.hasK?(r.push(t._downloadTaxonomy("webmapp_category")),r.push(t._downloadTaxonomy("activity")),r.push(t._downloadTaxonomy("theme")),r.push(t._downloadTaxonomy("when")),r.push(t._downloadTaxonomy("where")),r.push(t._downloadTaxonomy("who"))):(r.push(Promise.resolve({})),r.push(Promise.resolve({})),r.push(Promise.resolve({})),r.push(Promise.resolve({})),r.push(Promise.resolve({})),r.push(Promise.resolve({}))),Promise.all(r).then(function(n){var r={webmapp_category:n[0],activity:n[1],theme:n[2],when:n[3],where:n[4],who:n[5]},i=t._configService.getOverlayLayers();for(var o in i)r=t._createTaxonomy(i[o],r);var a,s=window["wm-embedmaps"]&&window["wm-embedmaps"].wm_overlays_definition?window["wm-embedmaps"].wm_overlays_definition:"[]";try{a=JSON.parse(s)}catch(u){a=[]}if(a)for(var o in a)r=t._createTaxonomy(a[o],r);e(r)},function(t){console.warn(t),e(new y)})})},t.prototype._downloadTaxonomy=function(t){var e=this;return new Promise(function(n,r){e._communicationService.get(e._configService.getTaxonomyUrl(t)+"?t="+Date.now()).subscribe(function(r){var i=r;for(var o in(null==r||r&&void 0!==r.length)&&(i={}),i)if(i[o].id&&i[o].name){for(var a in i[o])""!==i[o][a]&&null!==i[o][a]&&!1!==i[o][a]||delete i[o][a];i[o].locale&&(i[o].translations||(i[o].translations={}),i[o].translations[i[o].locale]={name:i[o].name,description:i[o].description})}else e._deviceService.isLocalServer&&console.warn("Invalid taxonomy "+o),delete i[o];e._configService.isRoutingAvailable()&&"theme"===t&&(i["my-routes"]=b,i["my-routes"].color=e._themeService.getPrimaryColor()),n(i)},function(t){console.warn(t),n({})})})},t.prototype._createTaxonomy=function(t,e){return t.id&&t.name&&t.createTaxonomy&&-1!==["webmapp_category","activity","theme","when","where","who"].indexOf(t.createTaxonomy)&&(e||(e=new y),e[t.createTaxonomy]||(e[t.createTaxonomy]={}),e[t.createTaxonomy][t.id]={id:t.id,name:t.name,locale:t.locale||this._languagesService.getCurrentLang(),items:{poi:[]},taxonomy:t.createTaxonomy},t.description&&(e[t.createTaxonomy][t.id].description=t.description),t.translations&&(e[t.createTaxonomy][t.id].translations=t.translations),t.color&&(e[t.createTaxonomy][t.id].color=t.color),t.stroke_width&&(e[t.createTaxonomy][t.id].stroke_width=t.stroke_width),t.stroke_opacity&&(e[t.createTaxonomy][t.id].stroke_opacity=t.stroke_opacity),t.icon&&(e[t.createTaxonomy][t.id].icon=t.icon),t.line_dash&&(e[t.createTaxonomy][t.id].line_dash=t.line_dash),t.zindex&&(e[t.createTaxonomy][t.id].zindex=t.zindex),t.alert&&(e[t.createTaxonomy][t.id].alert=t.alert),t.show_label&&(e[t.createTaxonomy][t.id].show_label=t.show_label),t.fill_color&&(e[t.createTaxonomy][t.id].fill_color=t.fill_color),t.fill_opacity&&(e[t.createTaxonomy][t.id].fill_opacity=t.fill_opacity)),e},t.prototype._downloadFeatures=function(){var t=this;return new Promise(function(e,n){var r=[],i=[],o=[];if(t._configService.getRouteUrl()){if(t._configService.getRouteUrl()){var a={id:v.j,geojsonUrl:t._configService.getRouteUrl(),type:"geojson"};o.push(t._downloadOverlayLayer(a))}}else{if(t._configService.hasK){for(var s in t._taxonomies)for(var u in t._taxonomies[s])if(t._taxonomies[s][u].items){for(var l=0,c=["track","poi"];l<c.length;l++){var h=c[l];if(t._taxonomies[s][u].items[h])for(var p=0,f=t._taxonomies[s][u].items[h];p<f.length;p++)-1===r.indexOf(_=f[p])&&r.push(_)}if(t._taxonomies[s][u].items.route)for(var d=0,g=t._taxonomies[s][u].items.route;d<g.length;d++)-1===i.indexOf(_=g[d])&&i.push(_)}for(var m=0,y=r;m<y.length;m++){var _;o.push(t._downloadFeature(_=y[m]))}t._configService.downloadRouteIndex()&&o.push(t._downloadRoutes(i))}var b=t._configService.getOverlayLayers();for(var w in b)o.push(t._downloadOverlayLayer(b[w]));t._deviceService.isEmbedded&&o.push(t._loadLocalOverlayLayers())}0===o.length&&o.push(Promise.resolve({})),Promise.all(o).then(function(t){for(var n={},r=0,i=t;r<i.length;r++){var o=i[r];if(o&&o.type&&"Feature"===o.type)o.properties.translations&&o.properties.locale&&(o.properties.translations[o.properties.locale]?(o.properties.translations[o.properties.locale].name||(o.properties.translations[o.properties.locale].name=o.properties.name),o.properties.translations[o.properties.locale].description||(o.properties.translations[o.properties.locale].description=o.properties.description)):o.properties.translations[o.properties.locale]={name:o.properties.name,description:o.properties.description}),n[o.properties.id]=o;else if(o&&o.length&&o.length>0)for(var a=0,s=o;a<s.length;a++){var u=s[a];u.properties.translations&&u.properties.locale&&(u.properties.translations[u.properties.locale]?(u.properties.translations[u.properties.locale].name||(u.properties.translations[u.properties.locale].name=u.properties.name),u.properties.translations[u.properties.locale].description||(u.properties.translations[u.properties.locale].description=u.properties.description)):u.properties.translations[u.properties.locale]={name:u.properties.name,description:u.properties.description}),n[u.properties.id]=u}}0===Object.keys(n).length?e({}):e(n)},function(t){console.warn(t),e({})})})},t.prototype._downloadFeature=function(t){var e=this;return t=""+t,new Promise(function(n,r){t.substring(0,16)!==v.A?e._communicationService.get(e._configService.getFeatureBaseUrl()+t+".geojson").subscribe(function(t){t&&null!=t&&t.geometry&&t.geometry.type&&t.geometry.coordinates?(-1!==["Polygon","MultiPolygon"].indexOf(t.geometry.type)&&t.properties.invert&&(t=e.invertPolygon(t)),n(t)):n()},function(){n()}):n()})},t.prototype._downloadRoutes=function(t){var e=this;return new Promise(function(n,r){e._communicationService.get(e._configService.getRouteIndexUrl()+"?t="+Date.now()).subscribe(function(e){var r=[];if(e&&"FeatureCollection"===e.type&&e.features)for(var i=0,o=e.features;i<o.length;i++){var a=o[i];-1!==t.indexOf(a.properties.id)&&(a.properties.route=!0,a.type="Feature",r.push(a))}n(r)},function(){n([])})})},t.prototype._downloadOverlayLayer=function(t){var e=this;return new Promise(function(n,r){if("utfgrid"!==t.type&&"geojson"!==t.type&&"route_index"!==t.type||!t.geojsonUrl)n([]);else{var i=t.geojsonUrl;"http"!==i.substr(0,4)&&(i=e._configService.getFeatureBaseUrl()+i),e._communicationService.get(i).subscribe(function(r){var i;i=e._loadOverlayFeatures(t,r),n(i)},function(t){console.warn(t),n([])})}})},t.prototype._loadLocalOverlayLayers=function(){var t=this;return new Promise(function(e,n){var r,i,o=window["wm-embedmaps"]&&window["wm-embedmaps"].wm_overlays_definition?window["wm-embedmaps"].wm_overlays_definition:"[]",a=window["wm-embedmaps"]&&window["wm-embedmaps"].wm_geojson_layers?window["wm-embedmaps"].wm_geojson_layers:"[]",s=[];try{r=JSON.parse(o)}catch(c){r=[]}try{i=JSON.parse(a)}catch(c){i=[]}for(var u in i){var l=r&&r[u]?r[u]:JSON.parse(JSON.stringify(v.h));r&&r[u]||(l.id="wm-default-layer-"+u),s.push.apply(s,t._loadOverlayFeatures(l,i[u]))}e(s)})},t.prototype._loadOverlayFeatures=function(t,e){var n=[];if(e&&e.type)switch(e.type){case"Feature":var r=this._getOverlayFeature(e,t);r&&n.push(r);break;case"FeatureCollection":if((e=e).features){for(var i,o=void 0,a=void 0,s=0,u=void 0,l=void 0;s<Object.keys(e.features).length;)e.features[s]&&e.features[s].properties&&e.features[s].geometry?s++:e.features.splice(s,1);for(var c in this._configService.getRouteUrl()&&(u={type:"Feature",properties:{id:"starting_point",image:void 0,name:"Partenza",locale:"it",noDetails:!0,icon:"wm-icon-flag",color:"#34F00A",translations:{de:{name:"\xfcberpr\xfcfen"},en:{name:"Departure"},es:{name:"Salida"},fr:{name:"Consultez"},nb:{name:"Sjekk ut"}}},geometry:{type:"Point",coordinates:void 0}},l={type:"Feature",properties:{id:"ending_point",image:void 0,name:"Arrivo",locale:"it",noDetails:!0,icon:"wm-icon-flag",color:"#F0430A",translations:{de:{name:"Ankunft"},en:{name:"Arrival"},es:{name:"Llegada"},fr:{name:"Arriv\xe9e"},nb:{name:"Ankomst"}}},geometry:{type:"Point",coordinates:void 0}}),e.features)this._configService.getRouteUrl()&&(o=parseInt(c)-1<0?void 0:e.features[parseInt(c)-1].properties.id+"",a=parseInt(c)+1>Object.keys(e.features).length-1?void 0:e.features[parseInt(c)+1].properties.id+"",e.features[c]&&e.features[c].geometry&&e.features[c].geometry.coordinates&&e.features[c].geometry.coordinates[0]&&!u.geometry.coordinates&&(u.geometry.coordinates=e.features[c].geometry.coordinates[0]),e.features[c]&&e.features[c].geometry&&e.features[c].geometry.coordinates&&e.features[c].geometry.coordinates.length>0&&(l.geometry.coordinates=e.features[c].geometry.coordinates[e.features[c].geometry.coordinates.length-1])),(i=this._getOverlayFeature(e.features[c],t,o,a))&&n.push(i);(i=this._getOverlayFeature(u,t))&&n.push(i),(i=this._getOverlayFeature(l,t))&&n.push(i)}}return n},t.prototype._getOverlayFeature=function(t,e,n,r){var i;try{i=JSON.parse(JSON.stringify(t))}catch(o){return}if(i.geometry&&("Point"===i.geometry.type||"LineString"===i.geometry.type||"MultiLineString"===i.geometry.type||"Polygon"===i.geometry.type||"MultiPolygon"===i.geometry.type)&&void 0!==i.geometry.coordinates&&i.properties&&i.properties.id&&void 0!==i.properties.name)return"route_index"===e.type?(i.properties.id=i.properties.id+"",i.properties.route=!0):i.properties.id=e.id+"-"+i.properties.id,"utfgrid"===e.type?i.properties.hide=!0:e.minZoom&&!i.properties.minZoom&&(i.properties.minZoom=e.minZoom),e.noDetails&&void 0===i.properties.noDetails&&(i.properties.noDetails=e.noDetails),e.noInteraction&&void 0===i.properties.noInteraction&&(i.properties.noInteraction=e.noInteraction),"boolean"==typeof e.preventFilter&&"boolean"!=typeof i.properties.preventFilter&&(i.properties.preventFilter=e.preventFilter),e.id&&e.name&&e.createTaxonomy||(e.color&&void 0===i.properties.color&&(i.properties.color=e.color),e.stroke_width&&!i.properties.stroke_width&&(i.properties.stroke_width=e.stroke_width),e.stroke_opacity&&!i.properties.stroke_opacity&&(i.properties.stroke_opacity=e.stroke_opacity),e.icon&&void 0===i.properties.icon&&(i.properties.icon=e.icon),e.line_dash&&void 0===i.properties.line_dash&&(i.properties.line_dash=e.line_dash),e.zindex&&void 0===i.properties.zindex&&(i.properties.zindex=e.zindex),e.alert&&void 0===i.properties.alert&&(i.properties.alert=e.alert),e.show_label&&void 0===i.properties.show_label&&(i.properties.show_label=e.show_label)),-1!==["Polygon","MultiPolygon"].indexOf(i.geometry.type)&&(void 0===i.properties.invert&&e.invertPolygons&&(i.properties.invert=e.invertPolygons),i.properties.invert&&(i=this.invertPolygon(i)),e.id&&e.name&&e.createTaxonomy||(e.fill_color&&!i.properties.fill_color&&(i.properties.fill_color=e.fill_color),e.fill_opacity&&!i.properties.fill_opacity&&(i.properties.fill_opacity=e.fill_opacity))),e.id&&e.name&&e.createTaxonomy&&("webmapp_category"===e.createTaxonomy&&"Point"===i.geometry.type||"activity"===e.createTaxonomy&&"Point"!==i.geometry.type)&&(i.properties.taxonomy||(i.properties.taxonomy={}),i.properties.taxonomy[e.createTaxonomy]||(i.properties.taxonomy[e.createTaxonomy]=[]),i.properties.taxonomy[e.createTaxonomy].push(e.id+"")),n&&(i.properties.prev_track=e.id+"-"+n),r&&(i.properties.next_track=e.id+"-"+r),e.id!==v.j||this._firstStageId||(this._firstStageId=i.properties.id),this._addOverlayFeatureToTaxonomy(i),i},t.prototype._addOverlayFeatureToTaxonomy=function(t){if(t.properties.taxonomy){var e="Point"===t.geometry.type?"poi":"track";for(var n in t.properties.taxonomy)for(var r in t.properties.taxonomy[n])if(this._taxonomies[n])for(var i in this._taxonomies[n])if(i+""==t.properties.taxonomy[n][r]+""){this._taxonomies[n][i].items||(this._taxonomies[n][i].items={}),this._taxonomies[n][i].items[e]||(this._taxonomies[n][i].items[e]=[]),this._taxonomies[n][i].items[e].push(t.properties.id);break}}},t.prototype.invertPolygon=function(t){if(-1!==["Polygon","MultiPolygon"].indexOf(t.geometry.type)){var e=void 0;"MultiPolygon"===t.geometry.type?e=t.geometry.coordinates:(t.geometry.type="MultiPolygon",e=[t.geometry.coordinates]),e[0].splice(0,0,[[0,90],[180,90],[180,-90],[0,-90],[-180,-90],[-180,0],[-180,90],[0,90]]),t.geometry.coordinates=e}return t},t.prototype._getStaticPagesMenuElements=function(t,e){var n=[];for(var r in t)if(t[r].menuPosition&&-1!==["top","bottom","middle"].indexOf(t[r].menuPosition)&&t[r].menuPosition===e){var i=this.getStaticPageType(r);n.push({title:this.getStaticPageTitle(r),icon:t[r].icon?t[r].icon:"",action:"externalUrl"===i&&t[r].url?"externalLink":void 0,url:this.getStaticPageUrl(r)})}return n},t.prototype._triggerMenuChange=function(){for(var t=[],e=this._configService.getStaticPages(),n=0,r=this._getStaticPagesMenuElements(e,"top");n<r.length;n++)t.push(r[n]);for(var i=0,o=this._getStaticPagesMenuElements(e,"middle");i<o.length;i++)t.push(o[i]);for(var a=0,s=this._getStaticPagesMenuElements(e,"bottom");a<s.length;a++)t.push(s[a]);this.onMenuChange.next(t)},t.prototype._downloadStaticPage=function(t,e){var n=this;return new Promise(function(r,i){n._communicationService.get(n._configService.getStaticPageUrl(t),{responseType:"text"}).subscribe(function(i){e&&(n._staticPagesTitles[t]=JSON.parse(i).title.rendered,i=JSON.parse(i).content.rendered.trim()),n._storageService.setStaticPage(t,i),r()},function(t){console.warn(t),r()})})},t.prototype._downloadStaticPages=function(){var t=this;return new Promise(function(e,n){var r=t._configService.getStaticPages(),i=[];for(var o in t._staticPagesTitles={},0===Object.keys(r).length&&e(),r)"externalUrl"!==r[o].type&&i.push(t._downloadStaticPage("welcome"!==r[o].menuPosition?o:"welcome","wordpress"===r[o].type));Promise.all(i).then(function(){e()})})},t.prototype.getStaticPageTitle=function(t){var e=this._configService.getStaticPages();return this._staticPagesTitles&&this._staticPagesTitles[t]?this._staticPagesTitles[t]:this._languagesService.translate(e[t],"title")},t.prototype.getStaticPageUrl=function(t){var e=this._configService.getStaticPages()[t];return e&&"externalUrl"===e.type?e.translations&&e.translations[this._languagesService.getCurrentLang()]&&e.translations[this._languagesService.getCurrentLang()].url?e.translations[this._languagesService.getCurrentLang()].url:e&&e.url?e.url:void 0:"/main/page/"+t},t.prototype.getStaticPageType=function(t){var e=this._configService.getStaticPages();return e[t]?e[t].type:void 0},t.prototype.getStaticPageImage=function(t){var e,n=this._configService.getStaticPages()[t];return n.image&&(e="http"===n.image.substring(0,4)?n.image:this._configService.getImageBaseUrl()+n.image),e},t.prototype._toggleFullscreen=function(){var t=this;return this._isFullscreen=!this._isFullscreen,this._configService.isFullscreenAvailable()?(this._routerService.navigate([this.getStartUrl()]),new Promise(function(e,n){t._isFullscreen&&t._fullscreenTaxonomies&&t._fullscreenFeatures||!t._isFullscreen&&t._windowedTaxonomies&&t._windowedFeatures?(t._isFullscreen&&t._fullscreenTaxonomies&&t._fullscreenFeatures?(t._taxonomies=t._fullscreenTaxonomies,t._features=t._fullscreenFeatures):!t._isFullscreen&&t._windowedTaxonomies&&t._windowedFeatures&&(t._taxonomies=t._windowedTaxonomies,t._features=t._windowedFeatures),t._onTaxonomyChange.next(t._taxonomies),t._onFeaturesChange.next(t._features),t._isReady=!0,t.onReady.next(t._isReady),e(t._isFullscreen)):t._load().then(function(){e(t._isFullscreen)})})):Promise.resolve()},t.prototype.addRecordedTrack=function(t){if(this._configService.isRoutingAvailable()){this._features[t.properties.id]=t;var e=this._taxonomies.theme["my-routes"].items.track;-1===e.indexOf(t.properties.id)&&(e.push(t.properties.id),this._taxonomies.theme["my-routes"].items.track=e,this._onTaxonomyChange.next(this._taxonomies),this._taxononmyEvents.theme.next()),this._onFeaturesChange.next(this._features),this._triggerMenuChange()}},t.prototype.removeRecordedTrack=function(t){if(this._configService.isRoutingAvailable()&&t.substring(0,16)===v.A){delete this._features[t];for(var e=this._taxonomies.theme["my-routes"].items.track,n=[],r=!1,i=0;i<e.length;i++)e[i]===t?r=!0:r?n[i-1]=e[i]:n[i]=e[i];this._taxonomies.theme["my-routes"].items.track=n,this._onFeaturesChange.next(this._features),this._triggerMenuChange()}},t.prototype.getCustomTrackId=function(){var t=this;return new Promise(function(e,n){t._storageService.getCustomTrackId().then(function(n){n=n&&""!==n?(parseInt(n)+1).toString():"1",e(n),t._storageService.setCustomTrackId(n).then(function(){},function(){})},function(){e("1"),t._storageService.setCustomTrackId("1").then(function(){},function(){})})})},t.prototype.setRoutingFeature=function(t){this._routingTrack=t,this._onRecordTrackChange.next(this._routingTrack)},t.prototype.removeRoutingFeature=function(){this._routingTrack=void 0,this._onRecordTrackChange.next(this._routingTrack)},t.prototype.isRouting=function(){return!!this._routingTrack},t.prototype.getTaxonomy=function(t){return this._taxononmyEvents[t]},t.prototype.getTaxonomyName=function(t){var e;for(var n in t=""+t,this._taxonomies)if(this._taxonomies[n][t]){e=this._languagesService.translate(this._taxonomies[n][t],"name");break}return e},t.prototype.getTaxonomyLongName=function(t){var e;for(var n in t=""+t,this._taxonomies)if(this._taxonomies[n][t]){e=this._languagesService.translate(this._taxonomies[n][t],"title","name");break}return e},t.prototype.getTaxonomyDescription=function(t){var e;for(var n in t=""+t,this._taxonomies)if(this._taxonomies[n][t]){e=this._languagesService.translate(this._taxonomies[n][t],"description");break}return e},t.prototype.getTaxonomyElement=function(t){for(var e in t=""+t,this._taxonomies)if(this._taxonomies[e]&&this._taxonomies[e][t])return this._taxonomies[e][t]},t.prototype.getFeature=function(t){var e=this;return t=""+t,new o.a(function(n){var r;return r=t===v.B?e._onRecordTrackChange.pipe(Object(s.a)(250)).subscribe(function(t){n.next(t)},function(t){console.warn(t),n.error(t)}):e._onFeaturesChange.pipe(Object(s.a)(250)).subscribe(function(){e._features[t]?n.next(e._features[t]):n.error("Feature "+t+" not found")},function(t){console.warn(t),n.error(t)}),{unsubscribe:function(){r.unsubscribe()}}})},t.prototype.existFeature=function(t){return t+="",!!(this._features&&this._features[t]&&this._features[t].properties&&this._features[t].properties.id&&this._features[t].properties.name)},t.prototype.hasTaxonomy=function(t,e){if(t=""+t,e=""+e,this._features&&this._features[t]&&this._features[t].properties.taxonomy){var n=!1;for(var r in this._features[t].properties.taxonomy){for(var i=0,o=this._features[t].properties.taxonomy[r];i<o.length;i++)if(""+o[i]===e){n=!0;break}if(n)break}return n}return!1},t.prototype.getFeatures=function(){return this._onFeaturesChange},t.prototype.getTaxonomies=function(){return this._onTaxonomyChange},t.prototype._getFeatureTaxonomiesIds=function(t){var e=[];if("Point"===this._features[t].geometry.type&&this._features[t].properties.route){for(var n in this._features[t].properties.taxonomy)if(-1!==this._configService.getRouteTaxonomies().indexOf(n))for(var r in this._features[t].properties.taxonomy[n])e.push(""+this._features[t].properties.taxonomy[n][r])}else if("Point"===this._features[t].geometry.type){for(var n in this._features[t].properties.taxonomy)if(-1!==this._configService.getPoiTaxonomies().indexOf(n))for(var r in this._features[t].properties.taxonomy[n])e.push(""+this._features[t].properties.taxonomy[n][r])}else for(var n in this._features[t].properties.taxonomy)if(-1!==this._configService.getTrackTaxonomies().indexOf(n))for(var r in this._features[t].properties.taxonomy[n])e.push(""+this._features[t].properties.taxonomy[n][r]);return e},t.prototype.getFeatureName=function(t){return(t=""+t)===v.B&&this._routingTrack?this._routingTrack.properties.name:this._features[t]?this._languagesService.translate(this._features[t].properties,"name"):""},t.prototype.getFeatureImage=function(t){return this._features[t=""+t]&&this._features[t].properties.image?this._features[t].properties.image:""},t.prototype.getFeatureDescription=function(t){return this._features[t=""+t]?this._languagesService.translate(this._features[t].properties,"description"):""},t.prototype.getTaxonomyColor=function(t){var e=this._getTaxonomyProperty(t,"color");return e||(e=this._configService.getDefaultFeatureColor()),e},t.prototype.getFeatureColor=function(t){var e=this._getFeatureProperty(t,"color");return e||(e=this._configService.getDefaultFeatureColor()),e},t.prototype.getTaxonomyFillColor=function(t){var e=this._getTaxonomyProperty(t,"fill_color");return e||(e=this.getTaxonomyColor(t)),e||(e=this._configService.getDefaultFeatureFillColor()),e},t.prototype.getFeatureFillColor=function(t){var e=this._getFeatureProperty(t,"fill_color");return e||(e=this.getFeatureColor(t)),e||(e=this._configService.getDefaultFeatureFillColor()),e},t.prototype.getTaxonomyFillOpacity=function(t){var e=this._getTaxonomyProperty(t,"fill_opacity");if(void 0===e)e=v.e;else if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=v.f}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getFeatureFillOpacity=function(t){var e=this._getFeatureProperty(t,"fill_opacity");if(void 0===e)e=v.e;else if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=v.f}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getTaxonomyStrokeWidth=function(t){var e=this._getFeatureProperty(t,"stroke_width");if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=void 0}return e||(e=v.k),e},t.prototype.getFeatureStrokeWidth=function(t){if(!this._features[t])return 0;var e=this._getFeatureProperty(t,"stroke_width");if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=void 0}return e||(e=-1!==["Polygon","MultiPolygon"].indexOf(this._features[t].geometry.type)?v.i:v.k),Math.max(0,Math.round(e))},t.prototype.getTaxonomyStrokeOpacity=function(t){var e=this._getTaxonomyProperty(t,"stroke_opacity");if(void 0===e)e=v.f;else if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=v.f}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getFeatureStrokeOpacity=function(t){var e=this._getFeatureProperty(t,"stroke_opacity");if(void 0===e)e=v.f;else if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=v.f}return e>1?Math.max(0,Math.min(100,e))/100:Math.max(0,Math.min(1,e))},t.prototype.getTaxonomyIcon=function(t){return this._getTaxonomyProperty(t,"icon")||""},t.prototype.getFeatureIcon=function(t){return this._getFeatureProperty(t,"icon")||""},t.prototype.getTaxonomyLineDash=function(t){var e=this._getTaxonomyProperty(t,"line_dash");if(e instanceof Array)for(var n in e){var r=e[n];if("string"==typeof r)try{e[n]=parseFloat(r)}catch(i){e[n]=0}}else e=[];return e},t.prototype.getFeatureLineDash=function(t){var e=this._getFeatureProperty(t,"line_dash");if(e instanceof Array)for(var n in e){var r=e[n];if("string"==typeof r)try{e[n]=parseFloat(r)}catch(i){e[n]=0}}else e=[];return e},t.prototype.getTaxonomyNavigationAlert=function(t){return!!this._getTaxonomyProperty(t,"alert")},t.prototype.getFeatureNavigationAlert=function(t){return!!this._getFeatureProperty(t,"alert")},t.prototype.showPoiLabelForTaxonomy=function(t){return!!this._getTaxonomyProperty(t,"show_label")},t.prototype.showPoiLabel=function(t){t+="";var e=void 0;for(var n in this._features)if(this._features[n].geometry&&this._features[n].geometry.type&&-1!==["LineString","MultiLineString"].indexOf(this._features[n].geometry.type)&&this._features[n].properties&&(this._features[n].properties.from_poi&&this._features[n].properties.from_poi+""===t||this._features[n].properties.to_poi&&this._features[n].properties.to_poi+""===t)){e=!0;break}if(void 0===e&&this._features&&this._features[t]&&this._features[t].geometry&&this._features[t].geometry.type&&"Point"===this._features[t].geometry.type){if(void 0!==this._features[t].properties.show_label)return!!this._features[t].properties.show_label;if(this._features[t].properties.taxonomy){var r=this._getFeatureTaxonomiesIds(t);if(r.length>0)for(var i=0,o=r;i<o.length&&void 0===(e=this.showPoiLabelForTaxonomy(o[i]));i++);}}return!!e},t.prototype.getTaxonomyZIndex=function(t){var e=this._getTaxonomyProperty(t,"zindex");if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=void 0}return e||0},t.prototype.getFeatureZIndex=function(t){var e=this._getFeatureProperty(t,"zindex");if("string"==typeof e)try{e=parseFloat(e)}catch(n){e=void 0}return e||0},t.prototype._getTaxonomyProperty=function(t,e){t=""+t;var n=void 0;for(var r in this._taxonomies)if(this._taxonomies[r][t]){var i=this._taxonomies[r][t];i[e]?n=i[e]:i.parent&&(n=this._getTaxonomyProperty(i.parent,e));break}return n},t.prototype._getFeatureProperty=function(t,e){if(this._features[t=""+t]){var n=void 0;if(this._features[t].properties[e])n=this._features[t].properties[e];else if(this._features[t].properties.taxonomy){var r=this._getFeatureTaxonomiesIds(t);if(r.length>0)for(var i=0,o=r;i<o.length&&!(n=this._getTaxonomyProperty(o[i],e));i++);}return n}},t.prototype.getMediaUrl=function(t,e){return t},t.prototype.getAudioUrl=function(t){t=""+t;var e="";return this._features&&this._features[t]&&(this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getCurrentLang()]&&this._features[t].properties.translations[this._languagesService.getCurrentLang()].audio?e=this._features[t].properties.translations[this._languagesService.getCurrentLang()].audio:this._features[t].properties.translations&&this._features[t].properties.translations[this._languagesService.getDefaultLang()]&&this._features[t].properties.translations[this._languagesService.getDefaultLang()].audio?e=this._features[t].properties.translations[this._languagesService.getDefaultLang()].audio:this._features[t].properties.audio&&(e=this._features[t].properties.audio)),""!==e&&(e=this.getMediaUrl(e,"audio")),e},t.prototype.isAdoptable=function(t){return!(!this._features[t]||-1===["linestring","multilinestring"].indexOf(this._features[t].geometry.type.toLowerCase()))&&this._configService.isTrackAdoptionAvailable()},t.prototype.getTaxonomiesText=function(t){if(!this._features[t=""+t])return"";var e="",n=this._features[t],r=[];for(var i in"Point"===n.geometry.type?r=n.properties.route?this._configService.getRouteTaxonomies():this._configService.getPoiTaxonomies():-1===(r=this._configService.getTrackTaxonomies()).indexOf("theme")&&n.properties.taxonomy&&n.properties.taxonomy.theme&&-1!==n.properties.taxonomy.theme.indexOf("my-routes")&&r.push("theme"),n.properties.taxonomy)if(-1!==r.indexOf(i))for(var o in n.properties.taxonomy[i]){var a=this.getTaxonomyElement(n.properties.taxonomy[i][o]);a&&(a.translations&&a.translations[this._languagesService.getCurrentLang()]&&a.translations[this._languagesService.getCurrentLang()].name?(""!==e&&(e+=", "),e+=a.translations[this._languagesService.getCurrentLang()].name):a.translations&&a.translations[this._languagesService.getDefaultLang()]&&a.translations[this._languagesService.getDefaultLang()].name?(""!==e&&(e+=", "),e+=a.translations[this._languagesService.getDefaultLang()].name):a.name&&(""!==e&&(e+=", "),e+=a.name))}return e},t.prototype.getTaxonomiesIcons=function(t,e){if(this._features[t=""+t]){var n=[],r=[];if((!e||"number"==typeof e.length&&0===e.length)&&(e=this._features[t].properties.route?this._configService.getRouteTaxonomies():-1!==["LineString","MultiLineString"].indexOf(this._features[t].geometry.type)?this._configService.getTrackTaxonomies():this._configService.getPoiTaxonomies()),this._features[t].properties.taxonomy)for(var i=0,o=e;i<o.length;i++){var a=o[i];if(this._features[t].properties.taxonomy[a])for(var s in this._features[t].properties.taxonomy[a])r.push(this._features[t].properties.taxonomy[a][s]+"")}for(var u=0,l=r;u<l.length;u++){var c=this.getTaxonomyIcon(l[u]);c&&n.push(c)}return n.length>0?n:void 0}},t.prototype.contentClick=function(t){var e=t.target;"a"===e.tagName.toLowerCase()&&""!==e.getAttribute("href")&&(t.preventDefault(),this._routerService.openUrl(e.getAttribute("href")))},t.prototype.getShareUrl=function(t,e){var n=this._configService.getDeeplinksBaseUrl();return e||(e=v.x),n+"?api=1&query="+t.latitude+","+t.longitude},t.prototype.getFeatureRelatedPoiList=function(t){var e=[];if(this._features[t]&&this._features[t].properties.related&&this._features[t].properties.related.poi&&this._features[t].properties.related.poi.related)for(var n in this._features[t].properties.related.poi.related){var r=this._features[t].properties.related.poi.related[n]+"";this._features[r]&&e.push({id:r,type:"poi",name:this.getFeatureName(r),subtitle:this.getTaxonomiesText(r),image:this._features[r].properties.image||void 0,showInResults:!0})}return e},t.prototype.getTile=function(t,e,n){return new Promise(function(n,r){n(e+t[0]+"/"+t[1]+"/"+t[2]+".png")})},t.prototype.getGridJson=function(t,e,n){var r=this;return new Promise(function(n,i){r._communicationService.get(e+t[0]+"/"+t[1]+"/"+t[2]+".grid.json").subscribe(function(t){n(t)},function(t){console.warn(t),i(t)})})},t.ngInjectableDef=_.T({factory:function(){return new t(_.X(l.a),_.X(c.a),_.X(h.a),_.X(p.a),_.X(u.Ib),_.X(d.a),_.X(f.a),_.X(g.a))},token:t,providedIn:"root"}),t}()},tV43:function(t,e,n){t.exports=function(){"use strict";function t(t,r,i,o,a){!function t(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,u=r-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/s+h)),Math.min(o,Math.floor(r+(s-u)*c/s+h)),a)}var p=n[r],f=i,d=o;for(e(n,i,r),a(n[o],p)>0&&e(n,i,o);f<d;){for(e(n,f,d),f++,d--;a(n[f],p)<0;)f++;for(;a(n[d],p)>0;)d--}0===a(n[i],p)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,r,i||0,o||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var a=t.children[o];s(i,t.leaf?r(a):a)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?r(a):a;f(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):i.push(a))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(f(t,o)){if(e.leaf||p(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),a.leaf){var c=i(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}o||a.leaf||!p(a,s)?r?(a=r.children[++n],o=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,a=n-e+1,s=this._maxEntries;if(a<=s)return o(i=d(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=d([])).leaf=!1,i.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));g(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);g(t,c,h,u,this.compareMinY);for(var p=c;p<=h;p+=u){var f=Math.min(p+u-1,h);i.children.push(this._build(t,p,f,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),h=(p=t,f=u,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l);h<o?(o=h,i=l<i?l:i,a=u):h===o&&l<i&&(i=l,a=u)}e=a||e.children[0]}var p,f;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),s(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,s,u,l,h,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),v=a(t,d,n,this.toBBox),m=(i=g,o=v,s=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-s)*Math.max(0,h-u)),y=c(g)+c(v);m<p?(p=m,r=d,f=y<f?y:f):m===p&&y<f&&(f=y,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=a(t,0,e,i),u=a(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var p=t.children[c];s(o,t.leaf?i(p):p),l+=h(o)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];s(u,t.leaf?i(d):d),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},uMaO:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.d(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n("pugT").a)},uPr3:function(t,e){t.exports=function(t){return!(!t||"string"==typeof t)&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&"String"!==t.constructor.name))}},uxXc:function(t,e,n){var r=n("t1N5"),i=n("onlc"),o={};Object.keys(r).forEach(function(t){o[t]={},Object.defineProperty(o[t],"channels",{value:r[t].channels}),Object.defineProperty(o[t],"labels",{value:r[t].labels});var e=i(t);Object.keys(e).forEach(function(n){var r=e[n];o[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(r),o[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(r)})}),t.exports=o},uzCt:function(t,e,n){t.exports=function(){"use strict";function t(e){return t.result?t.result:e&&"function"==typeof e.getSerializer?t.result=e.getSerializer():Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!"))}function e(t,n){return(e.result=e.result||{})[n]?e.result[n]:t&&"function"==typeof t.getDriver?e.result[n]=t.getDriver(n):Promise.reject(new Error("localforage.getDriver() was not available! localforage v1.4+ is required!"))}function n(t){return e(t,t.WEBSQL)}var r=new Promise(function(t,e){"undefined"!=typeof sqlitePlugin?t():"undefined"==typeof cordova?e(new Error("cordova is not defined.")):document.addEventListener("deviceready",function(){return t()},!1)}).catch(function(){return Promise.resolve()});function i(){return r.then(function(){if("undefined"!=typeof sqlitePlugin&&"function"==typeof sqlitePlugin.openDatabase)return sqlitePlugin.openDatabase;throw new Error("SQLite plugin is not present.")})}var o={_driver:"cordovaSQLiteDriver",_initStorage:function(e){var r=this,o={db:null};if(e)for(var a in e)o[a]="string"!=typeof e[a]?e[a].toString():e[a];var s=i().then(function(t){return new Promise(function(e,n){try{o.location=o.location||"default",o.db=t({name:o.name,version:String(o.version),description:o.description,size:o.size,key:o.dbKey,location:o.location})}catch(i){n(i)}o.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){r._dbInfo=o,e()},function(t,e){n(e)})})})}),u=t(r),l=n(r);return Promise.all([u,l,s]).then(function(t){return o.serializer=t[0],s})},_support:function(){return i().then(function(t){return!!t}).catch(function(){return!1})}};return function(t){var e=["clear","getItem","iterate","key","keys","length","removeItem","setItem"];function r(t,e){t[e]=function(){var t=this,r=arguments;return n(t).then(function(n){return n[e].apply(t,r)})}}for(var i=0,o=e.length;i<o;i++)r(t,e[i])}(o),o}()},"vf8/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("a3Cf"),o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.APP={USER_SELECT:"user_select",APPLE_MAPS:"apple_maps",GOOGLE_MAPS:"google_maps",WAZE:"waze",CITYMAPPER:"citymapper",NAVIGON:"navigon",TRANSIT_APP:"transit_app",YANDEX:"yandex",UBER:"uber",TOMTOM:"tomtom",BING_MAPS:"bing_maps",SYGIC:"sygic",HERE_MAPS:"here_maps",MOOVIT:"moovit"},e.TRANSPORT_MODE={DRIVING:"driving",WALKING:"walking",BICYCLING:"bicycling",TRANSIT:"transit"},e}return Object(r.d)(e,t),e.prototype.navigate=function(t,e){return Object(i.cordova)(this,"navigate",{successIndex:2,errorIndex:3},arguments)},e.prototype.isAppAvailable=function(t){return Object(i.cordova)(this,"isAppAvailable",{},arguments)},e.prototype.availableApps=function(){return Object(i.cordova)(this,"availableApps",{},arguments)},e.prototype.getAppDisplayName=function(t){return Object(i.cordova)(this,"getAppDisplayName",{sync:!0},arguments)},e.prototype.getAppsForPlatform=function(t){return Object(i.cordova)(this,"getAppsForPlatform",{sync:!0},arguments)},e.prototype.supportsTransportMode=function(t,e){return Object(i.cordova)(this,"supportsTransportMode",{sync:!0},arguments)},e.prototype.getTransportModes=function(t,e){return Object(i.cordova)(this,"getTransportModes",{sync:!0},arguments)},e.prototype.supportsDestName=function(t,e){return Object(i.cordova)(this,"supportsDestName",{sync:!0},arguments)},e.prototype.supportsStart=function(t,e){return Object(i.cordova)(this,"supportsStart",{sync:!0},arguments)},e.prototype.supportsStartName=function(t,e){return Object(i.cordova)(this,"supportsStartName",{sync:!0},arguments)},e.prototype.supportsLaunchMode=function(t,e){return Object(i.cordova)(this,"supportsLaunchMode",{sync:!0},arguments)},e.prototype.userSelect=function(t,e){return Object(i.cordova)(this,"userSelect",{sync:!0},arguments)},e.pluginName="LaunchNavigator",e.plugin="uk.co.workingedge.phonegap.plugin.launchnavigator",e.pluginRef="launchnavigator",e.repo="https://github.com/dpa99c/phonegap-launch-navigator",e.platforms=["Android","iOS","Windows","Windows Phone 8"],e}(i.IonicNativePlugin)},"w69+":function(t,e,n){"use strict";var r=n("S5bw"),i=n("6blF"),o=n("ZZ/e"),a=function(){function t(e,n,r){this.id=++t._maxId,this.url=e,this.data=n,this.options=r}return t.initialize=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];n.push(new t(o.url,o.data,o.options))}return n},t._maxId=0,t}(),s=n("l207"),u=n("CcnG"),l=n("Axip"),c=n("t/Na"),h=n("A7o+");n.d(e,"a",function(){return p});var p=function(){function t(t,e,n,i){this._clipboardService=t,this._http=e,this._toastController=n,this._translateService=i,this._postQueueReady=!0,this._onPostQueueReady=new r.a(1),this._onPostQueueReady.next(this._postQueueReady)}return t.prototype.get=function(t,e){return this._http.get(t,e)},t.prototype.post=function(t,e,n){return this._http.post(t,e,n)},t.prototype.getFileSize=function(t){var e=this;return new i.a(function(n){e._http.head(t,{observe:"response"}).subscribe(function(t){var e=parseInt(t.headers.get("content-length"));"number"!=typeof e||Number.isNaN(e)?n.error("length uncomputable"):n.next(e)},function(t){console.warn(t),n.error(t)})})},t.prototype.share=function(t){var e=this;return new Promise(function(n,r){e._clipboardService.copyFromContent(t.url?t.url:t.message),e._toastController.create({message:e._translateService.instant("alert.copiedLink"),duration:2500}).then(function(t){t.present(),n()})})},t.prototype._addRequestToQueue=function(t,e){var n=this;if(this._postQueue||(this._postQueue=[]),e&&this._postQueue.length>0&&t.data.type&&("Feature"===t.data.type||"FeatureCollection"===t.data.type)){var r=!1;for(var i in this._postQueue){if(this._postQueue[i].url===t.url)if(this._postQueue[i].data.type&&"Feature"===this._postQueue[i].data.type){if((a={type:"FeatureCollection",features:[]}).features.push(this._postQueue[i].data),"Feature"===t.data.type)a.features.push(t.data);else if(t.data.features)for(var o in t.data.features)a.features.push(t.data.features[o]);this._postQueue[i].data=a,r=!0}else if(this._postQueue[i].data.type&&"FeatureCollection"===this._postQueue[i].data.type&&this._postQueue[i].data.features&&this._postQueue[i].data.features.length<s.y){var a=this._postQueue[i].data;if("Feature"===t.data.type)a.features.push(t.data);else if(t.data.features)for(var u in t.data.features)a.features.push(t.data.features[u]);this._postQueue[i].data=a,r=!0}if(r)break}r||this._postQueue.push(t)}else this._postQueue.push(t);this._queuedPostInterval||(this._queuedPostInterval=setInterval(function(){n._postIntervalFunction()},s.l))},t.prototype._removeQueuedPost=function(t){for(var e in this._postQueue)if(t.id===this._postQueue[e].id){this._postQueue.splice(parseInt(e),1);break}if(0===this._postQueue.length)try{clearInterval(this._queuedPostInterval)}catch(n){}},t.prototype._postIntervalFunction=function(){for(var t=this,e=function(e){n.post(e.url,e.data,e.options).subscribe(function(){t._removeQueuedPost(e)},function(t){console.warn(t)})},n=this,r=0,i=this._postQueue;r<i.length;r++)e(i[r])},t.prototype.forcePost=function(t,e,n,r){var o=this;return new i.a(function(i){o.post(t,e,r).subscribe(function(t){i.next(t)},function(s){console.warn(s);var u=new a(t,e,r);o._addRequestToQueue(u,n||!1),i.next(!1)})})},t.ngInjectableDef=u.T({factory:function(){return new t(u.X(l.b),u.X(c.c),u.X(o.Nb),u.X(h.j))},token:t,providedIn:"root"}),t}()},wr3O:function(t,e){var n=function(){};n.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},n.prototype.copyProperties=function(t,e){if(!t)return e;for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[n]=t[n]);return e},n.prototype.decodePath=function(t,e){for(var n=t.length,r=0,i=[],o=0,a=0,s=0;r<n;){var u,l=0,c=0;do{c|=(31&(u=t.charCodeAt(r++)-63))<<l,l+=5}while(u>=32);o+=1&c?~(c>>1):c>>1,l=0,c=0;do{c|=(31&(u=t.charCodeAt(r++)-63))<<l,l+=5}while(u>=32);if(a+=1&c?~(c>>1):c>>1,e){l=0,c=0;do{c|=(31&(u=t.charCodeAt(r++)-63))<<l,l+=5}while(u>=32);i.push([1e-5*a,1e-5*o,(s+=1&c?~(c>>1):c>>1)/100])}else i.push([1e-5*a,1e-5*o])}return i},n.prototype.extractError=function(t,e){var n;return t&&t.body?(n=t.body).hints&&n.hints[0]&&n.hints[0].message?n=n.hints[0].message:n.message&&(n=n.message):n=t,new Error(n+" - for url "+e)},n.prototype.isArray=function(t){return"[object array]"===Object.prototype.toString.call(t).toLowerCase()},n.prototype.isObject=function(t){return"[object object]"===Object.prototype.toString.call(t).toLowerCase()},n.prototype.isString=function(t){return"string"==typeof t},t.exports=n},x1nR:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("K9Ia"),i=(n("ZZ/e"),n("Mzne"),n("l207")),o=(n("n90K"),function(){function t(t,e,n){this._modalController=t,this._storageService=e,this._routerService=n,this.destroyer=new r.a,this.keys=["firstName","lastName","cai","address","phone","mobile","email"],this._keyMapping={firstName:"wma_first_name",lastName:"wma_last_name",cai:"wma_cai",address:"wma_address",phone:"wma_phone",mobile:"wma_mobile",email:"wma_email"},this.form={firstName:{value:void 0,valid:!0,mandatory:!0},lastName:{value:void 0,valid:!0,mandatory:!0},cai:{value:void 0,valid:!0,mandatory:!1},address:{value:void 0,valid:!0,mandatory:!0},phone:{value:void 0,valid:!0,mandatory:!0},mobile:{value:void 0,valid:!0,mandatory:!1},email:{value:void 0,valid:!0,mandatory:!0},valid:!0}}return t.prototype.ngOnInit=function(){var t=this;this.loading=!0,this._storageService.getLocalData().then(function(e){e&&t._setLocalData(e),t.loading=!1},function(e){t.loading=!1})},t.prototype._setLocalData=function(t){for(var e in t)-1!==this.keys.indexOf(e)&&(this.form[e].value=t[e])},t.prototype._getLocalData=function(){for(var t={},e=0,n=this.keys;e<n.length;e++){var r=n[e];t[r]=this.form[r].value}return t},t.prototype.validate=function(){for(var t=!0,e=0,n=this.keys;e<n.length;e++){var r=n[e];if(this.form[r].mandatory)switch(r){case"email":this.form[r].valid=!(!this.form[r].value||!this.form[r].value.match(i.K));break;case"phone":this.form[r].valid=!(!this.form[r].value||!this.form[r].value.match(i.M));break;case"mobile":this.form[r].valid=!(this.form[r].value&&!this.form[r].value.match(i.M));break;default:this.form[r].valid="string"==typeof this.form[r].value&&this.form[r].value.length>0}else this.form[r].valid=!0;t=!(!t||!this.form[r].valid)}this.form.valid=t},t.prototype.submit=function(){if(this.validate(),this.form.valid){this._storageService.setLocalData(this._getLocalData());var t=document.createElement("textarea");t.innerHTML=this.trackName;for(var e="&wma_track_id="+encodeURIComponent(this.trackId)+"&wma_track_name="+encodeURIComponent(t.value),n=0,r=this.keys;n<r.length;n++){var i=r[n];e+="&"+this._keyMapping[i]+"="+encodeURIComponent(this.form[i].value)}this._routerService.openUrl(e=this.baseUrl+"#"+e),this._modalController.dismiss()}},t.prototype.dismiss=function(){this._storageService.setLocalData(this._getLocalData()),this._modalController.dismiss()},t.prototype.ngOnDestroy=function(){this.destroyer.next(!0)},t}())},xSm1:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("KOl+");function i(t,e,n,i){return Object(r.e)(t,e,n).apply(this,i)}},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i={production:!0,deployUrl:"/wp-content/plugins/wm-embedmaps/assets/js/core/"},o=function(){function t(t,e,n){void 0===e&&(e="/assets/i18n/"),void 0===n&&(n=".json"),this.http=t,this.prefix=e,this.suffix=n}return t.prototype.getTranslation=function(t){return this.http.get(""+this.prefix+t+this.suffix)},t}(),a=n("r4Kj");function s(t){return new o(t,i.deployUrl+"assets/i18n/",".json")}var u=function(){return function(){}}(),l=n("ZZ/e"),c=n("mrSG"),h=n("a3Cf"),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.show=function(){return Object(h.cordova)(this,"show",{sync:!0},arguments)},e.prototype.hide=function(){return Object(h.cordova)(this,"hide",{sync:!0},arguments)},e.pluginName="SplashScreen",e.plugin="cordova-plugin-splashscreen",e.pluginRef="navigator.splashscreen",e.repo="https://github.com/apache/cordova-plugin-splashscreen",e.platforms=["Amazon Fire OS","Android","iOS","Windows"],e}(h.IonicNativePlugin),f=n("BtSu"),d=n("MLd6"),g=n("tB1I"),v=n("WPWp"),m=n("1i8C"),y=n("ny24"),_=n("VnD/"),b=n("t9fZ"),w=n("Rney"),S=n("flj8"),C=n("Mzne"),x=n("K9Ia"),E=n("l3hs"),O=n("n90K"),I=n("so3c"),T=n("4eZL"),M=function(){function t(t,e,n,r,i,o,a,s,u,l,c,h,p,f){this._accountService=t,this._configService=e,this._deviceService=n,this._languagesService=r,this._mapService=i,this._modalController=o,this._modelService=a,this._platform=s,this._routerService=u,this._searchService=l,this._splashScreen=c,this._storageService=h,this._themeService=p,this._translateService=f,this.menuConfig=[],this.initializeApp()}return t.prototype.initializeApp=function(){var t=this;this._initDone=new x.a,this._firstUrl=!0,this._platform.ready().then(function(){t._routerService.onUrlChange.pipe(Object(y.a)(t._initDone)).subscribe(function(e){if(t._firstUrl)if(t._firstUrl=!1,""===e.url&&(e.url="/"),"/"===e.url)"main"===t._configService.getStartUrl().substring(0,4)?t._routerService.navigate([t._modelService.getStartUrl()]).then(function(){t._modelService.getStartUrl()!==t._configService.getStartUrl()&&t._routerService.navigate([t._configService.getStartUrl()]).then(function(){t._initDone.next(e.url)},function(){t._initDone.next(e.url)})}):t._routerService.navigate([t._configService.getStartUrl()]).then(function(){t._initDone.next(e.url)},function(){t._initDone.next(e.url)});else if("/poi/"===e.url.substring(0,5)||"/track/"===e.urlAfterRedirects.substring(0,7))t._mapService.initialize(),t._mapService.onReady.pipe(Object(_.a)(function(t){return t}),Object(b.a)(1)).subscribe(function(){var n=e.url.split("/"),r="",i=void 0;for(var o in n)if(("poi"===n[o]||"track"===n[o])&&n[parseInt(o)+1]){r=n[parseInt(o)+1],n[parseInt(o)+2]&&(i=parseInt(n[parseInt(o)+2]));break}t._routerService.navigate(["/main/map"]).then(function(){setTimeout(function(){t._mapService.adjust(),t._mapService.centerOnFeature(r,!0,!t._deviceService.isLgScreen),i&&!Number.isNaN(i)&&t._mapService.centerOnCoords(t._mapService.getCenter(),i),t._mapService.selectFeature(r)},0)})},function(t){console.warn(t)});else if("/main"===e.urlAfterRedirects.substring(0,5))t._routerService.navigate([t._modelService.getStartUrl()]).then(function(){for(var n=e.urlAfterRedirects.split("?"),r=n[0],i={},o=0,a=(n&&2===n.length?n[1]:"").split("&");o<a.length;o++){var s=a[o];""!==s&&(i[decodeURIComponent(s.split("=")[0])]=decodeURIComponent(s.split("=")[1]))}r!==t._modelService.getStartUrl()?-1!==r.indexOf("details")?t._mapService.onReady.pipe(Object(_.a)(function(t){return t}),Object(b.a)(1)).subscribe(function(){var n=r.split("/");t._storageService.setFirstPoiId(n[n.length-1]),t._routerService.navigate([r],{queryParams:i}).then(function(){t._initDone.next(e.url)},function(){t._initDone.next(e.url)})},function(t){console.warn(t)}):t._routerService.navigate([r],{queryParams:i}).then(function(){t._initDone.next(e.url)},function(){t._initDone.next(e.url)}):t._initDone.next(e.url)});else{for(var n=e.urlAfterRedirects.split("?"),r=n[0],i={},o=0,a=(n&&2===n.length?n[1]:"").split("&");o<a.length;o++){var s=a[o];""!==s&&(i[decodeURIComponent(s.split("=")[0])]=decodeURIComponent(s.split("=")[1]))}t._routerService.navigate([r],{queryParams:i}).then(function(){t._initDone.next(e.url)},function(){t._initDone.next(e.url)})}},function(t){console.warn(t)}),t._initDone.pipe(Object(_.a)(function(t){return!!t}),Object(b.a)(1)).subscribe(function(e){t._configService.hasWelcomePage()&&"/"===e?t._modalController.create({component:T.h,backdropDismiss:!1,cssClass:"wm-welcome_component-modal"}).then(function(e){e.present(),t._configService.forceLogin()&&e.onDidDismiss().then(function(){t.showLogin()},function(e){console.warn(e),t.showLogin()})}):t._configService.forceLogin()&&t.showLogin()},function(t){console.warn(t)}),t._modelService.onMenuChange.subscribe(function(e){t.menuConfig=e},function(t){console.warn(t)})}),this._searchService.onReady.pipe(Object(_.a)(function(t){return t}),Object(b.a)(1)).subscribe(function(){t._routerService.navigate([t._modelService.getStartUrl()])}),this._deviceService.onResize.pipe(Object(w.a)(250)).subscribe(function(){t.isLgScreen=t._deviceService.isLgScreen})},t.prototype.showLogin=function(){var t=this;this._accountService.onAccountStateChange.pipe(Object(b.a)(1)).subscribe(function(){t._accountService.isLoggedIn||t._modalController.create({component:I.a,backdropDismiss:!1}).then(function(t){t.present()})})},t.prototype.openPage=function(t){this._routerService.navigate([t])},t.prototype.isRoute=function(t){return void 0===t.action&&void 0!==t.url&&""!==t.url},t.prototype.hasCustomIcon=function(t){return t.icon&&"wm-icon"===t.icon.substring(0,7)},t.prototype.menuClick=function(t){switch(t.action){case"externalLink":this._routerService.openUrl(t.url)}},t}(),P=n("pMnS"),k=n("D2NE"),A=n("A7o+"),R=n("oBZk"),j=n("Ip0R"),F=n("gIcY"),L=n("P8j/"),D=n("Qere"),N=r.nb({encapsulation:0,styles:[[".modal__title[_ngcontent-%COMP%]{padding:20px;font-size:var(--font-xlg)}.modal__title[_ngcontent-%COMP%]::first-letter{text-transform:uppercase}ion-content[_ngcontent-%COMP%]{height:100%}.modal__input-item[_ngcontent-%COMP%]{border-bottom:0;font-size:var(--font-lg);margin:10px 0}.modal__input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.modal__input-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin-top:10px;resize:none;width:100%;height:25vh}.color-picker-container[_ngcontent-%COMP%]{font-size:var(--font-lg);padding:10px 20px}.color-picker-container[_ngcontent-%COMP%]   .color-picker-label[_ngcontent-%COMP%]{display:block;width:100%}.color-picker-container[_ngcontent-%COMP%]   .color-picker-label[_ngcontent-%COMP%]   .color-picker-input[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px;border:1px solid var(--ion-color-medium);border-radius:4px}"]],data:{}});function z(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","modal__title"]],null,null,null,null,null)),(t()(),r.Gb(1,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],null,function(t,e){t(e,1,0,r.Hb(e,1,0,r.zb(e,2).transform("modals.saveTrack.saveTitle")))})}function B(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","modal__title"]],null,null,null,null,null)),(t()(),r.Gb(1,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],null,function(t,e){t(e,1,0,r.Hb(e,1,0,r.zb(e,2).transform("modals.saveTrack.editTitle")))})}function G(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,32,"ion-content",[],null,null,null,R.K,R.h)),r.ob(1,49152,null,0,l.u,[r.h,r.k],null,null),(t()(),r.hb(16777216,null,0,1,null,z)),r.ob(3,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,B)),r.ob(5,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(6,0,null,0,20,"ion-list",[["no-margin",""]],null,null,null,R.S,R.o)),r.ob(7,49152,null,0,l.O,[r.h,r.k],null,null),(t()(),r.pb(8,0,null,0,8,"ion-item",[["class","modal__input-item wm-bold"]],null,null,null,R.P,R.m)),r.ob(9,49152,null,0,l.H,[r.h,r.k],null,null),(t()(),r.pb(10,0,null,0,6,"input",[["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,11)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,11).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,11)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,11)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.name=n)&&i),i},null,null)),r.ob(11,16384,null,0,F.c,[r.E,r.k,[2,F.a]],null,null),r.Db(1024,null,F.e,function(t){return[t]},[F.c]),r.ob(13,671744,null,0,F.j,[[8,null],[8,null],[8,null],[6,F.e]],{model:[0,"model"]},{update:"ngModelChange"}),r.Db(2048,null,F.f,null,[F.j]),r.ob(15,16384,null,0,F.g,[[4,F.f]],null,null),r.Bb(131072,A.i,[A.j,r.h]),(t()(),r.pb(17,0,null,0,9,"ion-item",[["class","modal__input-item"]],null,null,null,R.P,R.m)),r.ob(18,49152,null,0,l.H,[r.h,r.k],null,null),(t()(),r.pb(19,0,null,0,7,"textarea",[],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,20)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,20).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,20)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,20)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.description=n)&&i),i},null,null)),r.ob(20,16384,null,0,F.c,[r.E,r.k,[2,F.a]],null,null),r.Db(1024,null,F.e,function(t){return[t]},[F.c]),r.ob(22,671744,null,0,F.j,[[8,null],[8,null],[8,null],[6,F.e]],{model:[0,"model"]},{update:"ngModelChange"}),r.Db(2048,null,F.f,null,[F.j]),r.ob(24,16384,null,0,F.g,[[4,F.f]],null,null),r.Bb(131072,A.i,[A.j,r.h]),(t()(),r.Gb(-1,null,["      "])),(t()(),r.pb(27,0,null,0,5,"div",[["class","color-picker-container"]],null,null,null,null,null)),(t()(),r.pb(28,0,null,null,4,"label",[["class","color-picker-label"]],null,null,null,null,null)),(t()(),r.pb(29,16777216,null,null,1,"input",[["class","color-picker-input wm-clickable"],["readonly",""]],[[4,"background",null]],[[null,"colorPickerChange"],[null,"click"],[null,"focus"],[null,"input"]],function(t,e,n){var i=!0,o=t.component;return"click"===e&&(i=!1!==r.zb(t,30).handleClick()&&i),"focus"===e&&(i=!1!==r.zb(t,30).handleFocus()&&i),"input"===e&&(i=!1!==r.zb(t,30).handleInput(n)&&i),"colorPickerChange"===e&&(i=!1!==(o.color=n)&&i),i},null,null)),r.ob(30,671744,null,0,L.b,[r.q,r.j,r.g,r.P,r.k,L.d],{colorPicker:[0,"colorPicker"],cpOutputFormat:[1,"cpOutputFormat"],cpAlphaChannel:[2,"cpAlphaChannel"],cpDisableInput:[3,"cpDisableInput"],cpDialogDisplay:[4,"cpDialogDisplay"],cpPosition:[5,"cpPosition"],cpPresetLabel:[6,"cpPresetLabel"],cpPresetColors:[7,"cpPresetColors"]},{colorPickerChange:"colorPickerChange"}),(t()(),r.Gb(31,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h]),(t()(),r.pb(33,0,null,null,0,"div",[["class","bottom-actions-content"]],null,null,null,null,null)),(t()(),r.pb(34,0,null,null,6,"div",[["class","bottom-actions"]],null,null,null,null,null)),(t()(),r.pb(35,0,null,null,2,"div",[["class","bottom-action secondary wm-clickable"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.cancel()&&r),r},null,null)),(t()(),r.Gb(36,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h]),(t()(),r.pb(38,0,null,null,2,"div",[["class","bottom-action wm-clickable"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.save()&&r),r},null,null)),(t()(),r.Gb(39,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],function(t,e){var n=e.component;t(e,3,0,!n.isEditMode),t(e,5,0,n.isEditMode),t(e,13,0,n.name),t(e,22,0,n.description),t(e,30,0,n.color,"hex","disabled",!0,"popup","top",n.presetLabel,n.colors)},function(t,e){var n=e.component;t(e,10,0,r.rb(1,"",r.Hb(e,10,0,r.zb(e,16).transform("modals.saveTrack.name")),""),r.zb(e,15).ngClassUntouched,r.zb(e,15).ngClassTouched,r.zb(e,15).ngClassPristine,r.zb(e,15).ngClassDirty,r.zb(e,15).ngClassValid,r.zb(e,15).ngClassInvalid,r.zb(e,15).ngClassPending),t(e,19,0,r.rb(1,"",r.Hb(e,19,0,r.zb(e,25).transform("modals.saveTrack.description")),""),r.zb(e,24).ngClassUntouched,r.zb(e,24).ngClassTouched,r.zb(e,24).ngClassPristine,r.zb(e,24).ngClassDirty,r.zb(e,24).ngClassValid,r.zb(e,24).ngClassInvalid,r.zb(e,24).ngClassPending),t(e,29,0,n.color),t(e,31,0,r.Hb(e,31,0,r.zb(e,32).transform("modals.saveTrack.selectColor"))),t(e,36,0,r.Hb(e,36,0,r.zb(e,37).transform("buttons.cancel"))),t(e,39,0,r.Hb(e,39,0,r.zb(e,40).transform("buttons.save")))})}function V(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"app-save-track",[],null,null,null,G,N)),r.ob(1,114688,null,0,D.a,[l.b,l.Gb,g.a,C.a,v.a,A.j],null,null)],function(t,e){t(e,1,0)},null)}var U=r.lb("app-save-track",D.a,V,{feature:"feature",isEditMode:"isEditMode"},{},[]),H=n("EreZ"),q=n("x1nR"),W=r.nb({encapsulation:0,styles:[[".modal__dismiss[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:20px 15px;font-size:var(--font-xxxlg);z-index:1000;color:var(--ion-color-dark);will-change:transform}.wm-adopt-loading-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.wm-adopt-loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]{padding-bottom:0;margin-bottom:0}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:var(--font-md);font-family:var(--font-family-header);padding:10px 20px}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]{padding:10px;font-family:var(--font-family-content)}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;font-size:var(--font-lg);padding:3px 10px;border:none}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--ion-color-medium-shade)}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--ion-color-medium-shade)}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:var(--ion-color-medium-shade)}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:var(--ion-color-medium-shade)}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input.empty[_ngcontent-%COMP%], .wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--ion-color-medium-shade)}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-list[_ngcontent-%COMP%]   .wm-adopt-form-item.wm-adopt-form-invalid[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger)}.wm-adopt-container[_ngcontent-%COMP%]   .wm-adopt-form-error_message[_ngcontent-%COMP%]{padding:10px 20px;font-size:var(--font-md);font-family:var(--font-family-content)}"]],data:{}});function Z(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","wm-adopt-loading-container"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"ion-spinner",[],null,null,null,R.bb,R.y)),r.ob(2,49152,null,0,l.rb,[r.h,r.k],null,null)],null,null)}function X(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","wm-adopt-form-error_message"]],null,null,null,null,null)),(t()(),r.Gb(1,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],null,function(t,e){t(e,1,0,r.Hb(e,1,0,r.zb(e,2).transform("modals.adopt.missingFields")))})}function K(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,10,"ion-item",[["class","wm-adopt-form-item"],["detailIcon","alert"]],null,null,null,R.P,R.m)),r.ob(1,278528,null,0,j.h,[r.s,r.t,r.k,r.E],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Cb(2,{"wm-adopt-form-invalid":0}),r.ob(3,49152,null,0,l.H,[r.h,r.k],{detail:[0,"detail"],detailIcon:[1,"detailIcon"]},null),(t()(),r.pb(4,0,null,0,6,"input",[["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var i=!0,o=t.component;return"input"===e&&(i=!1!==r.zb(t,5)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==r.zb(t,5).onTouched()&&i),"compositionstart"===e&&(i=!1!==r.zb(t,5)._compositionStart()&&i),"compositionend"===e&&(i=!1!==r.zb(t,5)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(o.form[t.context.$implicit].value=n)&&i),i},null,null)),r.ob(5,16384,null,0,F.c,[r.E,r.k,[2,F.a]],null,null),r.Db(1024,null,F.e,function(t){return[t]},[F.c]),r.ob(7,671744,null,0,F.j,[[2,F.b],[8,null],[8,null],[6,F.e]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Db(2048,null,F.f,null,[F.j]),r.ob(9,16384,null,0,F.g,[[4,F.f]],null,null),r.Bb(131072,A.i,[A.j,r.h])],function(t,e){var n=e.component,r=t(e,2,0,!n.form[e.context.$implicit].valid);t(e,1,0,"wm-adopt-form-item",r),t(e,3,0,!n.form[e.context.$implicit].valid,"alert"),t(e,7,0,e.context.$implicit,n.form[e.context.$implicit].value)},function(t,e){var n=e.component;t(e,4,0,r.rb(2,"",r.Hb(e,4,0,r.zb(e,10).transform("modals.adopt."+e.context.$implicit)),"",n.form[e.context.$implicit].mandatory?" *":"",""),r.zb(e,9).ngClassUntouched,r.zb(e,9).ngClassTouched,r.zb(e,9).ngClassPristine,r.zb(e,9).ngClassDirty,r.zb(e,9).ngClassValid,r.zb(e,9).ngClassInvalid,r.zb(e,9).ngClassPending)})}function Y(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,17,"ion-content",[["class","wm-adopt-container"]],null,null,null,R.K,R.h)),r.ob(1,49152,null,0,l.u,[r.h,r.k],null,null),(t()(),r.pb(2,0,null,0,15,"form",[["id","wm-adopt-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==r.zb(t,4).onSubmit(n)&&i),"reset"===e&&(i=!1!==r.zb(t,4).onReset()&&i),i},null,null)),r.ob(3,16384,null,0,F.n,[],null,null),r.ob(4,4210688,null,0,F.i,[[8,null],[8,null]],null,null),r.Db(2048,null,F.b,null,[F.i]),r.ob(6,16384,null,0,F.h,[[4,F.b]],null,null),(t()(),r.pb(7,0,null,null,10,"ion-list",[["class","wm-adopt-form-list"]],null,null,null,R.S,R.o)),r.ob(8,49152,null,0,l.O,[r.h,r.k],null,null),(t()(),r.pb(9,0,null,0,4,"ion-list-header",[],null,null,null,R.R,R.p)),r.ob(10,49152,null,0,l.P,[r.h,r.k],null,null),(t()(),r.Gb(11,0,[" "," "])),r.Bb(131072,A.i,[A.j,r.h]),r.Bb(131072,A.i,[A.j,r.h]),(t()(),r.hb(16777216,null,0,1,null,X)),r.ob(15,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,K)),r.ob(17,278528,null,0,j.i,[r.P,r.M,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,15,0,!n.form.valid),t(e,17,0,n.keys)},function(t,e){var n=e.component;t(e,2,0,r.zb(e,6).ngClassUntouched,r.zb(e,6).ngClassTouched,r.zb(e,6).ngClassPristine,r.zb(e,6).ngClassDirty,r.zb(e,6).ngClassValid,r.zb(e,6).ngClassInvalid,r.zb(e,6).ngClassPending),t(e,11,0,r.Hb(e,11,0,"reconnaissance"===n.type?r.zb(e,12).transform("modals.adopt.reconnaissanceHeader"):r.zb(e,13).transform("modals.adopt.header")))})}function J(t){return r.Ib(0,[(t()(),r.hb(16777216,null,null,1,null,Z)),r.ob(1,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,Y)),r.ob(3,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(4,0,null,null,0,"div",[["class","bottom-actions-content"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,6,"div",[["class","bottom-actions"]],null,null,null,null,null)),(t()(),r.pb(6,0,null,null,2,"button",[["class","bottom-action secondary wm-clickable"],["type","button"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dismiss()&&r),r},null,null)),(t()(),r.Gb(7,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h]),(t()(),r.pb(9,0,null,null,2,"button",[["class","bottom-action wm-clickable"],["form","wm-adopt-form"],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.submit()&&r),r},null,null)),(t()(),r.Gb(10,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],function(t,e){var n=e.component;t(e,1,0,n.loading),t(e,3,0,!n.loading)},function(t,e){t(e,7,0,r.Hb(e,7,0,r.zb(e,8).transform("buttons.cancel"))),t(e,10,0,r.Hb(e,10,0,r.zb(e,11).transform("buttons.continue")))})}function Q(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"app-adopt",[],null,null,null,J,W)),r.ob(1,245760,null,0,q.a,[l.Gb,O.a,C.a],null,null)],function(t,e){t(e,1,0)},null)}var $=r.lb("app-adopt",q.a,Q,{baseUrl:"baseUrl",trackId:"trackId",trackName:"trackName",type:"type"},{},[]),tt=n("hVPU"),et=n("ZYjt"),nt=r.nb({encapsulation:0,styles:[[".wm_welcome-html_container[_ngcontent-%COMP%]{width:100%;margin:0;font-family:var(--font-family-content);height:calc(100% - var(--font-xlg) - 5 * 10px + 4px)}.spinner-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex}.spinner-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{display:flex;align-self:center;margin:0 auto;width:75px;height:75px}"]],data:{}});function rt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,2,"div",[["class","spinner-container"]],null,null,null,null,null)),(t()(),r.pb(1,0,null,null,1,"ion-spinner",[],null,null,null,R.bb,R.y)),r.ob(2,49152,null,0,l.rb,[r.h,r.k],null,null)],null,null)}function it(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,0,"div",[["class","wm_welcome-html_container"]],[[8,"innerHTML",1]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.bodyClick(n)&&r),r},null,null))],null,function(t,e){t(e,0,0,e.component.body)})}function ot(t){return r.Ib(0,[(t()(),r.hb(16777216,null,null,1,null,rt)),r.ob(1,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,null,1,null,it)),r.ob(3,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(4,0,null,null,3,"div",[["class","bottom-actions"]],null,null,null,null,null)),(t()(),r.pb(5,0,null,null,2,"div",[["class","bottom-action wm-clickable"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.dismiss()&&r),r},null,null)),(t()(),r.Gb(6,null,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],function(t,e){var n=e.component;t(e,1,0,!n.ready),t(e,3,0,n.ready)},function(t,e){t(e,6,0,r.Hb(e,6,0,r.zb(e,7).transform("buttons.continue")))})}function at(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"app-welcome",[],null,null,null,ot,nt)),r.ob(1,114688,null,0,tt.a,[et.c,l.Gb,g.a,C.a,O.a],null,null)],function(t,e){t(e,1,0)},null)}var st=r.lb("app-welcome",tt.a,at,{},{},[]),ut=n("ZYCi"),lt=r.nb({encapsulation:2,styles:[],data:{}});function ct(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"ion-icon",[["slot","start"]],null,null,null,R.N,R.k)),r.ob(1,49152,null,0,l.C,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,1,0,e.parent.parent.context.$implicit.icon)},null)}function ht(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"ion-icon",[["slot","start"]],null,null,null,R.N,R.k)),r.ob(1,49152,null,0,l.C,[r.h,r.k],{mode:[0,"mode"],name:[1,"name"]},null)],function(t,e){t(e,1,0,e.parent.parent.context.$implicit.mode,e.parent.parent.context.$implicit.icon)},null)}function pt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,0,"i",[["slot","start"]],[[8,"className",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.parent.parent.context.$implicit.icon)})}function ft(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,11,"ion-item",[["class","menu__item wm-clickable"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.openPage(t.parent.context.$implicit.url)&&r),r},R.P,R.m)),r.ob(1,49152,null,0,l.H,[r.h,r.k],null,null),(t()(),r.hb(16777216,null,0,1,null,ct)),r.ob(3,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,ht)),r.ob(5,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,pt)),r.ob(7,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(8,0,null,0,3,"ion-label",[["class","menu__label"]],null,null,null,R.Q,R.n)),r.ob(9,49152,null,0,l.N,[r.h,r.k],null,null),(t()(),r.Gb(10,0,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],function(t,e){var n=e.component;t(e,3,0,!e.parent.context.$implicit.mode&&!n.hasCustomIcon(e.parent.context.$implicit)),t(e,5,0,e.parent.context.$implicit.mode&&!n.hasCustomIcon(e.parent.context.$implicit)),t(e,7,0,n.hasCustomIcon(e.parent.context.$implicit))},function(t,e){t(e,10,0,r.Hb(e,10,0,r.zb(e,11).transform(e.parent.context.$implicit.title)))})}function dt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"ion-icon",[["slot","start"]],null,null,null,R.N,R.k)),r.ob(1,49152,null,0,l.C,[r.h,r.k],{name:[0,"name"]},null)],function(t,e){t(e,1,0,e.parent.parent.context.$implicit.icon)},null)}function gt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"ion-icon",[["slot","start"]],null,null,null,R.N,R.k)),r.ob(1,49152,null,0,l.C,[r.h,r.k],{mode:[0,"mode"],name:[1,"name"]},null)],function(t,e){t(e,1,0,e.parent.parent.context.$implicit.mode,e.parent.parent.context.$implicit.icon)},null)}function vt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,0,"i",[["slot","start"]],[[8,"className",0]],null,null,null,null))],null,function(t,e){t(e,0,0,e.parent.parent.context.$implicit.icon)})}function mt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,11,"ion-item",[["class","menu__item wm-clickable"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.menuClick(t.parent.context.$implicit)&&r),r},R.P,R.m)),r.ob(1,49152,null,0,l.H,[r.h,r.k],null,null),(t()(),r.hb(16777216,null,0,1,null,dt)),r.ob(3,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,gt)),r.ob(5,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,vt)),r.ob(7,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(8,0,null,0,3,"ion-label",[["class","menu__label"]],null,null,null,R.Q,R.n)),r.ob(9,49152,null,0,l.N,[r.h,r.k],null,null),(t()(),r.Gb(10,0,[" "," "])),r.Bb(131072,A.i,[A.j,r.h])],function(t,e){var n=e.component;t(e,3,0,!e.parent.context.$implicit.mode&&!n.hasCustomIcon(e.parent.context.$implicit)),t(e,5,0,e.parent.context.$implicit.mode&&!n.hasCustomIcon(e.parent.context.$implicit)),t(e,7,0,n.hasCustomIcon(e.parent.context.$implicit))},function(t,e){t(e,10,0,r.Hb(e,10,0,r.zb(e,11).transform(e.parent.context.$implicit.title)))})}function yt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,5,"ion-menu-toggle",[["auto-hide","false"]],null,null,null,R.U,R.s)),r.ob(1,49152,null,0,l.S,[r.h,r.k],null,null),(t()(),r.hb(16777216,null,0,1,null,ft)),r.ob(3,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.hb(16777216,null,0,1,null,mt)),r.ob(5,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,3,0,n.isRoute(e.context.$implicit)),t(e,5,0,!n.isRoute(e.context.$implicit))},null)}function _t(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,7,"ion-menu",[["type","overlay"]],null,null,null,R.V,R.q)),r.ob(1,49152,null,0,l.Q,[r.h,r.k],{type:[0,"type"]},null),(t()(),r.pb(2,0,null,0,5,"ion-content",[],null,null,null,R.K,R.h)),r.ob(3,49152,null,0,l.u,[r.h,r.k],null,null),(t()(),r.pb(4,0,null,0,3,"ion-list",[["class","menu__list"],["lines","none"],["mode","md"]],null,null,null,R.S,R.o)),r.ob(5,49152,null,0,l.O,[r.h,r.k],{mode:[0,"mode"],lines:[1,"lines"]},null),(t()(),r.hb(16777216,null,0,1,null,yt)),r.ob(7,278528,null,0,j.i,[r.P,r.M,r.s],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0,"overlay"),t(e,5,0,"md","none"),t(e,7,0,n.menuConfig)},null)}function bt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,9,"ion-app",[],null,null,null,R.D,R.a)),r.ob(1,278528,null,0,j.h,[r.s,r.t,r.k,r.E],{ngClass:[0,"ngClass"]},null),r.Cb(2,{"wm-embedmaps-lg-screen":0}),r.ob(3,49152,null,0,l.f,[r.h,r.k],null,null),(t()(),r.hb(16777216,null,0,1,null,_t)),r.ob(5,16384,null,0,j.j,[r.P,r.M],{ngIf:[0,"ngIf"]},null),(t()(),r.pb(6,16777216,null,0,1,"ion-router-outlet",[["main",""]],null,null,null,null,null)),r.ob(7,212992,null,0,l.hb,[ut.b,r.P,r.j,[8,null],[8,null],r.h,l.e,l.Hb,j.f,r.k,ut.n,r.z,ut.a,[3,l.hb]],null,null),(t()(),r.pb(8,0,null,0,1,"div",[["id","defaultMapContainer"]],null,null,null,null,null)),(t()(),r.pb(9,0,null,null,0,"div",[["id","map"]],null,null,null,null,null))],function(t,e){var n=e.component,r=t(e,2,0,n.isLgScreen);t(e,1,0,r),t(e,5,0,n.menuConfig.length>0),t(e,7,0)},null)}function wt(t){return r.Ib(0,[(t()(),r.pb(0,0,null,null,1,"wm-embedmaps-root",[],null,null,null,bt,lt)),r.ob(1,49152,null,0,M,[S.a,a.a,f.a,d.a,m.a,l.Gb,g.a,l.Ib,C.a,E.a,p,O.a,v.a,A.j],null,null)],null,null)}var St=r.lb("wm-embedmaps-root",M,wt,{},{},[]),Ct=n("t/Na"),xt=n("oAJy"),Et=n("uzCt"),Ot=function(){function t(t){var e=this;this._driver=null,this._dbPromise=new Promise(function(n,r){var i,o=Object.assign({name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]},t||{});Object(xt.defineDriver)(Et).then(function(){i=Object(xt.createInstance)(o)}).then(function(){return i.setDriver(e._getDriverOrder(o.driverOrder))}).then(function(){e._driver=i.driver(),n(i)}).catch(function(t){return r(t)})})}return Object.defineProperty(t.prototype,"driver",{get:function(){return this._driver},enumerable:!0,configurable:!0}),t.prototype.ready=function(){return this._dbPromise},t.prototype._getDriverOrder=function(t){return t.map(function(t){switch(t){case"sqlite":return Et._driver;case"indexeddb":return xt.INDEXEDDB;case"websql":return xt.WEBSQL;case"localstorage":return xt.LOCALSTORAGE}})},t.prototype.get=function(t){return this._dbPromise.then(function(e){return e.getItem(t)})},t.prototype.set=function(t,e){return this._dbPromise.then(function(n){return n.setItem(t,e)})},t.prototype.remove=function(t){return this._dbPromise.then(function(e){return e.removeItem(t)})},t.prototype.clear=function(){return this._dbPromise.then(function(t){return t.clear()})},t.prototype.length=function(){return this._dbPromise.then(function(t){return t.length()})},t.prototype.keys=function(){return this._dbPromise.then(function(t){return t.keys()})},t.prototype.forEach=function(t){return this._dbPromise.then(function(e){return e.iterate(t)})},t}(),It=new r.p("STORAGE_CONFIG_TOKEN");function Tt(t){return new Ot(t||{name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]})}var Mt=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e=null),{ngModule:t,providers:[{provide:It,useValue:e},{provide:Ot,useFactory:Tt,deps:[It]}]}},t}(),Pt=n("Pn9U"),kt=n("Axip"),At=n("t8sF"),Rt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.FileTransferErrorCode={FILE_NOT_FOUND_ERR:1,INVALID_URL_ERR:2,CONNECTION_ERR:3,ABORT_ERR:4,NOT_MODIFIED_ERR:5},e}return Object(c.d)(e,t),e.prototype.create=function(){return new jt},e.pluginName="FileTransfer",e.plugin="cordova-plugin-file-transfer",e.pluginRef="FileTransfer",e.repo="https://github.com/apache/cordova-plugin-file-transfer",e.platforms=["Amazon Fire OS","Android","Browser","iOS","Ubuntu","Windows","Windows Phone"],e}(h.IonicNativePlugin),jt=function(){function t(){!0===Object(h.checkAvailability)(Rt.getPluginRef(),null,Rt.getPluginName())&&(this._objectInstance=new(Rt.getPlugin()))}return t.prototype.upload=function(t,e,n,r){return Object(h.cordovaInstance)(this,"upload",{successIndex:2,errorIndex:3},arguments)},t.prototype.download=function(t,e,n,r){return Object(h.cordovaInstance)(this,"download",{successIndex:2,errorIndex:3},arguments)},t.prototype.onProgress=function(t){!0===Object(h.instanceAvailability)(this)&&(this._objectInstance.onprogress=t)},t.prototype.abort=function(){return Object(h.cordovaInstance)(this,"abort",{sync:!0},arguments)},t.plugin="cordova-plugin-file-transfer",t.pluginName="FileTransfer",t}(),Ft=n("mzSf"),Lt=n("9B/o"),Dt=n("vf8/"),Nt=n("p0ib"),zt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Connection={UNKNOWN:"unknown",ETHERNET:"ethernet",WIFI:"wifi",CELL_2G:"2g",CELL_3G:"3g",CELL_4G:"4g",CELL:"cellular",NONE:"none"},e}return Object(c.d)(e,t),e.prototype.onChange=function(){var t=this;return function(){if(!0===Object(h.checkAvailability)(t))return Object(Nt.a)(t.onConnect(),t.onDisconnect())}()},e.prototype.onDisconnect=function(){return Object(h.cordova)(this,"onDisconnect",{eventObservable:!0,event:"offline",element:"document"},arguments)},e.prototype.onConnect=function(){return Object(h.cordova)(this,"onConnect",{eventObservable:!0,event:"online",element:"document"},arguments)},Object.defineProperty(e.prototype,"type",{get:function(){return Object(h.cordovaPropertyGet)(this,"type")},set:function(t){Object(h.cordovaPropertySet)(this,"type",t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downlinkMax",{get:function(){return Object(h.cordovaPropertyGet)(this,"downlinkMax")},set:function(t){Object(h.cordovaPropertySet)(this,"downlinkMax",t)},enumerable:!0,configurable:!0}),e.pluginName="Network",e.plugin="cordova-plugin-network-information",e.pluginRef="navigator.connection",e.repo="https://github.com/apache/cordova-plugin-network-information",e.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],e}(h.IonicNativePlugin),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.share=function(t,e,n,r){return Object(h.cordova)(this,"share",{successIndex:4,errorIndex:5},arguments)},e.prototype.shareWithOptions=function(t){return Object(h.cordova)(this,"shareWithOptions",{platforms:["iOS","Android"]},arguments)},e.prototype.canShareVia=function(t,e,n,r,i){return Object(h.cordova)(this,"canShareVia",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},e.prototype.shareViaTwitter=function(t,e,n){return Object(h.cordova)(this,"shareViaTwitter",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},e.prototype.shareViaFacebook=function(t,e,n){return Object(h.cordova)(this,"shareViaFacebook",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},e.prototype.shareViaFacebookWithPasteMessageHint=function(t,e,n,r){return Object(h.cordova)(this,"shareViaFacebookWithPasteMessageHint",{successIndex:4,errorIndex:5,platforms:["iOS","Android"]},arguments)},e.prototype.shareViaInstagram=function(t,e){return Object(h.cordova)(this,"shareViaInstagram",{platforms:["iOS","Android"]},arguments)},e.prototype.shareViaWhatsApp=function(t,e,n){return Object(h.cordova)(this,"shareViaWhatsApp",{successIndex:3,errorIndex:4,platforms:["iOS","Android"]},arguments)},e.prototype.shareViaWhatsAppToReceiver=function(t,e,n,r){return Object(h.cordova)(this,"shareViaWhatsAppToReceiver",{successIndex:4,errorIndex:5,platforms:["iOS","Android"]},arguments)},e.prototype.shareViaSMS=function(t,e){return Object(h.cordova)(this,"shareViaSMS",{platforms:["iOS","Android"]},arguments)},e.prototype.canShareViaEmail=function(){return Object(h.cordova)(this,"canShareViaEmail",{platforms:["iOS","Android"]},arguments)},e.prototype.shareViaEmail=function(t,e,n,r,i,o){return Object(h.cordova)(this,"shareViaEmail",{platforms:["iOS","Android"],successIndex:6,errorIndex:7},arguments)},e.prototype.shareVia=function(t,e,n,r,i){return Object(h.cordova)(this,"shareVia",{successIndex:5,errorIndex:6,platforms:["iOS","Android"]},arguments)},e.prototype.setIPadPopupCoordinates=function(t){return Object(h.cordova)(this,"setIPadPopupCoordinates",{sync:!0,platforms:["iOS"]},arguments)},e.prototype.saveToPhotoAlbum=function(t){return Object(h.cordova)(this,"saveToPhotoAlbum",{platforms:["iOS"]},arguments)},e.pluginName="SocialSharing",e.plugin="cordova-plugin-x-socialsharing",e.pluginRef="plugins.socialsharing",e.repo="https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin",e.platforms=["Android","Browser","iOS","Windows","Windows Phone"],e}(h.IonicNativePlugin),Gt=function(){function t(t){this._objectInstance=t}return t.prototype.addTransaction=function(t){return Object(h.cordovaInstance)(this,"addTransaction",{sync:!0},arguments)},t.prototype.transaction=function(t){return Object(h.cordovaInstance)(this,"transaction",{successIndex:2,errorIndex:1},arguments)},t.prototype.readTransaction=function(t){return Object(h.cordovaInstance)(this,"readTransaction",{},arguments)},t.prototype.startNextTransaction=function(){return Object(h.cordovaInstance)(this,"startNextTransaction",{sync:!0},arguments)},t.prototype.open=function(){return Object(h.cordovaInstance)(this,"open",{},arguments)},t.prototype.close=function(){return Object(h.cordovaInstance)(this,"close",{},arguments)},t.prototype.executeSql=function(t,e){return Object(h.cordovaInstance)(this,"executeSql",{},arguments)},t.prototype.sqlBatch=function(t){return Object(h.cordovaInstance)(this,"sqlBatch",{},arguments)},t.prototype.abortallPendingTransactions=function(){return Object(h.cordovaInstance)(this,"abortallPendingTransactions",{sync:!0},arguments)},Object.defineProperty(t.prototype,"databaseFeatures",{get:function(){return Object(h.instancePropertyGet)(this,"databaseFeatures")},set:function(t){Object(h.instancePropertySet)(this,"databaseFeatures",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDBs",{get:function(){return Object(h.instancePropertyGet)(this,"openDBs")},set:function(t){Object(h.instancePropertySet)(this,"openDBs",t)},enumerable:!0,configurable:!0}),t}(),Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),e.prototype.create=function(t){var e=this;return function(){if(!0===Object(h.checkAvailability)(e))return new Promise(function(e,n){sqlitePlugin.openDatabase(t,function(t){return e(new Gt(t))},n)})}()},e.prototype.echoTest=function(){return Object(h.cordova)(this,"echoTest",{},arguments)},e.prototype.selfTest=function(){return Object(h.cordova)(this,"selfTest",{},arguments)},e.prototype.deleteDatabase=function(t){return Object(h.cordova)(this,"deleteDatabase",{},arguments)},e.pluginName="SQLite",e.pluginRef="sqlitePlugin",e.plugin="cordova-sqlite-storage",e.repo="https://github.com/litehelpers/Cordova-sqlite-storage",e.platforms=["Android","iOS","macOS","Windows"],e}(h.IonicNativePlugin),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(c.d)(e,t),Object.defineProperty(e.prototype,"convertFileSrc",{get:function(){return Object(h.cordovaPropertyGet)(this,"convertFileSrc")},set:function(t){Object(h.cordovaPropertySet)(this,"convertFileSrc",t)},enumerable:!0,configurable:!0}),e.pluginName="WebView",e.plugin="cordova-plugin-ionic-webview",e.pluginRef="window.Ionic.WebView",e.repo="https://github.com/ionic-team/cordova-plugin-ionic-webview",e.platforms=["Android","iOS"],e.install="ionic cordova plugin add cordova-plugin-ionic-webview",e}(h.IonicNativePlugin),Ht=n("gg2H"),qt=function(){return function(){}}(),Wt=r.mb(u,[M],function(t){return r.wb([r.xb(512,r.j,r.cb,[[8,[P.a,k.a,U,H.a,$,st,St]],[3,r.j],r.x]),r.xb(4608,j.l,j.k,[r.u,[2,j.s]]),r.xb(5120,r.c,r.ib,[]),r.xb(5120,r.s,r.jb,[]),r.xb(5120,r.t,r.kb,[]),r.xb(4608,et.c,et.l,[j.c]),r.xb(6144,r.H,null,[et.c]),r.xb(4608,et.f,et.h,[]),r.xb(5120,et.d,function(t,e,n,r,i,o,a,s){return[new et.j(t,e,n),new et.o(r),new et.n(i,o,a,s)]},[j.c,r.z,r.B,j.c,j.c,et.f,r.db,[2,et.g]]),r.xb(4608,et.e,et.e,[et.d,r.z]),r.xb(135680,et.m,et.m,[j.c]),r.xb(4608,et.k,et.k,[et.e,et.m,r.c]),r.xb(6144,r.F,null,[et.k]),r.xb(6144,et.p,null,[et.m]),r.xb(4608,r.N,r.N,[r.z]),r.xb(4608,l.c,l.c,[r.z,r.g]),r.xb(4608,l.Gb,l.Gb,[l.c,r.j,r.q,j.c]),r.xb(4608,l.Jb,l.Jb,[l.c,r.j,r.q,j.c]),r.xb(4608,Ct.h,Ct.n,[j.c,r.B,Ct.l]),r.xb(4608,Ct.o,Ct.o,[Ct.h,Ct.m]),r.xb(5120,Ct.a,function(t){return[t]},[Ct.o]),r.xb(4608,Ct.k,Ct.k,[]),r.xb(6144,Ct.i,null,[Ct.k]),r.xb(4608,Ct.g,Ct.g,[Ct.i]),r.xb(6144,Ct.b,null,[Ct.g]),r.xb(4608,Ct.f,Ct.j,[Ct.b,r.q]),r.xb(4608,Ct.c,Ct.c,[Ct.f]),r.xb(5120,ut.a,ut.A,[ut.n]),r.xb(4608,ut.h,ut.h,[]),r.xb(6144,ut.i,null,[ut.h]),r.xb(135680,ut.q,ut.q,[ut.n,r.w,r.i,r.q,ut.i]),r.xb(4608,ut.f,ut.f,[]),r.xb(5120,ut.E,ut.w,[ut.n,j.p,ut.j]),r.xb(5120,ut.k,ut.D,[ut.B]),r.xb(5120,r.b,function(t){return[t]},[ut.k]),r.xb(4608,F.o,F.o,[]),r.xb(4608,L.d,L.d,[]),r.xb(5120,A.f,s,[Ct.c]),r.xb(4608,A.c,A.e,[]),r.xb(4608,A.h,A.d,[]),r.xb(4608,A.b,A.a,[]),r.xb(4608,A.k,A.k,[]),r.xb(4608,A.j,A.j,[A.k,A.f,A.c,A.h,A.b,A.l,A.m]),r.xb(5120,Ot,Tt,[It]),r.xb(4608,Pt.a,Pt.a,[]),r.xb(4608,kt.a,kt.a,[]),r.xb(4608,At.a,At.a,[]),r.xb(4608,Rt,Rt,[]),r.xb(4608,Ft.a,Ft.a,[]),r.xb(4608,Lt.a,Lt.a,[]),r.xb(4608,Dt.a,Dt.a,[]),r.xb(4608,zt,zt,[]),r.xb(4608,Bt,Bt,[]),r.xb(4608,Vt,Vt,[]),r.xb(4608,Ut,Ut,[]),r.xb(1073742336,j.b,j.b,[]),r.xb(1024,r.l,et.q,[]),r.xb(1024,r.y,function(){return[ut.v()]},[]),r.xb(512,ut.B,ut.B,[r.q]),r.xb(256,l.Pb,void 0,[]),r.xb(256,r.u,"en",[]),r.xb(512,Ht.c,Ht.c,[r.u,r.l]),r.xb(1024,r.d,function(t,e,n,r,i,o,a,s){return[et.r(t),ut.C(e),l.Qb(n,r),l.Qb(i,o),(c=a,function(){return c.initialize()}),(u=s,function(){return u.use(["en"])})];var u,c},[[2,r.y],ut.B,l.Pb,j.c,l.Pb,j.c,a.a,Ht.c]),r.xb(512,r.e,r.e,[[2,r.d]]),r.xb(131584,r.g,r.g,[r.z,r.db,r.q,r.l,r.j,r.e]),r.xb(1073742336,r.f,r.f,[r.g]),r.xb(1073742336,et.a,et.a,[[3,et.a]]),r.xb(1073742336,l.Db,l.Db,[]),r.xb(1073742336,Ct.e,Ct.e,[]),r.xb(1073742336,Ct.d,Ct.d,[]),r.xb(1073742336,A.g,A.g,[]),r.xb(1073742336,Mt,Mt,[]),r.xb(1024,ut.u,ut.y,[[3,ut.n]]),r.xb(512,ut.s,ut.c,[]),r.xb(512,ut.b,ut.b,[]),r.xb(256,j.a,"/",[]),r.xb(256,ut.j,{preloadingStrategy:ut.h,useHash:!1,initialNavigation:!1},[]),r.xb(1024,j.g,ut.x,[j.o,[2,j.a],ut.j]),r.xb(512,j.f,j.f,[j.g]),r.xb(512,r.i,r.i,[]),r.xb(512,r.w,r.K,[r.i,[2,r.L]]),r.xb(1024,ut.l,function(){return[[{path:"main",loadChildren:"./pages/main/main.module#MainPageModule"},{path:"poi",loadChildren:"./pages/main/main.module#MainPageModule"},{path:"track",loadChildren:"./pages/main/main.module#MainPageModule"},{path:"**",redirectTo:"main",pathMatch:"full"}]]},[]),r.xb(512,ut.m,l.Eb,[]),r.xb(1024,ut.n,ut.z,[r.g,ut.s,ut.b,j.f,r.q,r.w,r.i,ut.l,ut.j,[2,ut.r],[2,ut.m]]),r.xb(1073742336,ut.o,ut.o,[[2,ut.u],[2,ut.n]]),r.xb(1073742336,qt,qt,[]),r.xb(1073742336,F.m,F.m,[]),r.xb(1073742336,F.d,F.d,[]),r.xb(1073742336,Ht.b,Ht.b,[]),r.xb(1073742336,L.c,L.c,[]),r.xb(1073742336,T.f,T.f,[]),r.xb(1073742336,u,u,[]),r.xb(256,r.bb,!0,[]),r.xb(256,Ct.l,"XSRF-TOKEN",[]),r.xb(256,Ct.m,"X-XSRF-TOKEN",[]),r.xb(256,A.m,void 0,[]),r.xb(256,A.l,void 0,[]),r.xb(256,It,{name:"__wmdb",driverOrder:["indexeddb","sqlite","websql","localstorage"]},[])])});i.production&&Object(r.U)(),et.i().bootstrapModuleFactory(Wt).catch(function(t){return console.error(t)})},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("rPjj"),i=n("Fxb1"),o=n("6blF");function a(t,e,n,a,s){if(void 0===s&&(s=new r.a(t,n,a)),!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}}},[[0,9]]]);